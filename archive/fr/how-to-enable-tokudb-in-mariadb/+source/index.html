<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>Comment activer TokuDB dans MariaDB - Source - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.f7633538c846.css" rel="stylesheet" type="text/css" />

    
        <meta name="robots" content="noindex, nofollow">
    

    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="Comment activer TokuDB dans MariaDB - Source" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/fr/how-to-enable-tokudb-in-mariadb/+source/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="" />

    <meta name="description" content="" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes autoresize nodes_source jqui" id="nodes_source">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/fr/how-to-enable-tokudb-in-mariadb/+source/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2025 MariaDB. All rights reserved.</p>
    </div>
</div>
<div class="violator-wrap d-none" id="top_violator">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12">
                <div class="violator-outer">
                    <div class="violator-inner">
                        <div class="row">
                            <div class="col-xs-12 col-sm-9 col-lg-7 col-lg-offset-2" id="top_violator_content">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="content-link" target="_blank" rel="nofollow noreferrer">
                                    <span>The Ultimate Guide to High Availability with MariaDB</span>
                                </a>
                            </div>
                            <div class="col-xs-12 col-sm-3" id="top_violator_cta">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="btn btn-mariadb" target="_blank" rel="nofollow noreferrer">Download Now</a>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn btn-link close-btn">
                        <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" width="15px" height="15px"><path d="M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/fr/how-to-enable-tokudb-in-mariadb/+source/" rel="nofollow">Login</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/fr/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/fr/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/solutions" title="Solutions">Solutions</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="Company">Company</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/fr/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/fr/mariadb/">MariaDB - Français</a>
    

    
    » <a class="crumb" href="/kb/fr/documentation-de-mariadb/">Documentation de MariaDB</a>
    


    » <a class="node_link crumb" href="/kb/fr/how-to-enable-tokudb-in-mariadb/">Comment activer TokuDB dans MariaDB</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/fr/">Accueil</a></li>
                            
                                
                                    <li><a href="/kb/fr/+questions/">Open Questions</a></li>
                                
                                <li><a href="/kb/fr/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/fr/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/fr/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/fr/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
                        <div>
    

<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-small" href="/kb/fr/how-to-enable-tokudb-in-mariadb/">Return to article</a>
    
</div>
</div>

</div>
                    

                    

































                </aside>
            
            
            
                
            
            
            <section id="content" class="limited_width col-md-10 clearfix">
                
                    <h1>Comment activer TokuDB dans MariaDB - Source</h1>
                

                



                <div>
                    

    

    
    <div class="revision_info">
        <dl class="table">
            <dt>Revision</dt>
            <dd><a href="/kb/fr/how-to-enable-tokudb-in-mariadb/+r/33079/">33079</a></dd>
            <dt>Utilisateur</dt>
            <dd>
<span class="user" id="user-1176">
<a href="/kb/user/id/1176" title="Jean Weisbuch">Jean Weisbuch</a>
</span></dd>
            <dt>Date</dt>
            <dd>

<span class="datetime" title="2014-12-09 19:35">2014-12-09 19:35</span></dd>
        </dl>
    </div>
    


    

    
        
        <textarea id="answer_source" class="creole_source autogrow">&lt;&lt;toc&gt;&gt;
&lt;&lt;include slug=&#34;tokudb-included-on&#34;&gt;&gt;

&lt;&lt;style class=&#34;bluebox&#34;&gt;&gt;
**Note:** La version de TokuDB fournie par MariaDB.org diffère légèrement de celle fournie par [[http://www.tokutek.com|Tokutek]].
Veuillez lire l&#39;article [[tokudb-differences|Différences dans TokuDB]] avant d&#39;utiliser TokuDB !
&lt;&lt;/style&gt;&gt;

Cette section détaille comment installer et activer TokuDB.

== Installer TokuDB

&lt;&lt;style class=&#34;redbox&#34;&gt;&gt;
Avant de mettre à jour TokuDB, le serveur doit être proprement arrêté. Si le serveur n&#39;à pas été arrêté proprement, TokuDB ne pourra pas se lancer. Voir MDEV-6173.
&lt;&lt;/style&gt;&gt;

=== Installer TokuDB sur Fedora, RedHat et CentOS

Installer MariaDB en premier en suivant les instruction de l&#39;article [[installing-mariadb-with-yum|Installer MariaDB avec YUM]].

&lt;&lt;product mariadb from=&#34;5.5.34&#34;&gt;&gt;
Depuis MariaDB 5.5.34 et MariaDB 10.0.6, le moteur de stockage TokuDB est inclus dans la paquet  ##MariaDB-server##.
Il suffis d&#39;installer MariaDB puis d&#39;activer le plugin TokuDB tel que décris dans la section [[#activer-tokudb|Activer TokuDB]] de cet article.
&lt;&lt;/product&gt;&gt;

&lt;&lt;product mariadb version=&#34;5.5.33&#34;&gt;&gt;
Dans MariaDB 5.5.33 et MariaDB 10.0.5, TokuDB est dans un paquet RPM séparé nommé ##MariaDB-tokudb-engine## qui s&#39;installe de la manière suivante :

&lt;&lt;code lang=sh inline=false&gt;&gt;
sudo yum install MariaDB-tokudb-engine
&lt;&lt;/code&gt;&gt;
Après avoir installé le paquetage, activer le plugin TokuDB tel que décris dans la section [[#activer-tokudb|Activer TokuDB]] de cet article.
&lt;&lt;/product&gt;&gt;

=== Installer TokuDB sur Ubuntu et Debian

Installer en premier MariaDB en suivant les instruction de l&#39;article [[installing-mariadb-deb-files|Comment installer MariaDB par paquets .deb]].

Sur Ubuntu, TokuDB est disponible sur les versions 64-bit du système à partir d&#39;Ubuntu 12.10.
Sur Debian, TokuDB est disponible sur les versions 64-bit du système à partir de Debian 7.

&lt;&lt;product mariadb from=&#34;5.5.34&#34;&gt;&gt;
Depuis MariaDB 5.5.34 et MariaDB 10.0.6, TokuDB est inclus dans le paquet ##mariadb-server-x.x## (où ##x.x## est la version majeure de MariaDB, par exemple 10.0 ou 5.5).
Il suffis d&#39;installer MariaDB puis d&#39;activer le plugin TokuDB tel que décris dans la section [[#activer-tokudb|Activer TokuDB]] de cet article.
&lt;&lt;/product&gt;&gt;

&lt;&lt;product mariadb version=&#34;5.5.33&#34;&gt;&gt;
Dans MariaDB 5.5.33 et MariaDB 10.0.5, TokuDB est dans un paquet séparé nommé ##mariadb-tokudb-engine-x.x## (où ##x.x## est la version majeure de MariaDB).

Le paquet s&#39;installe de la manière suivante (exemple sur ##5.5##) :

&lt;&lt;code lang=sh inline=false&gt;&gt;
sudo apt-get install mariadb-tokudb-engine-5.5
&lt;&lt;/code&gt;&gt;

Après avoir installé le paquet, activez le plugin TokuDB tel que décris dans la section [[#activer-tokudb|Activer TokuDB]] de cet article.
&lt;&lt;/product&gt;&gt;

== Vérifier le support des Transparent HugePages sur Linux

La documentation de TokuDB dit :
&lt;&lt;style class=&#34;bluebox&#34;&gt;&gt;
La fonctionnalité Transparent hugepages est une fonctionnalité inclue dans les versions récentes du noyau Linux, elle pose problème pour le suivi du calcul de l&#39;utilisation mémoire dans TokuKV, une sur-allocation mémoire pouvant en résulter.
Si cette fonctionnalité est activée, TokuKV ne démarrera pas et elle devra être désactivée.
&lt;&lt;/style&gt;&gt;

Il est possible de vérifier l&#39;état de Transparent Hugepages de cette manière :

&lt;&lt;code lang=sh inline=false&gt;&gt;
cat /sys/kernel/mm/transparent_hugepage/enabled
[always] madvise never
&lt;&lt;/code&gt;&gt;

Si le chemin n&#39;existe pas, cela signifie que le noyau ne possède pas la fonctionnalité.

Pour les désactiver au démarrage, passer l&#39;argument ##transparent_hugepage=never## au noyau au niveau du chargeur de démarrage (GRUB, LILO, etc.).

Par exemple, pour SUSE il faut ajouter l&#39;argument à la fin des paramètres optionnels de ligne de commande du noyau dans YaST section &#34;Paramètres du chargeur de démarrage&#34; ; l&#39;argument peut être rajouté après ##showopts## par exemple. Le paramètre est pris en compte au prochain démarrage du système.


Il est possible de les désactiver en faisant :
&lt;&lt;code lang=sh inline=false&gt;&gt;
echo never &gt; /sys/kernel/mm/transparent_hugepage/enabled
echo never &gt; /sys/kernel/mm/transparent_hugepage/defrag
&lt;&lt;/code&gt;&gt;

Pour plus d&#39;informations, lire [[http://unix.stackexchange.com/questions/99154/disable-transparent-hugepages]]

== Activer TokuDB

La configuration par défaut de MariaDB contient une section pour TokuDB.
Pour activer TokuDB, il suffis de retirer le marqueur de commentaire&#39;#&#39; situé devant l&#39;option ##plugin-load=ha_tokudb.so## dans la section TokuDB.

Une section TokuDB pour MariaDB 5.5 ressemble à cela (l&#39;option ##plugin-load-add## est utilisée à partir de MariaDB 10.0) :

&lt;&lt;code lang=sh inline=false&gt;&gt;
# See https://mariadb.com/kb/en/how-to-enable-tokudb-in-mariadb/
# for instructions how to enable TokuDB
#
# See https://mariadb.com/kb/en/tokudb-differences/ for differences
# between TokuDB in MariaDB and TokuDB from http://www.tokutek.com/

# Note, that only one plugin-load option will be recognized by the
# MariaDB server. If you uncomment the line below, make sure that
# you don&#39;t also have plugin-load options in your other
# my.cnf files. Otherwise, add ha_tokudb.so to the existing
# plugin-load option, instead of uncommenting the line below.

#plugin-load=ha_tokudb.so
&lt;&lt;/code&gt;&gt;

Par défaut, l&#39;option ##plugin-load## est commentée.
Il suffis de la dé-commenter tel que dans l&#39;exemple ci-dessus et redémarrer MariaDB pour activer TokuDB.

=== Activer TokuDB sur Fedora

Plutôt que rajouter une section TokuDB dans le fichier de configuration principal ##my.cnf##, elle est située dans dans un fichier séparé : ##/etc/my.cnf.d/tokudb.cnf##

=== Activer TokuDB sur Ubuntu et Debian

Plutôt que rajouter une section TokuDB dans le fichier de configuration principal ##my.cnf##, elle est située dans dans un fichier séparé : ##/etc/mysql/conf.d/tokudb.cnf##

=== Activer TokuDB manuellement depuis le client mysql en ligne de commande

De manière générale, il est recommandé d&#39;utiliser l&#39;une des méthodes ci-dessus pour activer le moteur de stockage TokuDB mais il est également possible de l&#39;activer manuellement comme n&#39;importe quel autre plugin.
Pour ce faire, lancer le client ##mysql## en ligne de commande et se connecter MariaDB avec un utilisateur ayant le privilège ##SUPER## puis exécuter la commande suivante :

&lt;&lt;code lang=mysql inline=false&gt;&gt;
INSTALL SONAME &#39;ha_tokudb&#39;;
&lt;&lt;/code&gt;&gt;

TokuDB sera installé définitivement et pourra être retiré en utilisant [[uninstall-soname|UNINSTALL SONAME]].

=== Activer temporairement TokuDB au démarrage de MariaDB

Pour simplement tester TokuDB, il faut démarrer le démon ##mysqld## avec la commande suivante :

&lt;&lt;code&gt;&gt;
mysqld --plugin-load=ha_tokudb --plugin-dir=/usr/local/mysql/lib/mysql/plugin
&lt;&lt;/code&gt;&gt;

== Voir également
* [[tokudb-differences|Différences entre la version TokuDB de Tokutek.com et celle fournie avec le MariaDB de MariaDB.org]].
* [[tokudb-system-and-status-variables|Variables système et d&#39;état de TokuDB]]</textarea>
    


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/solutions" title="Solutions">Solutions</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">Company</a></h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        
                        
                        <li>
                            <h5><a href="https://mariadb.com/downloads" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2025 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.1587e3a666fc.js" charset="utf-8"></script>

</html>