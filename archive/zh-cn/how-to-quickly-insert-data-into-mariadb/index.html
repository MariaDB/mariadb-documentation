<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>How to Quickly Insert Data Into MariaDB - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.f7633538c846.css" rel="stylesheet" type="text/css" />

    

    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="How to Quickly Insert Data Into MariaDB" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/zh-cn/how-to-quickly-insert-data-into-mariadb/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="
本文介绍了向MariaDB中快速插入数据的几种不同技术。
背景
当要向MariaDB中插入新的数据时，以下过程会影响插入所消耗的时间：(按时间消耗长短降序排序)
将数据sync到磁盘上(它是事务结束的一部分)
添加新的键值。索引越大，更新键值所消耗的时间就越长。
检查外键约束(如果存在)。
将行添加到存储引擎中。
将待插入数据发送给服务器。

下..." />

    <meta name="description" content="
本文介绍了向MariaDB中快速插入数据的几种不同技术。
背景
当要向MariaDB中插入新的数据时，以下过程会影响插入所消耗的时间：(按时间消耗长短降序排序)
将数据sync到磁盘上(它是事务结束的一部分)
添加新的键值。索引越大，更新键值所消耗的时间就越长。
检查外键约束(如果存在)。
将行添加到存储引擎中。
将待插入数据发送给服务器。

下..." />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes products nodes_view jqui" id="nodes_view">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/zh-cn/how-to-quickly-insert-data-into-mariadb/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2025 MariaDB. All rights reserved.</p>
    </div>
</div>
<div class="violator-wrap d-none" id="top_violator">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12">
                <div class="violator-outer">
                    <div class="violator-inner">
                        <div class="row">
                            <div class="col-xs-12 col-sm-9 col-lg-7 col-lg-offset-2" id="top_violator_content">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="content-link" target="_blank" rel="nofollow noreferrer">
                                    <span>The Ultimate Guide to High Availability with MariaDB</span>
                                </a>
                            </div>
                            <div class="col-xs-12 col-sm-3" id="top_violator_cta">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="btn btn-mariadb" target="_blank" rel="nofollow noreferrer">Download Now</a>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn btn-link close-btn">
                        <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" width="15px" height="15px"><path d="M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/zh-cn/how-to-quickly-insert-data-into-mariadb/" rel="nofollow">Login</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/zh-cn/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/zh-cn/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/services" title="Services">Services</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="About Us">About Us</a>
    </li>
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/zh-cn/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/zh-cn/mariadb/">MariaDB - 简体中文</a>
    

    
    » <a class="crumb" href="/kb/zh-cn/mariadb-server/">MariaDB Server文档</a>
    


    » <a class="node_link crumb" href="/kb/zh-cn/how-to-quickly-insert-data-into-mariadb/">How to Quickly Insert Data Into MariaDB</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/zh-cn/">首页</a></li>
                            
                                
                                    <li><a href="/kb/zh-cn/+questions/">Open Questions</a></li>
                                
                                <li><a href="/kb/zh-cn/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/zh-cn/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/zh-cn/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/zh-cn/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
<div>



<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-blue btn-sm" href="/kb/zh-cn/how-to-quickly-insert-data-into-mariadb/+history" rel="nofollow">历史</a>
        
        
        
        <a class="btn btn-block btn-blue btn-sm" href="/kb/zh-cn/how-to-quickly-insert-data-into-mariadb/+source/">Source</a>
        
        <a class="btn btn-block btn-blue btn-sm flag" href="/kb/zh-cn/how-to-quickly-insert-data-into-mariadb/+flag"
                data-flag-url="/kb/zh-cn/how-to-quickly-insert-data-into-mariadb/+flag" rel="nofollow">
                Flag as Spam / Inappropriate</a>
        
        <a class="btn btn-block btn-blue btn-sm" href="/kb/zh-cn/how-to-quickly-insert-data-into-mariadb/+translate/">
                Translate</a>
        

</div>
</div>





<div class="well well-small box node_info"><div>

    <dl>
        <dt>已创建</dt>
        <dd>

<span class="datetime" title="2018-04-19 08:31">6 years, 9 months ago</span></dd>

        <dt>Modified</dt>
        <dd>

<span class="datetime" title="2018-04-19 08:35">6 years, 9 months ago</span></dd>

        <dt>Type</dt>
        <dd>article</dd>

        <dt>Status</dt>
        <dd>active</dd>

        <dt>License</dt>
        <dd>
            
                <a href="/kb/zh-cn/how-to-quickly-insert-data-into-mariadb/+license/">CC BY-SA / Gnu FDL</a>
            
        </dd>

        
    </dl>

    
    <ul class="rss_feeds">
        <li><a href="/kb/zh-cn/how-to-quickly-insert-data-into-mariadb/+history/feed/">
            历史</a>
        </li>
        <li><a href="/kb/zh-cn/how-to-quickly-insert-data-into-mariadb/+comments/feed/">
            Comments</a>
        </li>
    </ul>
    

</div>
</div>





    
    
    

<div class="well well-small box attachments"><div><div class="edit_link pull-right"><a href="/kb/zh-cn/how-to-quickly-insert-data-into-mariadb/+edit/attachments/">Edit</a></div><h5>Attachments</h5></div><div>

        
            <div class="no_data">No attachments exist</div>
        
    
</div>
</div>

    



    
    
        

<div class="well well-small box"><div><h5>Localized Versions</h5></div><div>

        <ul>
            
            <li><a href="/kb/en/how-to-quickly-insert-data-into-mariadb/">How to Quickly Insert Data Into MariaDB</a> [en]</li>
            
            <li><a href="/kb/it/inserire-dati-velocemente-in-mariadb/">Inserire dati velocemente in MariaDB</a> [it]</li>
            
        </ul>
        
</div>
</div>

    






</div>


                    

































                </aside>
            
            
            
                
            
            
                
            
            <section id="content" class="limited_width col-md-8 clearfix">
                
                    <h1>How to Quickly Insert Data Into MariaDB</h1>
                

                



                <div>
                    
    

    
    
    

    <div class="node creole">
        
        
        


    
    <div class="answer formatted">
        <div class="table_of_contents well well-small">
<h3>Contents</h3>
 <ol class="toc">

    <li class=""><a href="#背景" title="背景">背景</a></li>

    <li class=""><a href="#1禁用索引key" title="1.禁用索引(key)">1.禁用索引(key)</a></li>

    <li class=""><a href="#2loading-text-files" title="2.Loading text files">2.Loading text files</a>    <ol class="toc">

        <li class=""><a href="#21-mysqlimport" title="2.1 mysqlimport">2.1 mysqlimport</a>    </ol>
</li>

    <li class=""><a href="#3使用insert语句插入数据" title="3.使用INSERT语句插入数据">3.使用INSERT语句插入数据</a>    <ol class="toc">

        <li class=""><a href="#31-使用大事务using-big-transactions" title="3.1 使用大事务(Using big transactions)">3.1 使用大事务(Using big transactions)</a></li>

        <li class=""><a href="#32-insert语句的多值插入" title="3.2 insert语句的多值插入">3.2 insert语句的多值插入</a>    </ol>
</li>

    <li class=""><a href="#4同时向多个表中插入数据inserting-data-into-several-tables-at-once" title="4.同时向多个表中插入数据(Inserting data into several tables at once)">4.同时向多个表中插入数据(Inserting data into several tables at once)</a></li>

    <li class=""><a href="#5可以优化插入速度的服务器变量" title="5.可以优化插入速度的服务器变量">5.可以优化插入速度的服务器变量</a> </ol>
</li>
</div>
<p>本文介绍了向MariaDB中快速插入数据的几种不同技术。</p>
<h2 class="anchored_heading" id="背景">背景</h2>
<p>当要向MariaDB中插入新的数据时，以下过程会影响插入所消耗的时间：(按时间消耗长短降序排序)</p>
<ul start="1"><li>将数据sync到磁盘上(它是事务结束的一部分)
</li><li>添加新的键值。索引越大，更新键值所消耗的时间就越长。
</li><li>检查外键约束(如果存在)。
</li><li>将行添加到存储引擎中。
</li><li>将待插入数据发送给服务器。
</li></ul>
<p>下面介绍几种向表中快速插入数据的技术(按效率的提升程度降序排序)。</p>
<h2 class="anchored_heading" id="1禁用索引key">1.禁用索引(key)</h2>
<p>你可以临时禁用非唯一索引。特别是在表中数据很少甚至没有数据的时候，禁用非唯一索引可以极大提升插入速度。</p>
<pre class="fixed">ALTER TABLE table_name DISABLE KEYS;
BEGIN;
... inserting data with INSERT or LOAD DATA ....
COMMIT;
ALTER TABLE table_name ENABLE KEYS;
</pre><p>多数存储引擎(至少MyISAM和Aria是如此)的<code>ENABLE KEYS</code>会扫描表中的行并收集索引键值，然后对它们排序，最后创建索引块。因此，先禁用KEY，插入数据后启用KEY的整体速度比每行都更新一次索引的速度至少要快一个数量级，并且所需要的buffer也更少。</p>
<div class="cstm-style bluebox"><p><strong>注意：</strong>当使用<code><a href="/kb/en/insert/">INSERT</a></code>或
<code><a href="/kb/en/load-data-infile/">LOAD DATA</a></code>向<strong>空表</strong>中插入数据时，MariaDB会<strong>自动</strong>先<code><a href="/kb/en/alter-table/">DISABLE KEYS</a></code>，插入成功后再<strong>自动</strong><code><a href="/kb/en/alter-table/">ENABLE KEYS</a></code>。</p>
</div><p>当插入海量数据时，花在完整性检查上的时间也会很长。可以通过设置系统变量<code><a href="/kb/en/server-system-variables/#unique_checks">unique_checks</a></code>和<code><a href="/kb/en/server-system-variables/#foreign_key_checks">foreign_key_checks</a></code>来禁用<code>UNIQUE</code>索引以及<a href="/kb/en/foreign-keys/">foreign keys</a>约束对数据的检查：</p>
<pre class="fixed">SET @@session.unique_checks = 0;
SET @@session.foreign_key_checks = 0;
</pre><p>对于XtraDB/InnoDB表，可以临时将<a href="/kb/en/auto_increment-handling-in-xtradbinnodb/">AUTO_INCREMENT lock mode</a>设置为2，如下：</p>
<pre class="fixed">SET @@global.innodb_autoinc_lock_mode = 2;
</pre><p>此外，如果表上有<a href="/kb/en/triggers/">INSERT触发器</a>，或者<code><a href="/kb/en/virtual-columns/">PERSISTENT</a></code>字段，可以先删除它们，在数据插入完成之后再重建它们。</p>
<h2 class="anchored_heading" id="2loading-text-files">2.Loading text files</h2>
<p>向MariaDB中插入数据<strong>最快的方式</strong>是使用<code><a href="/kb/en/load-data-infile/">LOAD DATA INFILE</a></code>命令。</p>
<p>该命令最简单的格式为：</p>
<pre class="fixed"><span class="k">LOAD</span> <span class="k">DATA</span> <span class="n">INFILE</span> <span class="s1">&#39;file_name&#39;</span> <span class="k">INTO</span> <span class="k">TABLE</span> <span class="k">table_name</span><span class="p">;</span>
</pre><p>可以使用下面的语句来读取客户端所在机器上的文件并插入到MariaDB服务器上：</p>
<pre class="fixed"><span class="k">LOAD</span> <span class="k">DATA</span> <span class="k">LOCAL</span> <span class="n">INFILE</span> <span class="s1">&#39;file_name&#39;</span> <span class="k">INTO</span> <span class="k">TABLE</span> <span class="k">table_name</span><span class="p">;</span>
</pre><p>从客户端上读取文件的速度比直接在服务端上读取文件的速度要慢一些，但差距不会很大。</p>
<p><code>LOAD DATA INFILE</code>之所以很快，是因为：</p>
<ol start="1"><li>不需要解析SQL语句。
</li><li>读取数据时可以一次读取很多个数据块。
</li><li>如果load data之前表是空的，则所有的非唯一索引都会先禁用，插入数据成功后才启用。
</li><li>它会告诉存储引擎先缓存一些行的数据，达到一定数量后再一次性插入到表中(至少MyISAM和Aria存储引擎支持该行为)。
</li><li>对于空表，某些事务性引擎(如Aria)不会记录数据插入的事务日志，因为我们可以随时通过truncate操作来回滚。
</li></ol>
<p>由于以上速度优势，当你需要插入<strong>大量</strong>数据的时候，你可以先创建一个本地数据文件，然后使用<code>LOAD DATA INFILE</code>来插入它们，这比直接<code>INSERT</code>要快。</p>
<p>在<a href="/kb/en/what-is-mariadb-53/">MariaDB 5.3</a>中，你还能看到<code>LOAD DATA INFILE</code>的进度报告<a href="/kb/en/progress-reporting/">progress reporting</a>。</p>
<h3 class="anchored_heading" id="21-mysqlimport">2.1 mysqlimport</h3>
<p>你可以使用<a href="/kb/en/mysqlimport/">mysqlimport</a>并行导入多个文件。例如：</p>
<pre class="fixed"><span class="n">mysqlimport</span> <span class="c1">--use-threads=10 database text-file-name [text-file-name...]</span>
</pre><p><a href="/kb/en/mysqlimport/">mysqlimport</a>内部会使用<a href="/kb/en/load-data-infile/">LOAD DATA INFILE</a>来读取数据并插入数据，因此速度也非常快。</p>
<h2 class="anchored_heading" id="3使用insert语句插入数据">3.使用INSERT语句插入数据</h2>
<h3 class="anchored_heading" id="31-使用大事务using-big-transactions">3.1 使用大事务(Using big transactions)</h3>
<p>当需要使用单行insert语句(一次插入一行)插入数据时，可以将它们放进<code>BEGIN / END</code>中，从而避免每行一次事务(意味着每行都需要将数据sync到磁盘)。例如，每个begin/end中包含1000次insert，这至少提升1000倍插入效率。</p>
<pre class="fixed"><span class="k">BEGIN</span><span class="p">;</span>
<span class="k">INSERT</span> <span class="p">...</span>
<span class="k">INSERT</span> <span class="p">...</span>
<span class="k">END</span><span class="p">;</span>
<span class="k">BEGIN</span><span class="p">;</span>
<span class="k">INSERT</span> <span class="p">...</span>
<span class="k">INSERT</span> <span class="p">...</span>
<span class="k">END</span><span class="p">;</span>
<span class="p">...</span>
</pre><p>之所以上面使用了多个BEGIN/END语句而不是一个BEGIN/END的原因是前者会占用更少的事务日志空间。</p>
<h3 class="anchored_heading" id="32-insert语句的多值插入">3.2 insert语句的多值插入</h3>
<p>你可以使用insert语句一次性插入多行数据：</p>
<pre class="fixed"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="k">table_name</span> <span class="k">values</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="ss">&quot;row 1&quot;</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span> <span class="ss">&quot;row 2&quot;</span><span class="p">),...;</span>
</pre><p>系统变量<code><a href="/kb/en/mysqld-options-full-list/">max_allowed_packet</a></code>控制了该语句允许的最大行数量。</p>
<h2 class="anchored_heading" id="4同时向多个表中插入数据inserting-data-into-several-tables-at-once">4.同时向多个表中插入数据(Inserting data into several tables at once)</h2>
<p>如果你想一次性向多个表中插入数据，最好的方法是使用多行语句并且一次性发送给服务端：</p>
<pre class="fixed"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">table_name_1</span> <span class="p">(</span><span class="n">auto_increment_key</span><span class="p">,</span> <span class="k">data</span><span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span><span class="k">NULL</span><span class="p">,</span><span class="ss">&quot;row 1&quot;</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">table_name_2</span> <span class="p">(</span><span class="n">auto_increment</span><span class="p">,</span> <span class="n">reference</span><span class="p">,</span> <span class="k">data</span><span class="p">)</span> <span class="k">values</span> <span class="p">(</span><span class="k">NULL</span><span class="p">,</span> <span class="n">LAST_INSERT_ID</span><span class="p">(),</span> <span class="ss">&quot;row 2&quot;</span><span class="p">);</span>
</pre><p><code><a href="/kb/en/last_insert_id/">LAST_INSERT_ID()</a></code>函数回返回<code>auto_increment</code>的最后一个值。</p>
<p>默认情况下，客户端<code>mysql</code>命令会将上面的语句按一个整体发送给服务端。</p>
<p>可以通过下面的方式来测试<code>mysql</code>的行为：</p>
<pre class="fixed">delimiter ;;
select 1; select 2;;
delimiter ;
</pre><div class="cstm-style bluebox"><p><strong>note:</strong> for multi-query statements to work, your client must specify the
<code>CLIENT_MULTI_STATEMENTS</code> flag to <code>mysql_real_connect()</code>.</p>
</div><h2 class="anchored_heading" id="5可以优化插入速度的服务器变量">5.可以优化插入速度的服务器变量</h2>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Option</th><th>Description</th></tr>
<tr><td><code><a href="/kb/en/xtradbinnodb-server-system-variables/#innodb_buffer_pool_size">innodb_buffer_pool_size</a></code></td><td>如果你的InnoDB/XtraDB表中有多个索引，可增大该值</td></tr>
<tr><td><code><a href="/kb/en/myisam-system-variables/#key_buffer_size">key_buffer_size</a></code></td><td>如果你的MyISAM表中有多个索引，可增大该值</td></tr>
<tr><td><code><a href="/kb/en/server-system-variables/#max_allowed_packet">max_allowed_packet</a></code></td><td>增大该值以允许insert语句可以一次性插入更多的行(即增加insert语句中括号的个数)</td></tr>
<tr><td><code><a href="/kb/en/server-system-variables/#read_buffer_size">read_buffer_size</a></code></td><td><code>LOAD DATA</code>读取文件时的块大小</td></tr>
</table>
</div><p>完整的服务变量，可参见<a href="/kb/en/mysqld-options-full-list/">mysqld options</a>。</p>

    </div>


        
            <div id="subscribe" class="well well-small hide hidden-print"
                 data-subscribe-url="/kb/zh-cn/how-to-quickly-insert-data-into-mariadb/+subscriptions/add"
                 data-unsubscribe-url="/kb/zh-cn/how-to-quickly-insert-data-into-mariadb/+subscriptions/remove">
            </div>
        

        
        
    
        <div class="simple_section_nav">
            <ul class="nav nav-pills">
                
                    <li><a href="/kb/zh-cn/high_prioritylow_priority/">
                        ← HIGH_PRIORITY和LOW_PRIORITY
                    </a>
                    </li>
                
                
                    <li><a href="/kb/zh-cn/mariadb-server/">
                        ↑ MariaDB Server文档 ↑
                    </a>
                    </li>
                
                
                    <li class="pull-right"><a href="/kb/zh-cn/if-statement/">
                        IF 语句 →
                    </a>
                    </li>
                
            </ul>
        </div>
    

        

        
        <h2>Comments</h2>
        
    
    <div id="comments" data-node-id="7542" data-comments-url="/kb/zh-cn/how-to-quickly-insert-data-into-mariadb/+comments"
         data-reply-url="/kb/zh-cn/how-to-quickly-insert-data-into-mariadb/comments/post/">
        Comments loading...
    </div>

        

    </div>


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
                <div id="right_bar" class="col-md-2">
                    
    
        
        <ul class="section_navigation well well-small hidden-xs hidden-sm">
            
                <li class="parent"><a href="/kb/zh-cn/mariadb-server/">
                    ↑ MariaDB Server文档 ↑
                </a>
                </li>
            
            
                
                    <li>
                        <a href="/kb/zh-cn/alter/">
                            
                            ALTER语句
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/create/">
                            
                            CREATE
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/mariabackup/">
                            
                            Mariabackup
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/mariadb-columnstore/">
                            
                            MariaDB ColumnStore
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/mariadb-administration/">
                            
                            MariaDB 管理
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/standard-replication/">
                            
                            MariaDB复制
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/mariadb-server-mariadb-server/">
                            
                            使用MariaDB Server
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/columns-storage-engines-and-plugins/">
                            
                            列、存储引擎和插件
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/backing-up-and-restoring-databases/">
                            
                            备份和恢复数据库
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/data-types/">
                            
                            数据类型
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/account-management-sql-commands/">
                            
                            账户管理中的SQL命令
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/alter-user/">
                            
                            ALTER USER
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/analyze-format-json/">
                            
                            ANALYZE FORMAT=JSON
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/mariadb-analyze-formatjson/">
                            
                            ANALYZE FORMAT=JSON 示例
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/begin-end/">
                            
                            BEGIN END
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/case-statement/">
                            
                            CASE STATEMENT（条件语句）
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/close/">
                            
                            CLOSE(关闭)
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/coalesce/">
                            
                            COALESCE
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/concurrent-inserts/">
                            
                            Concurrent Inserts
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/create-database/">
                            
                            CREATE DATABASE
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/create-function/">
                            
                            CREATE FUNCTION
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/create-procedure/">
                            
                            CREATE PROCEDURE
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/create-trigger/">
                            
                            CREATE TRIGGER
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/database/">
                            
                            DATABASE
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/declare-handler/">
                            
                            DECLARE HANDLER
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/declare-variable/">
                            
                            DECLARE Variable
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/delete/">
                            
                            DELETE
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/drop-role/">
                            
                            DROP ROLE
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/drop-user/">
                            
                            DROP USER
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/execute-statement/">
                            
                            EXECUTE 语句
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/fetch/">
                            
                            FETCH
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/galera-cluster-system-variables/">
                            
                            Galera Cluster System Variables
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/getting-started-with-mariadb-galera-cluster/">
                            
                            Getting Started with MariaDB Galera Cluster
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/grant/">
                            
                            GRANT
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/greatest/">
                            
                            GREATEST
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/group_concat/">
                            
                            GROUP_CONCAT
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/help-command/">
                            
                            HELP 命令
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/high_prioritylow_priority/">
                            
                            HIGH_PRIORITY和LOW_PRIORITY
                        </a>
                    </li>
                
            
                
                    <li class="active">
                        <span>How to Quickly Insert Data Into MariaDB</span>
                        
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/if-statement/">
                            
                            IF 语句
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/in/">
                            
                            IN
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/insert/">
                            
                            INSERT
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/insert-on-duplicate-key-update/">
                            
                            INSERT ON DUPLICATE KEY UPDATE
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/insert-select/">
                            
                            INSERT SELECT
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/iterate/">
                            
                            ITERATE
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/labels/">
                            
                            Labels
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/last_value/">
                            
                            LAST_VALUE()
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/leave/">
                            
                            LEAVE（退出）
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/load-data-infile/">
                            
                            LOAD DATA INFILE
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/loop/">
                            
                            LOOP（循环）
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/sql_modeoracle-from-mariadb-103/">
                            
                            MariaDB 10.3支持SQL_MODE=ORACLE
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/mysqldump/">
                            
                            mysqldump
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/non-recursive-common-table-expressions-overview/">
                            
                            Non-Recursive Common Table Expressions Overview
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/rename-table/">
                            
                            RENAME TABLE
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/rename-user/">
                            
                            RENAME USER
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/replace/">
                            
                            REPLACE
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/revoke/">
                            
                            REVOKE
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/selectinto/">
                            
                            SELECT INTO
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/select-into-outfile/">
                            
                            SELECT INTO OUTFILE
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/selinux/">
                            
                            SELinux
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/set/">
                            
                            SET
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/set-default-role/">
                            
                            SET DEFAULT ROLE
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/set-names/">
                            
                            SET NAMES
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/set-password/">
                            
                            SET PASSWORD
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/set-role/">
                            
                            SET ROLE
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/set-variable/">
                            
                            SET Variable
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/show-create-user/">
                            
                            SHOW CREATE USER
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/show-databases/">
                            
                            SHOW DATABASES
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/show-grants/">
                            
                            SHOW GRANTS
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/ssl-overview/">
                            
                            SSL 综述
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/stored-procedure-overview/">
                            
                            Stored Procedure Overview
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/string-literals/">
                            
                            String Literals
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/tinyint/">
                            
                            TINYINT
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/truncate-table/">
                            
                            TRUNCATE TABLE
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/update/">
                            
                            UPDATE
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/wait-and-nowait/">
                            
                            WAIT 和 NOWAIT
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/window-functions-overview/">
                            
                            Window Functions速览
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/xtrabackup-v2-sst/">
                            
                            xtrabackup-v2 SST方法
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/auto_increment-handling-in-xtradbinnodb/">
                            
                            XtraDB/InnoDB中的AUTO_INCREMENT处理方式
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/xtradbinnodb-file-format/">
                            
                            XtraDB/InnoDB的文件格式
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/general-query-log/">
                            
                            一般查询日志
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/using-innodb-instead-of-xtradb/">
                            
                            使用InnoDB替代XtraDB
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/about-xtradb/">
                            
                            关于 XtraDB 存储引擎
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/create-user/">
                            
                            创建用户
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/start-slave/">
                            
                            启动从服务
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/declare-cursor/">
                            
                            声明游标
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/performance-schema-table_lock_waits_summary_by_table-table/">
                            
                            性能配置方案 table_lock_waits_summary_by_table 表
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/numeric-data-type-overview/">
                            
                            数值型的数据类型概述
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/identifier-names/">
                            
                            标识符命名规则
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/identifier-case-sensitivity/">
                            
                            标识符对大小写敏感的情况
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/identifier-qualifiers/">
                            
                            标识限定符
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/user-defined-variables/">
                            
                            用户变量(User-Defined Variables)
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/cache-index/">
                            
                            索引-缓存
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/setting-character-sets-and-collations/">
                            
                            设置字符集和排序规则
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/assignment-operator/">
                            
                            赋值操作符(:=)
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/reset/">
                            
                            重置（清零）
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/error-log/">
                            
                            错误日志
                        </a>
                    </li>
                
            
        </ul>
    
    

                </div>
            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/services" title="Services">Services</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">About Us</a></h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/download" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2025 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.1587e3a666fc.js" charset="utf-8"></script>

</html>