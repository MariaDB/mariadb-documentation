<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>Percona XtraBackup 概述 - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.f7633538c846.css" rel="stylesheet" type="text/css" />

    

    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="Percona XtraBackup 概述" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/zh-cn/percona-xtrabackup-percona-xtrabackup/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="
In MariaDB 10.1 and later, Mariabackup is the recommended backup method to use instead of Percona XtraBackup.
In MariaDB 10.3, Percona XtraBackup is not supported. See Percon..." />

    <meta name="description" content="
In MariaDB 10.1 and later, Mariabackup is the recommended backup method to use instead of Percona XtraBackup.
In MariaDB 10.3, Percona XtraBackup is not supported. See Percon..." />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes products nodes_view jqui" id="nodes_view">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/zh-cn/percona-xtrabackup-percona-xtrabackup/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2024 MariaDB. All rights reserved.</p>
    </div>
</div>
<div class="violator-wrap d-none" id="top_violator">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12">
                <div class="violator-outer">
                    <div class="violator-inner">
                        <div class="row">
                            <div class="col-xs-12 col-sm-9 col-lg-7 col-lg-offset-2" id="top_violator_content">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="content-link" target="_blank" rel="nofollow noreferrer">
                                    <span>The Ultimate Guide to High Availability with MariaDB</span>
                                </a>
                            </div>
                            <div class="col-xs-12 col-sm-3" id="top_violator_cta">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="btn btn-mariadb" target="_blank" rel="nofollow noreferrer">Download Now</a>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn btn-link close-btn">
                        <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" width="15px" height="15px"><path d="M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/zh-cn/percona-xtrabackup-percona-xtrabackup/" rel="nofollow">Login</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/zh-cn/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/zh-cn/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/services" title="Services">Services</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="About Us">About Us</a>
    </li>
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/zh-cn/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/zh-cn/mariadb/">MariaDB - 简体中文</a>
    

    
    » <a class="crumb" href="/kb/zh-cn/mariadb-server/">MariaDB Server文档</a>
    

    
    » <a class="crumb" href="/kb/zh-cn/backing-up-and-restoring-databases/">备份和恢复数据库</a>
    

    
    » <a class="crumb" href="/kb/zh-cn/backing-up-and-restoring-databases-percona-xtrabackup/">Percona XtraBackup</a>
    


    » <a class="node_link crumb" href="/kb/zh-cn/percona-xtrabackup-percona-xtrabackup/">Percona XtraBackup 概述</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/zh-cn/">首页</a></li>
                            
                                
                                    <li><a href="/kb/zh-cn/+questions/">Open Questions</a></li>
                                
                                <li><a href="/kb/zh-cn/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/zh-cn/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/zh-cn/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/zh-cn/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
<div>



<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-blue btn-sm" href="/kb/zh-cn/percona-xtrabackup-percona-xtrabackup/+history" rel="nofollow">历史</a>
        
        
        
        <a class="btn btn-block btn-blue btn-sm" href="/kb/zh-cn/percona-xtrabackup-percona-xtrabackup/+source/">Source</a>
        
        <a class="btn btn-block btn-blue btn-sm flag" href="/kb/zh-cn/percona-xtrabackup-percona-xtrabackup/+flag"
                data-flag-url="/kb/zh-cn/percona-xtrabackup-percona-xtrabackup/+flag" rel="nofollow">
                Flag as Spam / Inappropriate</a>
        
        <a class="btn btn-block btn-blue btn-sm" href="/kb/zh-cn/percona-xtrabackup-percona-xtrabackup/+translate/">
                Translate</a>
        

</div>
</div>





<div class="well well-small box node_info"><div>

    <dl>
        <dt>已创建</dt>
        <dd>

<span class="datetime" title="2023-06-18 03:06">8 months, 3 weeks ago</span></dd>

        <dt>Modified</dt>
        <dd>

<span class="datetime" title="2023-06-18 03:07">8 months, 3 weeks ago</span></dd>

        <dt>Type</dt>
        <dd>article</dd>

        <dt>Status</dt>
        <dd>active</dd>

        <dt>License</dt>
        <dd>
            
                <a href="/kb/zh-cn/percona-xtrabackup-percona-xtrabackup/+license/">CC BY-SA / Gnu FDL</a>
            
        </dd>

        
    </dl>

    
    <ul class="rss_feeds">
        <li><a href="/kb/zh-cn/percona-xtrabackup-percona-xtrabackup/+history/feed/">
            历史</a>
        </li>
        <li><a href="/kb/zh-cn/percona-xtrabackup-percona-xtrabackup/+comments/feed/">
            Comments</a>
        </li>
    </ul>
    

</div>
</div>





    
    
    

<div class="well well-small box attachments"><div><div class="edit_link pull-right"><a href="/kb/zh-cn/percona-xtrabackup-percona-xtrabackup/+edit/attachments/">Edit</a></div><h5>Attachments</h5></div><div>

        
            <div class="no_data">No attachments exist</div>
        
    
</div>
</div>

    



    
    
        

<div class="well well-small box"><div><h5>Localized Versions</h5></div><div>

        <ul>
            
            <li><a href="/kb/en/percona-xtrabackup-overview/">Percona XtraBackup Overview</a> [en]</li>
            
            <li><a href="/kb/it/backup-restore-and-import-xtrabackup/">XtraBackup</a> [it]</li>
            
        </ul>
        
</div>
</div>

    






</div>


                    

































                </aside>
            
            
            
                
            
            
                
            
            <section id="content" class="limited_width col-md-8 clearfix">
                
                    <h1>Percona XtraBackup 概述</h1>
                

                



                <div>
                    
    

    
    
    

    <div class="node creole">
        
        
        


    
    <div class="answer formatted">
        <div class="table_of_contents well well-small">
<h3>Contents</h3>
 <ol class="toc">

    <li class=""><a href="#安装percona-xtrabackup" title="安装Percona XtraBackup">安装Percona XtraBackup</a>    <ol class="toc">

        <li class=""><a href="#使用包管理器安装" title="使用包管理器安装">使用包管理器安装</a>        <ol class="toc">

            <li class=""><a href="#使用yumdnf安装" title="使用yum/dnf安装">使用yum/dnf安装</a></li>

            <li class=""><a href="#使用apt-get安装" title="使用apt-get安装">使用apt-get安装</a></li>

            <li class=""><a href="#使用zypper安装" title="使用zypper安装">使用zypper安装</a>        </ol>
    </ol>
</li>

    <li class=""><a href="#使用percona-xtrabackup" title="使用Percona XtraBackup">使用Percona XtraBackup</a>    <ol class="toc">

        <li class=""><a href="#选项" title="选项">选项</a></li>

        <li class=""><a href="#选项文件" title="选项文件">选项文件</a>        <ol class="toc">

            <li class=""><a href="#服务器选项组" title="服务器选项组">服务器选项组</a></li>

            <li class=""><a href="#客户端选项组" title="客户端选项组">客户端选项组</a>        </ol>
</li>

        <li class=""><a href="#认证和权限" title="认证和权限">认证和权限</a></li>

        <li class=""><a href="#文件系统权限" title="文件系统权限">文件系统权限</a>    </ol>
</li>

    <li class=""><a href="#与-mariadb-的兼容性" title="与 MariaDB 的兼容性">与 MariaDB 的兼容性</a>    <ol class="toc">

        <li class=""><a href="#与-mariadb-103-及更高版本的兼容性" title="与 MariaDB 10.3 及更高版本的兼容性">与 MariaDB 10.3 及更高版本的兼容性</a></li>

        <li class=""><a href="#与-mariadb-102-的兼容性" title="与 MariaDB 10.2 的兼容性">与 MariaDB 10.2 的兼容性</a></li>

        <li class=""><a href="#与-mariadb-101-的兼容性" title="与 MariaDB 10.1 的兼容性">与 MariaDB 10.1 的兼容性</a></li>

        <li class=""><a href="#与-mariadb-100-及更早版本的兼容性" title="与 MariaDB 10.0 及更早版本的兼容性">与 MariaDB 10.0 及更早版本的兼容性</a>    </ol>
</li>

    <li class=""><a href="#使用-percona-xtrabackup-进行-galera-ssts" title="使用 Percona XtraBackup 进行 Galera SSTs">使用 Percona XtraBackup 进行 Galera SSTs</a></li>

    <li class=""><a href="#另请参阅" title="另请参阅">另请参阅</a> </ol>
</li>
</div>
<div class="cstm-style greenbox"><p>In <a href="/kb/en/what-is-mariadb-101/">MariaDB 10.1</a> and later, <a href="/kb/en/mariabackup/">Mariabackup</a> is the recommended backup method to use instead of Percona XtraBackup.</p>
</div><div class="cstm-style redbox"><p>In <a href="/kb/en/what-is-mariadb-103/">MariaDB 10.3</a>, Percona XtraBackup is <strong>not supported</strong>. See <a href="/kb/en/percona-xtrabackup-overview/#compatibility-with-mariadb">Percona XtraBackup Overview: Compatibility with MariaDB</a> for more information.</p>
</div><div class="cstm-style redbox"><p>In <a href="/kb/en/what-is-mariadb-102/">MariaDB 10.2</a> and <a href="/kb/en/what-is-mariadb-101/">MariaDB 10.1</a>, Percona XtraBackup is only <strong>partially supported</strong>. See <a href="/kb/en/percona-xtrabackup-overview/#compatibility-with-mariadb">Percona XtraBackup Overview: Compatibility with MariaDB</a> for more information.</p>
</div>
<p>Percona XtraBackup是一个开源工具，用于对MariaDB、MySQL和Percona Server数据库执行热备份。Percona XtraBackup可以执行压缩、增量和流式备份。它旨在备份<a href="/kb/en/innodb/">XtraDB/InnoDB</a>表，但也可以备份其他<a href="/kb/en/storage-engines/">存储引擎</a>。</p>
<p><a href="/kb/en/mariabackup/">Mariabackup</a>是Percona XtraBackup的一个分支，旨在与加密和压缩表以及其他MariaDB增强功能一起使用。有许多错误修复，例如<a href="https://jira.mariadb.org/browse/MDEV-13807">MDEV-13807</a>，并且已删除一些不安全或冗余的选项。<a href="/kb/en/mariabackup/">Mariabackup</a>是MariaDB服务器的推荐备份方法。</p>
<h2 class="anchored_heading" id="安装percona-xtrabackup">安装Percona XtraBackup</h2>
<h3 class="anchored_heading" id="使用包管理器安装">使用包管理器安装</h3>
<p>在Linux上，也可以通过包管理器安装Percona XtraBackup。为此，需要配置系统以从包含它的存储库安装。</p>
<p>您还可以按照其文档中的说明将软件包管理器配置为从Percona的存储库安装它：</p>
<ul start="1"><li><a href="https://www.percona.com/doc/percona-xtrabackup/2.3/installation.html">安装Percona XtraBackup 2.3</a>
</li><li><a href="https://www.percona.com/doc/percona-xtrabackup/2.4/installation.html">安装Percona XtraBackup 2.4</a>
</li></ul>
<h4 class="anchored_heading" id="使用yumdnf安装">使用yum/dnf安装</h4>
<p>在RHEL、CentOS、Fedora和其他类似的Linux发行版上，强烈推荐使用<code>yum</code>或<code><a href="https://en.wikipedia.org/wiki/DNF_(software)">dnf</a></code>从MariaDB的存储库中安装相关的<a href="/kb/en/rpm/">RPM软件包</a>。从RHEL 8和Fedora 22开始，<code>yum</code>已被<code>dnf</code>替换，后者是<code>yum</code>的下一个主要版本。但是，在许多使用<code>dnf</code>的系统上，<code>yum</code>命令仍然有效。例如，要安装Percona XtraBackup 2.3：</p>
<pre class="fixed">sudo yum install percona-xtrabackup
</pre><p>要安装Percona XtraBackup 2.4：</p>
<pre class="fixed">sudo yum install percona-xtrabackup-24
</pre><h4 class="anchored_heading" id="使用apt-get安装">使用apt-get安装</h4>
<p>在Debian、Ubuntu和其他类似的Linux发行版上，强烈建议使用<code><a href="https://wiki.debian.org/apt-get">apt-get</a></code>从MariaDB的存储库安装相应的<a href="/kb/en/installing-mariadb-deb-files/">DEB包</a>。例如，要安装Percona XtraBackup 2.3：</p>
<pre class="fixed">sudo apt-get install percona-xtrabackup
</pre><p>要安装Percona XtraBackup 2.4：</p>
<pre class="fixed">sudo apt-get install percona-xtrabackup-24
</pre><h4 class="anchored_heading" id="使用zypper安装">使用zypper安装</h4>
<p>在SLES、OpenSUSE和其他类似的Linux发行版上，强烈建议使用<code><a href="/kb/en/installing-mariadb-with-zypper/">zypper</a></code>从MariaDB的存储库安装相应的<a href="/kb/en/rpm/">RPM包</a>。例如，要安装Percona XtraBackup 2.3：</p>
<pre class="fixed">sudo zypper install percona-xtrabackup
</pre><p>要安装Percona XtraBackup 2.4：</p>
<pre class="fixed">sudo zypper install percona-xtrabackup-24
</pre><h2 class="anchored_heading" id="使用percona-xtrabackup">使用Percona XtraBackup</h2>
<p>使用<code>xtrabackup</code>的命令和一般语法是：</p>
<pre class="fixed">xtrabackup &lt;options&gt;
</pre><p>或者：</p>
<pre class="fixed">innobackupex &lt;options&gt;
</pre><h3 class="anchored_heading" id="选项">选项</h3>
<p>Percona XtraBackup支持的选项可以在Percona的文档中找到。</p>
<p><code>xtrabackup</code> 选项：</p>
<ul start="1"><li><a href="https://www.percona.com/doc/percona-xtrabackup/2.3/xtrabackup_bin/xbk_option_reference.html"><code>xtrabackup</code> 选项 - Percona XtraBackup 2.3</a>
</li><li><a href="https://www.percona.com/doc/percona-xtrabackup/2.4/xtrabackup_bin/xbk_option_reference.html"><code>xtrabackup</code> 选项 - Percona XtraBackup 2.4</a>
</li></ul>
<p><code>innobackupex</code> 选项：</p>
<ul start="1"><li><a href="https://www.percona.com/doc/percona-xtrabackup/2.3/innobackupex/innobackupex_option_reference.html"><code>innobackupex</code> 选项 - Percona XtraBackup 2.3</a>
</li><li><a href="https://www.percona.com/doc/percona-xtrabackup/2.4/innobackupex/innobackupex_option_reference.html"><code>innobackupex</code> 选项 - Percona XtraBackup 2.4</a>
</li></ul>
<h3 class="anchored_heading" id="选项文件">选项文件</h3>
<p>除了从命令行读取选项外，Percona XtraBackup还可以从<a href="/kb/en/configuring-mariadb-with-option-files/">选项文件</a>中读取选项。</p>
<p>以下选项与MariaDB/MySQL命令行工具处理选项文件的方式有关。它们必须作为命令行上的第一个参数给出：</p>
<div class="cstm-style darkheader-nospace-borders centered"><table><tr><th>选项</th><th>描述</th></tr>
<tr><td><code>--print-defaults</code></td><td>打印程序参数列表并退出。</td></tr>
<tr><td><code>--no-defaults</code></td><td>不从任何选项文件中读取默认选项。</td></tr>
<tr><td><code>--defaults-file=# </code></td><td>仅从给定文件#中读取默认选项。</td></tr>
<tr><td><code>--defaults-extra-file=# </code></td><td>在全局文件读取后读取此文件。</td></tr>
</table>
</div><h4 class="anchored_heading" id="服务器选项组">服务器选项组</h4>
<p>Percona XtraBackup从以下<a href="/kb/en/configuring-mariadb-with-option-files/#option-groups">选项组</a>中的<a href="/kb/en/configuring-mariadb-with-option-files/">选项文件</a>读取服务器选项：</p>
<div class="cstm-style darkheader-nospace-borders centered"><table><tr><th>组</th><th>描述</th></tr>
<tr><td><code>[xtrabackup]</code></td><td>由<a href="/kb/en/mariabackup/">Mariabackup</a>和Percona XtraBackup读取的选项。</td></tr>
<tr><td><code>[mysqld]</code></td><td> 由<code>mysqld</code>读取的选项，其中包括MariaDB Server和MySQL Server。</td></tr>
</table>
</div><h4 class="anchored_heading" id="客户端选项组">客户端选项组</h4>
<p>Percona XtraBackup从以下<a href="/kb/en/configuring-mariadb-with-option-files/#option-groups">选项组</a>中的<a href="/kb/en/configuring-mariadb-with-option-files/">选项文件</a>读取客户端选项：</p>
<div class="cstm-style darkheader-nospace-borders centered"><table><tr><th>组</th><th>描述</th></tr>
<tr><td><code>[xtrabackup]</code></td><td>由<a href="/kb/en/mariabackup/">Mariabackup</a>和Percona XtraBackup读取的选项。</td></tr>
<tr><td><code>[client]</code></td><td> 由所有MariaDB和MySQL<a href="/kb/en/clients-utilities/">客户端程序</a>读取的选项，包括MariaDB和MySQL客户端。例如，<code>mysqldump</code>。</td></tr>
</table>
</div><h3 class="anchored_heading" id="认证和权限">认证和权限</h3>
<p>当Percona XtraBackup执行备份操作（即指定<code>--backup</code>选项时）时，需要使用数据库服务器进行身份验证。执行备份的用户帐户需要在数据库服务器上具有<code>RELOAD</code>、<code>PROCESS</code>、<code>LOCK TABLES</code>和<code>REPLICATION CLIENT</code><a href="/kb/en/grant/#global-privileges">全局权限</a>。例如：</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">&#39;xtrabackup&#39;</span><span class="o">@</span><span class="s1">&#39;localhost&#39;</span> <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="s1">&#39;mypassword&#39;</span><span class="p">;</span>
<span class="k">GRANT</span> <span class="n">RELOAD</span><span class="p">,</span> <span class="n">PROCESS</span><span class="p">,</span> <span class="k">LOCK</span> <span class="n">TABLES</span><span class="p">,</span> <span class="n">REPLICATION</span> <span class="n">CLIENT</span> <span class="k">ON</span> <span class="o">*</span><span class="p">.</span><span class="o">*</span> <span class="k">TO</span> <span class="s1">&#39;xtrabackup&#39;</span><span class="o">@</span><span class="s1">&#39;localhost&#39;</span><span class="p">;</span>
</pre><p>用户帐户信息可以使用<code>-user</code>和<code>--password</code>命令行选项指定。例如：</p>
<pre class="fixed">$ xtrabackup --backup \
   --target-dir=/var/mariadb/backup/ \
   --user=xtrabackup --password=mypassword
</pre><p>用户帐户信息也可以在<a href="/kb/en/configuring-mariadb-with-option-files/">选项文件</a>中的支持的<a href="#client-option-groups">客户端选项组</a>中指定。例如：</p>
<pre class="fixed">[xtrabackup]
user=xtrabackup
password=mypassword
</pre><p>在准备或恢复备份时，Percona XtraBackup不需要与数据库服务器进行身份验证。</p>
<h3 class="anchored_heading" id="文件系统权限">文件系统权限</h3>
<p>Percona XtraBackup 需要从文件系统中读取 MariaDB 的文件。因此，当您以特定的操作系统用户运行 Percona XtraBackup 时，您应确保该用户帐户具有足够的权限来读取这些文件。</p>
<p>如果您使用的是 Linux，并且使用软件包管理器安装了 MariaDB，则 MariaDB 的文件可能归 <code>mysql</code> 用户和 <code>mysql</code> 组所有。</p>
<h2 class="anchored_heading" id="与-mariadb-的兼容性">与 MariaDB 的兼容性</h2>
<h3 class="anchored_heading" id="与-mariadb-103-及更高版本的兼容性">与 <a href="/kb/en/what-is-mariadb-103/">MariaDB 10.3</a> 及更高版本的兼容性</h3>
<div class="cstm-style greenbox"><p>在 <a href="/kb/en/what-is-mariadb-103/">MariaDB 10.3</a> 及更高版本中，<a href="/kb/en/mariabackup/">Mariabackup</a> 是推荐使用的备份方法，而不是 Percona XtraBackup。</p>
</div><p>在 <a href="/kb/en/what-is-mariadb-103/">MariaDB 10.3</a> 及更高版本中，不支持使用 Percona XtraBackup。</p>
<p>此限制由 Percona XtraBackup bug <a href="https://jira.percona.com/browse/PXB-1550">PXB-1550</a> 跟踪。然而，似乎没有计划修复它。</p>
<h3 class="anchored_heading" id="与-mariadb-102-的兼容性">与 <a href="/kb/en/what-is-mariadb-102/">MariaDB 10.2</a> 的兼容性</h3>
<div class="cstm-style greenbox"><p>在 <a href="/kb/en/what-is-mariadb-102/">MariaDB 10.2</a> 中，<a href="/kb/en/mariabackup/">Mariabackup</a> 是推荐使用的备份方法，而不是 Percona XtraBackup。</p>
</div><p>在 <a href="/kb/en/what-is-mariadb-102/">MariaDB 10.2</a> 中，仅在以下情况下支持 Percona XtraBackup 2.4：如果未使用<a href="/kb/en/compression/">InnoDB页压缩</a>，如果未使用<a href="/kb/en/data-at-rest-encryption/">数据静止加密</a>，如果设置了<a href="/kb/en/innodb-system-variables/#innodb_page_size">innodb_page_size</a> 为 <code>16k</code>。</p>
<p>但是，用户应该知道，由于在 <a href="/kb/en/mariadb-1022-release-notes/">MariaDB 10.2.2</a> 中通过 <a href="https://jira.mariadb.org/browse/MDEV-12289">MDEV-12289</a> 修复的 MySQL 5.7 undo 日志格式不兼容性 bug，可能会出现问题。由于此 bug，使用 Percona XtraBackup 2.4 准备的备份可能无法恢复某些事务。只有在服务器上运行设置 <a href="/kb/en/xtradbinnodb-server-system-variables/#innodb_undo_logs">innodb_undo_logs</a>=1 的情况下，这不会成为问题。如果设置了 <a href="/kb/en/xtradbinnodb-server-system-variables/#innodb_safe_truncate">innodb_safe_truncate=ON</a>，则 Percona XtraBackup 2.4 还可能完全无法与 <a href="/kb/en/mariadb-10219-release-notes/">MariaDB 10.2.19</a> 及更高版本一起使用，因为由 <a href="https://jira.mariadb.org/browse/MDEV-14717">MDEV-14717</a> 引入的重做日志格式更改。在这种情况下，您可能会看到以下错误：</p>
<pre class="fixed">InnoDB: Unsupported redo log format. The redo log was created with MariaDB 10.2.19. Please follow the instructions at http://dev.mysql.com/doc/refman/5.7/en/upgrading-downgrading.html
</pre><h3 class="anchored_heading" id="与-mariadb-101-的兼容性">与 <a href="/kb/en/what-is-mariadb-101/">MariaDB 10.1</a> 的兼容性</h3>
<div class="cstm-style greenbox"><p>在 <a href="/kb/en/what-is-mariadb-101/">MariaDB 10.1</a> 中，<a href="/kb/en/mariabackup/">Mariabackup</a> 是推荐使用的备份方法，而不是 Percona XtraBackup。</p>
</div><p>在 <a href="/kb/en/what-is-mariadb-101/">MariaDB 10.1</a> 中，如果未使用<a href="/kb/en/compression/">InnoDB页压缩</a>，如果未使用<a href="/kb/en/data-at-rest-encryption/">数据静止加密</a>，如果设置了<a href="/kb/en/innodb-system-variables/#innodb_page_size">innodb_page_size</a> 为 <code>16k</code>，则支持 Percona XtraBackup 2.3。</p>
<h3 class="anchored_heading" id="与-mariadb-100-及更早版本的兼容性">与 <a href="/kb/en/what-is-mariadb-100/">MariaDB 10.0</a> 及更早版本的兼容性</h3>
<p>在 <a href="/kb/en/what-is-mariadb-100/">MariaDB 10.0</a> 及更早版本中，支持 Percona XtraBackup 2.3。</p>
<h2 class="anchored_heading" id="使用-percona-xtrabackup-进行-galera-ssts">使用 Percona XtraBackup 进行 Galera SSTs</h2>
<p><code>xtrabackup-v2</code> SST 方法使用 <a href="/kb/en/backup-restore-and-import-clients-percona-xtrabackup/">Percona XtraBackup</a> 实用程序执行 SST。有关详细信息，请参见 <a href="/kb/en/xtrabackup-v2-sst-method/">xtrabackup-v2 SST 方法</a>。</p>
<h2 class="anchored_heading" id="另请参阅">另请参阅</h2>
<ul start="1"><li><a href="/kb/en/mariabackup/">Mariabackup</a>
</li><li><a href="/kb/en/mysqldump/">mysqldump</a>
</li><li><a href="http://www.percona.com/doc/percona-xtrabackup/">Percona XtraBackup documentation</a>
</li><li><a href="https://jira.percona.com/secure/Dashboard.jspa">Percona JIRA</a></li></ul>

    </div>


        
            <div id="subscribe" class="well well-small hide hidden-print"
                 data-subscribe-url="/kb/zh-cn/percona-xtrabackup-percona-xtrabackup/+subscriptions/add"
                 data-unsubscribe-url="/kb/zh-cn/percona-xtrabackup-percona-xtrabackup/+subscriptions/remove">
            </div>
        

        
        
    
        <div class="simple_section_nav">
            <ul class="nav nav-pills">
                
                
                    <li><a href="/kb/zh-cn/percona-xtrabackup/">
                        ↑ Percona XtraBackup ↑
                    </a>
                    </li>
                
                
            </ul>
        </div>
    

        

        
        <h2>Comments</h2>
        
    
    <div id="comments" data-node-id="12420" data-comments-url="/kb/zh-cn/percona-xtrabackup-percona-xtrabackup/+comments"
         data-reply-url="/kb/zh-cn/percona-xtrabackup-percona-xtrabackup/comments/post/">
        Comments loading...
    </div>

        

    </div>


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
                <div id="right_bar" class="col-md-2">
                    
    
        
        <ul class="section_navigation well well-small hidden-xs hidden-sm">
            
                <li class="parent"><a href="/kb/zh-cn/percona-xtrabackup/">
                    ↑ Percona XtraBackup ↑
                </a>
                </li>
            
            
                
                    <li class="active">
                        <span>Percona XtraBackup 概述</span>
                        
                    </li>
                
            
        </ul>
    
    

                </div>
            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/services" title="Services">Services</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">About Us</a></h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/download" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2024 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.1587e3a666fc.js" charset="utf-8"></script>

</html>