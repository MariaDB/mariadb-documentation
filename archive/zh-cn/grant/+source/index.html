<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>GRANT - Source - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.f7633538c846.css" rel="stylesheet" type="text/css" />

    
        <meta name="robots" content="noindex, nofollow">
    

    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="GRANT - Source" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/zh-cn/grant/+source/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="" />

    <meta name="description" content="" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes autoresize nodes_source jqui" id="nodes_source">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/zh-cn/grant/+source/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2024 MariaDB. All rights reserved.</p>
    </div>
</div>
<div class="violator-wrap d-none" id="top_violator">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12">
                <div class="violator-outer">
                    <div class="violator-inner">
                        <div class="row">
                            <div class="col-xs-12 col-sm-9 col-lg-7 col-lg-offset-2" id="top_violator_content">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="content-link" target="_blank" rel="nofollow noreferrer">
                                    <span>The Ultimate Guide to High Availability with MariaDB</span>
                                </a>
                            </div>
                            <div class="col-xs-12 col-sm-3" id="top_violator_cta">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="btn btn-mariadb" target="_blank" rel="nofollow noreferrer">Download Now</a>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn btn-link close-btn">
                        <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" width="15px" height="15px"><path d="M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/zh-cn/grant/+source/" rel="nofollow">Login</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/zh-cn/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/zh-cn/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/services" title="Services">Services</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="About Us">About Us</a>
    </li>
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/zh-cn/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/zh-cn/mariadb/">MariaDB - 简体中文</a>
    

    
    » <a class="crumb" href="/kb/zh-cn/mariadb-server/">MariaDB Server文档</a>
    


    » <a class="node_link crumb" href="/kb/zh-cn/grant/">GRANT</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/zh-cn/">首页</a></li>
                            
                                
                                    <li><a href="/kb/zh-cn/+questions/">Open Questions</a></li>
                                
                                <li><a href="/kb/zh-cn/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/zh-cn/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/zh-cn/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/zh-cn/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
                        <div>
    

<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-small" href="/kb/zh-cn/grant/">Return to article</a>
    
</div>
</div>

</div>
                    

                    

































                </aside>
            
            
            
                
            
            
            <section id="content" class="limited_width col-md-10 clearfix">
                
                    <h1>GRANT - Source</h1>
                

                



                <div>
                    

    

    
    <div class="revision_info">
        <dl class="table">
            <dt>Revision</dt>
            <dd><a href="/kb/zh-cn/grant/+r/126692/">126692</a></dd>
            <dt>用户</dt>
            <dd>
<span class="user" id="user-13772">
<a href="/kb/user/id/13772" title="Yingquan He">Yingquan He</a>
</span></dd>
            <dt>Date</dt>
            <dd>

<span class="datetime" title="2023-05-31 13:55">2023-05-31 13:55</span></dd>
        </dl>
    </div>
    


    

    
        
        <textarea id="answer_source" class="creole_source autogrow">&lt;&lt;toc layout=&#34;standalone&#34;&gt;&gt;
== 语法

&lt;&lt;code&gt;&gt;
GRANT
    &lt;&lt;creole&gt;&gt;//priv_type// [(//column_list//)]&lt;&lt;/creole&gt;&gt;
     &lt;&lt;creole&gt;&gt; [, //priv_type// [(//column_list//)]] ...&lt;&lt;/creole&gt;&gt;
    &lt;&lt;creole&gt;&gt;ON [//object_type//] //priv_level//&lt;&lt;/creole&gt;&gt;
    &lt;&lt;creole&gt;&gt;TO //user_specification// [ //user_options// ...]&lt;&lt;/creole&gt;&gt;

&lt;&lt;creole&gt;&gt;//user_specification//:&lt;&lt;/creole&gt;&gt;
  &lt;&lt;creole&gt;&gt;username [//authentication_option//]&lt;&lt;/creole&gt;&gt;
  | PUBLIC
&lt;&lt;creole&gt;&gt;//authentication_option//:&lt;&lt;/creole&gt;&gt;
  IDENTIFIED BY &#39;password&#39; 
  | IDENTIFIED BY PASSWORD &#39;password_hash&#39;
&lt;&lt;creole&gt;&gt;  | IDENTIFIED {VIA|WITH} //authentication_rule// [OR //authentication_rule//&lt;&lt;/creole&gt;&gt;  ...]

&lt;&lt;creole&gt;&gt;//authentication_rule//:&lt;&lt;/creole&gt;&gt;
    authentication_plugin
  | authentication_plugin {USING|AS} &#39;authentication_string&#39;
  | authentication_plugin {USING|AS} PASSWORD(&#39;password&#39;)

GRANT PROXY ON username
    &lt;&lt;creole&gt;&gt;TO user_specification [, user_specification ...]&lt;&lt;/creole&gt;&gt;
    [WITH GRANT OPTION]

GRANT rolename &lt;&lt;creole&gt;&gt;TO grantee [, grantee ...]&lt;&lt;/creole&gt;&gt;
    [WITH ADMIN OPTION]

&lt;&lt;creole&gt;&gt;//grantee//:&lt;&lt;/creole&gt;&gt;
    &lt;&lt;creole&gt;&gt;rolename&lt;&lt;/creole&gt;&gt;
    &lt;&lt;creole&gt;&gt;username [//authentication_option//]&lt;&lt;/creole&gt;&gt;

&lt;&lt;creole&gt;&gt;//user_options//:&lt;&lt;/creole&gt;&gt;
   &lt;&lt;creole&gt;&gt; [REQUIRE {NONE | //tls_option// [[AND] //tls_option//] ...}]&lt;&lt;/creole&gt;&gt;
    &lt;&lt;creole&gt;&gt;[WITH //with_option// [//with_option//] ...]&lt;&lt;/creole&gt;&gt;

&lt;&lt;creole&gt;&gt;//object_type//:&lt;&lt;/creole&gt;&gt;
    TABLE
  | FUNCTION
  | PROCEDURE
  | PACKAGE

&lt;&lt;creole&gt;&gt;//priv_level//:&lt;&lt;/creole&gt;&gt;
    *
  | *.*
  | db_name.*
  | db_name.tbl_name
  | tbl_name
  | db_name.routine_name

&lt;&lt;creole&gt;&gt;//with_option//:&lt;&lt;/creole&gt;&gt;
    GRANT OPTION
  &lt;&lt;creole&gt;&gt;| //resource_option//&lt;&lt;/creole&gt;&gt;

&lt;&lt;creole&gt;&gt;//resource_option//:&lt;&lt;/creole&gt;&gt;
  MAX_QUERIES_PER_HOUR count
  | MAX_UPDATES_PER_HOUR count
  | MAX_CONNECTIONS_PER_HOUR count
  | MAX_USER_CONNECTIONS count
  | MAX_STATEMENT_TIME time

&lt;&lt;creole&gt;&gt;//tls_option//:&lt;&lt;/creole&gt;&gt;
  SSL 
  | X509
  | CIPHER &#39;cipher&#39;
  | ISSUER &#39;issuer&#39;
  | SUBJECT &#39;subject&#39;
&lt;&lt;/code&gt;&gt;

== 描述

##GRANT## 语句允许您授予账户特权或[[#roles|角色]]。要使用##GRANT##，您必须拥有##GRANT OPTION##特权，并且您必须拥有您正在授予的特权。

使用[[revoke|REVOKE]]语句撤销使用##GRANT##语句授予的特权。

使用[[show-grants|SHOW GRANTS]]语句确定账户拥有哪些特权。

=== 账户名称

对于##GRANT##语句，账户名称是指与[[create-user|CREATE USER]]语句相同的方式中的##username##参数。有关指定账户名称的详细信息，请参阅##CREATE USER##页面上的[[create-user/#account-names|账户名称]]。

=== 隐式账户创建

##GRANT##语句还允许您在某些情况下隐式创建账户。

如果该账户尚不存在，则##GRANT##可以隐式创建它。要使用##GRANT##隐式创建账户，需要用户具有与使用##CREATE USER##语句显式创建账户所需的相同特权。

如果设置了##NO_AUTO_CREATE_USER##[[sql-mode|SQL_MODE]]，则只有在指定了身份验证信息或使用[[create-user|CREATE USER]]语句时才能创建账户。如果未提供身份验证信息，则当指定的账户不存在时，##GRANT##将产生错误，例如：
&lt;&lt;code&gt;&gt;
show variables like &#39;%sql_mode%&#39; ;
+---------------+--------------------------------------------+
| Variable_name | Value                                      |
+---------------+--------------------------------------------+
| sql_mode      | NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION |
+---------------+--------------------------------------------+

GRANT USAGE ON *.* TO &#39;user123&#39;@&#39;%&#39; IDENTIFIED BY &#39;&#39;;
ERROR 1133 (28000): Can&#39;t find any matching row in the user table

GRANT USAGE ON *.* TO &#39;user123&#39;@&#39;%&#39; 
  IDENTIFIED VIA PAM using &#39;mariadb&#39; require ssl ;
Query OK, 0 rows affected (0.00 sec)
 
select host, user from mysql.user where user=&#39;user123&#39; ;

+------+----------+
| host | user     |
+------+----------+
| %    | user123 |
+------+----------+
&lt;&lt;/code&gt;&gt;

=== 权限级别

权限可以设置全局、整个数据库、表或例程，也可以为表中的单个列设置权限。某些权限只能在特定级别设置。

全局权限不会立即生效，只会应用于在执行##GRANT##语句之后创建的连接。

* [[#global-privileges|全局权限 //priv_type//]] 使用##*.*##为//priv_level//授予。全局权限包括管理数据库和管理用户帐户的权限，以及所有表、函数和过程的权限。全局权限存储在MariaDB 10.4之前的[[mysqluser-table|mysql.user表]]中，在之后存储在[[mysqlglobal_priv-table|mysql.global_priv表]]中。
* [[#database-privileges|数据库权限 //priv_type//]] 使用##db_name.*##为//priv_level//授予，或者使用##*##使用默认数据库。数据库权限包括创建表和函数的权限，以及数据库中所有表、函数和过程的权限。数据库权限存储在[[mysqldb-table|mysql.db表]]中。
* [[#table-privileges|表权限 //priv_type//]] 使用##db_name.tbl_name##为//priv_level//授予，或者使用##tbl_name##指定默认数据库中的表。##TABLE##关键字是可选的。表权限包括选择和更改表中的数据的能力。可以为单个列授予某些表权限。
* [[#column-privileges|列权限 //priv_type//]] 通过为//priv_level//指定表并在特权类型后提供列列表来授予。它们允许您精确控制用户可以选择和更改哪些表中的列。
* [[#function-privileges|函数权限 //priv_type//]] 使用##FUNCTION db_name.routine_name##为//priv_level//授予，或者只需使用##FUNCTION routine_name##指定默认数据库中的函数。
* [[#procedure-privileges|过程权限 //priv_type//]] 使用##PROCEDURE db_name.routine_name##为//priv_level//授予，或者只需使用##PROCEDURE routine_name##指定默认数据库中的过程。

==== ##USAGE## 权限

##USAGE## 权限没有实际的特权。[[show-grants|SHOW GRANTS]] 语句将显示一个新创建用户的全局 ##USAGE## 权限。您可以使用 ##GRANT## 语句中的 ##USAGE## 权限来更改选项，例如 ##GRANT OPTION## 和 ##MAX_USER_CONNECTIONS##，而不更改任何帐户特权。

==== ##ALL PRIVILEGES## 权限

##ALL PRIVILEGES## 权限授予所有可用权限。授予所有权限仅影响给定的特权级别。例如，在表上授予所有权限不会授予数据库或全局任何权限。

使用 ##ALL PRIVILEGES## 不授予特殊的 ##GRANT OPTION## 权限。

您可以使用 ##ALL## 而不是 ##ALL PRIVILEGES##。

==== ##GRANT OPTION## 权限

使用 ##WITH GRANT OPTION## 子句赋予用户在给定特权级别上授予权限给其他用户的能力。具有 ##GRANT OPTION## 权限的用户只能授予他们拥有的权限。他们不能授予高于他们拥有 ##GRANT OPTION## 特权级别的权限。

不能为单个列设置 ##GRANT OPTION## 权限。如果在指定 [[#column-privileges|列权限]] 时使用 ##WITH GRANT OPTION##，则会为整个表授予 ##GRANT OPTION## 权限。

使用 ##WITH GRANT OPTION## 子句等效于将 ##GRANT OPTION## 列出为特权。

==== 全局特权

下表列出了可以全局授予的特权。您还可以全局授予所有数据库、表和函数特权。当全局授予这些特权时，这些特权适用于所有数据库、表或函数，包括稍后创建的那些。

要设置全局特权，请使用 &lt;&lt;code&gt;&gt;*.*&lt;&lt;/code&gt;&gt; 作为 //priv_level//。

===== BINLOG ADMIN

启用 [[binary-log|二进制日志]] 的管理，包括 [[purge-binary-logs|PURGE BINARY LOGS]] 语句和设置以下系统变量：

* [[replication-and-binary-log-system-variables/#binlog_annotate_row_events|binlog_annotate_row_events]]
* [[replication-and-binary-log-system-variables/#binlog_cache_size|binlog_cache_size]]
* [[replication-and-binary-log-system-variables/#binlog_commit_wait_count|binlog_commit_wait_count]]
* [[replication-and-binary-log-system-variables/#binlog_commit_wait_usec|binlog_commit_wait_usec]]
* [[replication-and-binary-log-system-variables/#binlog_direct_non_transactional_updates|binlog_direct_non_transactional_updates]]
* [[replication-and-binary-log-system-variables/#binlog_expire_logs_seconds|binlog_expire_logs_seconds]]
* [[replication-and-binary-log-system-variables/#binlog_file_cache_size|binlog_file_cache_size]]
* [[replication-and-binary-log-system-variables/#binlog_format|binlog_format]]
* [[replication-and-binary-log-system-variables/#binlog_row_image|binlog_row_image]]
* [[replication-and-binary-log-system-variables/#binlog_row_metadata|binlog_row_metadata]]
* [[replication-and-binary-log-system-variables/#binlog_stmt_cache_size|binlog_stmt_cache_size]]
* [[replication-and-binary-log-system-variables/#expire_logs_days|expire_logs_days]]
* [[replication-and-binary-log-system-variables/#log_bin_compress|log_bin_compress]]
* [[replication-and-binary-log-system-variables/#log_bin_compress_min_len|log_bin_compress_min_len]]
* [[replication-and-binary-log-system-variables/#log_bin_trust_function_creators|log_bin_trust_function_creators]]
* [[replication-and-binary-log-system-variables/#max_binlog_cache_size|max_binlog_cache_size]]
* [[replication-and-binary-log-system-variables/#max_binlog_size|max_binlog_size]]
* [[replication-and-binary-log-system-variables/#max_binlog_stmt_cache_size|max_binlog_stmt_cache_size]]
* [[replication-and-binary-log-system-variables/#sql_log_bin|sql_log_bin]] 和
* [[replication-and-binary-log-system-variables/#sync_binlog|sync_binlog]]。

从 MariaDB 10.5.2 开始添加。

===== BINLOG MONITOR
MariaDB 10.5.2 中的新名称为[[#replication-client|REPLICATION CLIENT]]，(##REPLICATION CLIENT##仍作为兼容性别名支持)。允许运行与[[binary-log|二进制日志]]相关的SHOW命令，特别是[[show-binlog-status|SHOW BINLOG STATUS]]和[[show-binary-logs/|SHOW BINARY LOGS]]语句。与MariaDB 10.5之前的[[#replication-client|REPLICATION CLIENT]]不同，该权限不包括[[show-replica-status|SHOW REPLICA STATUS]]，并且需要[[#replica-monitor|REPLICA MONITOR]]权限。

===== BINLOG REPLAY
启用使用[[binlog|BINLOG]]语句（由[[mysqlbinlog|mariadb-binlog]]生成）回放二进制日志，当[[server-system-variables/#secure_timestamp|secure_timestamp]]设置为##replication##时执行[[server-system-variables/#timestamp|SET timestamp]]，并设置通常包括在BINLOG输出中的系统变量的会话值，特别是：
* [[gtid/#gtid_domain_id|gtid_domain_id]]
* [[gtid/#gtid_seq_no|gtid_seq_no]]
* [[server-system-variables/#pseudo_thread_id|pseudo_thread_id]]
* [[replication-and-binary-log-system-variables/#server_id|server_id]]

在MariaDB 10.5.2中添加

===== CONNECTION ADMIN
启用管理连接资源限制选项。这包括忽略由以下选项指定的限制：
* [[server-system-variables/#max_connections|max_connections]]
* [[server-system-variables/#max_user_connections|max_user_connections]]和
* [[server-system-variables/#max_password_errors|max_password_errors]]。

以下语句指定在[[server-system-variables/#init_connect|初始化连接]]时不执行，允许[[kill|终止]]其他用户拥有的连接和查询。可以更改以下与连接相关的系统变量：
* [[server-system-variables/#connect_timeout|connect_timeout]]
* [[server-system-variables/#disconnect_on_expired_password|disconnect_on_expired_password]]
* [[thread-pool-system-status-variables/#extra_max_connections|extra_max_connections]]
* [[server-system-variables/#init_connect|init_connect]]
* [[server-system-variables/#max_connections|max_connections]]
* [[server-system-variables/#max_connect_errors|max_connect_errors]]
* [[server-system-variables/#max_password_errors|max_password_errors]]
* [[server-system-variables/#proxy_protocol_networks|proxy_protocol_networks]]
* [[server-system-variables/#secure_auth|secure_auth]]
* [[server-system-variables/#slow_launch_time|slow_launch_time]]
* [[thread-pool-system-status-variables/#thread_pool_exact_stats|thread_pool_exact_stats]]
* [[thread-pool-system-status-variables/#thread_pool_dedicated_listener|thread_pool_dedicated_listener]]
* [[thread-pool-system-status-variables/#thread_pool_idle_timeout|thread_pool_idle_timeout]]
* [[thread-pool-system-status-variables/#thread_pool_max_threads|thread_pool_max_threads]]
* [[thread-pool-system-status-variables/#thread_pool_min_threads|thread_pool_min_threads]]
* [[thread-pool-system-status-variables/#thread_pool_oversubscribe|thread_pool_oversubscribe]]
* [[thread-pool-system-status-variables/#thread_pool_prio_kickup_timer|thread_pool_prio_kickup_timer]]
* [[thread-pool-system-status-variables/#thread_pool_priority|thread_pool_priority]]
* [[thread-pool-system-status-variables/#thread_pool_size|thread_pool_size]], and
* [[thread-pool-system-status-variables/#thread_pool_stall_limit|thread_pool_stall_limit]]

添加于 MariaDB 10.5.2。

===== CREATE USER
使用 [[create-user|CREATE USER]] 语句创建用户，或使用 ##GRANT## 语句隐式创建用户。

===== FEDERATED ADMIN
执行 [[create-server|CREATE SERVER]]、[[alter-server|ALTER SERVER]] 和 [[drop-server|DROP SERVER]] 语句。添加于 MariaDB 10.5.2。

===== FILE
使用类似 [[load-data-infile|LOAD DATA INFILE]] 或函数 [[load_file|LOAD_FILE()]] 的语句在服务器上读写文件。还需要创建 [[connect|CONNECT]] 外部表。MariaDB 服务器必须具有访问这些文件的权限。

===== GRANT OPTION
授予全局权限。您只能授予您拥有的权限。

===== PROCESS
显示有关活动进程的信息，例如通过 [[show-processlist|SHOW PROCESSLIST]] 或 [[mysqladmin|mysqladmin processlist]]。如果您拥有 PROCESS 权限，则可以查看所有线程。否则，您只能查看自己的线程（即与您正在使用的 MariaDB 帐户相关联的线程）。

===== READ_ONLY ADMIN
用户可以设置 [[server-system-variables/#read_only|read_only]] 系统变量，并允许用户在 ##read_only## 选项激活时执行写操作。添加于 MariaDB 10.5.2。

自 [[mdb-10-11-0-rn|MariaDB 10.11.0]] 起，##READ_ONLY ADMIN## 权限已从 [[#super|SUPER]] 中删除。这样做的好处是可以从所有用户中删除 READ_ONLY ADMIN 权限，并确保没有人可以对任何非临时表进行任何更改。当想要确保副本与主服务器完全相同时，在副本上很有用。

===== RELOAD
执行 [[FLUSH]] 语句或等效的 [[mysqladmin|mariadb-admin/mysqladmin]] 命令。

===== REPLICATION CLIENT
执行 [[show-master-status|SHOW MASTER STATUS]] 和 [[show-binary-logs/|SHOW BINARY LOGS]] 等信息性语句。在 MariaDB 10.5.2 中更名为 [[#binlog-monitor|BINLOG MONITOR]]（但仍作为别名支持，以确保兼容性）。在 MariaDB 10.5 之前，[[show-slave-status|SHOW SLAVE STATUS]] 是 [[#replication-client|REPLICATION CLIENT]] 的一部分。

===== REPLICATION MASTER ADMIN
允许管理主服务器，包括 [[show-replica-hosts|SHOW REPLICA HOSTS]] 语句以及设置 [[gtid/#gtid_binlog_state|gtid_binlog_state]]、[[gtid/#gtid_domain_id|gtid_domain_id]]、[[replication-and-binary-log-system-variables/#master_verify_checksum|master_verify_checksum]] 和 [[replication-and-binary-log-system-variables/#server_id|server_id]] 系统变量。添加于 MariaDB 10.5.2。

===== REPLICA MONITOR
允许执行 [[show-replica-status|SHOW REPLICA STATUS]] 和 [[show-relaylog-events|SHOW RELAYLOG EVENTS]]。自 MariaDB 10.5.9 起。

当用户从旧版主要版本升级到 MariaDB 10.5 次要版本之前的版本时，在某些用户帐户中可能会失去某些功能。例如，在旧版主要版本中拥有 REPLICATION CLIENT 权限的用户帐户可以运行 [[show-replica-status|SHOW REPLICA STATUS]]，但在升级到 MariaDB 10.5 次要版本之前的版本后，他们不能再运行 [[show-replica-status|SHOW REPLICA STATUS]]，因为该语句已更改为需要 REPLICATION REPLICA ADMIN 权限。

当用户从旧的主版本升级到 MariaDB 10.5 的次要版本之前的某个版本时，某些用户帐户将失去功能。例如，在旧的主版本中具有 REPLICATION CLIENT 特权的用户帐户可以运行 [[show-replica-status|SHOW REPLICA STATUS]]，但在升级到 MariaDB 10.5 的次要版本之前的某个版本后，他们将无法再运行 [[show-replica-status|SHOW REPLICA STATUS]]，因为该语句已更改为需要 REPLICATION REPLICA ADMIN 特权。

这个问题在 MariaDB 10.5.9 中得到了解决，使用新的特权来授予用户执行 SHOW [ALL] (SLAVE | REPLICA) STATUS 的能力。

当数据库从旧的主版本升级到 MariaDB Server 10.5.9 或更高版本时，具有 REPLICATION CLIENT 或 REPLICATION SLAVE 特权的任何用户帐户将自动被授予新的 REPLICA MONITOR 特权。特权修复发生在服务器启动时，而不是在执行 mariadb-upgrade 时。

但是，当数据库从早期的 10.5 次要版本升级到 10.5.9 及更高版本时，用户将不得不手动修复任何用户帐户特权。


===== REPLICATION REPLICA
[[#replication-slave|REPLICATION SLAVE]] 的同义词。从 MariaDB 10.5.1 开始。

===== REPLICATION SLAVE
主服务器上用于副本服务器的帐户需要此特权。这是为了获得在主服务器上进行的更新。从 MariaDB 10.5.1 开始，[[#replication-replica|REPLICATION REPLICA]] 是 ##REPLICATION SLAVE## 的别名。

===== REPLICATION SLAVE ADMIN
允许管理副本服务器，包括 [[start-replica|START REPLICA/SLAVE]]，[[stop-replica|STOP REPLICA/SLAVE]]，[[change-master-to|CHANGE MASTER]]，[[show-replica-status|SHOW REPLICA/SLAVE STATUS]]，[[show-relaylog-events|SHOW RELAYLOG EVENTS]] 语句，使用 [[binlog|BINLOG]] 语句（由 [[mysqlbinlog|mariadb-binlog]] 生成）回放二进制日志，并设置系统变量：
* [[gtid/#gtid_cleanup_batch_size|gtid_cleanup_batch_size]]
* [[gtid/#gtid_ignore_duplicates|gtid_ignore_duplicates]]
* [[gtid/#gtid_pos_auto_engines|gtid_pos_auto_engines]]
* [[gtid/#gtid_slave_pos|gtid_slave_pos]]
* [[gtid/#gtid_strict_mode|gtid_strict_mode]]
* [[replication-and-binary-log-system-variables/#init_slave|init_slave]]
* [[replication-and-binary-log-system-variables/#read_binlog_speed_limit|read_binlog_speed_limit]]
* [[replication-and-binary-log-system-variables/#relay_log_purge|relay_log_purge]]
* [[replication-and-binary-log-system-variables/#relay_log_recovery|relay_log_recovery]]
* [[replication-and-binary-log-system-variables/#replicate_do_db|replicate_do_db]]
* [[replication-and-binary-log-system-variables/#replicate_do_table|replicate_do_table]]
* [[replication-and-binary-log-system-variables/#replicate_events_marked_for_skip|replicate_events_marked_for_skip]]
* [[replication-and-binary-log-system-variables/#replicate_ignore_db|replicate_ignore_db]]
* [[replication-and-binary-log-system-variables/#replicate_ignore_table|replicate_ignore_table]]
* [[replication-and-binary-log-system-variables/#replicate_wild_do_table|replicate_wild_do_table]]
* [[replication-and-binary-log-system-variables/#replicate_wild_ignore_table|replicate_wild_ignore_table]]
* [[replication-and-binary-log-system-variables/#slave_compressed_protocol|slave_compressed_protocol]]
* [[replication-and-binary-log-system-variables/#slave_ddl_exec_mode|slave_ddl_exec_mode]]
* [[replication-and-binary-log-system-variables/#slave_domain_parallel_threads|slave_domain_parallel_threads]]
* [[replication-and-binary-log-system-variables/#slave_exec_mode|slave_exec_mode]]
* [[replication-and-binary-log-system-variables/#slave_max_allowed_packet|slave_max_allowed_packet]]
* [[replication-and-binary-log-system-variables/#slave_net_timeout|slave_net_timeout]]
* [[replication-and-binary-log-system-variables/#slave_parallel_max_queued|slave_parallel_max_queued]]
* [[replication-and-binary-log-system-variables/#slave_parallel_mode|slave_parallel_mode]]
* [[replication-and-binary-log-system-variables/#slave_parallel_threads|slave_parallel_threads]]
* [[replication-and-binary-log-system-variables/#slave_parallel_workers|slave_parallel_workers]]
* [[replication-and-binary-log-system-variables/#slave_run_triggers_for_rbr|slave_run_triggers_for_rbr]]
* [[replication-and-binary-log-system-variables/#slave_sql_verify_checksum|slave_sql_verify_checksum]]
* [[replication-and-binary-log-system-variables/#slave_transaction_retry_interval|slave_transaction_retry_interval]]
* [[replication-and-binary-log-system-variables/#slave_type_conversions|slave_type_conversions]]
* [[replication-and-binary-log-system-variables/#sync_master_info|sync_master_info]]
* [[replication-and-binary-log-system-variables/#sync_relay_log|sync_relay_log]], and
* [[replication-and-binary-log-system-variables/#sync_relay_log_info|sync_relay_log_info]]

添加于 MariaDB 10.5.2。

===== SET USER
在创建 [[triggers]]、[[views]]、[[stored-functions|stored functions]] 和 [[stored-procedures|stored procedures]] 时启用设置 ##DEFINER##。从 MariaDB 10.5.2 开始添加。

===== SHOW DATABASES
使用 [[show-databases|SHOW DATABASES]] 语句列出所有数据库。如果没有 ##SHOW DATABASES## 特权，您仍然可以发出 ##SHOW DATABASES## 语句，但它只会列出包含您有特权的表的数据库。

===== SHUTDOWN
使用 [[shutdown|SHUTDOWN]] 或 [[mysqladmin|mysqladmin shutdown]] 命令关闭服务器。

===== SUPER
执行超级用户语句：[[change-master-to|CHANGE MASTER TO]]，[[kill|KILL]]（没有此特权的用户只能 ##KILL## 自己的线程），[[purge-binary-logs|PURGE LOGS]]，[[set|SET global system variables]] 或 [[mysqladmin|mysqladmin debug]] 命令。此外，该权限允许用户即使设置了 [[server-system-variables#read_only|read_only]] 启动选项，也可以写入数据，启用或禁用日志记录，在副本上启用或禁用复制，对支持该子句的语句指定 ##DEFINER##，在达到 ##MAX_CONNECTIONS## 后连接。如果已为 [[server-system-variables#init_connect|init-connect]] ##mysqld## 选项指定了语句，则当具有 ##SUPER## 特权的用户连接到服务器时，不会执行该命令。

从 MariaDB 10.5.2 开始，SUPER 特权已分成多个较小的特权，以允许更细粒度的特权。

从 [[mdb-10-11-0-rn|MariaDB 10.11.0]] 开始，已将 [[#read_only-admin|READ_ONLY ADMIN]] 特权从 ##SUPER## 中删除。这样做的好处是可以从所有用户中删除 READ_ONLY ADMIN 特权，并确保没有人可以对任何非临时表进行任何更改。当希望确保副本与主服务器保持相同时，这在副本上很有用。

==== 数据库特权

以下表格列出了可以在数据库级别授予的特权。您还可以在数据库级别授予所有表和函数特权。数据库上的表和函数特权适用于该数据库中的所有表或函数，包括稍后创建的表或函数。

要为数据库设置特权，请使用 &lt;&lt;code&gt;&gt;db_name.*&lt;&lt;/code&gt;&gt; 指定 //priv_level// 的数据库，或者只需使用 &lt;&lt;code&gt;&gt;*&lt;&lt;/code&gt;&gt; 指定默认数据库。

&lt;&lt;style class=&#34;darkheader-nospace-borders&#34;&gt;&gt;
|=特权|=说明|
| ##CREATE## | 使用 [[create-database|CREATE DATABASE]] 语句创建数据库（当为数据库授予权限时）。您可以授予尚不存在的数据库的 ##CREATE## 特权。这还授予数据库中所有表的 ##CREATE## 特权。 |
| ##CREATE ROUTINE##  | 使用 [[create-procedure|CREATE PROCEDURE]] 和 [[create-function|CREATE FUNCTION]] 语句创建存储程序。 |
| ##CREATE TEMPORARY TABLES##  | 使用 [[create-table|CREATE TEMPORARY TABLE]] 语句创建临时表。此权限允许编写和删除这些临时表 |
| ##DROP## | 使用 [[drop-database|DROP DATABASE]] 语句删除数据库（当为数据库授予权限时）。这还授予数据库中所有表的 ##DROP## 特权。 |
| ##EVENT##  | 创建、删除和更改 ##EVENT##。 |
| ##GRANT OPTION##  | 授予数据库特权。您只能授予自己拥有的特权。 |
| ##LOCK TABLES##  | 使用 [[lock-tables|LOCK TABLES]] 语句获取显式锁定；您还需要在表上具有 ##SELECT## 特权，以便锁定它。 |
&lt;&lt;/style&gt;&gt;

==== 表特权

&lt;&lt;style class=&#34;darkheader-nospace-borders&#34;&gt;&gt;
|=特权|=说明|
| ##ALTER##  | 使用 [[alter-table|ALTER TABLE]] 语句更改现有表的结构。 |
| ##CREATE##  | 使用 [[create-table|CREATE TABLE]] 语句创建表。您可以授予尚不存在的表的 ##CREATE## 特权。 |
| ##CREATE VIEW##  | 使用 [[create-view|CREATE_VIEW]] 语句创建视图。 |
| ##DELETE## | 使用 [[delete|DELETE]] 语句从表中删除行。 |
| ##DELETE HISTORY## | 使用 [[delete|DELETE HISTORY]] 语句从表中删除[[system-versioned-tables|历史行]]。在运行 [[show-grants|SHOW GRANTS]] 时显示为 ##DELETE VERSIONING ROWS##，直到 MariaDB 10.3.15 和 MariaDB 10.4.5 (MDEV-17655)，或者在运行 SHOW PRIVILEGES 时显示为 ##DELETE HISTORY## 直到 MariaDB 10.5.2、MariaDB 10.4.13 和 MariaDB 10.3.23 (MDEV-20382)。从 MariaDB 10.3.4 开始支持。从 MariaDB 10.3.5 开始，如果用户有 ##SUPER## 特权但没有此特权，则运行 [[mysql_upgrade]] 将授予此特权。 |
| ##DROP##   | 使用 [[drop-table|DROP TABLE]] 语句删除表或使用 [[drop-view|DROP VIEW]] 语句删除视图。还需要执行 [[truncate-table|TRUNCATE TABLE]] 语句。 |
| ##GRANT OPTION##  | 授予表特权。您只能授予自己拥有的特权。 |
| ##INDEX##  | 使用 [[create-index|CREATE INDEX]] 语句在表上创建索引。如果没有 ##INDEX## 特权，仍然可以在使用 [[create-table|CREATE TABLE]] 语句创建表时创建索引，如果您有 ##CREATE## 特权，也可以使用 [[alter-table|ALTER TABLE]] 语句创建索引，如果您有 ##ALTER## 特权。 |
| ##INSERT## | 使用 [[insert|INSERT]] 语句向表中添加行。也可以在单个列上设置 ##INSERT## 特权；有关详细信息，请参见下面的 [[#column-privileges|列特权]]。 |
| ##REFERENCES## | 未使用。 |
| ##SELECT## | 使用 [[select|SELECT]] 语句从表中读取数据。也可以在单个列上设置 ##SELECT## 特权；有关详细信息，请参见下面的 [[#column-privileges|列特权]]。 |
| ##SHOW VIEW##  | 使用 [[show-create-view|SHOW CREATE VIEW]] 语句显示创建视图的 [[create-view|CREATE VIEW]] 语句。 |
| ##TRIGGER##  | 执行与您更新的表相关联的触发器，执行 [[create-trigger|CREATE TRIGGER]]、[[drop-trigger|DROP TRIGGER]] 和 [[show-create-trigger|SHOW CREATE TRIGGER]] 语句。 |
| ##UPDATE## | 使用 [[update|UPDATE]] 语句更新表中现有行。##UPDATE## 语句通常包括一个 ##WHERE## 子句，以仅更新特定行。您必须对表或适当列具有 ##SELECT## 特权以用于 ##WHERE## 子句。也可以在单个列上设置 ##UPDATE## 特权；有关详细信息，请参见下面的 [[#column-privileges|列特权]]。 |
&lt;&lt;/style&gt;&gt;

==== 列权限

可以为表的各个列设置权限。要使用列权限，请明确指定表，并在权限类型后提供列名列表。例如，以下语句将允许用户读取员工的姓名和职位，但不能读取同一表中的其他信息，如薪水。

&lt;&lt;code&gt;&gt;
GRANT SELECT (name, position) on Employee to &#39;jeffrey&#39;@&#39;localhost&#39;;
&lt;&lt;/code&gt;&gt;

&lt;&lt;style class=&#34;darkheader-nospace-borders&#34;&gt;&gt;
|=权限|=描述|
| ##INSERT (column_list)## | 使用[[insert|INSERT]]语句添加指定列中的值以添加行。如果只有列级别的##INSERT##权限，则必须在##INSERT##语句中指定设置的列。所有其他列将设置为其默认值或##NULL##。 |
| ##REFERENCES (column_list)## | 未使用。 |
| ##SELECT (column_list)## | 使用[[select|SELECT]]语句读取列中的值。您无法访问或查询没有##SELECT##权限的任何列，包括在##WHERE##、##ON##、##GROUP BY##和##ORDER BY##子句中的列。 |
| ##UPDATE (column_list)## | 使用[[update|UPDATE]]语句更新现有行的列值。##UPDATE##语句通常包括一个##WHERE##子句，以仅更新特定行。您必须具有表或适当列的##SELECT##权限以用于##WHERE##子句。 |
&lt;&lt;/style&gt;&gt;

==== 函数权限

&lt;&lt;style class=&#34;darkheader-nospace-borders&#34;&gt;&gt;
|=权限|=描述|
| ##ALTER ROUTINE## | 使用[[alter-function|ALTER FUNCTION]]语句更改存储函数的特性。 |
| ##EXECUTE## | 使用存储函数。您需要对函数访问的任何表或列具有##SELECT##权限。 |
| ##GRANT OPTION##  | 授予函数权限。您只能授予自己拥有的权限。 |
&lt;&lt;/style&gt;&gt;

==== 过程权限

&lt;&lt;style class=&#34;darkheader-nospace-borders&#34;&gt;&gt;
|=权限|=描述|
| ##ALTER ROUTINE## | 使用[[alter-procedure|ALTER PROCEDURE]]语句更改存储过程的特性。 |
| ##EXECUTE## | 使用[[call|CALL]]语句执行[[stored-procedures|存储过程]]。调用过程的权限可能允许您执行其他无法执行的操作，例如向表中插入行。 |
| ##GRANT OPTION##  | 授予过程权限。只能授予您拥有的权限。 |
&lt;&lt;/style&gt;&gt;

&lt;&lt;code&gt;&gt;
GRANT EXECUTE ON PROCEDURE mysql.create_db TO maintainer;
&lt;&lt;/code&gt;&gt;

==== 代理权限

&lt;&lt;style class=&#34;darkheader-nospace-borders&#34;&gt;&gt;
|=权限|=描述|
| ##PROXY## | 允许一个用户代理另一个用户。 |
&lt;&lt;/style&gt;&gt;

##PROXY## 权限允许一个用户代理为另一个用户，这意味着他们的权限变为代理用户的权限，并且[[current_user|CURRENT_USER()]]函数返回代理用户的用户名。

##PROXY## 权限仅适用于支持它的身份验证插件。默认的[[authentication-plugin-mysql_native_password|mysql_native_password]]身份验证插件不支持代理用户。

[[authentication-plugin-pam|pam]]身份验证插件是目前唯一与MariaDB一起提供支持代理用户的插件。##PROXY## 权限通常与[[authentication-plugin-pam|pam]]身份验证插件一起使用，以启用[[user-and-group-mapping-with-pam|使用PAM进行用户和组映射]]。

例如，要授予使用[[authentication-plugin-pam|pam]]身份验证插件进行身份验证的[[create-user/#anonymous-accounts|匿名帐户]]的##PROXY##权限，您可以执行以下操作：

&lt;&lt;sql&gt;&gt;
CREATE USER &#39;dba&#39;@&#39;%&#39; IDENTIFIED BY &#39;strongpassword&#39;;
GRANT ALL PRIVILEGES ON *.* TO &#39;dba&#39;@&#39;%&#39; ;

CREATE USER &#39;&#39;@&#39;%&#39; IDENTIFIED VIA pam USING &#39;mariadb&#39;;
GRANT PROXY ON &#39;dba&#39;@&#39;%&#39; TO &#39;&#39;@&#39;%&#39;;
&lt;&lt;/sql&gt;&gt;

如果授权者没有特定用户帐户的##PROXY##权限，并且该权限已定义为##WITH GRANT OPTION##，则用户帐户只能为特定用户帐户授予##PROXY##权限。例如，以下示例失败，因为授权者根本没有该特定用户帐户的##PROXY##权限：

&lt;&lt;code lang=sql wrap=true&gt;&gt;
SELECT USER(), CURRENT_USER();
+-----------------+-----------------+
| USER()          | CURRENT_USER()  |
+-----------------+-----------------+
| alice@localhost | alice@localhost |
+-----------------+-----------------+

SHOW GRANTS;
+-----------------------------------------------------------------------------------------------------------------------+
| Grants for alice@localhost                                                                                            |
+-----------------------------------------------------------------------------------------------------------------------+
| GRANT ALL PRIVILEGES ON *.* TO &#39;alice&#39;@&#39;localhost&#39; IDENTIFIED BY PASSWORD &#39;*2470C0C06DEE42FD1618BB99005ADCA2EC9D1E19&#39; |
+-----------------------------------------------------------------------------------------------------------------------+

GRANT PROXY ON &#39;dba&#39;@&#39;localhost&#39; TO &#39;bob&#39;@&#39;localhost&#39;;
ERROR 1698 (28000): Access denied for user &#39;alice&#39;@&#39;localhost&#39;
&lt;&lt;/code&gt;&gt;

以下示例失败，因为授权者没有特定用户帐户的##PROXY##权限：

&lt;&lt;code lang=sql wrap=true&gt;&gt;
SELECT USER(), CURRENT_USER();
+-----------------+-----------------+
| USER()          | CURRENT_USER()  |
+-----------------+-----------------+
| alice@localhost | alice@localhost |
+-----------------+-----------------+

SHOW GRANTS;
+-----------------------------------------------------------------------------------------------------------------------+
| Grants for alice@localhost                                                                                            |
+-----------------------------------------------------------------------------------------------------------------------+
| GRANT ALL PRIVILEGES ON *.* TO &#39;alice&#39;@&#39;localhost&#39; IDENTIFIED BY PASSWORD &#39;*2470C0C06DEE42FD1618BB99005ADCA2EC9D1E19&#39; |
| GRANT PROXY ON &#39;dba&#39;@&#39;localhost&#39; TO &#39;alice&#39;@&#39;localhost&#39;                                                               |
+-----------------------------------------------------------------------------------------------------------------------+

GRANT PROXY ON &#39;dba&#39;@&#39;localhost&#39; TO &#39;bob&#39;@&#39;localhost&#39;;
ERROR 1698 (28000): Access denied for user &#39;alice&#39;@&#39;localhost&#39;
&lt;&lt;/code&gt;&gt;

但是以下示例成功，因为授权者确实具有该特定用户帐户的##PROXY##权限，并且定义了##WITH GRANT OPTION##：

&lt;&lt;code lang=sql wrap=true&gt;&gt;
SELECT USER(), CURRENT_USER();
+-----------------+-----------------+
| USER()          | CURRENT_USER()  |
+-----------------+-----------------+

SHOW GRANTS;
+-----------------------------------------------------------------------------------------------------------------------------------------+
| Grants for alice@localhost                                                                                                              |
+-----------------------------------------------------------------------------------------------------------------------------------------+
| GRANT ALL PRIVILEGES ON *.* TO &#39;alice&#39;@&#39;localhost&#39; IDENTIFIED BY PASSWORD &#39;*2470C0C06DEE42FD1618BB99005ADCA2EC9D1E19&#39; WITH GRANT OPTION |
| GRANT PROXY ON &#39;dba&#39;@&#39;localhost&#39; TO &#39;alice&#39;@&#39;localhost&#39; WITH GRANT OPTION                                                               |
+-----------------------------------------------------------------------------------------------------------------------------------------+

GRANT PROXY ON &#39;dba&#39;@&#39;localhost&#39; TO &#39;bob&#39;@&#39;localhost&#39;;
&lt;&lt;/code&gt;&gt;

如果授权者对##&#39;&#39;@&#39;%&#39;##匿名用户帐户具有##PROXY##权限，则用户帐户可以授予任何其他用户帐户的##PROXY##权限，如下所示：

&lt;&lt;sql&gt;&gt;
GRANT PROXY ON &#39;&#39;@&#39;%&#39; TO &#39;dba&#39;@&#39;localhost&#39; WITH GRANT OPTION;
&lt;&lt;/sql&gt;&gt;

例如，以下示例成功，因为用户可以授予任何其他用户帐户的##PROXY##权限：

&lt;&lt;code lang=sql wrap=true&gt;&gt;
SELECT USER(), CURRENT_USER();
+-----------------+-----------------+
| USER()          | CURRENT_USER()  |
+-----------------+-----------------+
| alice@localhost | alice@localhost |
+-----------------+-----------------+

SHOW GRANTS;
+-----------------------------------------------------------------------------------------------------------------------------------------+
| Grants for alice@localhost                                                                                                              |
+-----------------------------------------------------------------------------------------------------------------------------------------+
| GRANT ALL PRIVILEGES ON *.* TO &#39;alice&#39;@&#39;localhost&#39; IDENTIFIED BY PASSWORD &#39;*2470C0C06DEE42FD1618BB99005ADCA2EC9D1E19&#39; WITH GRANT OPTION |
| GRANT PROXY ON &#39;&#39;@&#39;%&#39; TO &#39;alice&#39;@&#39;localhost&#39; WITH GRANT OPTION                                                                          |
+-----------------------------------------------------------------------------------------------------------------------------------------+

GRANT PROXY ON &#39;app1_dba&#39;@&#39;localhost&#39; TO &#39;bob&#39;@&#39;localhost&#39;;
Query OK, 0 rows affected (0.004 sec)

GRANT PROXY ON &#39;app2_dba&#39;@&#39;localhost&#39; TO &#39;carol&#39;@&#39;localhost&#39;;
Query OK, 0 rows affected (0.004 sec)
&lt;&lt;/code&gt;&gt;

由[[mysql_install_db]]创建的默认##root##用户帐户具有此权限。例如：

&lt;&lt;sql&gt;&gt;
GRANT ALL PRIVILEGES ON *.* TO &#39;root&#39;@&#39;localhost&#39; WITH GRANT OPTION;
GRANT PROXY ON &#39;&#39;@&#39;%&#39; TO &#39;root&#39;@&#39;localhost&#39; WITH GRANT OPTION;
&lt;&lt;/sql&gt;&gt;

这允许默认的##root##用户帐户授予任何其他用户帐户的##PROXY##权限，并允许默认的##root##用户帐户授予其他人执行相同操作的权限。

=== 认证选项

##GRANT##语句的认证选项与[[create-user|CREATE USER]]语句相同。

==== IDENTIFIED BY &#39;password&#39;

可选的##IDENTIFIED BY##子句可用于为帐户提供密码。密码应以明文指定。它将在存储之前由[[password|PASSWORD]]函数进行哈希处理。

例如，如果我们的密码是##mariadb##，则可以使用以下命令创建用户：

&lt;&lt;sql&gt;&gt;
GRANT USAGE ON *.* TO foo2@test IDENTIFIED BY &#39;mariadb&#39;;
&lt;&lt;/sql&gt;&gt;

如果您没有在##IDENTIFIED BY##子句中指定密码，那么用户可以在没有密码的情况下连接。空密码不是匹配任何密码的通配符。如果没有设置密码，则用户必须在不提供密码的情况下连接。

如果用户帐户已经存在并且您提供了##IDENTIFIED BY##子句，则用户的密码将被更改。您必须具有[[set-password|SET PASSWORD]]语句所需的权限才能使用##GRANT##更改用户的密码。

此子句支持的唯一[[authentication-plugins|authentication plugins]]是[[authentication-plugin-mysql_native_password|mysql_native_password]]和[[authentication-plugin-mysql_old_password|mysql_old_password]]。

==== IDENTIFIED BY PASSWORD &#39;password_hash&#39;

可选的##IDENTIFIED BY PASSWORD##子句可用于为已经散列的密码提供帐户。密码应指定为由 [[password|PASSWORD]] 函数提供的哈希值。它将按原样存储。

例如，如果我们的密码是##mariadb##，则可以使用以下命令找到哈希值：

&lt;&lt;sql&gt;&gt;
SELECT PASSWORD(&#39;mariadb&#39;);
+-------------------------------------------+
| PASSWORD(&#39;mariadb&#39;)                       |
+-------------------------------------------+
| *54958E764CE10E50764C2EECBB71D01F08549980 |
+-------------------------------------------+
1 row in set (0.00 sec)
&lt;&lt;/sql&gt;&gt;

然后，我们可以使用该哈希值创建用户：

&lt;&lt;sql&gt;&gt;
GRANT USAGE ON *.* TO foo2@test IDENTIFIED BY 
  PASSWORD &#39;*54958E764CE10E50764C2EECBB71D01F08549980&#39;;
&lt;&lt;/sql&gt;&gt;


如果您在##IDENTIFIED BY##子句中未指定密码，则用户将能够无密码连接。空白密码不是匹配任何密码的通配符。如果未设置密码，则用户必须在不提供密码的情况下连接。

如果用户帐户已经存在并且您提供了##IDENTIFIED BY##子句，则用户的密码将被更改。您必须拥有执行 [[set-password|SET PASSWORD]]语句所需的特权来使用##GRANT##更改用户的密码。

此子句支持的唯一[[authentication-plugins|身份验证插件]]是[[authentication-plugin-mysql_native_password|mysql_native_password]]和[[authentication-plugin-mysql_old_password|mysql_old_password]]。

==== IDENTIFIED {VIA|WITH} authentication_plugin

可选的##IDENTIFIED VIA authentication_plugin##允许您指定帐户应由特定的[[authentication-plugins|身份验证插件]]进行身份验证。插件名称必须是 [[show-plugins|SHOW PLUGINS]] 中的活动身份验证插件。如果它未显示在该输出中，则需要使用 [[install-plugin|INSTALL PLUGIN]] 或 [[install-soname|INSTALL SONAME]] 进行安装。

例如，可以与 [[authentication-plugin-pam|PAM 身份验证插件]] 一起使用：

&lt;&lt;sql&gt;&gt;
GRANT USAGE ON *.* TO foo2@test IDENTIFIED VIA pam;
&lt;&lt;/sql&gt;&gt;

某些身份验证插件允许在##USING##或##AS##关键字之后指定其他参数。例如，[[authentication-plugin-pam|PAM 身份验证插件]] 接受 [[authentication-plugin-pam/#configuring-the-pam-service|服务名称]]：

&lt;&lt;sql&gt;&gt;
GRANT USAGE ON *.* TO foo2@test IDENTIFIED VIA pam USING &#39;mariadb&#39;;
&lt;&lt;/sql&gt;&gt;

附加参数的确切含义取决于特定的身份验证插件。

&lt;&lt;product mariadb from=&#34;10.4.0&#34;&gt;&gt;
如果作为 [[password|PASSWORD()]] 函数的参数提供明文密码，则可以使用##USING##或##AS##关键字向插件提供明文密码。这仅适用于已实现 [[password|PASSWORD()]] 函数钩子的 [[authentication-plugins|authentication plugins]]。例如，[[authentication-plugin-ed25519|ed25519]]身份验证插件支持此功能：

&lt;&lt;sql&gt;&gt;
CREATE USER safe@&#39;%&#39; IDENTIFIED VIA ed25519 
  USING PASSWORD(&#39;secret&#39;);
&lt;&lt;/sql&gt;&gt;
&lt;&lt;/product&gt;&gt;

&lt;&lt;product mariadb from=&#34;10.4.3&#34;&gt;&gt;
可以指定多个身份验证插件，它们都可以作为验证用户的替代方式：

&lt;&lt;sql&gt;&gt;
CREATE USER safe@&#39;%&#39; IDENTIFIED VIA ed25519 
  USING PASSWORD(&#39;secret&#39;) OR unix_socket;
&lt;&lt;/sql&gt;&gt;
&lt;&lt;/product&gt;&gt;

默认情况下，当您创建一个未指定身份验证插件的用户时，MariaDB 使用 [[authentication-plugin-mysql_native_password|mysql_native_password]] 插件。

=== 资源限制选项

可以为某些服务器资源设置每个帐户的限制。以下表格显示可以为每个帐户设置的值：

&lt;&lt;style class=&#34;darkheader-nospace-borders&#34;&gt;&gt;
|= 限制类型 |= 描述
| ##MAX_QUERIES_PER_HOUR## | 帐户每小时可以发出的语句数（包括更新）
| ##MAX_UPDATES_PER_HOUR## | 帐户每小时可以发出的更新数（不是查询）
| ##MAX_CONNECTIONS_PER_HOUR` | 帐户每小时可以启动的连接数
| ##MAX_USER_CONNECTIONS## | 可以从同一帐户接受的同时连接数；如果为 0，则将使用##max_connections##；如果##max_connections##为 0，则此帐户的同时连接没有限制。
| ##MAX_STATEMENT_TIME## | 用户执行的语句的超时时间（以秒为单位）。另请参见 [[aborting-statements|终止执行时间超过一定时间的语句]]。
&lt;&lt;/style&gt;&gt;

如果这些限制中有任何一个设置为##0##，则该用户的该资源没有限制。

要为帐户设置资源限制，如果您不想更改该帐户的权限，则可以使用没有意义的##USAGE##权限发出 ##GRANT##语句。该语句可以按任何顺序命名某些或所有限制类型。

以下是一个设置资源限制的示例：

&lt;&lt;sql&gt;&gt;
GRANT USAGE ON *.* TO &#39;someone&#39;@&#39;localhost&#39; WITH
    MAX_USER_CONNECTIONS 0
    MAX_QUERIES_PER_HOUR 200;
&lt;&lt;/sql&gt;&gt;

资源是按帐户跟踪的，这意味着按 ##&#39;user&#39;@&#39;server&#39;## 跟踪，而不是按用户名或连接跟踪。

可以使用 [[flush|FLUSH USER_RESOURCES]]、[[flush|FLUSH PRIVILEGES]] 或 [[mysqladmin|mysqladmin reload]] 重置所有用户的计数。

拥有 ##CONNECTION ADMIN## 特权（在 MariaDB 10.5.2 及更高版本中）或 ##SUPER## 特权的用户不受 ##max_user_connections##、##max_connections## 或 ##max_password_errors## 的限制。

按帐户的资源限制存储在 [[mysqluser-table|user]] 表中，位于 [[the-mysql-database-tables|mysql]] 数据库中。用于资源限制的列名为 ##max_questions##、##max_updates##、##max_connections##（对应于 ##MAX_CONNECTIONS_PER_HOUR##）和 ##max_user_connections##（对应于 ##MAX_USER_CONNECTIONS##）。

=== TLS 选项

默认情况下，MariaDB 在服务器和客户端之间传输数据时不加密。当服务器和客户端在同一主机上运行或在通过其他手段保证安全性的网络中运行时，这通常是可以接受的。但是，在服务器和客户端存在于不同网络或它们在高风险网络中的情况下，缺乏加密确实会引入安全问题，因为恶意行为者可能会窃听它们之间在网络上传输的流量。

为了缓解这种担忧，MariaDB 允许您使用传输层安全性（TLS）协议在服务器和客户端之间加密传输数据。TLS 以前称为安全套接字层（SSL），但严格来说 SSL 协议是 TLS 的前身，该协议的版本现在被认为是不安全的。文档仍然经常使用 SSL 术语，并且出于兼容性原因，与 TLS 相关的服务器系统和状态变量仍然使用 ssl_ 前缀，但在内部，MariaDB 仅支持其安全后继者。

有关如何确定您的 MariaDB 服务器是否支持 TLS，请参见 [[secure-connections-overview|安全连接概述]]，以获取更多信息。

有些 TLS 相关的限制可以针对特定的用户帐户进行设置。例如，您可能会将其用于需要访问敏感数据并将其发送到您无法控制的网络上的用户帐户。可以使用 [[create-user|CREATE USER]]、[[alter-user|ALTER USER]] 或 [[grant|GRANT]] 语句为用户帐户启用这些限制。以下选项可用：

&lt;&lt;style class=&#34;darkheader-nospace-borders&#34;&gt;&gt;
|= 选项 |= 描述
| ##REQUIRE NONE## | 此帐户不需要 TLS，但仍可以使用。
| ##REQUIRE SSL## | 必须使用 TLS，但不需要有效的 X509 证书。此选项不能与其他 TLS 选项组合使用。
| ##REQUIRE X509## | 必须使用 TLS 并且必须具有有效的 X509 证书。此选项意味着 ##REQUIRE SSL##。此选项不能与其他 TLS 选项组合使用。
| ##REQUIRE ISSUER &#39;issuer&#39; | 必须使用 TLS 并且必须具有有效的 X509 证书。此外，证书颁发机构必须是通过字符串 ##issuer## 指定的机构。此选项意味着 ##REQUIRE X509##。此选项可以与任意顺序的 ##SUBJECT## 和 ##CIPHER## 选项组合。
| ##REQUIRE SUBJECT &#39;subject&#39; | 必须使用 TLS 并且必须具有有效的 X509 证书。此外，证书的主题必须是通过字符串 ##subject## 指定的主题。此选项意味着 ##REQUIRE X509##。此选项可以与任意顺序的 ##ISSUER## 和 ##CIPHER## 选项组合。
| ##REQUIRE CIPHER &#39;cipher&#39; | 必须使用 TLS，但不需要有效的 X509 证书。此外，用于连接的加密必须使用在字符串 ##cipher## 中指定的特定加密方法。此选项意味着 ##REQUIRE SSL##。此选项可以与任意顺序的 ##ISSUER## 和 ##SUBJECT## 选项组合。
&lt;&lt;/style&gt;&gt;

##REQUIRE## 关键字只能用于指定的所有选项中一次，并且可以使用 ##AND## 关键字将单个选项分隔开，但不是必需的。

例如，您可以创建一个需要以下 TLS 选项的用户帐户：

&lt;&lt;code lang=sql wrap=true&gt;&gt;
GRANT USAGE ON *.* TO &#39;alice&#39;@&#39;%&#39;
  REQUIRE SUBJECT &#39;/CN=alice/O=My Dom, Inc./C=US/ST=Oregon/L=Portland&#39;
  AND ISSUER &#39;/C=FI/ST=Somewhere/L=City/ O=Some Company/CN=Peter Parker/emailAddress=p.parker@marvel.com&#39;
  AND CIPHER &#39;SHA-DES-CBC3-EDH-RSA&#39;;
&lt;&lt;/code&gt;&gt;

如果为特定用户帐户设置了这些选项中的任何一个，则尝试使用该用户帐户连接的任何客户端都必须配置为使用 TLS 连接。

有关如何在客户端和服务器上启用 TLS 的信息，请参见 [[securing-connections-for-client-and-server|为客户端和服务器保护连接]]。

=== 角色

==== 语法
&lt;&lt;code&gt;&gt;
GRANT role TO grantee [, grantee ... ]
[ WITH ADMIN OPTION ]

&lt;&lt;creole&gt;&gt;//grantee//:&lt;&lt;/creole&gt;&gt;
    &lt;&lt;creole&gt;&gt;rolename&lt;&lt;/creole&gt;&gt;
    &lt;&lt;creole&gt;&gt;username [//authentication_option//]&lt;&lt;/creole&gt;&gt;
&lt;&lt;/code&gt;&gt;

GRANT 语句还用于将 [[roles|角色]] 的使用授予一个或多个用户或其他角色。为了能够授予角色，执行此操作的授权者必须有权限这样做（请参见 [[create-role|CREATE ROLE]] 文章中的 WITH ADMIN）。

指定 ##WITH ADMIN OPTION## 允许授权方将该角色授予其他用户。

例如，以下命令显示如何将相同的角色授予几个不同的用户。

&lt;&lt;sql&gt;&gt;
GRANT journalist TO hulda;

GRANT journalist TO berengar WITH ADMIN OPTION;
&lt;&lt;/sql&gt;&gt;

如果用户被授予了角色，则他们不会自动获得与该角色相关联的所有权限。只有当用户使用 [[set-role|SET ROLE]] 语句激活角色时，才会使用这些权限。

=== TO PUBLIC

&lt;&lt;product mariadb from=&#34;10.11&#34;&gt;&gt;
==== 语法
&lt;&lt;code&gt;&gt;
GRANT &lt;privilege&gt; ON &lt;database&gt;.&lt;object&gt; TO PUBLIC;
REVOKE &lt;privilege&gt; ON &lt;database&gt;.&lt;object&gt; FROM PUBLIC;
&lt;&lt;/code&gt;&gt;

GRANT ... TO PUBLIC 授予具有访问服务器权限的所有用户权限。这些权限也适用于在授予权限后创建的用户。当只想一次性声明所有用户需要具有某个特定权限集时，这可能很有用。

在运行 [[show-grants|SHOW GRANTS]] 时，用户还将看到从 PUBLIC 继承的所有权限。[[show-grants/#for-public|SHOW GRANTS FOR PUBLIC]] 仅显示 TO PUBLIC 授权。 
&lt;&lt;/product&gt;&gt;

== 授权示例

=== 授予类似于 root 的权限

您可以通过执行以下操作创建具有类似于默认 ##root## 帐户的权限的用户：

&lt;&lt;sql&gt;&gt;
CREATE USER &#39;alexander&#39;@&#39;localhost&#39;;
GRANT ALL PRIVILEGES ON  *.* to &#39;alexander&#39;@&#39;localhost&#39; WITH GRANT OPTION;
&lt;&lt;/sql&gt;&gt;

== 另请参阅
* [[troubleshooting-connection-issues|故障排除连接问题]]
* [[mysqld-options#-skip-grant-tables|--skip-grant-tables]] 允许您在不使用 ##GRANT## 的情况下启动 MariaDB。如果您忘记了 root 密码，这很有用。
* [[create-user|CREATE USER]]
* [[alter-user|ALTER USER]]
* [[drop-user|DROP USER]]
* [[set-password|SET PASSWORD]]
* [[show-create-user|SHOW CREATE USER]]
* [[mysqlglobal_priv-table|mysql.global_priv 表]]
* [[mysqluser-table|mysql.user 表]]
* [[password-validation-plugins|密码验证插件]] - 允许设置密码的基本标准
* [[authentication-plugins|认证插件]] - 允许使用各种认证方法，并开发新的方法。</textarea>
    


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/services" title="Services">Services</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">About Us</a></h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/download" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2024 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.1587e3a666fc.js" charset="utf-8"></script>

</html>