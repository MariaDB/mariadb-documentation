<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>创建用户 - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.f7633538c846.css" rel="stylesheet" type="text/css" />

    

    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="创建用户" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/zh-cn/create-user/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="语法
CREATE [OR REPLACE] USER [IF NOT EXISTS] 
 user_specification [,user_specification ...] 
  [REQUIRE {NONE | tls_option [[AND] tls_option ...] }]
  [WITH resource_option [re..." />

    <meta name="description" content="语法
CREATE [OR REPLACE] USER [IF NOT EXISTS] 
 user_specification [,user_specification ...] 
  [REQUIRE {NONE | tls_option [[AND] tls_option ...] }]
  [WITH resource_option [re..." />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes products nodes_view jqui" id="nodes_view">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/zh-cn/create-user/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2025 MariaDB. All rights reserved.</p>
    </div>
</div>
<div class="violator-wrap d-none" id="top_violator">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12">
                <div class="violator-outer">
                    <div class="violator-inner">
                        <div class="row">
                            <div class="col-xs-12 col-sm-9 col-lg-7 col-lg-offset-2" id="top_violator_content">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="content-link" target="_blank" rel="nofollow noreferrer">
                                    <span>The Ultimate Guide to High Availability with MariaDB</span>
                                </a>
                            </div>
                            <div class="col-xs-12 col-sm-3" id="top_violator_cta">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="btn btn-mariadb" target="_blank" rel="nofollow noreferrer">Download Now</a>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn btn-link close-btn">
                        <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" width="15px" height="15px"><path d="M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/zh-cn/create-user/" rel="nofollow">Login</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/zh-cn/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/zh-cn/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/services" title="Services">Services</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="About Us">About Us</a>
    </li>
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/zh-cn/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/zh-cn/mariadb/">MariaDB - 简体中文</a>
    

    
    » <a class="crumb" href="/kb/zh-cn/mariadb-server/">MariaDB Server文档</a>
    


    » <a class="node_link crumb" href="/kb/zh-cn/create-user/">创建用户</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/zh-cn/">首页</a></li>
                            
                                
                                    <li><a href="/kb/zh-cn/+questions/">Open Questions</a></li>
                                
                                <li><a href="/kb/zh-cn/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/zh-cn/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/zh-cn/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/zh-cn/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
<div>



<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-blue btn-sm" href="/kb/zh-cn/create-user/+history" rel="nofollow">历史</a>
        
        
        
        <a class="btn btn-block btn-blue btn-sm" href="/kb/zh-cn/create-user/+source/">Source</a>
        
        <a class="btn btn-block btn-blue btn-sm flag" href="/kb/zh-cn/create-user/+flag"
                data-flag-url="/kb/zh-cn/create-user/+flag" rel="nofollow">
                Flag as Spam / Inappropriate</a>
        
        <a class="btn btn-block btn-blue btn-sm" href="/kb/zh-cn/create-user/+translate/">
                Translate</a>
        

</div>
</div>





<div class="well well-small box node_info"><div>

    <dl>
        <dt>已创建</dt>
        <dd>

<span class="datetime" title="2023-05-23 15:03">1 year, 8 months ago</span></dd>

        <dt>Modified</dt>
        <dd>

<span class="datetime" title="2023-05-24 15:02">1 year, 8 months ago</span></dd>

        <dt>Type</dt>
        <dd>article</dd>

        <dt>Status</dt>
        <dd>active</dd>

        <dt>License</dt>
        <dd>
            
                <a href="/kb/zh-cn/create-user/+license/">CC BY-SA / Gnu FDL</a>
            
        </dd>

        
    </dl>

    
    <ul class="rss_feeds">
        <li><a href="/kb/zh-cn/create-user/+history/feed/">
            历史</a>
        </li>
        <li><a href="/kb/zh-cn/create-user/+comments/feed/">
            Comments</a>
        </li>
    </ul>
    

</div>
</div>





    
    
    

<div class="well well-small box attachments"><div><div class="edit_link pull-right"><a href="/kb/zh-cn/create-user/+edit/attachments/">Edit</a></div><h5>Attachments</h5></div><div>

        
            <div class="no_data">No attachments exist</div>
        
    
</div>
</div>

    



    
    
        

<div class="well well-small box"><div><h5>Localized Versions</h5></div><div>

        <ul>
            
            <li><a href="/kb/en/create-user/">CREATE USER</a> [en]</li>
            
            <li><a href="/kb/pt-br/create-user/">CREATE USER</a> [pt-br]</li>
            
            <li><a href="/kb/it/create-user/">CREATE USER</a> [it]</li>
            
            <li><a href="/kb/es/create-user/">CREATE USER</a> [es]</li>
            
        </ul>
        
</div>
</div>

    



    
    

<div class="well well-small box"><div><h5>Product Versions</h5></div><div>

        <ul id="product_chooser">
            
                <li class="mariadb_from_10_4_0">
                    <label><input type="checkbox" data-product-class="mariadb_from_10_4_0"
                            >MariaDB starting with 10.4.0</label>
                </li>
            
                <li class="mariadb_from_10_4_3">
                    <label><input type="checkbox" data-product-class="mariadb_from_10_4_3"
                            >MariaDB starting with 10.4.3</label>
                </li>
            
                <li class="mariadb_from_10_4_3">
                    <label><input type="checkbox" data-product-class="mariadb_from_10_4_3"
                            >MariaDB starting with 10.4.3</label>
                </li>
            
                <li class="mariadb_from_10_4_2">
                    <label><input type="checkbox" data-product-class="mariadb_from_10_4_2"
                            >MariaDB starting with 10.4.2</label>
                </li>
            
                <li class="mariadb_from_10_4_0">
                    <label><input type="checkbox" data-product-class="mariadb_from_10_4_0"
                            >MariaDB starting with 10.4.0</label>
                </li>
            
                <li class="mariadb_from_10_4_3">
                    <label><input type="checkbox" data-product-class="mariadb_from_10_4_3"
                            >MariaDB starting with 10.4.3</label>
                </li>
            
                <li class="mariadb_from_10_4_3">
                    <label><input type="checkbox" data-product-class="mariadb_from_10_4_3"
                            >MariaDB starting with 10.4.3</label>
                </li>
            
                <li class="mariadb_from_10_4_2">
                    <label><input type="checkbox" data-product-class="mariadb_from_10_4_2"
                            >MariaDB starting with 10.4.2</label>
                </li>
            
        </ul>
    
</div>
</div>






</div>


                    

































                </aside>
            
            
            
                
            
            
                
            
            <section id="content" class="limited_width col-md-8 clearfix">
                
                    <h1>创建用户</h1>
                

                



                <div>
                    
    

    
    
    

    <div class="node creole">
        
        
        


    
    <div class="answer formatted">
        <h2 class="anchored_heading" id="语法">语法</h2>
<pre class="fixed">CREATE [OR REPLACE] USER [IF NOT EXISTS] 
 <em>user_specification</em> [,<em>user_specification</em> ...] 
  [REQUIRE {NONE | <em>tls_option</em> [[AND] <em>tls_option</em> ...] }]
  [WITH <em>resource_option</em> [<em>resource_option</em> ...] ]
  [<em>lock_option</em>] [<em>password_option</em>] 

<em>user_specification</em>:
  username [<em>authentication_option</em>]

<em>authentication_option</em>:
  IDENTIFIED BY 'password' 
  | IDENTIFIED BY PASSWORD 'password_hash'
  | IDENTIFIED {VIA|WITH} <em>authentication_rule</em> [OR <em>authentication_rule</em>  ...]

<em>authentication_rule</em>:
    authentication_plugin
  | authentication_plugin {USING|AS} 'authentication_string'
  | authentication_plugin {USING|AS} PASSWORD('password')

<em>tls_option</em>:
  SSL 
  | X509
  | CIPHER 'cipher'
  | ISSUER 'issuer'
  | SUBJECT 'subject'

<em>resource_option</em>:
  MAX_QUERIES_PER_HOUR count
  | MAX_UPDATES_PER_HOUR count
  | MAX_CONNECTIONS_PER_HOUR count
  | MAX_USER_CONNECTIONS count
  | MAX_STATEMENT_TIME time

<em>password_option</em>:
  PASSWORD EXPIRE
  | PASSWORD EXPIRE DEFAULT
  | PASSWORD EXPIRE NEVER
  | PASSWORD EXPIRE INTERVAL N DAY

<em>lock_option</em>:
    ACCOUNT LOCK
  | ACCOUNT UNLOCK
}
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
 <ol class="toc">

    <li class=""><a href="#语法" title="语法">语法</a></li>

    <li class=""><a href="#描述" title="描述">描述</a></li>

    <li class=""><a href="#or-replace" title="OR REPLACE">OR REPLACE</a></li>

    <li class=""><a href="#if-not-exists" title="IF NOT EXISTS">IF NOT EXISTS</a></li>

    <li class=""><a href="#认证选项" title="认证选项">认证选项</a>    <ol class="toc">

        <li class=""><a href="#identified-by-password" title="IDENTIFIED BY &#39;password&#39;">IDENTIFIED BY &#39;password&#39;</a></li>

        <li class=""><a href="#identified-by-password-password_hash" title="IDENTIFIED BY PASSWORD &#39;password_hash&#39;">IDENTIFIED BY PASSWORD &#39;password_hash&#39;</a></li>

        <li class=""><a href="#通过认证插件认证" title="通过认证插件认证">通过认证插件认证</a>    </ol>
</li>

    <li class=""><a href="#tls-选项" title="TLS 选项">TLS 选项</a></li>

    <li class=""><a href="#资源限制选项" title="资源限制选项">资源限制选项</a></li>

    <li class=""><a href="#帐户名称" title="帐户名称">帐户名称</a>    <ol class="toc">

        <li class=""><a href="#主机名组件" title="主机名组件">主机名组件</a></li>

        <li class=""><a href="#用户名组件" title="用户名组件">用户名组件</a></li>

        <li class=""><a href="#匿名帐户" title="匿名帐户">匿名帐户</a>        <ol class="toc">

            <li class=""><a href="#修复一个遗留的默认匿名账户" title="修复一个遗留的默认匿名账户">修复一个遗留的默认匿名账户</a>        </ol>
    </ol>
</li>

    <li class=""><a href="#密码过期" title="密码过期">密码过期</a></li>

    <li class=""><a href="#账户锁定" title="账户锁定">账户锁定</a></li>

    <li class=""><a href="#参见" title="参见">参见</a> </ol>
</li>
</div>
<h2 class="anchored_heading" id="描述">描述</h2>
<p><code>CREATE USER</code> 语句创建新的 MariaDB 帐户。要使用它，您必须具有全局 <a href="/kb/en/grant/#create-user">CREATE USER</a> 特权或 <a href="/kb/en/grant/#table-privileges">INSERT</a> 特权以访问 <a href="/kb/en/the-mysql-database-tables/">mysql</a> 数据库。对于每个帐户，<code>CREATE USER</code> 在 <a href="/kb/en/mysqluser-table/">mysql.user</a> (在 <a href="/kb/en/what-is-mariadb-103/">MariaDB 10.3</a> 之前是表，在 <a href="/kb/en/what-is-mariadb-104/">MariaDB 10.4</a> 之后是视图) 或 <a href="/kb/en/mysqlglobal_priv-table/">mysql.global_priv_table</a> (从 <a href="/kb/en/what-is-mariadb-104/">MariaDB 10.4</a> 开始) 中创建一个没有权限的新行。</p>
<p>如果指定的任何帐户或指定的帐户的任何权限已经存在，则服务器将返回 <code>ERROR 1396 (HY000)</code>。如果发生错误，<code>CREATE USER</code> 仍将创建未产生错误的帐户。对于未创建的所有用户，只产生一个错误：</p>
<pre class="fixed wrap">ERROR 1396 (HY000): 
  Operation CREATE USER failed for 'u1'@'%','u2'@'%'
</pre><p>当 <code>CREATE USER</code>、<a href="/kb/en/drop-user/">DROP USER</a>、<a href="/kb/en/create-role/">CREATE ROLE</a> 和 <a href="/kb/en/drop-role/">DROP ROLE</a> 失败时，它们都会产生相同的错误代码。</p>
<p>有关指定帐户名称的详细信息，请参阅下面的 <a href="#account-names">帐户名称</a>。</p>
<h2 class="anchored_heading" id="or-replace">OR REPLACE</h2>
<p>如果使用可选的 <code>OR REPLACE</code> 子句，则基本上是以下快捷方式：</p>
<pre class="fixed"><span class="k">DROP</span> <span class="n">USER</span> <span class="k">IF</span> <span class="k">EXISTS</span> <span class="n">name</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="n">USER</span> <span class="n">name</span> <span class="p">...;</span>
</pre><p>例如：</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="n">USER</span> <span class="n">foo2</span><span class="o">@</span><span class="n">test</span> <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="s1">&#39;password&#39;</span><span class="p">;</span>
<span class="n">ERROR</span> <span class="mi">1396</span> <span class="p">(</span><span class="n">HY000</span><span class="p">):</span> <span class="n">Operation</span> <span class="k">CREATE</span> <span class="n">USER</span> <span class="n">failed</span> <span class="k">for</span> <span class="s1">&#39;foo2&#39;</span><span class="o">@</span><span class="s1">&#39;test&#39;</span>

<span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="n">USER</span> <span class="n">foo2</span><span class="o">@</span><span class="n">test</span> <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="s1">&#39;password&#39;</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="n">rows</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</pre><h2 class="anchored_heading" id="if-not-exists">IF NOT EXISTS</h2>
<p>当使用 <code>IF NOT EXISTS</code> 子句时，如果指定的用户已经存在，则 MariaDB 将返回一个警告而不是错误。</p>
<p>例如：</p>
<pre class="fixed">CREATE USER foo2@test IDENTIFIED BY 'password';
ERROR 1396 (HY000): Operation CREATE USER failed for 'foo2'@'test'

CREATE USER IF NOT EXISTS foo2@test IDENTIFIED BY 'password';
Query OK, 0 rows affected, 1 warning (0.00 sec)

显示警告;
+-------+------+----------------------------------------------------+
| Level | Code | Message                                            |
+-------+------+----------------------------------------------------+
| Note  | 1973 | Can't create user 'foo2'@'test'; it already exists |
+-------+------+----------------------------------------------------+
</pre><h2 class="anchored_heading" id="认证选项">认证选项</h2>
<h3 class="anchored_heading" id="identified-by-password">IDENTIFIED BY 'password'</h3>
<p>可选的 <code>IDENTIFIED BY</code> 子句可用于为帐户提供密码。密码应以明文形式指定。在存储在 <a href="/kb/en/mysqluser-table/">mysql.user</a>/<a href="/kb/en/mysqlglobal_priv-table/">mysql.global_priv_table</a> 表中之前，它将由 <a href="/kb/en/password/">PASSWORD</a> 函数进行哈希处理。</p>
<p>例如，如果我们的密码是 <code>mariadb</code>，则可以使用以下命令创建用户：</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="n">foo2</span><span class="o">@</span><span class="n">test</span> <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="s1">&#39;mariadb&#39;</span><span class="p">;</span>
</pre><p>如果您没有在 <code>IDENTIFIED BY</code> 子句中指定密码，则该用户将能够无密码连接。空白密码不是匹配任何密码的通配符。如果没有设置密码，则用户必须在不提供密码的情况下连接。</p>
<p>此子句支持的唯一 <a href="/kb/en/authentication-plugins/">认证插件</a> 是 <a href="/kb/en/authentication-plugin-mysql_native_password/">mysql_native_password</a> 和 <a href="/kb/en/authentication-plugin-mysql_old_password/">mysql_old_password</a>。</p>
<h3 class="anchored_heading" id="identified-by-password-password_hash">IDENTIFIED BY PASSWORD 'password_hash'</h3>
<p>可选的 <code>IDENTIFIED BY PASSWORD</code> 子句可用于提供已经被哈希处理的密码的帐户。密码应指定为由 <a href="/kb/en/password/">PASSWORD</a> 函数提供的哈希值。它将按原样存储在 <a href="/kb/en/mysqluser-table/">mysql.user</a>/<a href="/kb/en/mysqlglobal_priv-table/">mysql.global_priv_table</a> 表中。</p>
<p>例如，如果我们的密码是 <code>mariadb</code>，则可以使用以下命令查找哈希值：</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">PASSWORD</span><span class="p">(</span><span class="s1">&#39;mariadb&#39;</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------------------------------+</span>
<span class="o">|</span> <span class="n">PASSWORD</span><span class="p">(</span><span class="s1">&#39;mariadb&#39;</span><span class="p">)</span>                       <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------------+</span>
<span class="o">|</span> <span class="o">*</span><span class="mi">54958</span><span class="n">E764CE10E50764C2EECBB71D01F08549980</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------------------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</pre><p>然后，我们可以使用哈希值创建用户：</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="n">foo2</span><span class="o">@</span><span class="n">test</span> <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="n">PASSWORD</span> <span class="s1">&#39;*54958E764CE10E50764C2EECBB71D01F08549980&#39;</span><span class="p">;</span>
</pre><p>如果您没有在 <code>IDENTIFIED BY</code> 子句中指定密码，则该用户将能够无密码连接。空白密码不是匹配任何密码的通配符。如果没有设置密码，则用户必须在不提供密码的情况下连接。</p>
<p>这个子句支持的唯一<a href="/kb/en/authentication-plugins/">认证插件</a>是<a href="/kb/en/authentication-plugin-mysql_native_password/">mysql_native_password</a>和<a href="/kb/en/authentication-plugin-mysql_old_password/">mysql_old_password</a>。</p>
<h3 class="anchored_heading" id="通过认证插件认证">通过认证插件认证</h3>
<p>可选的<code>IDENTIFIED VIA认证插件</code>允许您指定帐户应由特定的<a href="/kb/en/authentication-plugins/">认证插件</a>进行身份验证。插件名称必须是作为<a href="/kb/en/show-plugins/">SHOW PLUGINS</a>的活动认证插件。如果它没有显示在该输出中，则需要使用<a href="/kb/en/install-plugin/">INSTALL PLUGIN</a>或<a href="/kb/en/install-soname/">INSTALL SONAME</a>安装它。</p>
<p>例如，这可以与PAM认证插件一起使用：</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="n">foo2</span><span class="o">@</span><span class="n">test</span> <span class="n">IDENTIFIED</span> <span class="n">VIA</span> <span class="n">pam</span><span class="p">;</span>
</pre><p>某些认证插件允许在USING或AS关键字之后指定其他参数。例如，PAM认证插件接受服务名称：</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="n">foo2</span><span class="o">@</span><span class="n">test</span> <span class="n">IDENTIFIED</span> <span class="n">VIA</span> <span class="n">pam</span> <span class="k">USING</span> <span class="s1">&#39;mariadb&#39;</span><span class="p">;</span>
</pre><p>附加参数的确切含义取决于特定的认证插件。</p>
<div class="mariadb_from_10_4_0 mariadb from_10_4_0 product"><h5 class="product_title">MariaDB starting with <a href="/kb/en/mariadb-1040-release-notes/">10.4.0</a></h5><p>如果作为<a href="/kb/en/password/">PASSWORD（）</a>函数的参数提供了明文密码，则可以使用<code>USING</code>或<code>AS</code>关键字将纯文本密码提供给插件。这仅适用于已实现<a href="/kb/en/password/">PASSWORD（）</a>函数钩子的认证插件。例如，<a href="/kb/en/authentication-plugin-ed25519/">ed25519</a>认证插件支持此操作：</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="n">safe</span><span class="o">@</span><span class="s1">&#39;%&#39;</span> <span class="n">IDENTIFIED</span> <span class="n">VIA</span> <span class="n">ed25519</span> <span class="k">USING</span> <span class="n">PASSWORD</span><span class="p">(</span><span class="s1">&#39;secret&#39;</span><span class="p">);</span>
</pre></div><div class="mariadb_from_10_4_3 mariadb from_10_4_3 product"><h5 class="product_title">MariaDB starting with <a href="/kb/en/mariadb-1043-release-notes/">10.4.3</a></h5><p>可以指定多个认证插件，它们都可以作为用户身份验证的替代方式：</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="n">safe</span><span class="o">@</span><span class="s1">&#39;%&#39;</span> <span class="n">IDENTIFIED</span> <span class="n">VIA</span> <span class="n">ed25519</span> <span class="k">USING</span> <span class="n">PASSWORD</span><span class="p">(</span><span class="s1">&#39;secret&#39;</span><span class="p">)</span> <span class="k">OR</span> <span class="n">unix_socket</span><span class="p">;</span>
</pre></div><p>默认情况下，当您创建一个没有指定认证插件的用户时，MariaDB使用<a href="/kb/en/authentication-plugin-mysql_native_password/">mysql_native_password</a>插件。</p>
<h2 class="anchored_heading" id="tls-选项">TLS 选项</h2>
<p>默认情况下，MariaDB在服务器和客户端之间传输数据时不加密。当服务器和客户端在同一主机上运行或在通过其他方式保证安全性的网络中运行时，这通常是可以接受的。但是，在服务器和客户端存在于不同网络或它们在高风险网络中的情况下，缺乏加密确实会引入安全问题，因为恶意行为者有可能窃听它们之间在网络上传输的流量。</p>
<p>为了缓解这个问题，MariaDB允许您使用传输层安全性（TLS）协议在服务器和客户端之间加密传输的数据。TLS以前称为安全套接字层（SSL），但严格来说SSL协议是TLS的前身，并且该协议的版本现在被认为是不安全的。文档仍经常使用术语SSL，出于兼容性原因，与TLS相关的服务器系统和状态变量仍使用前缀ssl_，但在内部，MariaDB仅支持其安全的后继者。</p>
<p>有关如何确定您的MariaDB服务器是否具有TLS支持的更多信息，请参见<a href="/kb/en/secure-connections-overview/">Secure Connections Overview</a>。</p>
<p>您可以为特定用户帐户设置某些与TLS相关的限制。例如，您可能会将其用于需要访问敏感数据的用户帐户，同时将其发送到您无法控制的网络。可以使用<a href="/kb/en/create-user/">CREATE USER</a>、<a href="/kb/en/alter-user/">ALTER USER</a>或<a href="/kb/en/grant/">GRANT</a>语句为用户帐户启用这些限制。以下选项可用：</p>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>选项</th><th>描述</th></tr>
<tr><td><code>REQUIRE NONE</code></td><td>此账户不需要使用 TLS，但仍可使用。</td></tr>
<tr><td><code>REQUIRE SSL</code></td><td>此账户必须使用 TLS，但不需要有效的 X509 证书。此选项不能与其他 TLS 选项组合使用。</td></tr>
<tr><td><code>REQUIRE X509</code></td><td>此账户必须使用 TLS，并且必须具有有效的 X509 证书。此选项意味着 <code>REQUIRE SSL</code>。此选项不能与其他 TLS 选项组合使用。</td></tr>
<tr><td><code>REQUIRE ISSUER 'issuer'</code></td><td>此账户必须使用 TLS，并且必须具有有效的 X509 证书。此外，证书颁发机构必须是通过字符串 <code>issuer</code> 指定的那个。此选项意味着 <code>REQUIRE X509</code>。此选项可以与 <code>SUBJECT</code> 和 <code>CIPHER</code> 选项以任意顺序组合使用。</td></tr>
<tr><td><code>REQUIRE SUBJECT 'subject'</code></td><td>此账户必须使用 TLS，并且必须具有有效的 X509 证书。此外，证书的主题必须是通过字符串 <code>subject</code> 指定的那个。此选项意味着 <code>REQUIRE X509</code>。此选项可以与 <code>ISSUER</code> 和 <code>CIPHER</code> 选项以任意顺序组合使用。</td></tr>
<tr><td><code>REQUIRE CIPHER 'cipher'</code></td><td>此账户必须使用 TLS，但不需要有效的 X509 证书。此外，连接所使用的加密必须使用字符串 <code>cipher</code> 中指定的特定密码方法。此选项意味着 <code>REQUIRE SSL</code>。此选项可以与 <code>ISSUER</code> 和 <code>SUBJECT</code> 选项以任意顺序组合使用。</td></tr>
</table>
</div><p><code>REQUIRE</code> 关键字必须仅用于指定选项的一次，而 <code>AND</code> 关键字可用于分隔单个选项，但不是必需的。</p>
<p>例如，您可以创建一个需要以下 TLS 选项的用户帐户：</p>
<pre class="fixed wrap"><span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">&#39;alice&#39;</span><span class="o">@</span><span class="s1">&#39;%&#39;</span>
 <span class="n">REQUIRE</span> <span class="n">SUBJECT</span> <span class="s1">&#39;/CN=alice/O=My Dom, Inc./C=US/ST=Oregon/L=Portland&#39;</span>
 <span class="k">AND</span> <span class="n">ISSUER</span> <span class="s1">&#39;/C=FI/ST=Somewhere/L=City/ O=Some Company/CN=Peter Parker/<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="85e0e8e4ece9c4e1e1f7e0f6f6b8f5abf5e4f7eee0f7c5e8e4f7f3e0e9abe6eae8">[email&#160;protected]</a>&#39;</span>
 <span class="k">AND</span> <span class="n">CIPHER</span> <span class="s1">&#39;SHA-DES-CBC3-EDH-RSA&#39;</span><span class="p">;</span>
</pre><p>如果为特定用户帐户设置了这些选项中的任何一个，则尝试使用该用户帐户连接的任何客户端都必须配置为使用 TLS 连接。</p>
<p>有关如何在客户端和服务器上启用 TLS 的信息，请参见 <a href="/kb/en/securing-connections-for-client-and-server/">Securing Connections for Client and Server</a>。</p>
<h2 class="anchored_heading" id="资源限制选项">资源限制选项</h2>
<p>可以为某些服务器资源设置每个帐户的限制。下表显示了每个帐户可以设置的值：</p>
<p><span class="cstm-style darkheader-nospace-borders"></span></p>
<table><tr><th>限制类型</th><th>描述</th></tr>
<tr><td><code>MAX_QUERIES_PER_HOUR</code></td><td>帐户每小时可以发出的语句数量（包括更新）</td></tr>
<tr><td><code>MAX_UPDATES_PER_HOUR</code></td><td>帐户每小时可以发出的更新（而不是查询）数量</td></tr>
<tr><td><code>MAX_CONNECTIONS_PER_HOUR</code></td><td>帐户每小时可以启动的连接数量</td></tr>
<tr><td><code>MAX_USER_CONNECTIONS</code></td><td>可以从同一帐户接受的同时连接数；如果为 0，则将使用 <code>max_connections</code>；如果 <code>max_connections</code> 为 0，则此帐户的同时连接没有限制。</td></tr>
<tr><td><code>MAX_STATEMENT_TIME</code></td><td>用户执行的语句的超时时间（以秒为单位）。另请参见 <a href="/kb/en/aborting-statements/">Aborting Statements that Exceed a Certain Time to Execute</a>。</td></tr>
</table>
<p>如果将这些限制中的任何一个设置为 <code>0</code>，则该用户的该资源没有限制。</p>
<p>以下是创建具有资源限制的用户的示例：</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">&#39;someone&#39;</span><span class="o">@</span><span class="s1">&#39;localhost&#39;</span> <span class="k">WITH</span>
    <span class="n">MAX_USER_CONNECTIONS</span> <span class="mi">10</span>
    <span class="n">MAX_QUERIES_PER_HOUR</span> <span class="mi">200</span><span class="p">;</span>
</pre><p>这些资源按帐户跟踪，这意味着 <code>'user'@'server'</code>；而不是按用户名或连接计数。</p>
<p>可以使用 <a href="/kb/en/flush/">FLUSH USER_RESOURCES</a>、<a href="/kb/en/flush/">FLUSH PRIVILEGES</a> 或 <a href="/kb/en/mysqladmin/">mysqladmin reload</a> 重置所有用户的计数。</p>
<p>每个帐户的资源限制存储在 <a href="/kb/en/the-mysql-database-tables/">mysql</a> 数据库中的 <a href="/kb/en/mysqluser-table/">user</a> 表中。用于资源限制的列名为 <code>max_questions</code>、<code>max_updates</code>、<code>max_connections</code>（<code>MAX_CONNECTIONS_PER_HOUR</code> 的别名）和 <code>max_user_connections</code>（<code>MAX_USER_CONNECTIONS</code> 的别名）。</p>
<h2 class="anchored_heading" id="帐户名称">帐户名称</h2>
<p>帐户名称由用户名组件和主机名组件组成，并指定为<code>'user_name'@'host_name'</code>。</p>
<p>用户名和主机名可以不加引号，也可以使用双引号（<code>"</code>）或单引号（<code>'</code>）作为字符串引用，或使用反引号（<code>`</code>）作为标识符引用。在使用特殊字符（如连字符）或通配符字符时必须使用引号。如果使用引号，则必须分别引用用户名和主机名（例如<code>'user_name'@'host_name'</code>）。</p>
<h3 class="anchored_heading" id="主机名组件">主机名组件</h3>
<p>如果未提供主机名，则假定为<code>“%”</code>。</p>
<p>主机名可以包含通配符字符 <code>%</code> 和 <code>_</code>。它们与 <a href="/kb/en/like/">LIKE</a> 子句一样匹配。如果需要字面匹配通配符字符（例如匹配带有下划线的域名），请在字符前加上反斜杠。有关转义通配符字符的更多信息，请参见 <code>LIKE</code>。</p>
<p>主机名匹配不区分大小写。主机名可以匹配域名或 IP 地址。使用 <code>localhost</code> 作为主机名，仅允许本地客户端连接。在 Linux 上，回环接口（127.0.0.1）不会将“localhost”视为本地连接：这意味着仅通过 UNIX 域套接字连接才会匹配“localhost”。</p>
<p>您可以使用网络掩码来匹配一系列 IP 地址，使用<code>“base_ip/netmask”</code>作为主机名。如果用户具有 IP 地址 <em>ip_addr</em>，则如果满足以下条件，将允许连接：</p>
<pre class="fixed">ip_addr &amp; netmask = base_ip
</pre><p>例如，给定用户：</p>
<pre class="fixed">CREATE USER 'maria'@'247.150.130.0/255.255.255.0';
</pre><p>满足此条件的 IP 地址范围从 247.150.130.0 到 247.150.130.255。</p>
<p>使用 <code>255.255.255.255</code> 等效于根本不使用网络掩码。IPv6 地址不能使用网络掩码。</p>
<p>请注意，在使用<code>“%”</code>通配符主机创建用户时添加的凭据并不总是授予访问权限。例如，某些系统带有匿名本地主机用户，在从本地主机连接时，这将优先考虑。</p>
<p>在 <a href="/kb/en/what-is-mariadb-106/">MariaDB 10.6</a> 之前，主机名组件最长可达 60 个字符。从 <a href="/kb/en/what-is-mariadb-106/">MariaDB 10.6</a> 开始，它可以达到 255 个字符。</p>
<h3 class="anchored_heading" id="用户名组件">用户名组件</h3>
<p>用户名必须完全匹配，包括大小写。空用户名称为空白帐户，并允许与任何用户名组件匹配的登录尝试。这些将在下一节中更详细地描述。</p>
<p>有关用作用户名的有效标识符，请参见<a href="/kb/en/identifier-names/">标识符名称</a>。</p>
<p>有可能在用户连接时匹配多个帐户。MariaDB 根据以下标准排序后选择第一个匹配的帐户：</p>
<ul start="1"><li>具有精确主机名的帐户在使用主机名中的通配符之前排序。使用网络掩码的主机名被视为排序时是精确的。
</li><li>具有主机名中的通配符的帐户根据第一个通配符字符的位置排序。具有较晚通配符字符的主机名排在具有较早通配符字符的主机名之前。
</li><li>具有非空用户名的帐户在具有空用户名的帐户之前排序。
</li><li>具有空用户名的帐户最后排序。如前所述，这些称为匿名帐户。这些将在下一节中更详细地描述。
</li></ul>
<p>以下表格显示了按这些标准排序的示例帐户：</p>
<pre class="fixed">+---------+-------------+
| User    | Host        |
+---------+-------------+
| joffrey | 192.168.0.3 |
|         | 192.168.0.% |
| joffrey | 192.168.%   |
|         | 192.168.%   |
+---------+-------------+
</pre><p>一旦连接成功，您只能获得与匹配的帐户授予的特权，而不是所有可能匹配的帐户。例如，考虑以下命令：</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">&#39;joffrey&#39;</span><span class="o">@</span><span class="s1">&#39;192.168.0.3&#39;</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">&#39;joffrey&#39;</span><span class="o">@</span><span class="s1">&#39;%&#39;</span><span class="p">;</span>
<span class="k">GRANT</span> <span class="k">SELECT</span> <span class="k">ON</span> <span class="n">test</span><span class="p">.</span><span class="n">t1</span> <span class="k">to</span> <span class="s1">&#39;joffrey&#39;</span><span class="o">@</span><span class="s1">&#39;192.168.0.3&#39;</span><span class="p">;</span>
<span class="k">GRANT</span> <span class="k">SELECT</span> <span class="k">ON</span> <span class="n">test</span><span class="p">.</span><span class="n">t2</span> <span class="k">to</span> <span class="s1">&#39;joffrey&#39;</span><span class="o">@</span><span class="s1">&#39;%&#39;</span><span class="p">;</span>
</pre><p>如果您从 <code class="fixed" style="white-space:pre-wrap">192.168.0.3</code> 连接为 joffrey，则对于表 <code>test.t1</code>，您将具有 <code>SELECT</code> 特权，但对于表 <code>test.t2</code>，您将没有特权。如果您从任何其他 IP 地址连接为 joffrey，则对于表 <code>test.t2</code>，您将具有 <code>SELECT</code> 特权，但对于表 <code>test.t1</code>，您将没有特权。</p>
<p>在 10.6 之前，用户名可以长达 80 个字符，在 10.6 及之后，它可以长达 128 个字符。</p>
<h3 class="anchored_heading" id="匿名帐户">匿名帐户</h3>
<p>匿名帐户是指帐户名称的用户名部分为空的帐户。这些帐户充当特殊的捕获所有帐户。如果用户尝试从主机登录系统，并且存在一个匿名帐户，其主机名部分与用户的主机相匹配，则如果没有更具体的帐户匹配用户输入的用户名，则用户将作为匿名帐户登录。</p>
<p>例如，以下是一些匿名帐户：</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">&#39;&#39;</span><span class="o">@</span><span class="s1">&#39;localhost&#39;</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">&#39;&#39;</span><span class="o">@</span><span class="s1">&#39;192.168.0.3&#39;</span><span class="p">;</span>
</pre><h4 class="anchored_heading" id="修复一个遗留的默认匿名账户">修复一个遗留的默认匿名账户</h4>
<p>在某些系统上，<a href="/kb/en/mysqldb-table/">mysql.db</a> 表中默认情况下有一些 <code>''@'%'</code> 匿名帐户条目。不幸的是，在 <a href="/kb/en/mysqluser-table/">mysql.user</a>/<a href="/kb/en/mysqlglobal_priv-table/">mysql.global_priv_table</a> 表中没有匹配的条目，这意味着这个匿名帐户不存在，但是它确实具有特权 - 通常是在由 <a href="/kb/en/mysql_install_db/">mysql_install_db</a> 创建的默认 <code>test</code> 数据库上。这些无账户特权是MySQL权限系统不太先进时留下的遗产。</p>
<p>这种情况意味着如果您尝试创建一个 <code>''@'%'</code> 帐户，则会遇到错误。例如：</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">&#39;&#39;</span><span class="o">@</span><span class="s1">&#39;%&#39;</span><span class="p">;</span>
<span class="n">ERROR</span> <span class="mi">1396</span> <span class="p">(</span><span class="n">HY000</span><span class="p">):</span> <span class="k">Operation</span> <span class="k">CREATE</span> <span class="k">USER</span> <span class="n">failed</span> <span class="k">for</span> <span class="s1">&#39;&#39;</span><span class="o">@</span><span class="s1">&#39;%&#39;</span>
</pre><p>修复方法是<a href="/kb/en/delete/">DELETE</a> <a href="/kb/en/mysqldb-table/">mysql.db</a> 表中的行，然后执行<a href="/kb/en/flush/">FLUSH PRIVILEGES</a>：</p>
<pre class="fixed"><span class="k">DELETE</span> <span class="k">FROM</span> <span class="n">mysql</span><span class="p">.</span><span class="n">db</span> <span class="k">WHERE</span> <span class="k">User</span><span class="o">=</span><span class="s1">&#39;&#39;</span> <span class="k">AND</span> <span class="k">Host</span><span class="o">=</span><span class="s1">&#39;%&#39;</span><span class="p">;</span>
<span class="n">FLUSH</span> <span class="k">PRIVILEGES</span><span class="p">;</span>
</pre><p>然后可以创建用户账户：</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">&#39;&#39;</span><span class="o">@</span><span class="s1">&#39;%&#39;</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="k">rows</span> <span class="n">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span> <span class="n">sec</span><span class="p">)</span>
</pre><p>有关更多信息，请参见 <a href="https://jira.mariadb.org/browse/MDEV-13486">MDEV-13486</a>。</p>
<h2 class="anchored_heading" id="密码过期">密码过期</h2>
<div class="mariadb_from_10_4_3 mariadb from_10_4_3 product"><h5 class="product_title">MariaDB starting with <a href="/kb/en/mariadb-1043-release-notes/">10.4.3</a></h5><p>除了根据 <a href="/kb/en/server-system-variables/#default_password_lifetime">default_password_lifetime</a> 自动过期密码之外，还可以在个别用户的基础上设置密码过期时间，覆盖全局设置，例如：</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">&#39;monty&#39;</span><span class="o">@</span><span class="s1">&#39;localhost&#39;</span> <span class="n">PASSWORD</span> <span class="n">EXPIRE</span> <span class="nb">INTERVAL</span> <span class="mi">120</span> <span class="k">DAY</span><span class="p">;</span>
</pre><p>有关更多详细信息，请参见 <a href="/kb/en/user-password-expiry/">用户密码过期</a>。</p>
</div><h2 class="anchored_heading" id="账户锁定">账户锁定</h2>
<div class="mariadb_from_10_4_2 mariadb from_10_4_2 product"><h5 class="product_title">MariaDB starting with <a href="/kb/en/mariadb-1042-release-notes/">10.4.2</a></h5><p>账户锁定允许特权管理员锁定 / 解锁用户账户。如果已锁定账户，则不允许新的客户端连接（现有连接不受影响）。例如：</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">&#39;marijn&#39;</span><span class="o">@</span><span class="s1">&#39;localhost&#39;</span> <span class="n">ACCOUNT</span> <span class="k">LOCK</span><span class="p">;</span>
</pre><p>有关更多详细信息，请参见<a href="/kb/en/account-locking/">账户锁定</a>。</p>
</div><p>从 <a href="/kb/en/mariadb-1047-release-notes/">MariaDB 10.4.7</a> 和 <a href="/kb/en/mariadb-1058-release-notes/">MariaDB 10.5.8</a> 开始，<em>lock_option</em> 和 <em>password_option</em> 子句可以以任意顺序出现。</p>
<h2 class="anchored_heading" id="参见">参见</h2>
<ul start="1"><li><a href="/kb/en/troubleshooting-connection-issues/">故障排除连接问题</a>
</li><li><a href="/kb/en/authentication-from-mariadb-104/">MariaDB 10.4 起的身份验证</a>
</li><li><a href="/kb/en/identifier-names/">标识符名称</a>
</li><li><a href="/kb/en/grant/">GRANT</a>
</li><li><a href="/kb/en/alter-user/">ALTER USER</a>
</li><li><a href="/kb/en/drop-user/">DROP USER</a>
</li><li><a href="/kb/en/set-password/">SET PASSWORD</a>
</li><li><a href="/kb/en/show-create-user/">SHOW CREATE USER</a>
</li><li><a href="/kb/en/mysqluser-table/">mysql.user 表</a>
</li><li><a href="/kb/en/mysqlglobal_priv-table/">mysql.global_priv_table</a>
</li><li><a href="/kb/en/password-validation-plugins/">密码验证插件</a> - 允许设置密码的基本条件
</li><li><a href="/kb/en/authentication-plugins/">身份验证插件</a> - 允许使用各种身份验证方法，并开发新的身份验证方法。</li></ul>

    </div>


        
            <div id="subscribe" class="well well-small hide hidden-print"
                 data-subscribe-url="/kb/zh-cn/create-user/+subscriptions/add"
                 data-unsubscribe-url="/kb/zh-cn/create-user/+subscriptions/remove">
            </div>
        

        
        
    
        <div class="simple_section_nav">
            <ul class="nav nav-pills">
                
                    <li><a href="/kb/zh-cn/about-xtradb/">
                        ← 关于 XtraDB 存储引擎
                    </a>
                    </li>
                
                
                    <li><a href="/kb/zh-cn/mariadb-server/">
                        ↑ MariaDB Server文档 ↑
                    </a>
                    </li>
                
                
                    <li class="pull-right"><a href="/kb/zh-cn/start-slave/">
                        启动从服务 →
                    </a>
                    </li>
                
            </ul>
        </div>
    

        

        
        <h2>Comments</h2>
        
    
    <div id="comments" data-node-id="12325" data-comments-url="/kb/zh-cn/create-user/+comments"
         data-reply-url="/kb/zh-cn/create-user/comments/post/">
        Comments loading...
    </div>

        

    </div>


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
                <div id="right_bar" class="col-md-2">
                    
    
        
        <ul class="section_navigation well well-small hidden-xs hidden-sm">
            
                <li class="parent"><a href="/kb/zh-cn/mariadb-server/">
                    ↑ MariaDB Server文档 ↑
                </a>
                </li>
            
            
                
                    <li>
                        <a href="/kb/zh-cn/alter/">
                            
                            ALTER语句
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/create/">
                            
                            CREATE
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/mariabackup/">
                            
                            Mariabackup
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/mariadb-columnstore/">
                            
                            MariaDB ColumnStore
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/mariadb-administration/">
                            
                            MariaDB 管理
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/standard-replication/">
                            
                            MariaDB复制
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/mariadb-server-mariadb-server/">
                            
                            使用MariaDB Server
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/columns-storage-engines-and-plugins/">
                            
                            列、存储引擎和插件
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/backing-up-and-restoring-databases/">
                            
                            备份和恢复数据库
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/data-types/">
                            
                            数据类型
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/account-management-sql-commands/">
                            
                            账户管理中的SQL命令
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/alter-user/">
                            
                            ALTER USER
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/analyze-format-json/">
                            
                            ANALYZE FORMAT=JSON
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/mariadb-analyze-formatjson/">
                            
                            ANALYZE FORMAT=JSON 示例
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/begin-end/">
                            
                            BEGIN END
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/case-statement/">
                            
                            CASE STATEMENT（条件语句）
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/close/">
                            
                            CLOSE(关闭)
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/coalesce/">
                            
                            COALESCE
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/concurrent-inserts/">
                            
                            Concurrent Inserts
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/create-database/">
                            
                            CREATE DATABASE
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/create-function/">
                            
                            CREATE FUNCTION
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/create-procedure/">
                            
                            CREATE PROCEDURE
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/create-trigger/">
                            
                            CREATE TRIGGER
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/database/">
                            
                            DATABASE
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/declare-handler/">
                            
                            DECLARE HANDLER
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/declare-variable/">
                            
                            DECLARE Variable
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/delete/">
                            
                            DELETE
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/drop-role/">
                            
                            DROP ROLE
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/drop-user/">
                            
                            DROP USER
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/execute-statement/">
                            
                            EXECUTE 语句
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/fetch/">
                            
                            FETCH
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/galera-cluster-system-variables/">
                            
                            Galera Cluster System Variables
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/getting-started-with-mariadb-galera-cluster/">
                            
                            Getting Started with MariaDB Galera Cluster
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/grant/">
                            
                            GRANT
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/greatest/">
                            
                            GREATEST
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/group_concat/">
                            
                            GROUP_CONCAT
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/help-command/">
                            
                            HELP 命令
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/high_prioritylow_priority/">
                            
                            HIGH_PRIORITY和LOW_PRIORITY
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/how-to-quickly-insert-data-into-mariadb/">
                            
                            How to Quickly Insert Data Into MariaDB
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/if-statement/">
                            
                            IF 语句
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/in/">
                            
                            IN
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/insert/">
                            
                            INSERT
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/insert-on-duplicate-key-update/">
                            
                            INSERT ON DUPLICATE KEY UPDATE
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/insert-select/">
                            
                            INSERT SELECT
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/iterate/">
                            
                            ITERATE
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/labels/">
                            
                            Labels
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/last_value/">
                            
                            LAST_VALUE()
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/leave/">
                            
                            LEAVE（退出）
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/load-data-infile/">
                            
                            LOAD DATA INFILE
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/loop/">
                            
                            LOOP（循环）
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/sql_modeoracle-from-mariadb-103/">
                            
                            MariaDB 10.3支持SQL_MODE=ORACLE
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/mysqldump/">
                            
                            mysqldump
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/non-recursive-common-table-expressions-overview/">
                            
                            Non-Recursive Common Table Expressions Overview
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/rename-table/">
                            
                            RENAME TABLE
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/rename-user/">
                            
                            RENAME USER
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/replace/">
                            
                            REPLACE
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/revoke/">
                            
                            REVOKE
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/selectinto/">
                            
                            SELECT INTO
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/select-into-outfile/">
                            
                            SELECT INTO OUTFILE
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/selinux/">
                            
                            SELinux
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/set/">
                            
                            SET
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/set-default-role/">
                            
                            SET DEFAULT ROLE
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/set-names/">
                            
                            SET NAMES
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/set-password/">
                            
                            SET PASSWORD
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/set-role/">
                            
                            SET ROLE
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/set-variable/">
                            
                            SET Variable
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/show-create-user/">
                            
                            SHOW CREATE USER
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/show-databases/">
                            
                            SHOW DATABASES
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/show-grants/">
                            
                            SHOW GRANTS
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/ssl-overview/">
                            
                            SSL 综述
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/stored-procedure-overview/">
                            
                            Stored Procedure Overview
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/string-literals/">
                            
                            String Literals
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/tinyint/">
                            
                            TINYINT
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/truncate-table/">
                            
                            TRUNCATE TABLE
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/update/">
                            
                            UPDATE
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/wait-and-nowait/">
                            
                            WAIT 和 NOWAIT
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/window-functions-overview/">
                            
                            Window Functions速览
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/xtrabackup-v2-sst/">
                            
                            xtrabackup-v2 SST方法
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/auto_increment-handling-in-xtradbinnodb/">
                            
                            XtraDB/InnoDB中的AUTO_INCREMENT处理方式
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/xtradbinnodb-file-format/">
                            
                            XtraDB/InnoDB的文件格式
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/general-query-log/">
                            
                            一般查询日志
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/using-innodb-instead-of-xtradb/">
                            
                            使用InnoDB替代XtraDB
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/about-xtradb/">
                            
                            关于 XtraDB 存储引擎
                        </a>
                    </li>
                
            
                
                    <li class="active">
                        <span>创建用户</span>
                        
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/start-slave/">
                            
                            启动从服务
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/declare-cursor/">
                            
                            声明游标
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/performance-schema-table_lock_waits_summary_by_table-table/">
                            
                            性能配置方案 table_lock_waits_summary_by_table 表
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/numeric-data-type-overview/">
                            
                            数值型的数据类型概述
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/identifier-names/">
                            
                            标识符命名规则
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/identifier-case-sensitivity/">
                            
                            标识符对大小写敏感的情况
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/identifier-qualifiers/">
                            
                            标识限定符
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/user-defined-variables/">
                            
                            用户变量(User-Defined Variables)
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/cache-index/">
                            
                            索引-缓存
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/setting-character-sets-and-collations/">
                            
                            设置字符集和排序规则
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/assignment-operator/">
                            
                            赋值操作符(:=)
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/reset/">
                            
                            重置（清零）
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/zh-cn/error-log/">
                            
                            错误日志
                        </a>
                    </li>
                
            
        </ul>
    
    

                </div>
            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/services" title="Services">Services</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">About Us</a></h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/download" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2025 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.1587e3a666fc.js" charset="utf-8"></script>

</html>