<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>Informazioni su FederatedX - Source - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.b9e1e104f007.css" rel="stylesheet" type="text/css" />

    
        <meta name="robots" content="noindex, nofollow">
    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="Informazioni su FederatedX - Source" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/it/about-federatedx/+source/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="" />

    <meta name="description" content="" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes autoresize nodes_source jqui" id="nodes_source">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/it/about-federatedx/+source/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2024 MariaDB. All rights reserved.</p>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/it/about-federatedx/+source/" rel="nofollow">Accesso</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/it/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/it/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/services" title="Services">Services</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="About Us">About Us</a>
    </li>
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/it/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/it/mariadb-italiano/">MariaDB - Italiano</a>
    

    
    » <a class="crumb" href="/kb/it/storage-engine/">Storage Engine</a>
    

    
    » <a class="crumb" href="/kb/it/federatedx/">FederatedX</a>
    


    » <a class="node_link crumb" href="/kb/it/about-federatedx/">Informazioni su FederatedX</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/it/">Pagina iniziale</a></li>
                            
                                
                                    <li><a href="/kb/it/+questions/">Domande Aperte</a></li>
                                
                                <li><a href="/kb/it/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/it/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/it/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/it/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
                        <div>
    

<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-small" href="/kb/it/about-federatedx/">Return to article</a>
    
</div>
</div>

</div>
                    

                    

































                </aside>
            
            
            
                
            
            
            <section id="content" class="limited_width col-md-10 clearfix">
                
                    <h1>Informazioni su FederatedX - Source</h1>
                

                



                <div>
                    

    

    
    <div class="revision_info">
        <dl class="table">
            <dt>Revisione</dt>
            <dd><a href="/kb/it/about-federatedx/+r/9721/">9721</a></dd>
            <dt>Utente</dt>
            <dd>
<span class="user" id="user-982">
<a href="/kb/user/id/982" title="Federico Razzoli">Federico Razzoli</a>
</span></dd>
            <dt>Data</dt>
            <dd>

<span class="datetime" title="2012-04-05 10:12">2012-04-05 10:12</span></dd>
        </dl>
    </div>
    


    

    
        
        <textarea id="answer_source" class="creole_source autogrow">Lo [[http://launchpad.net/federatedx|Storage Engine FederatedX]] è un fork dello Storage Engine Federated, che non è più mantenuto da Oracle. Lo scopo di FederatedX è mantenere attivo lo sviluppo del programma-- aggiungendo nuove funzionalità e correggendo i vecchi bug.

=== Cos&#39;è lo Storage Engine FederatedX?

Lo Storage Engine FederatedX funziona sia con MariaDB sia con MySQL. Mentre gli altri SE sono creati come interfacce verso dati di livello più basso registrati sui file, FederatedX utilizza libmysql per dialogare con le fonti dei dati, cioè RDBMS remoti. Attualmente, siccome FederatedX può utilizzare solo libmysql, riesce a parlare soltanto con MySQL. Il progetto naturalmente è di permettergli di interfacciarsi con altri RDBMS usandoli come fonti di dati. Esisteva un progetto chiamato Federated ODBC che era in grado di dialogare con PostgreSQL, e questo tipo di funzionalità verranno portate in FederatedX nelle prossime versioni.

=== Storia

La storia di FederatedX deriva da quella di Federated. Cisco aveva bisogno di uno Storage Engine per MySQL che permettesse a un qualche tipo di dispositivo di routing di consolidare alcune tabelle remote, mettendolo in grado di interagire con esse come se si trovassero sul dispositivo stesso, anche se il realtà erano altrove; questo perché il dispositivo non aveva spazio a sufficienza per contenerle. Il primo prototipo di Federated è stato sviluppato da JD (bisognerebbe verificarlo- Brian Aker può controllare) utilizzando l&#39;interfaccia HANDLER. Brian ha passato il codice a Patrick Galbraith e ha spiegato come doveva funzionare, e lui con l&#39;aiuto di Brian e Monty ha realizzato uno Storage Engine che funzionava su MySQL 5.0.Infine, Federated è stato rilasciato al pubblico in una sottoversione di MySQL 5.0. 

Quando MySQL 5.1 è stato pronto per gli ambienti di produzione, Federated aveva già molti miglioramenti, ad esempio:

* I comandi SERVER sono stati aggiunti al parser. Questa funzionalità era stata richiesta da Cisco, che voleva poter modificare i parametri della connessione di numerose tabelle allo stesso tempo, senza doverne modificare la struttura o ricrearle.
* Supporto di base alle transazioni-- per supportare le tabelle remote transazionali
* Vari bug che dovevano essere corretti in MySQL 5.0
* Capacità di Plugin

===Come funziona FederatedX

Tutti gli Storage Engine devono implementare i metodi della API di una classe standard. FederatedX non è diverso dagli altri, in questo senso. La grande differenza è che FederatedX deve implementare questi metodi in modo da comporre istruzioni SQL che vengano eseguite su un server remoto e, se c&#39;è un set di risultati, elaborarlo nel formato interno per poi restituirli all&#39;utente.

==== Funzionamento interno di FederatedX

I normali file di database sono locali e pertanto: se si crea una tabella chiamata &#39;users&#39;, verrà creato un file chiamato &#39;users.MYD&#39;. Un handler legge, inserisce, elimina e modifica i dati di questo file. Essi sono registrati in un formato particolare, perciò in lettura devono essere sottoposti a parsing, per identificare i campi, mentre in scrittura i campi devono essere registrati in questo formato.

Con lo Storage Engine FederatedX non vi sono file locali che contengono i dati di ogni tabella (come i .MYD). Un database esterno mantiene i dati che gli altri Storage Engine registrerebbero in un file. Questa operazione rende necessario l&#39;uso dell&#39;API client di MySQL per poter leggere, eliminare, modificare e inserire i record. I dati dovranno essere estratti attraverso una query SQL &#34;&lt;&lt;sql&gt;&gt;SELECT * FROM users&lt;&lt;/sql&gt;&gt;&#34;. Dopodiché, per poterli leggere, si dovrà eseguire la funzione &lt;&lt;sql&gt;&gt;mysql_fetch_row&lt;&lt;/sql&gt;&gt; una riga alla volta, poi dovranno essere convertiti dalla colonna a questa select nel formato che l&#39;handler si aspetta.

Ecco le basi del funzionamento di FederatedX:
* L&#39;utente lancia un&#39;istruzione SQL sulla tabella FederatedX locale. Questa istruzione viene tradotta in un albero di elementi
* FederatedX usa l&#39;API dell&#39;handler mysql per implementare i vari metodi richiesti per uno Storage Engine. Ha accesso all&#39;albero degli elementi ricavato dall&#39;istruzione che è stata lanciata e all&#39;oggetto Table con tutti i suoi membri Field.
* Con queste informazioni, FederatedX costruisce un&#39;istruzione SQL
* L&#39;istruzione SQL così creata viene inviata alla fonte dei dati remota attraverso libmysql, utilizzando l&#39;API client mysql
* Il database esterno legge il comando SQL e risponde inviando il risultato tramite l&#39;API client mysql 
* Se l&#39;istruzione SQL originale richiede un set di risultati dalla fonte dati esterna, lo SE FederatedX scorre i risultati e converte ogni riga e colonna nel formato interno dell&#39;handler
* Se l&#39;istruzione SQL originale restituisce solo il numero di righe coinvolte dall&#39;operazione (affected_rows), tale dato viene aggiunto alle statistiche della tabella in modo che l&#39;utente possa vederlo.

===== Creare tabelle FederatedX

L&#39;istruzione &lt;&lt;code lang=sql inline=true&gt;&gt;CREATE TABLE&lt;&lt;/code&gt;&gt; crea semplicemente un file .frm, e DEVE contenere informazioni in uno dei modi che seguono:

&lt;&lt;code&gt;&gt;
connection=scheme://nome_utente:password@nome_host:porta/database/nome_tabella
connection=scheme://nome_utente@nome_host/database/nome_tabella
connection=scheme://nome_utente:password@nome_host/database/nome_tabella
connection=scheme://nome_utente:password@nome_host/database/nome_tabella
&lt;&lt;/code&gt;&gt;

Oppure si può usare la tabella introdotta in MySQL 5.1 per definire un server Federated (SQL/MED Spec xxxx)

&lt;&lt;code&gt;&gt;
connection=&#34;connessione_uno&#34;
connection=&#34;connessione_uno/tabella_uno&#34;
&lt;&lt;/code&gt;&gt;

Ecco un esempio di stringa di connessione che specifica tutti i parametri possibili:

&lt;&lt;code&gt;&gt;
connection=mysql://nome_utente:password@nome_host/database/nome_tabella
&lt;&lt;/code&gt;&gt;

Oppure, se si desidera usare un server Federated, prima lo si crea in questo modo:

&lt;&lt;code lang=sql inline=false&gt;&gt;
create server &#39;server_uno&#39; foreign data wrapper &#39;mysql&#39; options
  (HOST &#39;127.0.0.1&#39;,
  DATABASE &#39;db1&#39;,
  USER &#39;root&#39;,
  PASSWORD &#39;&#39;,
  PORT 3306,
  SOCKET &#39;&#39;,
  OWNER &#39;root&#39;);
&lt;&lt;/code&gt;&gt;

E successivamente si crea la tabella FederatedX associandole il server Federated appena creato:

&lt;&lt;code lang=sql inline=false&gt;&gt;
CREATE TABLE federatedx.t1 (
  `id` int(20) NOT NULL,
  `name` varchar(64) NOT NULL default &#39;&#39;
  )
ENGINE=&#34;FEDERATED&#34; DEFAULT CHARSET=latin1
CONNECTION=&#39;server_one&#39;;
&lt;&lt;/code&gt;&gt;

(Si noti che in MariaDB, lo Storage Engine originale Federated è stato sostituito con il nuovo FederatedX. Per garantire la compatibilità all&#39;indietro è stato mantenuto il vecchio nome &#34;FEDERATED&#34;, che quindi va usato nella create table. Perciò in MariaDB, il nome dello SE dovrebbe essere specificato come &#34;FEDERATED&#34; senza la &#34;X&#34; finale).

Ecco l&#39;equivalente di quanto è stato fatto sopra, utilizzando i parametri di connessione:

&lt;&lt;code lang=sql inline=false&gt;&gt;
CONNECTION=&#34;mysql://root@127.0.0.1:3306/db1/t1&#34;
&lt;&lt;/code&gt;&gt;

E&#39; anche possibile far sì che un server già definito punti a un nuovo schema:

&lt;&lt;code lang=sql inline=false&gt;&gt;
ALTER SERVER &#39;server_uno&#39; options(DATABASE &#39;db2&#39;);
&lt;&lt;/code&gt;&gt;

Tutte le chiamate seguenti a una qualsiasi tabella FederatedX che utilizza &#39;server_uno&#39; ora utilizzeranno db2.t1!E indovina? Non occorre eseguire un alter table per aggiornare le tabelle FederatedX al nuovo server!

Questa stringa di connessione, o &lt;&lt;fixed&gt;&gt;connecton=&#34;connection string&#34;&lt;&lt;/fixed&gt;&gt;, è necessaria perché l&#39;handler possa connettersi al server remoto (utilizzando un URL oppure il nome del server).

==== Chiamate ai metodi

Un modo per capire come funziona lo Storage Engine FederatedX è compilare una build di debug debug di MariaDB e abilitare il logging del trace. Usando una tabella di due colonne, con un record, insieme alle istruzioni SQL mostrate sotto, è possibile sapere quali metodi interni vengono chiamati e cosa fanno.

===== SELECT

Se ad esempio la query è &#34;&lt;&lt;code lang=sql inline=true&gt;&gt;SELECT * FROM foo&lt;&lt;/code&gt;&gt;&#34;, allora i primi metodi principali che si vedranno son il debug abilitato saranno:

&lt;&lt;code&gt;&gt;
ha_federatedx::info
ha_federatedx::scan_time:
ha_federatedx::rnd_init: share-&gt;select_query SELECT * FROM foo
ha_federatedx::extra
&lt;&lt;/code&gt;&gt;

Poi per ogni riga estratta dal database esterno:

&lt;&lt;code&gt;&gt;
ha_federatedx::rnd_next
ha_federatedx::convert_row_to_internal_format
ha_federatedx::rnd_next
&lt;&lt;/code&gt;&gt;

Dopo che tutte le righe dei dati sono state lette, si vede:

&lt;&lt;code&gt;&gt;
ha_federatedx::rnd_end
ha_federatedx::extra
ha_federatedx::reset
&lt;&lt;/code&gt;&gt;

===== INSERT

Se la query è &#34;&lt;&lt;code lang=sql inline=true&gt;&gt;INSERT INTO foo (id, ts) VALUES (2, now());&lt;&lt;/code&gt;&gt;&#34;, il trace è:

&lt;&lt;code&gt;&gt;
ha_federatedx::write_row
ha_federatedx::reset
&lt;&lt;/code&gt;&gt;

===== UPDATE

Se la query è &#34;&lt;&lt;sql&gt;&gt;UPDATE foo SET ts = now() WHERE id = 1;&lt;&lt;/sql&gt;&gt;&#34;, il trace risultante è il seguente:

&lt;&lt;code&gt;&gt;
ha_federatedx::index_init
ha_federatedx::index_read
ha_federatedx::index_read_idx
ha_federatedx::rnd_next
ha_federatedx::convert_row_to_internal_format
ha_federatedx::update_row

ha_federatedx::extra
ha_federatedx::extra
ha_federatedx::extra
ha_federatedx::external_lock
ha_federatedx::reset
&lt;&lt;/code&gt;&gt;

=== Possibilità e limitazioni di FederatedX

* Le tabelle DEVONO essere state create sul server esterno prima che l&#39;handler possa svolgere qualsiasi operazione su di esse, prima versione. IMPORTANTE: se si deve utilizzare FederatedX sul server remoto, bisogna assicurarsi che la tabella alla quale ci si connette non punti alla tabella originale! E&#39; come mettere due specchi uno di fronte all&#39;altro, con il rifletto che continua all&#39;infinito.
* Non c&#39;è modo, per l&#39;handler, di sapere se il database esterno o la tabella remota sono stati modificati. Il motivo è che tale database funziona come un file dei dati, il quale si spera non venga mai modificato da nient&#39;altro all&#39;infuori del database. L&#39;integrità dei dati della tabella locale potrebbe guastarsi, nel caso in cui il database esterno venga modificato.
* Supporta SELECT, INSERT, UPDATE , DELETE e gli indici.
* Non ci sono chiamate ad ALTER TABLE, DROP TABLE o altri comandi del Data Definition Language.
* I prepared statement non vengono utilizzati nella prima implementazione, resta da capire se il limitato sottoinsieme dell&#39;API client li supporta.
* Questa implementazione utilizza SELECT, INSERT, UPDATE, DELETE, ma non HANDLER.
* Non funziona con la cache delle query.

=== Come si usa FederatedX?

Utilizzare questo handler è molto semplice. Occorre avere due database funzionanti che possono trovarsi sullo stesso host o su macchine differenti.

Dopo che un server si è collegato all&#39;host esterno (client), si crea una tabella in questo modo:

&lt;&lt;sql&gt;&gt;
CREATE TABLE test_table (
  id     int(20) NOT NULL auto_increment,
  name   varchar(32) NOT NULL default &#39;&#39;,
  other  int(20) NOT NULL default &#39;0&#39;,
  PRIMARY KEY  (id),
  KEY name (name),
  KEY other_key (other))
ENGINE=&#34;FEDERATED&#34;
DEFAULT CHARSET=latin1
CONNECTION=&#39;mysql://root@127.0.0.1:9306/federatedx/test_federatedx&#39;;
&lt;&lt;/sql&gt;&gt;

Si notino i campi &#34;ENGINE&#34; e &#34;CONNECTION&#34;: qui si impostano rispettivamente lo Storage Engine, &#34;FEDERATED&#34; appunto, e i dati relativi all&#39;host esterno, cioè il database al quale il client si connette e che viene usato come file dei dati. Ovviamente, il database esterno gira sulla porta 9306, e anche l&#39;altro è impostato per collegarsi alla stessa porta, mentre il database FederatedX su una porta differente. In questo ambiente, si utilizza la porta 5554 per FederatedX e la porta 5555 per il database esterno.

Poi, sul database esterno:

&lt;&lt;sql&gt;&gt;
CREATE TABLE test_table (
  id     int(20) NOT NULL auto_increment,
  name   varchar(32) NOT NULL default &#39;&#39;,
  other  int(20) NOT NULL default &#39;0&#39;,
  PRIMARY KEY  (id),
  KEY name (name),
  KEY other_key (other))
ENGINE=&#34;&lt;NAME&gt;&#34; &lt;-- whatever you want, or not specify
DEFAULT CHARSET=latin1 ;
&lt;&lt;/sql&gt;&gt;

Questa tabella è identica (e deve esserlo necessariamente), eccetto per il fatto che non utilizza l&#39;handler FederatedX e non ha bisogno di un URL.

==== Come vedere lo Storage Engine in azione

Sviluppando questo handler, ho compilato il database con FederatedX per il debug:

&lt;&lt;code lang=sh inline=false&gt;&gt;
./configure --with-federatedx-storage-engine \
  --prefix=/home/mysql/mysql-build/federatedx/ --with-debug
&lt;&lt;/code&gt;&gt;

Una volta compilato, ho lanciato un &#39;make install&#39; (non allo scopo di installare i binari, ma per installare tutti i file che l&#39;eseguibile si aspetta di trovare nella diretory che ho specificato nella build con:

&lt;&lt;code lang=sh inline=false&gt;&gt;
--prefix=/home/code-dev/maria
&lt;&lt;/code&gt;&gt;

Poi ho riavviato il server esterno:

&lt;&lt;code lang=sh inline=false&gt;&gt;
/usr/local/mysql/bin/mysqld_safe \
  --user=mysql --log=/tmp/mysqld.5555.log -P 5555
&lt;&lt;/code&gt;&gt;

Dopodiché sono tornato alla directory contenente il mysqld appena compilato&lt;&lt;fixed&gt;&gt;&lt;builddir&gt;/sql/&lt;&lt;/fixed&gt;&gt;, e ho avviato gdb:

&lt;&lt;code lang=sh inline=false&gt;&gt;
gdb ./mysqld
&lt;&lt;/code&gt;&gt;

E nel prompt di gdb:

&lt;&lt;code lang=sh inline=false&gt;&gt;
(gdb) run --gdb --port=5554 --socket=/tmp/mysqld.5554 --skip-innodb --debug
&lt;&lt;/code&gt;&gt;

Successivamente ho aperto diverse finestre e per ognuna:

# Un tail sul trace: tail -f /tmp/mysqld.trace|grep ha_fed
# Un tail sulle chiamate SQL al database esterno: tail -f /tmp/mysqld.5555.log
# Una finestra con un client aperto sul server FederatedX alla porta 5554
# Una finestra con un client aperto sul server federatedx alla porta 5555

Ho creato una tabella sul server esterno sulla porta 5555, e poi sul server FederatedX 5554. A questo punto posso eseguire tutte le query che voglio sul server FederatedX ricordando sempre che qualsiasi cambiamento io faccia sulla tabelle, o se creo nuove tabelle, dovrò poi ripeterlo sul server esterno.

Un comando da controllare è &#39;show variables&#39;, che dice che FederatedX è supportato:

&lt;&lt;sql&gt;&gt;
show variables like &#39;%federat%&#39;
&lt;&lt;/sql&gt;&gt;

e poi:

&lt;&lt;sql&gt;&gt;
show storage engines;
&lt;&lt;/sql&gt;&gt;

Entrambi mostra l&#39;handler FederatedX.

=== Come si crea un server Federated?

Un server Federated è un modo per definire una fonte di dati, con tutti i parametri della connessione, per non doverli specificare esplicitamente in una stringa.

Per esempio, supponiamo di avere una tabella t1 che si specifica in questo modo:

&lt;&lt;sql&gt;&gt;
connection=&#34;mysql://patg@192.168.1.123/first_db/t1&#34;
&lt;&lt;/sql&gt;&gt;
	
E&#39; possibile definire un server:

&lt;&lt;sql&gt;&gt;
create server &#39;server_one&#39; foreign data wrapper &#39;mysql&#39; options
  (HOST &#39;192.168.1.123&#39;,		
  DATABASE &#39;first_db&#39;,		
  USER &#39;patg&#39;,
  PASSWORD &#39;&#39;,
  PORT 3306,
  SOCKET &#39;&#39;,		
  OWNER &#39;root&#39;);
&lt;&lt;/sql&gt;&gt;

Ora si può specificare il server invece della stringa di connessione completa:

&lt;&lt;sql&gt;&gt;
connect=&#34;server_one&#34;
&lt;&lt;/sql&gt;&gt;

=== In che modo FederatedX differisce dal vecchio Federated?

FederatedX, dal punto di vista dell&#39;utente, rimane invariato in quasi tutte le sue parti. Le differenze tra FederatedX e Federated sono le seguenti:

* Riscritto il codice sorgente principale di Federated da un singolo file ha_federated.cc in tre componenti astratti principali:
** ha_federatedx.cc - Il cuore dell&#39;implementazione di FederatedX
** federated_io.cc - Classe connection padre che viene sovrascritta da ogni libreria client per i vari RDBMS
** federatated_io_&lt;driver&gt;.cc - Classe derivata federated_io per un dato RDBMS
** federated_txn.cc - Nuovo supporto per gli engine transazionali sul server remoto che utilizzano un poll di connessioni
* Vari bug corretti (bisogna guardare i bug aperti di Federated)

=== Dove posso ottenere FederatedX?

FederatedX è parte di MariaDB 5.1 e successivo. MariaDB importa il FederatedX più recente quando c&#39;è bisogno di correggere un bug. Si può ottenere il codice dalla [[http://launchpad.net/federatedx|home page di FederatedX]].

=== Quali sono i piani futuri per FederatedX?

* Supporto per altri RDBMS attraverso ODBC
* Supporto per il pushdown delle condizioni
* Possibilità di limitare le dimensioni dei set di risultati

</textarea>
    


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/services" title="Services">Services</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">About Us</a></h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/download" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2024 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.fed4ec768178.js" charset="utf-8"></script>

</html>