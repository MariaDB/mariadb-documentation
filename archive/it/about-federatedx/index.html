<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>Informazioni su FederatedX - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.f7633538c846.css" rel="stylesheet" type="text/css" />

    

    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="Informazioni su FederatedX" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/it/about-federatedx/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="Lo Storage Engine FederatedX è un fork dello Storage Engine Federated, che non è più mantenuto da Oracle. Lo scopo di FederatedX è mantenere attivo lo sviluppo del programma--..." />

    <meta name="description" content="Lo Storage Engine FederatedX è un fork dello Storage Engine Federated, che non è più mantenuto da Oracle. Lo scopo di FederatedX è mantenere attivo lo sviluppo del programma--..." />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes products nodes_view jqui" id="nodes_view">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/it/about-federatedx/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2025 MariaDB. All rights reserved.</p>
    </div>
</div>
<div class="violator-wrap d-none" id="top_violator">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12">
                <div class="violator-outer">
                    <div class="violator-inner">
                        <div class="row">
                            <div class="col-xs-12 col-sm-9 col-lg-7 col-lg-offset-2" id="top_violator_content">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="content-link" target="_blank" rel="nofollow noreferrer">
                                    <span>The Ultimate Guide to High Availability with MariaDB</span>
                                </a>
                            </div>
                            <div class="col-xs-12 col-sm-3" id="top_violator_cta">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="btn btn-mariadb" target="_blank" rel="nofollow noreferrer">Download Now</a>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn btn-link close-btn">
                        <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" width="15px" height="15px"><path d="M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/it/about-federatedx/" rel="nofollow">Accesso</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/it/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/it/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/services" title="Services">Services</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="About Us">About Us</a>
    </li>
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/it/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/it/mariadb-italiano/">MariaDB - Italiano</a>
    

    
    » <a class="crumb" href="/kb/it/storage-engine/">Storage Engine</a>
    

    
    » <a class="crumb" href="/kb/it/federatedx/">FederatedX</a>
    


    » <a class="node_link crumb" href="/kb/it/about-federatedx/">Informazioni su FederatedX</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/it/">Pagina iniziale</a></li>
                            
                                
                                    <li><a href="/kb/it/+questions/">Domande Aperte</a></li>
                                
                                <li><a href="/kb/it/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/it/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/it/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/it/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
<div>



<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-blue btn-sm" href="/kb/it/about-federatedx/+history" rel="nofollow">Cronologia</a>
        
        
        
        <a class="btn btn-block btn-blue btn-sm" href="/kb/it/about-federatedx/+source/">Source</a>
        
        <a class="btn btn-block btn-blue btn-sm flag" href="/kb/it/about-federatedx/+flag"
                data-flag-url="/kb/it/about-federatedx/+flag" rel="nofollow">
                Flag as Spam / Inappropriate</a>
        
        <a class="btn btn-block btn-blue btn-sm" href="/kb/it/about-federatedx/+translate/">
                Traduci</a>
        

</div>
</div>





<div class="well well-small box node_info"><div>

    <dl>
        <dt>Creato</dt>
        <dd>

<span class="datetime" title="2012-04-02 14:24">12 anni, 9 mesi ago</span></dd>

        <dt>Modificato</dt>
        <dd>

<span class="datetime" title="2012-04-05 10:12">12 anni, 9 mesi ago</span></dd>

        <dt>Tipo</dt>
        <dd>article</dd>

        <dt>Stato</dt>
        <dd>active</dd>

        <dt>Licenza</dt>
        <dd>
            
                <a href="/kb/it/about-federatedx/+license/">CC BY-SA / Gnu FDL</a>
            
        </dd>

        
    </dl>

    
    <ul class="rss_feeds">
        <li><a href="/kb/it/about-federatedx/+history/feed/">
            Cronologia</a>
        </li>
        <li><a href="/kb/it/about-federatedx/+comments/feed/">
            Commenti</a>
        </li>
    </ul>
    

</div>
</div>





    
    
    

<div class="well well-small box attachments"><div><div class="edit_link pull-right"><a href="/kb/it/about-federatedx/+edit/attachments/">Edit</a></div><h5>Attachments</h5></div><div>

        
            <div class="no_data">No attachments exist</div>
        
    
</div>
</div>

    



    
    
        

<div class="well well-small box"><div><h5>Versioni Localizzate</h5></div><div>

        <ul>
            
            <li><a href="/kb/en/about-federatedx/">About FederatedX</a> [en]</li>
            
        </ul>
        
</div>
</div>

    






</div>


                    

































                </aside>
            
            
            
                
            
            
                
            
            <section id="content" class="limited_width col-md-8 clearfix">
                
                    <h1>Informazioni su FederatedX</h1>
                

                



                <div>
                    
    

    
    
    

    <div class="node creole">
        
        
        


    
    <div class="answer formatted">
        <p>Lo <a href="http://launchpad.net/federatedx">Storage Engine FederatedX</a> è un fork dello Storage Engine Federated, che non è più mantenuto da Oracle. Lo scopo di FederatedX è mantenere attivo lo sviluppo del programma-- aggiungendo nuove funzionalità e correggendo i vecchi bug.</p>
<h3 class="anchored_heading" id="cosè-lo-storage-engine-federatedx">Cos'è lo Storage Engine FederatedX?</h3>
<p>Lo Storage Engine FederatedX funziona sia con MariaDB sia con MySQL. Mentre gli altri SE sono creati come interfacce verso dati di livello più basso registrati sui file, FederatedX utilizza libmysql per dialogare con le fonti dei dati, cioè RDBMS remoti. Attualmente, siccome FederatedX può utilizzare solo libmysql, riesce a parlare soltanto con MySQL. Il progetto naturalmente è di permettergli di interfacciarsi con altri RDBMS usandoli come fonti di dati. Esisteva un progetto chiamato Federated ODBC che era in grado di dialogare con PostgreSQL, e questo tipo di funzionalità verranno portate in FederatedX nelle prossime versioni.</p>
<h3 class="anchored_heading" id="storia">Storia</h3>
<p>La storia di FederatedX deriva da quella di Federated. Cisco aveva bisogno di uno Storage Engine per MySQL che permettesse a un qualche tipo di dispositivo di routing di consolidare alcune tabelle remote, mettendolo in grado di interagire con esse come se si trovassero sul dispositivo stesso, anche se il realtà erano altrove; questo perché il dispositivo non aveva spazio a sufficienza per contenerle. Il primo prototipo di Federated è stato sviluppato da JD (bisognerebbe verificarlo- Brian Aker può controllare) utilizzando l'interfaccia HANDLER. Brian ha passato il codice a Patrick Galbraith e ha spiegato come doveva funzionare, e lui con l'aiuto di Brian e Monty ha realizzato uno Storage Engine che funzionava su MySQL 5.0.Infine, Federated è stato rilasciato al pubblico in una sottoversione di MySQL 5.0. </p>
<p>Quando MySQL 5.1 è stato pronto per gli ambienti di produzione, Federated aveva già molti miglioramenti, ad esempio:</p>
<ul start="1"><li>I comandi SERVER sono stati aggiunti al parser. Questa funzionalità era stata richiesta da Cisco, che voleva poter modificare i parametri della connessione di numerose tabelle allo stesso tempo, senza doverne modificare la struttura o ricrearle.
</li><li>Supporto di base alle transazioni-- per supportare le tabelle remote transazionali
</li><li>Vari bug che dovevano essere corretti in MySQL 5.0
</li><li>Capacità di Plugin
</li></ul>
<h3 class="anchored_heading" id="come-funziona-federatedx">Come funziona FederatedX</h3>
<p>Tutti gli Storage Engine devono implementare i metodi della API di una classe standard. FederatedX non è diverso dagli altri, in questo senso. La grande differenza è che FederatedX deve implementare questi metodi in modo da comporre istruzioni SQL che vengano eseguite su un server remoto e, se c'è un set di risultati, elaborarlo nel formato interno per poi restituirli all'utente.</p>
<h4 class="anchored_heading" id="funzionamento-interno-di-federatedx">Funzionamento interno di FederatedX</h4>
<p>I normali file di database sono locali e pertanto: se si crea una tabella chiamata 'users', verrà creato un file chiamato 'users.MYD'. Un handler legge, inserisce, elimina e modifica i dati di questo file. Essi sono registrati in un formato particolare, perciò in lettura devono essere sottoposti a parsing, per identificare i campi, mentre in scrittura i campi devono essere registrati in questo formato.</p>
<p>Con lo Storage Engine FederatedX non vi sono file locali che contengono i dati di ogni tabella (come i .MYD). Un database esterno mantiene i dati che gli altri Storage Engine registrerebbero in un file. Questa operazione rende necessario l'uso dell'API client di MySQL per poter leggere, eliminare, modificare e inserire i record. I dati dovranno essere estratti attraverso una query SQL "<code class="fixed" style="white-space:pre-wrap"><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">users</span>
</code>". Dopodiché, per poterli leggere, si dovrà eseguire la funzione <code class="fixed" style="white-space:pre-wrap"><span class="n">mysql_fetch_row</span>
</code> una riga alla volta, poi dovranno essere convertiti dalla colonna a questa select nel formato che l'handler si aspetta.</p>
<p>Ecco le basi del funzionamento di FederatedX:</p>
<ul start="1"><li>L'utente lancia un'istruzione SQL sulla tabella FederatedX locale. Questa istruzione viene tradotta in un albero di elementi
</li><li>FederatedX usa l'API dell'handler mysql per implementare i vari metodi richiesti per uno Storage Engine. Ha accesso all'albero degli elementi ricavato dall'istruzione che è stata lanciata e all'oggetto Table con tutti i suoi membri Field.
</li><li>Con queste informazioni, FederatedX costruisce un'istruzione SQL
</li><li>L'istruzione SQL così creata viene inviata alla fonte dei dati remota attraverso libmysql, utilizzando l'API client mysql
</li><li>Il database esterno legge il comando SQL e risponde inviando il risultato tramite l'API client mysql 
</li><li>Se l'istruzione SQL originale richiede un set di risultati dalla fonte dati esterna, lo SE FederatedX scorre i risultati e converte ogni riga e colonna nel formato interno dell'handler
</li><li>Se l'istruzione SQL originale restituisce solo il numero di righe coinvolte dall'operazione (affected_rows), tale dato viene aggiunto alle statistiche della tabella in modo che l'utente possa vederlo.
</li></ul>
<h5 class="anchored_heading" id="creare-tabelle-federatedx">Creare tabelle FederatedX</h5>
<p>L'istruzione <code class="fixed" style="white-space:pre-wrap"><span class="k">CREATE</span> <span class="k">TABLE</span>
</code> crea semplicemente un file .frm, e DEVE contenere informazioni in uno dei modi che seguono:</p>
<pre class="fixed">connection=scheme://nome_utente:password@nome_host:porta/database/nome_tabella
connection=scheme://nome_utente@nome_host/database/nome_tabella
connection=scheme://nome_utente:password@nome_host/database/nome_tabella
connection=scheme://nome_utente:password@nome_host/database/nome_tabella
</pre><p>Oppure si può usare la tabella introdotta in MySQL 5.1 per definire un server Federated (SQL/MED Spec xxxx)</p>
<pre class="fixed">connection=&#34;connessione_uno&#34;
connection=&#34;connessione_uno/tabella_uno&#34;
</pre><p>Ecco un esempio di stringa di connessione che specifica tutti i parametri possibili:</p>
<pre class="fixed">connection=mysql://nome_utente:password@nome_host/database/nome_tabella
</pre><p>Oppure, se si desidera usare un server Federated, prima lo si crea in questo modo:</p>
<pre class="fixed"><span class="k">create</span> <span class="n">server</span> <span class="s1">&#39;server_uno&#39;</span> <span class="k">foreign</span> <span class="k">data</span> <span class="n">wrapper</span> <span class="s1">&#39;mysql&#39;</span> <span class="k">options</span>
  <span class="p">(</span><span class="k">HOST</span> <span class="s1">&#39;127.0.0.1&#39;</span><span class="p">,</span>
  <span class="k">DATABASE</span> <span class="s1">&#39;db1&#39;</span><span class="p">,</span>
  <span class="k">USER</span> <span class="s1">&#39;root&#39;</span><span class="p">,</span>
  <span class="n">PASSWORD</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
  <span class="n">PORT</span> <span class="mi">3306</span><span class="p">,</span>
  <span class="n">SOCKET</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
  <span class="k">OWNER</span> <span class="s1">&#39;root&#39;</span><span class="p">);</span>
</pre><p>E successivamente si crea la tabella FederatedX associandole il server Federated appena creato:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">federatedx</span><span class="p">.</span><span class="n">t1</span> <span class="p">(</span>
  <span class="o">`</span><span class="n">id</span><span class="o">`</span> <span class="nb">int</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="o">`</span><span class="n">name</span><span class="o">`</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">64</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="k">default</span> <span class="s1">&#39;&#39;</span>
  <span class="p">)</span>
<span class="n">ENGINE</span><span class="o">=</span><span class="ss">&quot;FEDERATED&quot;</span> <span class="k">DEFAULT</span> <span class="n">CHARSET</span><span class="o">=</span><span class="n">latin1</span>
<span class="k">CONNECTION</span><span class="o">=</span><span class="s1">&#39;server_one&#39;</span><span class="p">;</span>
</pre><p>(Si noti che in MariaDB, lo Storage Engine originale Federated è stato sostituito con il nuovo FederatedX. Per garantire la compatibilità all'indietro è stato mantenuto il vecchio nome "FEDERATED", che quindi va usato nella create table. Perciò in MariaDB, il nome dello SE dovrebbe essere specificato come "FEDERATED" senza la "X" finale).</p>
<p>Ecco l'equivalente di quanto è stato fatto sopra, utilizzando i parametri di connessione:</p>
<pre class="fixed"><span class="k">CONNECTION</span><span class="o">=</span><span class="ss">&quot;mysql://<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="daa8b5b5ae9aebe8edf4eaf4eaf4eb">[email&#160;protected]</a>:3306/db1/t1&quot;</span>
</pre><p>E' anche possibile far sì che un server già definito punti a un nuovo schema:</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="n">SERVER</span> <span class="s1">&#39;server_uno&#39;</span> <span class="k">options</span><span class="p">(</span><span class="k">DATABASE</span> <span class="s1">&#39;db2&#39;</span><span class="p">);</span>
</pre><p>Tutte le chiamate seguenti a una qualsiasi tabella FederatedX che utilizza 'server_uno' ora utilizzeranno db2.t1!E indovina? Non occorre eseguire un alter table per aggiornare le tabelle FederatedX al nuovo server!</p>
<p>Questa stringa di connessione, o <code class="highlight fixed" style="white-space:pre-wrap">connecton="connection string"</code>, è necessaria perché l'handler possa connettersi al server remoto (utilizzando un URL oppure il nome del server).</p>
<h4 class="anchored_heading" id="chiamate-ai-metodi">Chiamate ai metodi</h4>
<p>Un modo per capire come funziona lo Storage Engine FederatedX è compilare una build di debug debug di MariaDB e abilitare il logging del trace. Usando una tabella di due colonne, con un record, insieme alle istruzioni SQL mostrate sotto, è possibile sapere quali metodi interni vengono chiamati e cosa fanno.</p>
<h5 class="anchored_heading" id="select">SELECT</h5>
<p>Se ad esempio la query è "<code class="fixed" style="white-space:pre-wrap"><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">foo</span>
</code>", allora i primi metodi principali che si vedranno son il debug abilitato saranno:</p>
<pre class="fixed">ha_federatedx::info
ha_federatedx::scan_time:
ha_federatedx::rnd_init: share-&gt;select_query SELECT * FROM foo
ha_federatedx::extra
</pre><p>Poi per ogni riga estratta dal database esterno:</p>
<pre class="fixed">ha_federatedx::rnd_next
ha_federatedx::convert_row_to_internal_format
ha_federatedx::rnd_next
</pre><p>Dopo che tutte le righe dei dati sono state lette, si vede:</p>
<pre class="fixed">ha_federatedx::rnd_end
ha_federatedx::extra
ha_federatedx::reset
</pre><h5 class="anchored_heading" id="insert">INSERT</h5>
<p>Se la query è "<code class="fixed" style="white-space:pre-wrap"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">foo</span> <span class="p">(</span><span class="n">id</span><span class="p">,</span> <span class="n">ts</span><span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">now</span><span class="p">());</span>
</code>", il trace è:</p>
<pre class="fixed">ha_federatedx::write_row
ha_federatedx::reset
</pre><h5 class="anchored_heading" id="update">UPDATE</h5>
<p>Se la query è "<code class="fixed" style="white-space:pre-wrap"><span class="k">UPDATE</span> <span class="n">foo</span> <span class="k">SET</span> <span class="n">ts</span> <span class="o">=</span> <span class="n">now</span><span class="p">()</span> <span class="k">WHERE</span> <span class="n">id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</code>", il trace risultante è il seguente:</p>
<pre class="fixed">ha_federatedx::index_init
ha_federatedx::index_read
ha_federatedx::index_read_idx
ha_federatedx::rnd_next
ha_federatedx::convert_row_to_internal_format
ha_federatedx::update_row

ha_federatedx::extra
ha_federatedx::extra
ha_federatedx::extra
ha_federatedx::external_lock
ha_federatedx::reset
</pre><h3 class="anchored_heading" id="possibilità-e-limitazioni-di-federatedx">Possibilità e limitazioni di FederatedX</h3>
<ul start="1"><li>Le tabelle DEVONO essere state create sul server esterno prima che l'handler possa svolgere qualsiasi operazione su di esse, prima versione. IMPORTANTE: se si deve utilizzare FederatedX sul server remoto, bisogna assicurarsi che la tabella alla quale ci si connette non punti alla tabella originale! E' come mettere due specchi uno di fronte all'altro, con il rifletto che continua all'infinito.
</li><li>Non c'è modo, per l'handler, di sapere se il database esterno o la tabella remota sono stati modificati. Il motivo è che tale database funziona come un file dei dati, il quale si spera non venga mai modificato da nient'altro all'infuori del database. L'integrità dei dati della tabella locale potrebbe guastarsi, nel caso in cui il database esterno venga modificato.
</li><li>Supporta SELECT, INSERT, UPDATE , DELETE e gli indici.
</li><li>Non ci sono chiamate ad ALTER TABLE, DROP TABLE o altri comandi del Data Definition Language.
</li><li>I prepared statement non vengono utilizzati nella prima implementazione, resta da capire se il limitato sottoinsieme dell'API client li supporta.
</li><li>Questa implementazione utilizza SELECT, INSERT, UPDATE, DELETE, ma non HANDLER.
</li><li>Non funziona con la cache delle query.
</li></ul>
<h3 class="anchored_heading" id="come-si-usa-federatedx">Come si usa FederatedX?</h3>
<p>Utilizzare questo handler è molto semplice. Occorre avere due database funzionanti che possono trovarsi sullo stesso host o su macchine differenti.</p>
<p>Dopo che un server si è collegato all'host esterno (client), si crea una tabella in questo modo:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">test_table</span> <span class="p">(</span>
  <span class="n">id</span>     <span class="nb">int</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="n">auto_increment</span><span class="p">,</span>
  <span class="n">name</span>   <span class="nb">varchar</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="k">default</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
  <span class="n">other</span>  <span class="nb">int</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="k">default</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span>
  <span class="k">PRIMARY</span> <span class="k">KEY</span>  <span class="p">(</span><span class="n">id</span><span class="p">),</span>
  <span class="k">KEY</span> <span class="n">name</span> <span class="p">(</span><span class="n">name</span><span class="p">),</span>
  <span class="k">KEY</span> <span class="n">other_key</span> <span class="p">(</span><span class="n">other</span><span class="p">))</span>
<span class="n">ENGINE</span><span class="o">=</span><span class="ss">&quot;FEDERATED&quot;</span>
<span class="k">DEFAULT</span> <span class="n">CHARSET</span><span class="o">=</span><span class="n">latin1</span>
<span class="k">CONNECTION</span><span class="o">=</span><span class="s1">&#39;mysql://<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="22504d4d56621310150c120c120c13">[email&#160;protected]</a>:9306/federatedx/test_federatedx&#39;</span><span class="p">;</span>
</pre><p>Si notino i campi "ENGINE" e "CONNECTION": qui si impostano rispettivamente lo Storage Engine, "FEDERATED" appunto, e i dati relativi all'host esterno, cioè il database al quale il client si connette e che viene usato come file dei dati. Ovviamente, il database esterno gira sulla porta 9306, e anche l'altro è impostato per collegarsi alla stessa porta, mentre il database FederatedX su una porta differente. In questo ambiente, si utilizza la porta 5554 per FederatedX e la porta 5555 per il database esterno.</p>
<p>Poi, sul database esterno:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">test_table</span> <span class="p">(</span>
  <span class="n">id</span>     <span class="nb">int</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="n">auto_increment</span><span class="p">,</span>
  <span class="n">name</span>   <span class="nb">varchar</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="k">default</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
  <span class="n">other</span>  <span class="nb">int</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="k">default</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span>
  <span class="k">PRIMARY</span> <span class="k">KEY</span>  <span class="p">(</span><span class="n">id</span><span class="p">),</span>
  <span class="k">KEY</span> <span class="n">name</span> <span class="p">(</span><span class="n">name</span><span class="p">),</span>
  <span class="k">KEY</span> <span class="n">other_key</span> <span class="p">(</span><span class="n">other</span><span class="p">))</span>
<span class="n">ENGINE</span><span class="o">=</span><span class="ss">&quot;&lt;NAME&gt;&quot;</span> <span class="o">&lt;</span><span class="c1">-- whatever you want, or not specify</span>
<span class="k">DEFAULT</span> <span class="n">CHARSET</span><span class="o">=</span><span class="n">latin1</span> <span class="p">;</span>
</pre><p>Questa tabella è identica (e deve esserlo necessariamente), eccetto per il fatto che non utilizza l'handler FederatedX e non ha bisogno di un URL.</p>
<h4 class="anchored_heading" id="come-vedere-lo-storage-engine-in-azione">Come vedere lo Storage Engine in azione</h4>
<p>Sviluppando questo handler, ho compilato il database con FederatedX per il debug:</p>
<pre class="fixed">./configure --with-federatedx-storage-engine <span class="se">\</span>
  --prefix<span class="o">=</span>/home/mysql/mysql-build/federatedx/ --with-debug
</pre><p>Una volta compilato, ho lanciato un 'make install' (non allo scopo di installare i binari, ma per installare tutti i file che l'eseguibile si aspetta di trovare nella diretory che ho specificato nella build con:</p>
<pre class="fixed">--prefix<span class="o">=</span>/home/code-dev/maria
</pre><p>Poi ho riavviato il server esterno:</p>
<pre class="fixed">/usr/local/mysql/bin/mysqld_safe <span class="se">\</span>
  --user<span class="o">=</span>mysql --log<span class="o">=</span>/tmp/mysqld.5555.log -P 5555
</pre><p>Dopodiché sono tornato alla directory contenente il mysqld appena compilato<code class="highlight fixed" style="white-space:pre-wrap">&lt;builddir&gt;/sql/</code>, e ho avviato gdb:</p>
<pre class="fixed">gdb ./mysqld
</pre><p>E nel prompt di gdb:</p>
<pre class="fixed"><span class="o">(</span>gdb<span class="o">)</span> run --gdb --port<span class="o">=</span><span class="m">5554</span> --socket<span class="o">=</span>/tmp/mysqld.5554 --skip-innodb --debug
</pre><p>Successivamente ho aperto diverse finestre e per ognuna:</p>
<ol start="1"><li>Un tail sul trace: tail -f /tmp/mysqld.trace|grep ha_fed
</li><li>Un tail sulle chiamate SQL al database esterno: tail -f /tmp/mysqld.5555.log
</li><li>Una finestra con un client aperto sul server FederatedX alla porta 5554
</li><li>Una finestra con un client aperto sul server federatedx alla porta 5555
</li></ol>
<p>Ho creato una tabella sul server esterno sulla porta 5555, e poi sul server FederatedX 5554. A questo punto posso eseguire tutte le query che voglio sul server FederatedX ricordando sempre che qualsiasi cambiamento io faccia sulla tabelle, o se creo nuove tabelle, dovrò poi ripeterlo sul server esterno.</p>
<p>Un comando da controllare è 'show variables', che dice che FederatedX è supportato:</p>
<pre class="fixed"><span class="k">show</span> <span class="n">variables</span> <span class="k">like</span> <span class="s1">&#39;%federat%&#39;</span>
</pre><p>e poi:</p>
<pre class="fixed"><span class="k">show</span> <span class="k">storage</span> <span class="n">engines</span><span class="p">;</span>
</pre><p>Entrambi mostra l'handler FederatedX.</p>
<h3 class="anchored_heading" id="come-si-crea-un-server-federated">Come si crea un server Federated?</h3>
<p>Un server Federated è un modo per definire una fonte di dati, con tutti i parametri della connessione, per non doverli specificare esplicitamente in una stringa.</p>
<p>Per esempio, supponiamo di avere una tabella t1 che si specifica in questo modo:</p>
<pre class="fixed"><span class="k">connection</span><span class="o">=</span><span class="ss">&quot;mysql://<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="f686978291b6c7cfc4d8c7c0ced8c7d8c7c4c5">[email&#160;protected]</a>/first_db/t1&quot;</span>
</pre><p>E' possibile definire un server:</p>
<pre class="fixed"><span class="k">create</span> <span class="n">server</span> <span class="s1">&#39;server_one&#39;</span> <span class="k">foreign</span> <span class="k">data</span> <span class="n">wrapper</span> <span class="s1">&#39;mysql&#39;</span> <span class="k">options</span>
  <span class="p">(</span><span class="k">HOST</span> <span class="s1">&#39;192.168.1.123&#39;</span><span class="p">,</span>		
  <span class="k">DATABASE</span> <span class="s1">&#39;first_db&#39;</span><span class="p">,</span>		
  <span class="k">USER</span> <span class="s1">&#39;patg&#39;</span><span class="p">,</span>
  <span class="n">PASSWORD</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
  <span class="n">PORT</span> <span class="mi">3306</span><span class="p">,</span>
  <span class="n">SOCKET</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>		
  <span class="k">OWNER</span> <span class="s1">&#39;root&#39;</span><span class="p">);</span>
</pre><p>Ora si può specificare il server invece della stringa di connessione completa:</p>
<pre class="fixed"><span class="k">connect</span><span class="o">=</span><span class="ss">&quot;server_one&quot;</span>
</pre><h3 class="anchored_heading" id="in-che-modo-federatedx-differisce-dal-vecchio-federated">In che modo FederatedX differisce dal vecchio Federated?</h3>
<p>FederatedX, dal punto di vista dell'utente, rimane invariato in quasi tutte le sue parti. Le differenze tra FederatedX e Federated sono le seguenti:</p>
<ul start="1"><li>Riscritto il codice sorgente principale di Federated da un singolo file ha_federated.cc in tre componenti astratti principali:
<ul start="1"><li>ha_federatedx.cc - Il cuore dell'implementazione di FederatedX
</li><li>federated_io.cc - Classe connection padre che viene sovrascritta da ogni libreria client per i vari RDBMS
</li><li>federatated_io_&lt;driver&gt;.cc - Classe derivata federated_io per un dato RDBMS
</li><li>federated_txn.cc - Nuovo supporto per gli engine transazionali sul server remoto che utilizzano un poll di connessioni
</li></ul>
</li><li>Vari bug corretti (bisogna guardare i bug aperti di Federated)
</li></ul>
<h3 class="anchored_heading" id="dove-posso-ottenere-federatedx">Dove posso ottenere FederatedX?</h3>
<p>FederatedX è parte di <a href="/kb/en/what-is-mariadb-51/">MariaDB 5.1</a> e successivo. MariaDB importa il FederatedX più recente quando c'è bisogno di correggere un bug. Si può ottenere il codice dalla <a href="http://launchpad.net/federatedx">home page di FederatedX</a>.</p>
<h3 class="anchored_heading" id="quali-sono-i-piani-futuri-per-federatedx">Quali sono i piani futuri per FederatedX?</h3>
<ul start="1"><li>Supporto per altri RDBMS attraverso ODBC
</li><li>Supporto per il pushdown delle condizioni
</li><li>Possibilità di limitare le dimensioni dei set di risultati
</li></ul>

    </div>


        
            <div id="subscribe" class="well well-small hide hidden-print"
                 data-subscribe-url="/kb/it/about-federatedx/+subscriptions/add"
                 data-unsubscribe-url="/kb/it/about-federatedx/+subscriptions/remove">
            </div>
        

        
        
    
        <div class="simple_section_nav">
            <ul class="nav nav-pills">
                
                    <li><a href="/kb/it/differenze-tra-federatedx-e-federated/">
                        ← Differenze tra FederatedX e Federated
                    </a>
                    </li>
                
                
                    <li><a href="/kb/it/federatedx/">
                        ↑ FederatedX ↑
                    </a>
                    </li>
                
                
            </ul>
        </div>
    

        

        
        <h2>Commenti</h2>
        
    
    <div id="comments" data-node-id="2599" data-comments-url="/kb/it/about-federatedx/+comments"
         data-reply-url="/kb/it/about-federatedx/comments/post/">
        Sto caricando i commenti......
    </div>

        

    </div>


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
                <div id="right_bar" class="col-md-2">
                    
    
        
        <ul class="section_navigation well well-small hidden-xs hidden-sm">
            
                <li class="parent"><a href="/kb/it/federatedx/">
                    ↑ FederatedX ↑
                </a>
                </li>
            
            
                
                    <li>
                        <a href="/kb/it/differenze-tra-federatedx-e-federated/">
                            
                            Differenze tra FederatedX e Federated
                        </a>
                    </li>
                
            
                
                    <li class="active">
                        <span>Informazioni su FederatedX</span>
                        
                    </li>
                
            
        </ul>
    
    

                </div>
            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/services" title="Services">Services</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">About Us</a></h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/download" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2025 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.1587e3a666fc.js" charset="utf-8"></script>

</html>