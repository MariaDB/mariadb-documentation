<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>Informazioni su SphinxSE - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.f7633538c846.css" rel="stylesheet" type="text/css" />

    

    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="Informazioni su SphinxSE" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/it/informazioni-su-sphinxse/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="
Abilitare SphinxSE in MariaDB
A partire da MariaDB 5.2.2, lo Storage Engine Sphinx è incluso nei sorgenti, nei binari e nei pacchetti di MariaDB. SphinxSE è compilato come pl..." />

    <meta name="description" content="
Abilitare SphinxSE in MariaDB
A partire da MariaDB 5.2.2, lo Storage Engine Sphinx è incluso nei sorgenti, nei binari e nei pacchetti di MariaDB. SphinxSE è compilato come pl..." />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes products nodes_view jqui" id="nodes_view">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/it/informazioni-su-sphinxse/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2025 MariaDB. All rights reserved.</p>
    </div>
</div>
<div class="violator-wrap d-none" id="top_violator">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12">
                <div class="violator-outer">
                    <div class="violator-inner">
                        <div class="row">
                            <div class="col-xs-12 col-sm-9 col-lg-7 col-lg-offset-2" id="top_violator_content">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="content-link" target="_blank" rel="nofollow noreferrer">
                                    <span>The Ultimate Guide to High Availability with MariaDB</span>
                                </a>
                            </div>
                            <div class="col-xs-12 col-sm-3" id="top_violator_cta">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="btn btn-mariadb" target="_blank" rel="nofollow noreferrer">Download Now</a>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn btn-link close-btn">
                        <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" width="15px" height="15px"><path d="M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/it/informazioni-su-sphinxse/" rel="nofollow">Accesso</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/it/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/it/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/solutions" title="Solutions">Solutions</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="Company">Company</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/it/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/it/mariadb-italiano/">MariaDB - Italiano</a>
    

    
    » <a class="crumb" href="/kb/it/storage-engine/">Storage Engine</a>
    

    
    » <a class="crumb" href="/kb/it/sphinxse/">SphinxSE</a>
    


    » <a class="node_link crumb" href="/kb/it/informazioni-su-sphinxse/">Informazioni su SphinxSE</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/it/">Pagina iniziale</a></li>
                            
                                
                                    <li><a href="/kb/it/+questions/">Domande Aperte</a></li>
                                
                                <li><a href="/kb/it/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/it/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/it/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/it/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
<div>



<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-blue btn-sm" href="/kb/it/informazioni-su-sphinxse/+history" rel="nofollow">Cronologia</a>
        
        
        
        <a class="btn btn-block btn-blue btn-sm" href="/kb/it/informazioni-su-sphinxse/+source/">Source</a>
        
        <a class="btn btn-block btn-blue btn-sm flag" href="/kb/it/informazioni-su-sphinxse/+flag"
                data-flag-url="/kb/it/informazioni-su-sphinxse/+flag" rel="nofollow">
                Flag as Spam / Inappropriate</a>
        
        <a class="btn btn-block btn-blue btn-sm" href="/kb/it/informazioni-su-sphinxse/+translate/">
                Traduci</a>
        

</div>
</div>





<div class="well well-small box node_info"><div>

    <dl>
        <dt>Creato</dt>
        <dd>

<span class="datetime" title="2012-02-07 21:10">13 anni, 3 mesi ago</span></dd>

        <dt>Modificato</dt>
        <dd>

<span class="datetime" title="2012-04-19 13:52">13 anni ago</span></dd>

        <dt>Tipo</dt>
        <dd>article</dd>

        <dt>Stato</dt>
        <dd>active</dd>

        <dt>Licenza</dt>
        <dd>
            
                <a href="/kb/it/informazioni-su-sphinxse/+license/">CC BY-SA / Gnu FDL</a>
            
        </dd>

        
    </dl>

    
    <ul class="rss_feeds">
        <li><a href="/kb/it/informazioni-su-sphinxse/+history/feed/">
            Cronologia</a>
        </li>
        <li><a href="/kb/it/informazioni-su-sphinxse/+comments/feed/">
            Commenti</a>
        </li>
    </ul>
    

</div>
</div>





    
    
    

<div class="well well-small box attachments"><div><div class="edit_link pull-right"><a href="/kb/it/informazioni-su-sphinxse/+edit/attachments/">Edit</a></div><h5>Attachments</h5></div><div>

        
            <div class="no_data">No attachments exist</div>
        
    
</div>
</div>

    



    
    
        

<div class="well well-small box"><div><h5>Versioni Localizzate</h5></div><div>

        <ul>
            
            <li><a href="/kb/en/about-sphinxse/">About SphinxSE</a> [en]</li>
            
        </ul>
        
</div>
</div>

    






</div>


                    

































                </aside>
            
            
            
                
            
            
                
            
            <section id="content" class="limited_width col-md-8 clearfix">
                
                    <h1>Informazioni su SphinxSE</h1>
                

                



                <div>
                    
    

    
    
    

    <div class="node creole">
        
        
        


    
    <div class="answer formatted">
        <div class="table_of_contents well well-small">
<h3>Contents</h3>
 <ol class="toc">

    <li class=""><a href="#abilitare-sphinxse-in-mariadb" title="Abilitare SphinxSE in MariaDB">Abilitare SphinxSE in MariaDB</a></li>

    <li class=""><a href="#usare-sphinxse" title="Usare SphinxSE ==">Usare SphinxSE ==</a>    <ol class="toc">

        <li class=""><a href="#utilizzo-di-base" title="Utilizzo di base ===">Utilizzo di base ===</a></li>

        <li class=""><a href="#opzioni-di-ricerca" title="Opzioni di ricerca ===">Opzioni di ricerca ===</a></li>

        <li class=""><a href="#show-engine-sphinx-status" title="SHOW ENGINE SPHINX STATUS ===">SHOW ENGINE SPHINX STATUS ===</a></li>

        <li class=""><a href="#le-join-con-sphinxse" title="Le JOIN con SphinxSE ===">Le JOIN con SphinxSE ===</a>    </ol>
</li>

    <li class=""><a href="#creare-degli-snippet-estratti-con-mariadb" title="Creare degli snippet (estratti) con MariaDB ==">Creare degli snippet (estratti) con MariaDB ==</a></li>

    <li class=""><a href="#versioni-di-sphinx-utilizzate" title="Versioni di Sphinx utilizzate ==">Versioni di Sphinx utilizzate ==</a></li>

    <li class=""><a href="#ulteriori-informazioni" title="Ulteriori informazioni ==">Ulteriori informazioni ==</a> </ol>
</li>
</div>
<h2 class="anchored_heading" id="abilitare-sphinxse-in-mariadb">Abilitare SphinxSE in MariaDB</h2>
<p>A partire da <a href="/kb/en/mariadb-522-release-notes/">MariaDB 5.2.2</a>, lo Storage Engine Sphinx è incluso nei sorgenti, nei binari e nei pacchetti di MariaDB. SphinxSE è compilato come plugin .so caricabile dinamicamente. Per utilizzarlo occorre eseguire un'unica volta:
<code class="highlight fixed" style="white-space:pre-wrap"><a href="/kb/en/install-plugin/">INSTALL PLUGIN</a></code>:</p>
<pre class="fixed">MariaDB [(none)]&gt; INSTALL PLUGIN sphinx SONAME 'ha_sphinx.so';
Query OK, 0 rows affected (0.00 sec)
</pre><p>Una volta installato, SphinxSE apparirà nell'elenco degli Storage Engine installati:</p>
<pre class="fixed">MariaDB [(none)]&gt; show engines;
+------------+---------+--------------------------------------------+--------------+------+------------+
| Engine     | Support | Comment                                    | Transactions | XA   | Savepoints |
+------------+---------+--------------------------------------------+--------------+------+------------+
...
| SPHINX     | YES     | Sphinx storage engine 0.9.9                | NO           | NO   | NO         |
...
+------------+---------+--------------------------------------------+--------------+------+------------+
</pre><p>Questo deve essere fatto una sola volta.</p>
<div class="cstm-style greenbox"><p><strong>Nota:</strong> SphinxSE è solo la parte di Sphinx che funge da Storage Engine. Per poterlo utilizzare in MariaDB, occorre installare <a href="http://sphinxsearch.com/">Sphinx</a>.</p>
</div><p>A dispetto del suo nome, SphinxSE di per sé non gestisce i dati. In effetti non è altro che un client built-in che permette a MariaDB di comunicare con searchd, eseguire ricerche e ottenere i risultati. Tutta la parte di indicizzazione e di ricerca avviene fuori da MariaDB.</p>
<p>Ecco alcune applicazioni di SphinxSE:</p>
<ul start="1"><li>port più semplice delle applicazioni FTS MariaDB/MySQL a Sphinx
</li><li>permettere l'uso di Sphinx con linguaggi di programmazione che non dispongono ancora delle API necessarie
</li><li>ottimizzazioni che riguardano l'elaborazione del set dei risultati di Sphinx dal lato di MariaDB (esempi; JOIN con la tabella dei documenti originali, ulteriori filtri operati da MariaDB, etc...)
</li></ul>
<h2 class="anchored_heading" id="usare-sphinxse">Usare SphinxSE</h2>
<h3 class="anchored_heading" id="utilizzo-di-base">Utilizzo di base</h3>
<p>Per effettuare ricerche con SphinxSE, occorre creare una particolare "tabella di ricerca"
<code class="highlight fixed" style="white-space:pre-wrap">ENGINE=SPHINX</code>, ed effettuare una
<code class="highlight fixed" style="white-space:pre-wrap">SELECT</code> su di essa, con la query full text nella clausola
<code class="highlight fixed" style="white-space:pre-wrap">WHERE</code>.</p>
<p>Ecco un esempio di istruzione CREATE e di query per la ricerca:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="nf">t1</span>
<span class="p">(</span>
    <span class="n">id</span>          <span class="kt">INTEGER</span> <span class="k">UNSIGNED</span> <span class="k">NOT</span> <span class="no">NULL</span><span class="p">,</span>
    <span class="n">weight</span>      <span class="kt">INTEGER</span> <span class="k">NOT</span> <span class="no">NULL</span><span class="p">,</span>
    <span class="n">query</span>       <span class="kt">VARCHAR</span><span class="p">(</span><span class="mi">3072</span><span class="p">)</span> <span class="k">NOT</span> <span class="no">NULL</span><span class="p">,</span>
    <span class="n">group_id</span>    <span class="kt">INTEGER</span><span class="p">,</span>
    <span class="k">INDEX</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
<span class="p">)</span> <span class="kp">ENGINE</span><span class="o">=</span><span class="n">SPHINX</span> <span class="n">CONNECTION</span><span class="o">=</span><span class="s2">&quot;sphinx://localhost:9312/test&quot;</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t1</span> <span class="k">WHERE</span> <span class="n">query</span><span class="o">=</span><span class="s1">&#39;test it;mode=any&#39;</span><span class="p">;</span>
</pre><p>Le prime tre colonne della tabella devono essere dei seguenti tipi:
<code class="highlight fixed" style="white-space:pre-wrap">INTEGER</code> <code class="highlight fixed" style="white-space:pre-wrap">UNSINGED</code> o
<code class="highlight fixed" style="white-space:pre-wrap">BIGINT</code> per la prima colonna (id del documento),
<code class="highlight fixed" style="white-space:pre-wrap">INTEGER</code> o <code class="highlight fixed" style="white-space:pre-wrap">BIGINT</code> per la seconda colonna
("peso" della corrispondenza) e <code class="highlight fixed" style="white-space:pre-wrap">VARCHAR</code> o <code class="highlight fixed" style="white-space:pre-wrap">TEXT</code> per la terza colonna (la query). Queste associazioni sono fisse; non si può omettere una di queste tre colonne, modificare la loro posizione o cambiare i tipi. Inoltre la colonna query deve essere indicizzata; tutte le altre devono essere mantenute senza indici. I nomi delle colonne vengono ignorati, perciò è possibile sceglierli arbitrariamente.</p>
<p>Le colonne aggiuntive possono essere <code class="highlight fixed" style="white-space:pre-wrap">INTEGER</code>,
<code class="highlight fixed" style="white-space:pre-wrap">TIMESTAMP</code>, <code class="highlight fixed" style="white-space:pre-wrap">BIGINT</code>,
<code class="highlight fixed" style="white-space:pre-wrap">VARCHAR</code> o <code class="highlight fixed" style="white-space:pre-wrap">FLOAT</code>. Saranno legate agli attributi forniti nel set di risultati forniti da Sphinx in base al loro nome, perciò i loro nomi devono corrispondere ai nomi degli attributi specificati in <code class="highlight fixed" style="white-space:pre-wrap">sphinx.conf</code>. Se nei risultati non sono presenti nomi di attributi, le colonne aggiuntive avranno valori <code class="highlight fixed" style="white-space:pre-wrap">NULL</code>.</p>
<p>Alcuni particolari nomi di attributi "virtuali" possono essere associati alle colonne SphinxSE.
<code class="highlight fixed" style="white-space:pre-wrap">_sph_</code> deve essere usato al posto di <code class="highlight fixed" style="white-space:pre-wrap">@</code>. Per esempio, per ottenere i valori degli attributi virtuali '<code class="highlight fixed" style="white-space:pre-wrap">@groupby</code>', '<code class="highlight fixed" style="white-space:pre-wrap">@count</code>' o '<code class="highlight fixed" style="white-space:pre-wrap">@distinct</code>', si usano rispettivamente i nomi di colonna '<code class="highlight fixed" style="white-space:pre-wrap">_sph_groupby</code>', '<code class="highlight fixed" style="white-space:pre-wrap">_sph_count</code>' o '<code class="highlight fixed" style="white-space:pre-wrap">_sph_distinct</code>'.</p>
<p>Il parametro stringa <code class="highlight fixed" style="white-space:pre-wrap">CONNECTION</code> serve a specificare l'host <code class="highlight fixed" style="white-space:pre-wrap">searchd</code> predefinito, la porta e gli indici per le query lanciate sulla tabella. Se non viene fornita alcune stringa di connessione nella <code class="highlight fixed" style="white-space:pre-wrap">CREATE TABLE</code>, saranno usati il nome di indice '<code class="highlight fixed" style="white-space:pre-wrap">*</code>' (cioè tutti gli indici) e '<code class="highlight fixed" style="white-space:pre-wrap">localhost:9312</code>'. La sintassi della stringa di connessione è la seguente:</p>
<pre class="fixed">CONNECTION=&#34;sphinx://HOST:PORTA/NOMEINDICE&#34;
</pre><p>E' possibile modificare successivamente la stringa di connessione predefinita, in questo modo:</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="n">CONNECTION</span><span class="o">=</span><span class="s2">&quot;sphinx://NUOVO_HOST:NUOVA_PORTA/NUOVO_NOMEINDICE&quot;</span><span class="p">;</span>
</pre><p>E' anche possibile per le singole query scavalcare questi parametri.</p>
<h3 class="anchored_heading" id="opzioni-di-ricerca">Opzioni di ricerca</h3>
<p>Come visto nell'esempio sopra, il testo delle query e le opzioni di ricerca dovrebbero essere inseriti nella clausola '<code class="fixed" style="white-space:pre-wrap">WHERE</code>' nella colonna delle query (cioè la terza colonna); le opzioni sono separate da punti e virgola ('<code class="fixed" style="white-space:pre-wrap">;</code>') e i nomi devono essere separati dai valori tramite il segno uguale ('<code class="fixed" style="white-space:pre-wrap">=</code>'). E' possibile specificare un qualsiasi numero di opzioni. Le opzioni disponibili sono:</p>
<ul start="1"><li>query - il testo della query;
</li><li>mode - modalità di corrispondenza. Può essere: "all", "any", "phrase", "boolean" o "extended". Il predefinito è "all";
</li><li>sort - modalità di orginamento. Può essere "relevance", "attr_desc",
  "attr_asc", "time_segments" o "extended". In tutte le modalità, eccetto "relevance", deve essere specificato il nome dell'attributo (o la clausola di ordinamento, nel caso di "extended") dopo un segno di due punti: </li></ul>
<pre class="fixed"><span class="p">...</span> <span class="k">WHERE</span> <span class="n">query</span><span class="o">=</span><span class="s1">&#39;test;sort=attr_asc:group_id&#39;</span><span class="p">;</span>
<span class="p">...</span> <span class="k">WHERE</span> <span class="n">query</span><span class="o">=</span><span class="s1">&#39;test;sort=extended:@weight desc, group_id asc&#39;</span><span class="p">;</span>
</pre><ul start="1"><li>offset - offset nel set dei risultati, il default è 0;
</li><li>limit - il numero di righe da estrarre dai risultati, il default è 20;
</li><li>index - i nomi degli indici da cercare: </li></ul>
<pre class="fixed"><span class="p">...</span> <span class="k">WHERE</span> <span class="n">query</span><span class="o">=</span><span class="s1">&#39;test;index=test1;&#39;</span><span class="p">;</span>
<span class="p">...</span> <span class="k">WHERE</span> <span class="n">query</span><span class="o">=</span><span class="s1">&#39;test;index=test1,test2,test3;&#39;</span><span class="p">;</span>
</pre><ul start="1"><li>minid, maxid - ID del documento minimo e massimo;
</li><li>weights - elenco dei pesi, separato da virgole, da assegnare ai campi full-text di Sphinx:</li></ul>
<pre class="fixed"><span class="p">...</span> <span class="k">WHERE</span> <span class="n">query</span><span class="o">=</span><span class="s1">&#39;test;weights=1,2,3;&#39;</span><span class="p">;</span>
</pre><ul start="1"><li>filter, !filter - nomi di attributi separati da virgole e i valori associati: </li></ul>
<pre class="fixed"><span class="c1"># include solo i gruppi 1, 5 e 19</span>
<span class="p">...</span> <span class="k">WHERE</span> <span class="n">query</span><span class="o">=</span><span class="s1">&#39;test;filter=group_id,1,5,19;&#39;</span><span class="p">;</span>

<span class="c1"># esclude i gruppi 3 e 11</span>
<span class="p">...</span> <span class="k">WHERE</span> <span class="n">query</span><span class="o">=</span><span class="s1">&#39;test;!filter=group_id,3,11;&#39;</span><span class="p">;</span>
</pre><ul start="1"><li>range, !range - nomi di attributi separati da virgole, valori minimi e massimi: </li></ul>
<pre class="fixed"><span class="c1"># include i gruppi da 3 a 7 compresi</span>
<span class="p">...</span> <span class="k">WHERE</span> <span class="n">query</span><span class="o">=</span><span class="s1">&#39;test;range=group_id,3,7;&#39;</span><span class="p">;</span>

<span class="c1"># esclude i gruppi da 5 a 25</span>
<span class="p">...</span> <span class="k">WHERE</span> <span class="n">query</span><span class="o">=</span><span class="s1">&#39;test;!range=group_id,5,25;&#39;</span><span class="p">;</span>
</pre><ul start="1"><li>maxmatches - valori delle corrispondenza per ogni query: </li></ul>
<pre class="fixed"><span class="p">...</span> <span class="k">WHERE</span> <span class="n">query</span><span class="o">=</span><span class="s1">&#39;test;maxmatches=2000;&#39;</span><span class="p">;</span>
</pre><ul start="1"><li>groupby - funzione e attributo group-by: </li></ul>
<pre class="fixed"><span class="p">...</span> <span class="k">WHERE</span> <span class="n">query</span><span class="o">=</span><span class="s1">&#39;test;groupby=day:published_ts;&#39;</span><span class="p">;</span>
<span class="p">...</span> <span class="k">WHERE</span> <span class="n">query</span><span class="o">=</span><span class="s1">&#39;test;groupby=attr:group_id;&#39;</span><span class="p">;</span>
</pre><ul start="1"><li>groupsort - clausola di ordinamento group-by: </li></ul>
<pre class="fixed"><span class="p">...</span> <span class="k">WHERE</span> <span class="n">query</span><span class="o">=</span><span class="s1">&#39;test;groupsort=@count desc;&#39;</span><span class="p">;</span>
</pre><ul start="1"><li>indexweights - elenco separato da virgole dei nomi degli indici e dei pesi da usare nel cercare nei diversi indici: </li></ul>
<pre class="fixed"><span class="p">...</span> <span class="k">WHERE</span> <span class="n">query</span><span class="o">=</span><span class="s1">&#39;test;indexweights=idx_exact,2,idx_stemmed,1;&#39;</span><span class="p">;</span>
</pre><ul start="1"><li>comment - una stringa da associare a questa query nel log delle query (associata al parametro $comment nella chiamata a Query()): </li></ul>
<pre class="fixed"><span class="p">...</span> <span class="k">WHERE</span> <span class="n">query</span><span class="o">=</span><span class="s1">&#39;test;comment=marker001;&#39;</span><span class="p">;</span>
</pre><ul start="1"><li>select - una stringa con le espressioni da calcolare (associate alla chiamata a SetSelect()): </li></ul>
<pre class="fixed"><span class="p">...</span> <span class="k">WHERE</span> <span class="n">query</span><span class="o">=</span><span class="s1">&#39;test;select=2*a+3*b as myexpr;&#39;</span><span class="p">;</span>
</pre><div class="cstm-style greenbox"><p><strong>Nota:</strong> E' molto più efficiente permettere a Sphinx di effettuare l'ordinamento, il filtraggio e la riduzione dei risultati, piuttosto che ottenere il massimo dei risultati e utilizzare le clausole '<code class="highlight fixed" style="white-space:pre-wrap">WHERE</code>', '<code class="highlight fixed" style="white-space:pre-wrap">ORDER BY</code>' e
'<code class="highlight fixed" style="white-space:pre-wrap">LIMIT</code>' dal lato di MariaDB. Questo per due motivi:</p>
<ol start="1"><li>Sphinx effettua un certo numero di ottimizzazioni, e in questo genere di operazioni si comporta meglio di MariaDB/MySQL.
</li><li>Una minor quantità di dati dovrà essere compressa da <code class="highlight fixed" style="white-space:pre-wrap">searchd</code>, e trasferita e decompressa da SphinxSE.
</li></ol>
</div><h3 class="anchored_heading" id="show-engine-sphinx-status">SHOW ENGINE SPHINX STATUS</h3>
<p>A partire dalla versione 0.9.9-rc1, alcune informazioni aggiuntive sulle query possono essere lette con l'istruzione '<code class="highlight fixed" style="white-space:pre-wrap">SHOW ENGINE SPHINX STATUS</code>':</p>
<pre class="fixed">mysql&gt; SHOW ENGINE SPHINX STATUS;
+--------+-------+-------------------------------------------------+
| Type   | Name  | Status                                          |
+--------+-------+-------------------------------------------------+
| SPHINX | stats | total: 25, total found: 25, time: 126, words: 2 | 
| SPHINX | words | sphinx:591:1256 soft:11076:15945                | 
+--------+-------+-------------------------------------------------+
2 rows in set (0.00 sec)
</pre><p>E' anche possibile accedere a queste informazioni tramite le variabili di stato. Si noti che questo metodo non richiede il privilegio super user.</p>
<pre class="fixed">mysql&gt; SHOW STATUS LIKE 'sphinx_%';
+--------------------+----------------------------------+
| Variable_name      | Value                            |
+--------------------+----------------------------------+
| sphinx_total       | 25                               | 
| sphinx_total_found | 25                               | 
| sphinx_time        | 126                              | 
| sphinx_word_count  | 2                                | 
| sphinx_words       | sphinx:591:1256 soft:11076:15945 | 
+--------------------+----------------------------------+
5 rows in set (0.00 sec)
</pre><h3 class="anchored_heading" id="le-join-con-sphinxse">Le JOIN con SphinxSE</h3>
<p>E' possibile effettuare delle <code class="highlight fixed" style="white-space:pre-wrap">JOIN</code> su una tabella di ricerca SphinxSE e altre tabelle che utilizzano Storage Engine differenti. Ecco un esempio con i "documenti" di example.sql:</p>
<pre class="fixed">mysql&gt; SELECT content, date_added FROM test.documents docs
-&gt; JOIN t1 ON (docs.id=t1.id) 
-&gt; WHERE query=&#34;one document;mode=any&#34;;
+-------------------------------------+---------------------+
| content                             | docdate             |
+-------------------------------------+---------------------+
| this is my test document number two | 2006-06-17 14:04:28 | 
| this is my test document number one | 2006-06-17 14:04:28 | 
+-------------------------------------+---------------------+
2 rows in set (0.00 sec)

mysql&gt; SHOW ENGINE SPHINX STATUS;
+--------+-------+---------------------------------------------+
| Type   | Name  | Status                                      |
+--------+-------+---------------------------------------------+
| SPHINX | stats | total: 2, total found: 2, time: 0, words: 2 | 
| SPHINX | words | one:1:2 document:2:2                        | 
+--------+-------+---------------------------------------------+
2 rows in set (0.00 sec)
</pre><h2 class="anchored_heading" id="creare-degli-snippet-estratti-con-mariadb">Creare degli snippet (estratti) con MariaDB</h2>
<p>A partire dalla versione 0.9.9-rc2, SphinxSE comprende una funzione UDF che permette di creare degli snippet attraverso MariaDB. Questa funzionalità è molto simile alla funzione API <a href="http://sphinxsearch.com/docs/current.html#api-func-buildexcerpts">BuildExcerprts</a>, che è accessibile tramite MariaDB+SphinxSE.</p>
<p>Il binario che contiene la UDF si chiama sphinx.so e viene creato e installato automaticamente nel percorso corretto insieme a SphinxSE. Per registrare la UDF si esegua la seguente istruzione:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="n">FUNCTION</span> <span class="n">sphinx_snippets</span> <span class="n">RETURNS</span> <span class="n">STRING</span> <span class="k">SONAME</span> <span class="s1">&#39;sphinx.so&#39;</span><span class="p">;</span>
</pre><p>Il nome della funzione deve essere '<code class="highlight fixed" style="white-space:pre-wrap">sphinx_snippets</code>', non è possibile usarne uno arbitrario. Gli argomenti sono i seguenti:</p>
<pre class="fixed">Prototype: function sphinx_snippets ( documento, indice, parole, [opzioni] );
</pre><p>Gli argomenti documento e parole possono essere stringhe o colonne di una tabella. Le opzioni devono essere specificate in questo modo: &lt;code&gt;'valore' AS nome_opzione&lt;/code&gt;. L'elenco delle opzioni supportate è disponibile nella documentazione della funzione API <a href="http://sphinxsearch.com/docs/current.html#api-func-buildexcerpts">BuildExcerprts()</a>. L'unica opzione specifica dell'UDF è 'sphinx', che permette di specificare dove si trova searchd (host e porta).</p>
<p>Esempi d'uso:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="nf">sphinx_snippets</span><span class="p">(</span><span class="s1">&#39;hello world doc&#39;</span><span class="p">,</span> <span class="s1">&#39;main&#39;</span><span class="p">,</span> <span class="s1">&#39;world&#39;</span><span class="p">,</span>
    <span class="s1">&#39;sphinx://192.168.1.1/&#39;</span> <span class="k">AS</span> <span class="n">sphinx</span><span class="p">,</span> <span class="no">true</span> <span class="k">AS</span> <span class="n">exact_phrase</span><span class="p">,</span>
    <span class="s1">&#39;[b]&#39;</span> <span class="k">AS</span> <span class="n">before_match</span><span class="p">,</span> <span class="s1">&#39;[/b]&#39;</span> <span class="k">AS</span> <span class="n">after_match</span><span class="p">)</span>
<span class="k">FROM</span> <span class="n">documents</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="n">title</span><span class="p">,</span> <span class="nf">sphinx_snippets</span><span class="p">(</span><span class="kt">text</span><span class="p">,</span> <span class="s1">&#39;index&#39;</span><span class="p">,</span> <span class="s1">&#39;mysql php&#39;</span><span class="p">)</span> <span class="k">AS</span> <span class="kt">text</span>
    <span class="k">FROM</span> <span class="n">sphinx</span><span class="p">,</span> <span class="n">documents</span>
    <span class="k">WHERE</span> <span class="n">query</span><span class="o">=</span><span class="s1">&#39;mysql php&#39;</span> <span class="k">AND</span> <span class="n">sphinx</span><span class="p">.</span><span class="n">id</span><span class="o">=</span><span class="n">documents</span><span class="p">.</span><span class="n">id</span><span class="p">;</span>
</pre><h2 class="anchored_heading" id="versioni-di-sphinx-utilizzate">Versioni di Sphinx utilizzate</h2>
<ul start="1"><li><a href="/kb/en/what-is-mariadb-52/">MariaDB 5.2</a> e 5.3 usano Sphinx versione 0.9.9.
</li><li><a href="/kb/en/what-is-mariadb-55/">MariaDB 5.5</a> usa Sphinx versione 2.0.4
</li></ul>
<h2 class="anchored_heading" id="ulteriori-informazioni">Ulteriori informazioni</h2>
<p>Ulteriori informazioni su Sphinx e SphinxSE sono disponibili sul
<a href="http://sphinxsearch.com/docs/current.html">sito di Sphinx</a>.</p>

    </div>


        
            <div id="subscribe" class="well well-small hide hidden-print"
                 data-subscribe-url="/kb/it/informazioni-su-sphinxse/+subscriptions/add"
                 data-unsubscribe-url="/kb/it/informazioni-su-sphinxse/+subscriptions/remove">
            </div>
        

        
        
    
        <div class="simple_section_nav">
            <ul class="nav nav-pills">
                
                    <li><a href="/kb/it/configuring-sphinx/">
                        ← Configurare Sphinx
                    </a>
                    </li>
                
                
                    <li><a href="/kb/it/sphinxse/">
                        ↑ SphinxSE ↑
                    </a>
                    </li>
                
                
                    <li class="pull-right"><a href="/kb/it/installing-and-testing-sphinxse-with-mariadb/">
                        Installare e testare SphinxSE con MariaDB →
                    </a>
                    </li>
                
            </ul>
        </div>
    

        

        
        <h2>Commenti</h2>
        
    
    <div id="comments" data-node-id="2243" data-comments-url="/kb/it/informazioni-su-sphinxse/+comments"
         data-reply-url="/kb/it/informazioni-su-sphinxse/comments/post/">
        Sto caricando i commenti......
    </div>

        

    </div>


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
                <div id="right_bar" class="col-md-2">
                    
    
        
        <ul class="section_navigation well well-small hidden-xs hidden-sm">
            
                <li class="parent"><a href="/kb/it/sphinxse/">
                    ↑ SphinxSE ↑
                </a>
                </li>
            
            
                
                    <li>
                        <a href="/kb/it/configuring-sphinx/">
                            
                            Configurare Sphinx
                        </a>
                    </li>
                
            
                
                    <li class="active">
                        <span>Informazioni su SphinxSE</span>
                        
                    </li>
                
            
                
                    <li>
                        <a href="/kb/it/installing-and-testing-sphinxse-with-mariadb/">
                            
                            Installare e testare SphinxSE con MariaDB
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/it/installing-sphinx/">
                            
                            Installare Sphinx 
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/it/risorse-per-sphinxse/">
                            
                            Risorse per SphinxSE
                        </a>
                    </li>
                
            
        </ul>
    
    

                </div>
            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/solutions" title="Solutions">Solutions</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">Company</a></h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        
                        
                        <li>
                            <h5><a href="https://mariadb.com/downloads" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2025 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.1587e3a666fc.js" charset="utf-8"></script>

</html>