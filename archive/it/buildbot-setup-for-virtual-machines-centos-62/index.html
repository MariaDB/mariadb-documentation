<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>Configurare Buildbot sulle Macchine Virtuali - CentOS 6.2 - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.9a0d7dcebefd.css" rel="stylesheet" type="text/css" />

    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="Configurare Buildbot sulle Macchine Virtuali - CentOS 6.2" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/it/buildbot-setup-for-virtual-machines-centos-62/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="
Installazione Base
qemu-img create -f qcow2 /kvm/vms/vm-centos6-amd64-serial.qcow2 8G
qemu-img create -f qcow2 /kvm/vms/vm-centos6-i386-serial.qcow2 8G
Avviare tutte le VM da..." />

    <meta name="description" content="
Installazione Base
qemu-img create -f qcow2 /kvm/vms/vm-centos6-amd64-serial.qcow2 8G
qemu-img create -f qcow2 /kvm/vms/vm-centos6-i386-serial.qcow2 8G
Avviare tutte le VM da..." />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes products nodes_view jqui" id="nodes_view">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/it/buildbot-setup-for-virtual-machines-centos-62/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2023 MariaDB. All rights reserved.</p>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/it/buildbot-setup-for-virtual-machines-centos-62/" rel="nofollow">Accesso</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/it/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/it/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/services" title="Services">Services</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="About Us">About Us</a>
    </li>
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/it/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/it/mariadb-italiano/">MariaDB - Italiano</a>
    

    
    » <a class="crumb" href="/kb/it/sviluppo/">Sviluppo</a>
    

    
    » <a class="crumb" href="/kb/it/strumenti/">Strumenti</a>
    

    
    » <a class="crumb" href="/kb/it/buildbot/">Buildbot</a>
    

    
    » <a class="crumb" href="/kb/it/configurazione-di-buildbot/">Configurazione di Buildbot</a>
    

    
    » <a class="crumb" href="/kb/it/configurare-buildbot-sulle-macchine-virtuali/">Configurare Buildbot sulle macchine virtuali</a>
    

    
    » <a class="crumb" href="/kb/it/configurare-buildbot-per-le-macchine-virtuali-redhat/">Configurare Buildbot per le Macchine Virtuali - RedHat</a>
    


    » <a class="node_link crumb" href="/kb/it/buildbot-setup-for-virtual-machines-centos-62/">Configurare Buildbot sulle Macchine Virtuali - CentOS 6.2</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/it/">Pagina iniziale</a></li>
                            
                                
                                    <li><a href="/kb/it/+questions/">Domande Aperte</a></li>
                                
                                <li><a href="/kb/it/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/it/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/it/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/it/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
<div>



<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-blue btn-sm" href="/kb/it/buildbot-setup-for-virtual-machines-centos-62/+history" rel="nofollow">Cronologia</a>
        
        
        
        <a class="btn btn-block btn-blue btn-sm" href="/kb/it/buildbot-setup-for-virtual-machines-centos-62/+source/">Source</a>
        
        <a class="btn btn-block btn-blue btn-sm flag" href="/kb/it/buildbot-setup-for-virtual-machines-centos-62/+flag"
                data-flag-url="/kb/it/buildbot-setup-for-virtual-machines-centos-62/+flag" rel="nofollow">
                Flag as Spam / Inappropriate</a>
        
        <a class="btn btn-block btn-blue btn-sm" href="/kb/it/buildbot-setup-for-virtual-machines-centos-62/+translate/">
                Traduci</a>
        

</div>
</div>





<div class="well well-small box node_info"><div>

    <dl>
        <dt>Creato</dt>
        <dd>

<span class="datetime" title="2012-06-05 15:56">11 anni ago</span></dd>

        <dt>Modificato</dt>
        <dd>

<span class="datetime" title="2012-06-06 12:55">11 anni ago</span></dd>

        <dt>Tipo</dt>
        <dd>article</dd>

        <dt>Stato</dt>
        <dd>active</dd>

        <dt>Licenza</dt>
        <dd>
            
                <a href="/kb/it/buildbot-setup-for-virtual-machines-centos-62/+license/">CC BY-SA / Gnu FDL</a>
            
        </dd>

        
    </dl>

    
    <ul class="rss_feeds">
        <li><a href="/kb/it/buildbot-setup-for-virtual-machines-centos-62/+history/feed/">
            Cronologia</a>
        </li>
        <li><a href="/kb/it/buildbot-setup-for-virtual-machines-centos-62/+comments/feed/">
            Commenti</a>
        </li>
    </ul>
    

</div>
</div>





    
    
    

<div class="well well-small box attachments"><div><div class="edit_link pull-right"><a href="/kb/it/buildbot-setup-for-virtual-machines-centos-62/+edit/attachments/">Edit</a></div><h5>Attachments</h5></div><div>

        
            <div class="no_data">No attachments exist</div>
        
    
</div>
</div>

    



    
    
        

<div class="well well-small box"><div><h5>Versioni Localizzate</h5></div><div>

        <ul>
            
            <li><a href="/kb/en/buildbot-setup-for-virtual-machines-centos-62/">Buildbot Setup for Virtual Machines - CentOS 6.2</a> [en]</li>
            
        </ul>
        
</div>
</div>

    






</div>


                    

































                </aside>
            
            
            
                
            
            
                
            
            <section id="content" class="limited_width col-md-8 clearfix">
                
                    <h1>Configurare Buildbot sulle Macchine Virtuali - CentOS 6.2</h1>
                

                



                <div>
                    
    

    
    
    

    <div class="node creole">
        
        
        


    
    <div class="answer formatted">
        <div class="table_of_contents well well-small">
<h3>Contents</h3>
 <ol class="toc">

    <li class=""><a href="#installazione-base" title="Installazione Base">Installazione Base</a></li>

    <li class=""><a href="#le-vm-per-creare-i-file-rpm" title="Le VM per creare i file .rpm">Le VM per creare i file .rpm</a></li>

    <li class=""><a href="#le-vm-per-testare-linstallazione" title="Le VM per testare l&#39;installazione">Le VM per testare l&#39;installazione</a></li>

    <li class=""><a href="#vm-per-testare-lupgrade-da-mysql" title="VM per testare l&#39;upgrade da MySQL">VM per testare l&#39;upgrade da MySQL</a></li>

    <li class=""><a href="#le-vm-per-il-test-dellupgrade-di-mariadb" title="Le VM per il test dell&#39;upgrade di MariaDB">Le VM per il test dell&#39;upgrade di MariaDB</a> </ol>
</li>
</div>
<h2 class="anchored_heading" id="installazione-base">Installazione Base</h2>
<pre class="fixed">qemu-img create -f qcow2 /kvm/vms/vm-centos6-amd64-serial.qcow2 8G
qemu-img create -f qcow2 /kvm/vms/vm-centos6-i386-serial.qcow2 8G
</pre><p>Avviare tutte le VM dalla iso del server, una per volta, e seguire queste istruzioni:</p>
<pre class="fixed">kvm -m <span class="m">1024</span> -hda /kvm/vms/vm-centos6-amd64-serial.qcow2 -cdrom /kvm/iso/centos/CentOS-6.2-x86_64-bin-DVD1.iso -redir tcp:22255::22 -boot d -smp <span class="m">2</span> -cpu qemu64 -net nic,model<span class="o">=</span>virtio -net user
kvm -m <span class="m">1024</span> -hda /kvm/vms/vm-centos6-i386-serial.qcow2 -cdrom /kvm/iso/centos/CentOS-6.2-i386-bin-DVD1.iso -redir tcp:22256::22 -boot d -smp <span class="m">2</span> -cpu qemu32,-nx -net nic,model<span class="o">=</span>virtio -net user
</pre><p>Quando è in esecuzione, si può connettersi al server VNC con:</p>
<pre class="fixed">vncviewer -via <span class="si">${</span><span class="nv">remote</span><span class="p">-host</span><span class="si">}</span> localhost
</pre><p>Sostituire ${remote-host} con l'host su cui si trova la VM.</p>
<p><strong>Nota:</strong> Quando si attiva l'installazione, vncviewer potrebbe disconnettersi dicendo che il rect è troppo grande. Va tutto bene. L'installer di CentOS ha solo ridimensionato lo schermo di vnc. Basta riconnettersi.</p>
<p>Installare e tenere per lo più le opzioni di default, ma con qualche accorgimento:</p>
<ul start="1"><li>L'installer lancerà uno "Storage Device Warning", scegliere "Yes, discard any data"
</li><li>Impostare l'hostname a centos6-amd64 (o centos6-i386)
</li><li>Cliccare il bottone "Configure Network" sulla schermata Hostname.
<ul start="1"><li>Cambiare System eth0 in "connect automatically"
</li><li>Scegliere Apply e chiudere la finestra "Network Connections"
</li></ul>
</li><li>Impostare la Timezone a Europe/Helsinki (mantenere "System clock uses UTC" spuntato)
</li><li>Se si partizionano i dischi, scegliere "Use All Space"
<ul start="1"><li><strong>non</strong> spuntare la casella "Encrypt system"
</li><li><strong>spuntare</strong> la casella "Review and modify partitioning layout"
</li><li>Cancellare ciò che riguarda LVM e lasciare solo la partizione sda1 partition, ripartizionare il volume fisico come segue
</li></ul>
</li></ul>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Device</th><th>Size(MB)</th><th>Mount Point</th><th>Type</th><th>Format</th></tr>
<tr><td>sda2</td><td>5672</td><td>/</td><td>ext4</td><td>yes</td></tr>
<tr><td>sda3</td><td>(max allowable)</td><td>(n/a)</td><td>swap</td><td>yes</td></tr>
</table>
</div><ul start="1"><li>Installazione minima
</li><li>Personalizzare più tardi
</li></ul>
<p>Al termine dell'installazione, viene chiesto di riavviare. Bisogna farlo, ma fallirà. Terminare la VM (dopo che il boot fallisce) e avviarla di nuovo:</p>
<pre class="fixed">kvm -m 1024 -hda /kvm/vms/vm-centos6-amd64-serial.qcow2 -redir tcp:22255::22 -boot c -smp 2 -cpu qemu64 -net nic,model=virtio -net user

kvm -m 1024 -hda /kvm/vms/vm-centos6-i386-serial.qcow2 -redir tcp:22256::22 -boot c -smp 2 -cpu qemu32,-nx -net nic,model=virtio -net user
</pre><p>Si può connettersi via VNC come prima, ma ssh probabilmente è meglio. Entrare come root.</p>
<p>Ora che l'installazione della VM è terminata, occorre configurarla.</p>
<pre class="fixed">ssh -p 22255 -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no -i ~/.ssh/buildbot.id_dsa root@localhost
ssh -p 22256 -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no -i ~/.ssh/buildbot.id_dsa root@localhost
</pre><p>Dopo aver effettuato il login come root, si crei l'utente locale</p>
<pre class="fixed">adduser <span class="si">${</span><span class="nv">username</span><span class="si">}</span>
usermod -a -G wheel <span class="si">${</span><span class="nv">username</span><span class="si">}</span>
passwd <span class="si">${</span><span class="nv">username</span><span class="si">}</span>
</pre><p>Si abiliti il sudo senza password e la console seriale:</p>
<pre class="fixed">visudo
<span class="c1"># decommentare la riga &quot;%wheel        ALL=(ALL)       NOPASSWD: ALL&quot;</span>
<span class="c1"># Commentare questa riga:</span>
<span class="c1"># Defaults    requiretty</span>
</pre><p>Sempre loggati come root, aggiungere a /boot/grub/menu.lst:</p>
<pre class="fixed">serial --unit=0 --speed=115200 --word=8 --parity=no --stop=1
terminal --timeout=3 serial console
</pre><p>inoltre aggiungere in menu.lst alla riga del kernel (cancellando 'quiet'):</p>
<pre class="fixed">console=tty0 console=ttyS0,115200n8
</pre><p>Aggiungere il prompt del login alla console seriale:</p>
<pre>
cat &gt;&gt;/etc/inittab &lt;&lt;END

# Console seriale.
S0:2345:respawn:/sbin/agetty -h -L ttyS0 19200 vt100
END
</pre>
<p>Fare il logout da root, e poi, dall'host server della VM:</p>
<p>Installare ssh:</p>
<pre class="fixed">ssh -t -p <span class="m">22255</span> -o <span class="nv">UserKnownHostsFile</span><span class="o">=</span>/dev/null -o <span class="nv">StrictHostKeyChecking</span><span class="o">=</span>no -i ~/.ssh/buildbot.id_dsa localhost <span class="s2">&quot;sudo yum install openssh-server openssh-clients&quot;</span>
ssh -t -p <span class="m">22256</span> -o <span class="nv">UserKnownHostsFile</span><span class="o">=</span>/dev/null -o <span class="nv">StrictHostKeyChecking</span><span class="o">=</span>no -i ~/.ssh/buildbot.id_dsa localhost <span class="s2">&quot;sudo yum install openssh-server openssh-clients&quot;</span>
</pre><p>Creare una directory .ssh:</p>
<pre class="fixed">ssh -t -p <span class="m">22255</span> -o <span class="nv">UserKnownHostsFile</span><span class="o">=</span>/dev/null -o <span class="nv">StrictHostKeyChecking</span><span class="o">=</span>no -i ~/.ssh/buildbot.id_dsa localhost <span class="s2">&quot;mkdir -v .ssh&quot;</span>
ssh -t -p <span class="m">22256</span> -o <span class="nv">UserKnownHostsFile</span><span class="o">=</span>/dev/null -o <span class="nv">StrictHostKeyChecking</span><span class="o">=</span>no -i ~/.ssh/buildbot.id_dsa localhost <span class="s2">&quot;mkdir -v .ssh&quot;</span>
</pre><p>Copiare i file delle chiavi autorizzate:</p>
<pre class="fixed">scp -P <span class="m">22255</span> -o <span class="nv">UserKnownHostsFile</span><span class="o">=</span>/dev/null -o <span class="nv">StrictHostKeyChecking</span><span class="o">=</span>no /kvm/vms/authorized_keys localhost:.ssh/
scp -P <span class="m">22256</span> -o <span class="nv">UserKnownHostsFile</span><span class="o">=</span>/dev/null -o <span class="nv">StrictHostKeyChecking</span><span class="o">=</span>no /kvm/vms/authorized_keys localhost:.ssh/
</pre><p>Impostare i permessi sulla directory .ssh:</p>
<pre class="fixed">ssh -t -p <span class="m">22255</span> -o <span class="nv">UserKnownHostsFile</span><span class="o">=</span>/dev/null -o <span class="nv">StrictHostKeyChecking</span><span class="o">=</span>no -i ~/.ssh/buildbot.id_dsa localhost <span class="s2">&quot;chmod -R go-rwx .ssh&quot;</span>
ssh -t -p <span class="m">22256</span> -o <span class="nv">UserKnownHostsFile</span><span class="o">=</span>/dev/null -o <span class="nv">StrictHostKeyChecking</span><span class="o">=</span>no -i ~/.ssh/buildbot.id_dsa localhost <span class="s2">&quot;chmod -R go-rwx .ssh&quot;</span>
</pre><p>Creare l'utente buildbot:</p>
<pre class="fixed">ssh -p <span class="m">22255</span> -o <span class="nv">UserKnownHostsFile</span><span class="o">=</span>/dev/null -o <span class="nv">StrictHostKeyChecking</span><span class="o">=</span>no localhost <span class="s1">&#39;chmod -R go-rwx .ssh; sudo adduser buildbot; sudo usermod -a -G wheel buildbot; sudo mkdir ~buildbot/.ssh; sudo cp -vi .ssh/authorized_keys ~buildbot/.ssh/; sudo chown -vR buildbot:buildbot ~buildbot/.ssh; sudo chmod -vR go-rwx ~buildbot/.ssh&#39;</span>
ssh -p <span class="m">22256</span> -o <span class="nv">UserKnownHostsFile</span><span class="o">=</span>/dev/null -o <span class="nv">StrictHostKeyChecking</span><span class="o">=</span>no localhost <span class="s1">&#39;chmod -R go-rwx .ssh; sudo adduser buildbot; sudo usermod -a -G wheel buildbot; sudo mkdir ~buildbot/.ssh; sudo cp -vi .ssh/authorized_keys ~buildbot/.ssh/; sudo chown -vR buildbot:buildbot ~buildbot/.ssh; sudo chmod -vR go-rwx ~buildbot/.ssh&#39;</span>
</pre><p>Caricare il file ttyS0.conf e metterlo al suo posto:</p>
<pre class="fixed">scp -P <span class="m">22255</span> -o <span class="nv">UserKnownHostsFile</span><span class="o">=</span>/dev/null -o <span class="nv">StrictHostKeyChecking</span><span class="o">=</span>no /kvm/vms/ttyS0.conf buildbot@localhost:
scp -P <span class="m">22256</span> -o <span class="nv">UserKnownHostsFile</span><span class="o">=</span>/dev/null -o <span class="nv">StrictHostKeyChecking</span><span class="o">=</span>no /kvm/vms/ttyS0.conf buildbot@localhost:

ssh -p <span class="m">22255</span> -o <span class="nv">UserKnownHostsFile</span><span class="o">=</span>/dev/null -o <span class="nv">StrictHostKeyChecking</span><span class="o">=</span>no buildbot@localhost <span class="s1">&#39;sudo cp -vi ttyS0.conf /etc/init/; rm -v ttyS0.conf;&#39;</span>
ssh -p <span class="m">22256</span> -o <span class="nv">UserKnownHostsFile</span><span class="o">=</span>/dev/null -o <span class="nv">StrictHostKeyChecking</span><span class="o">=</span>no buildbot@localhost <span class="s1">&#39;sudo cp -vi ttyS0.conf /etc/init/; rm -v ttyS0.conf;&#39;</span>
</pre><p>Aggiornare la VM:</p>
<pre class="fixed">ssh -p <span class="m">22255</span> -o <span class="nv">UserKnownHostsFile</span><span class="o">=</span>/dev/null -o <span class="nv">StrictHostKeyChecking</span><span class="o">=</span>no buildbot@localhost
ssh -p <span class="m">22256</span> -o <span class="nv">UserKnownHostsFile</span><span class="o">=</span>/dev/null -o <span class="nv">StrictHostKeyChecking</span><span class="o">=</span>no buildbot@localhost
</pre><p>Una volta entrati:</p>
<pre class="fixed">sudo yum update
</pre><p>Dopo l'aggiornamento, arrestare la VM:</p>
<pre class="fixed">sudo shutdown -h now
</pre><h2 class="anchored_heading" id="le-vm-per-creare-i-file-rpm">Le VM per creare i file .rpm</h2>
<pre class="fixed"><span class="k">for</span> i in <span class="s1">&#39;/kvm/vms/vm-centos6-amd64-serial.qcow2 22255 qemu64&#39;</span> <span class="s1">&#39;/kvm/vms/vm-centos6-i386-serial.qcow2 22256 qemu64&#39;</span> <span class="p">;</span> <span class="k">do</span> <span class="se">\</span>
  <span class="nb">set</span> <span class="nv">$i</span><span class="p">;</span> <span class="se">\</span>
  runvm --user<span class="o">=</span>buildbot --logfile<span class="o">=</span>kernel_<span class="nv">$2</span>.log --base-image<span class="o">=</span><span class="nv">$1</span> --port<span class="o">=</span><span class="nv">$2</span> --cpu<span class="o">=</span><span class="nv">$3</span> <span class="s2">&quot;</span><span class="k">$(</span><span class="nb">echo</span> <span class="nv">$1</span> <span class="p">|</span> sed -e <span class="s1">&#39;s/serial/build/&#39;</span><span class="k">)</span><span class="s2">&quot;</span> <span class="se">\</span>
    <span class="s2">&quot;sudo yum -y groupinstall &#39;Development Tools&#39;&quot;</span> <span class="se">\</span>
    <span class="s2">&quot;sudo yum -y install wget tree gperf readline-devel ncurses-devel zlib-devel pam-devel libaio-devel openssl-devel perl perl\(DBI\)&quot;</span> <span class="se">\</span>
    <span class="s2">&quot;sudo yum -y remove systemtap-sdt-dev&quot;</span> <span class="se">\</span>
    <span class="s2">&quot;sudo mkdir -vp /usr/src/redhat/SOURCES /usr/src/redhat/SPECS /usr/src/redhat/RPMS /usr/src/redhat/SRPMS&quot;</span> <span class="se">\</span>
    <span class="s2">&quot;wget http://www.cmake.org/files/v2.8/cmake-2.8.8.tar.gz;tar -zxvf cmake-2.8.8.tar.gz;cd cmake-2.8.8;./configure;make;sudo make install&quot;</span><span class="p">;</span> <span class="se">\</span>
<span class="k">done</span>
</pre><p>Vedi anche:</p>
<ul start="1"><li><a href="http://kb.askmonty.org/it/installare-la-libreria-boost-necessaria-per-lo-storage-engine-oqgraph/">Installare la libreria Boost, necessaria per lo Storage Engine OQGraph</a>
</li></ul>
<h2 class="anchored_heading" id="le-vm-per-testare-linstallazione">Le VM per testare l'installazione</h2>
<p><code>MariaDB.local.repo</code> punta alla directory locale della VM. <code>MariaDB.repo</code>
punta al verso repository YUM di MariaDB.</p>
<pre class="fixed"><span class="k">for</span> i in <span class="s1">&#39;/kvm/vms/vm-centos6-amd64-serial.qcow2 22255 qemu64&#39;</span> <span class="s1">&#39;/kvm/vms/vm-centos6-i386-serial.qcow2 22256 qemu64&#39;</span> <span class="p">;</span> <span class="k">do</span> <span class="se">\</span>
  <span class="nb">set</span> <span class="nv">$i</span><span class="p">;</span> <span class="se">\</span>
  runvm --user<span class="o">=</span>buildbot --logfile<span class="o">=</span>kernel_<span class="nv">$2</span>.log --base-image<span class="o">=</span><span class="nv">$1</span> --port<span class="o">=</span><span class="nv">$2</span> --cpu<span class="o">=</span><span class="nv">$3</span> <span class="s2">&quot;</span><span class="k">$(</span><span class="nb">echo</span> <span class="nv">$1</span> <span class="p">|</span> sed -e <span class="s1">&#39;s/serial/install/&#39;</span><span class="k">)</span><span class="s2">&quot;</span> <span class="se">\</span>
    <span class="s2">&quot;sudo yum -y update&quot;</span> <span class="se">\</span>
    <span class="s2">&quot;sudo yum -y install libaio perl perl-Time-HiRes perl-DBI&quot;</span> <span class="se">\</span>
    <span class="s2">&quot;= scp -P </span><span class="nv">$2</span><span class="s2"> -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no /kvm/vms/MariaDB.local.repo buildbot@localhost:/tmp/&quot;</span> <span class="se">\</span>
    <span class="s2">&quot;sudo mv -vi /tmp/MariaDB.local.repo /etc/yum.repos.d/&quot;</span><span class="p">;</span> <span class="se">\</span>
<span class="k">done</span>
</pre><h2 class="anchored_heading" id="vm-per-testare-lupgrade-da-mysql">VM per testare l'upgrade da MySQL</h2>
<pre class="fixed"><span class="k">for</span> i in <span class="s1">&#39;/kvm/vms/vm-centos6-amd64-serial.qcow2 22255 qemu64&#39;</span> <span class="s1">&#39;/kvm/vms/vm-centos6-i386-serial.qcow2 22256 qemu64&#39;</span> <span class="p">;</span> <span class="k">do</span> <span class="se">\</span>
  <span class="nb">set</span> <span class="nv">$i</span><span class="p">;</span> <span class="se">\</span>
  runvm --user<span class="o">=</span>buildbot --logfile<span class="o">=</span>kernel_<span class="nv">$2</span>.log --base-image<span class="o">=</span><span class="nv">$1</span> --port<span class="o">=</span><span class="nv">$2</span> --cpu<span class="o">=</span><span class="nv">$3</span> <span class="s2">&quot;</span><span class="k">$(</span><span class="nb">echo</span> <span class="nv">$1</span> <span class="p">|</span> sed -e <span class="s1">&#39;s/serial/upgrade/&#39;</span><span class="k">)</span><span class="s2">&quot;</span> <span class="se">\</span>
    <span class="s2">&quot;sudo yum -y update&quot;</span> <span class="se">\</span>
    <span class="s1">&#39;sudo yum -y install mysql-server&#39;</span> <span class="se">\</span>
    <span class="s1">&#39;sudo /etc/init.d/mysqld start&#39;</span> <span class="se">\</span>
    <span class="s1">&#39;mysql -uroot -e &quot;create database mytest; use mytest; create table t(a int primary key); insert into t values (1); select * from t&quot;&#39;</span> <span class="se">\</span>
    <span class="s2">&quot;= scp -P </span><span class="nv">$2</span><span class="s2"> -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no /kvm/vms/MariaDB.local.repo buildbot@localhost:/tmp/&quot;</span> <span class="se">\</span>
    <span class="s2">&quot;sudo mv -vi /tmp/MariaDB.local.repo /etc/yum.repos.d/&quot;</span><span class="p">;</span> <span class="se">\</span>
<span class="k">done</span>
</pre><div class="cstm-style redbox"><p>Le VM del testing dell'upgrade di MariaDB non sono state compilate. Attualmente c'è un errore nell'installare MariaDB dal repo YUM.</p>
<h2 class="anchored_heading" id="le-vm-per-il-test-dellupgrade-di-mariadb">Le VM per il test dell'upgrade di MariaDB</h2>
<pre class="fixed"><span class="k">for</span> i in <span class="s1">&#39;/kvm/vms/vm-centos6-amd64-serial.qcow2 22255 qemu64&#39;</span> <span class="s1">&#39;/kvm/vms/vm-centos6-i386-serial.qcow2 22256 qemu64&#39;</span> <span class="p">;</span> <span class="k">do</span> <span class="se">\</span>
  <span class="nb">set</span> <span class="nv">$i</span><span class="p">;</span> <span class="se">\</span>
  runvm --user<span class="o">=</span>buildbot --logfile<span class="o">=</span>kernel_<span class="nv">$2</span>.log --base-image<span class="o">=</span><span class="nv">$1</span> --port<span class="o">=</span><span class="nv">$2</span> --cpu<span class="o">=</span><span class="nv">$3</span> <span class="s2">&quot;</span><span class="k">$(</span><span class="nb">echo</span> <span class="nv">$1</span> <span class="p">|</span> sed -e <span class="s1">&#39;s/serial/upgrade2/&#39;</span><span class="k">)</span><span class="s2">&quot;</span> <span class="se">\</span>
    <span class="s1">&#39;sudo yum -y update&#39;</span> <span class="se">\</span>
    <span class="s2">&quot;= scp -P </span><span class="nv">$2</span><span class="s2"> -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no /kvm/vms/MariaDB.repo buildbot@localhost:/tmp/&quot;</span> <span class="se">\</span>
    <span class="s1">&#39;sudo rpm --verbose --import http://downloads.mariadb.org/repo/RPM-GPG-KEY-MariaDB&#39;</span> <span class="se">\</span>
    <span class="s1">&#39;sudo mv -vi /tmp/MariaDB.repo /etc/yum.repos.d/&#39;</span> <span class="se">\</span>
    <span class="s1">&#39;sudo yum -y remove mysql-libs&#39;</span> <span class="se">\</span>
    <span class="s1">&#39;sudo yum -y install MariaDB-server MariaDB-client MariaDB-test&#39;</span> <span class="se">\</span>
    <span class="s1">&#39;sudo yum -y install cronie cronie-anacron crontabs.noarch postfix&#39;</span> <span class="se">\</span>
    <span class="s1">&#39;sudo /etc/init.d/mysqld start&#39;</span> <span class="se">\</span>
    <span class="s1">&#39;mysql -uroot -prootpass -e &quot;create database mytest; use mytest; create table t(a int primary key); insert into t values (1); select * from t&quot;&#39;</span> <span class="se">\</span>
    <span class="s1">&#39;sudo rm -v /etc/yum.repos.d/MariaDB.repo&#39;</span> <span class="se">\</span>
    <span class="s2">&quot;= scp -P </span><span class="nv">$2</span><span class="s2"> -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no /kvm/vms/MariaDB.local.repo buildbot@localhost:/tmp/&quot;</span> <span class="se">\</span>
    <span class="s1">&#39;sudo mv -vi /tmp/MariaDB.local.repo /etc/yum.repos.d/&#39;</span><span class="p">;</span> <span class="se">\</span>
<span class="k">done</span>
</pre></div>
    </div>


        
            <div id="subscribe" class="well well-small hide hidden-print"
                 data-subscribe-url="/kb/it/buildbot-setup-for-virtual-machines-centos-62/+subscriptions/add"
                 data-unsubscribe-url="/kb/it/buildbot-setup-for-virtual-machines-centos-62/+subscriptions/remove">
            </div>
        

        
        
    
        <div class="simple_section_nav">
            <ul class="nav nav-pills">
                
                    <li><a href="/kb/it/configurare-buildbot-per-le-macchine-virtuali-red-hat-6-x86/">
                        ← Configurare Buildbot per le Macchine Virtuali - Red Hat 6 x86
                    </a>
                    </li>
                
                
                    <li><a href="/kb/it/configurare-buildbot-per-le-macchine-virtuali-redhat/">
                        ↑ Configurare Buildbot per le Macchine Virtuali - RedHat ↑
                    </a>
                    </li>
                
                
            </ul>
        </div>
    

        

        
        <h2>Commenti</h2>
        
    
    <div id="comments" data-node-id="2781" data-comments-url="/kb/it/buildbot-setup-for-virtual-machines-centos-62/+comments"
         data-reply-url="/kb/it/buildbot-setup-for-virtual-machines-centos-62/comments/post/">
        Sto caricando i commenti......
    </div>

        

    </div>


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
                <div id="right_bar" class="col-md-2">
                    
    
        
        <ul class="section_navigation well well-small hidden-xs hidden-sm">
            
                <li class="parent"><a href="/kb/it/configurare-buildbot-per-le-macchine-virtuali-redhat/">
                    ↑ Configurare Buildbot per le Macchine Virtuali - RedHat ↑
                </a>
                </li>
            
            
                
                    <li>
                        <a href="/kb/it/buildbot-setup-for-virtual-machines-centos-5-amd64/">
                            
                            Configurare Buildbot per le Macchine Virtuali - Centos 5 amd64
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/it/buildbot-setup-for-virtual-machines-centos-5-i386/">
                            
                            Configurare Buildbot per le macchine virtuali - CentOS 5 i386
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/it/buildbot-setup-for-virtual-machines-fedora-16/">
                            
                            Configurare Buildbot per le macchine virtuali - Fedora 16
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/it/buildbot-setup-for-virtual-machines-fedora-17/">
                            
                            Configurare Buildbot per le Macchine Virtuali - Fedora 17
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/it/configurare-buildbot-per-le-macchine-virtuali-red-hat-6-x86/">
                            
                            Configurare Buildbot per le Macchine Virtuali - Red Hat 6 x86
                        </a>
                    </li>
                
            
                
                    <li class="active">
                        <span>Configurare Buildbot sulle Macchine Virtuali - CentOS 6.2</span>
                        
                    </li>
                
            
        </ul>
    
    

                </div>
            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row row-10">
                <div class="col-md-2 col-xs-4 item">
                    <h5>
                        <a href="/products" title="Products">Products</a>
                    </h5>
                    <ul>
                        <li id="menu-item-7816" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7816"><a href="https://mariadb.com/products/mariadb-platform/">MariaDB Platform</a></li>
                        <li id="menu-item-7815" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7815"><a href="https://mariadb.com/products/skysql/">MariaDB SkySQL</a></li>
                        <li id="menu-item-4172" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4172"><a href="https://mariadb.com/pricing/">Pricing</a></li>
                        <li id="menu-item-4163" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4163"><a href="https://mariadb.com/downloads/">Download MariaDB</a></li>
                    </ul>
                </div>
                <div class="col-md-2 col-xs-4 item">
                    <h5>
                        <a href="/services" title="Services">Services</a>
                    </h5>
                    <ul>
                        <li id="menu-item-4169" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4169"><a href="https://mariadb.com/services/remote-dba/">Remote DBA</a></li>
                        <li id="menu-item-41691" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4169"><a href="https://mariadb.com/services/skydba/">SkyDBA</a></li>
                        <li id="menu-item-4167" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4167"><a href="https://mariadb.com/services/enterprise-architect/">Enterprise Architect</a></li>
                        <li id="menu-item-4170" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4170"><a href="https://mariadb.com/services/technical-support-services/">Technical Support</a></li>
                        <li id="menu-item-4168" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4168"><a href="https://mariadb.com/services/migration-practice/">Migration Practice</a></li>
                        <li id="menu-item-4166" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4166"><a href="https://mariadb.com/services/consulting/">Consulting</a></li>
                        <li id="menu-item-4171" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4171"><a href="https://mariadb.com/services/training/">Training</a></li>
                    </ul>
                </div>
                <div class="col-md-2 col-xs-4 item">
                    <h5>
                        <a href="/resources" title="Resources">Resources</a>
                    </h5>
                    <ul>
                        <li id="menu-item-41751" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4175"><a href="https://mariadb.com/docs/">Documentation</a></li>
                        <li id="menu-item-41752" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4175"><a href="https://mariadb.com/developers/">Developers</a></li>
                        <li id="menu-item-4175" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4175"><a href="https://mariadb.com/resources/blog/">Blog</a></li>
                        <li id="menu-item-5462" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5462"><a href="https://support.mariadb.com">Support</a></li>
                        <li id="menu-item-6004" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6004"><a href="https://mariadb.com/openworks/">OpenWorks</a></li>
                        <li id="menu-item-60041" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6004"><a href="https://mariadb.com/resources/customer-stories/">Customer Stories</a></li>
                        <li id="menu-item-7817" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-7817"><a href="https://mariadb.com/resources/events/">Events</a></li>
                        <li id="menu-item-4177" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4177"><a href="https://mariadb.com/roadshow/">MariaDB Roadshow</a></li>
                    </ul>
                </div>
                <div class="visible-xs visible-sm clear"></div>
                <div class="col-md-2 col-xs-5 item">
                    <h5>
                        <a href="/about-us" title="About MariaDB">About</a>
                    </h5>
                    <ul>
                        <li id="menu-item-4173" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4173"><a href="https://mariadb.com/contact/">Contact</a></li>
                        <li id="menu-item-4161" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4161"><a href="https://mariadb.com/about-us/leadership/">Leadership</a></li>
                        <li id="menu-item-4162" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4162"><a href="https://mariadb.com/about-us/partners/">Partners</a></li>
                        <li id="menu-item-4174" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4174"><a href="https://mariadb.com/newsroom/">Newsroom</a></li>
                        <li id="menu-item-4160" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4160"><a href="https://mariadb.com/about-us/investors/">Investors</a></li>
                        <li id="menu-item-4159" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4159"><a href="https://mariadb.com/about-us/careers/">Careers</a></li>
                        <li id="menu-item-41591" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4159"><a href="https://mariadb.com/trust/">Trust Center</a></li>
                        <li id="menu-item-41592" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4159"><a href="https://mariadb.com/vulnerability-reporting/">Vulnerability Reporting</a></li>
                    </ul>
                </div>
                <div class="col-md-4 col-xs-7 item">
                    <div id="block-footercontact" class="block block-block-content block-block-content22b3af28-0754-44ec-a5c6-4466568f37e3">
                        <h5><a href="/contact" title="Contact">Contact</a></h5>
                    </div>
                    <div class="social">
                        <ul class="list-inline">
                            <li>
                                <a target="_blank" href="https://www.facebook.com/MariaDB.dbms/" title="Facebook">
                                    <i class="fa fa-facebook" aria-hidden="true"></i>
                                </a>
                            </li>
                            <li>
                                <a target="_blank" href="https://twitter.com/mariadb" title="Twitter">
                                    <i class="fa fa-twitter" aria-hidden="true"></i>
                                </a>
                            </li>
                            <li>
                                <a target="_blank" href="https://www.linkedin.com/company/mariadb-corporation?trk=company_logo " title="LinkedIn">
                                    <i class="fa fa-linkedin" aria-hidden="true"></i>
                                </a>
                            </li>
                        </ul>
                    </div>
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <p>Subscribe to our newsletter!</p>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="footer-copyright">
        <div class="container text-center">
            <ul class="list-inline no-margin">
                <li>
                    <a href="/legal" title="Legal">Legal</a>
                </li>
                <li>
                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                </li>
                <li>
                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                </li>
            </ul>
            <p>Copyright &copy; 2023 MariaDB. All rights reserved.</p>
        </div>
    </div>
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.fed4ec768178.js" charset="utf-8"></script>

</html>