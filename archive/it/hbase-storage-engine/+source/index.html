<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>Lo Storage Engine HBase - Source - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.f7633538c846.css" rel="stylesheet" type="text/css" />

    
        <meta name="robots" content="noindex, nofollow">
    

    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="Lo Storage Engine HBase - Source" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/it/hbase-storage-engine/+source/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="" />

    <meta name="description" content="" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes autoresize nodes_source jqui" id="nodes_source">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/it/hbase-storage-engine/+source/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2025 MariaDB. All rights reserved.</p>
    </div>
</div>
<div class="violator-wrap d-none" id="top_violator">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12">
                <div class="violator-outer">
                    <div class="violator-inner">
                        <div class="row">
                            <div class="col-xs-12 col-sm-9 col-lg-7 col-lg-offset-2" id="top_violator_content">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="content-link" target="_blank" rel="nofollow noreferrer">
                                    <span>The Ultimate Guide to High Availability with MariaDB</span>
                                </a>
                            </div>
                            <div class="col-xs-12 col-sm-3" id="top_violator_cta">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="btn btn-mariadb" target="_blank" rel="nofollow noreferrer">Download Now</a>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn btn-link close-btn">
                        <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" width="15px" height="15px"><path d="M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/it/hbase-storage-engine/+source/" rel="nofollow">Accesso</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/it/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/it/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/solutions" title="Solutions">Solutions</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="Company">Company</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/it/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/it/mariadb-italiano/">MariaDB - Italiano</a>
    

    
    » <a class="crumb" href="/kb/it/sviluppo/">Sviluppo</a>
    


    » <a class="node_link crumb" href="/kb/it/hbase-storage-engine/">Lo Storage Engine HBase</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/it/">Pagina iniziale</a></li>
                            
                                
                                    <li><a href="/kb/it/+questions/">Domande Aperte</a></li>
                                
                                <li><a href="/kb/it/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/it/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/it/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/it/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
                        <div>
    

<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-small" href="/kb/it/hbase-storage-engine/">Return to article</a>
    
</div>
</div>

</div>
                    

                    

































                </aside>
            
            
            
                
            
            
            <section id="content" class="limited_width col-md-10 clearfix">
                
                    <h1>Lo Storage Engine HBase - Source</h1>
                

                



                <div>
                    

    

    
    <div class="revision_info">
        <dl class="table">
            <dt>Revisione</dt>
            <dd><a href="/kb/it/hbase-storage-engine/+r/10544/">10544</a></dd>
            <dt>Utente</dt>
            <dd>
<span class="user" id="user-982">
<a href="/kb/user/id/982" title="Federico Razzoli">Federico Razzoli</a>
</span></dd>
            <dt>Data</dt>
            <dd>

<span class="datetime" title="2012-06-04 07:43">2012-06-04 07:43</span></dd>
        </dl>
    </div>
    


    

    
        
        <textarea id="answer_source" class="creole_source autogrow">&lt;&lt;toc&gt;&gt;
Mappatura dei dati da HBase a SQL

== Il modello dei dati e le operazioni di HBase

=== 1.1 Il modello dei dati di HBase
* Una tabella HBase è formata da righe, che sono identificate dalla chiave di riga. 
* Ogni riga ha un numero di colonne arbitrario, potenzialmente molto grande.
* Le colonne sono suddivise in gruppi di colonne, questi gruppi determinano in che modo esse vengono registrate (un&#39;ottimizzazione consiste nel non leggere alcuni gruppi).
* Ogni combinazione (riga, colonna) ha diverse versioni dei dati, identificate da un timestamp.

=== 1.2 Le operazioni di lettura di HBase

La API di HBase definisce due modi per leggere i dati:

* Ricerca di un punto: seleziona un record per una data row_key.

* Scansione tra i punti: legge tutti i record nell&#39;intervatto [rigaIniziale, rigaFinale). 

Entrambi i tipi di letture permettono di specificare:

* Una famiglia di colonne alla quale si è interessati
* Una determinata colonna

Il comportamento predefinito per le colonne con versione è restituire solo la versione più recente. L&#39;API di HBase API permette anche di ottenere:
* le versioni delle colonne che erano attuali ad un certo timestamp;
* tutte le versioni che sono state attuali in un certo intervallo [tstampInizio, tstampFine).
* N versioni più recenti.
Queste condizioni da qui in avanti verranno chiamate [VersionedDataConds].

Esistono due modi per mappare le tabelle HBase alle tabelle SQL:

== 2. Mappatura per riga

Se ogni riga in una tabella HBase è mappata ad una riga SQL in questo modo:

{{{
SELECT * FROM hbase_table;

row-id column1 column2  column3  column4  ...
------ ------- -------  -------  -------  
row1    data1   data2
row2                     data3    
row3    data4                      data5
}}}

Il problema è che l&#39;insieme delle colonne della tabella HBase non è fisso ed è potenzialmente molto grande. La soluzione è immettere tutte le colonne in un unico campo blob e utilizzare le funzioni per le Colonne Dinamiche (http://kb.askmonty.org/en/dynamic-columns) per registrare/estrarre i valori delle singole colonne:

{{{
row-id dyn_columns
------ ------------------------------
row1   {column1=data1,column2=data2}
row2   {column3=data3}
row3   {column1=data4,column4=data5}
}}}

=== 2.2 Definizione della mappatura

Il DDL della tabella assomiglia al seguente:
{{{
CREATE TABLE hbase_tbl_rows (
  row_id BINARY(MAX_HBASE_ROWID_LEN),
  columns BLOB,
  PRIMARY KEY (row_id)
) ENGINE=hbase_row;
}}}

(TODO: Does Hbase have MAX_HBASE_ROWID_LEN limit? What is it?)

Il campo blob `columns` conterrà i valori (e i nomi) di tutte le colonne.

L&#39;accesso al nome/valore delle singole colonne deve essere effettuato tramite le funzioni per le Colonne Virtuali (see http://kb.askmonty.org/en/dynamic-columns).

Funzioni per leggere i dati:
{{{
  COLUMN_GET(dynamic_column, column_nr as type)
  COLUMN_EXISTS(dynamic_column, column_nr);
  COLUMN_LIST(dynamic_column);
}}}

Funzioni per modificare i dati:
{{{
  COLUMN_ADD(dynamic_column, column_nr,  value [as type], ...)
  COLUMN_DELETE(dynamic_column, column_nr, column_nr, ...);
}}}

=== 2.2.1 Miglioramenti necessari nelle Colonne Dinamiche

Le funzioni per le Colonne Dinamiche non possono essere utilizzate così come sono:

* **Le colonne HBase hanno nomi letterali, le Colonne Dinamiche hanno i numeri** (si veda il parametro column_nr per le funzioni sopra). L&#39;insieme delle colonne di HBase è potenzialmente molto grande, non c&#39;è modo di ottenere un elenco di tutti i nomi: non si potrà risolvere questo problema con una mappatura stile enum, occorre un vero supporto ai nomi di colonna.

* **HBase ha le famiglie di colonne, le Colonne Dinamiche no**. Una famiglia di colonne non è solo un &#39;:&#39; nel nome delle colonne. Per esempio, l&#39;API di HBase permette di richiedere &#34;tutte le colonne che appartengono a una data famiglia&#34;.

* **HBase supporta i dati con versione, le Colonne Dinamiche no**.  Una possibile semplice soluzione è avere una variabile global/session @@hbase_timestamp che specifica globalmente la versione dei dati richiesta.

* (Si veda anche la nota sulle prestazioni)

=== 2.3 Le query nella mappatura per riga

{{{
# Point-select:
SELECT COLUMN_GET(hbase_tbl.columns, &#39;column_name&#39; AS INTEGER)
FROM hbase_tbl
WHERE 
  row_id=&#39;hbase_row_id&#39;;


#  Intervallo:
#   (l&#39;esempio usa BETWEEN ma saranno supportati predicati arbitrari)
SELECT COLUMN_GET(tab_hbase.colonne, &#39;nome_colonna&#39; AS INTEGER)
FROM hbase_tbl
WHERE 
  row_id BETWEEN &#39;riga_hbase_id1&#39; AND &#39;riga_hbase_id2&#39;;

# Aggiorno una colonna
UPDATE hbase_tbl SET columns=COLUMN_ADD(colonne, &#39;nome_colonna&#39;, &#39;valore&#39;);

# Aggiungo una colonna
UPDATE hbase_tbl SET columns=COLUMN_ADD(colonne, &#39;nome_colonna&#39;, &#39;valore&#39;);

# Inserisco una riga con una colonna
INSERT INTO hbase_tbl (id_riga, colonne) VALUES 
  (&#39;hbase_row_id&#39;, COLUMN_CREATE(&#39;column_name&#39;, &#39;column-value&#39;));

Q: Non è chiaro: come si accede alle versioni dei dati? Si possono tralasciare nella prima milestone? 
   (e poi, usare global @@hbase_timestamp per la seconda milestone?)

Q: Non è chiaro come si seleziona &#34;tutte le colonne dalla famiglia X&#34;.
}}}

=== 2.4 Esecuzione efficiente della mappatura per riga

La tabella è dichiarata così:

{{{
  row_id BINARY(MAX_HBASE_ROWID_LEN),
  ...
  PRIMARY KEY (row_id)
}}}

ciò permette all&#39;ottimizzatore dell&#39;intervallo e della referenza di costruire ricerche di un punto e scansioni di intervalli su row_id.

Q: Ci sarà bisogno di join, ovvero: occorre implementare le ottimizzazioni Multi-Range-Read e Batched Key Access?

Attualmente MariaDB lavora con le Colonne Virtuali in questo scenario:

# Per leggere un record, viene letto in memoria l&#39;intero blob
# Le funzioni sulle Colonne Dinamiche operano sui dati in memoria (leggono e modificano singole colonne nella memoria)
# [Se è un UPDATE] l&#39;intero blob viene riscritto nella tabella

Se MariaDB userò questo approccio con HBase, leggerà molte colonne non necessarie.

==== Soluzione #1: letture su richiesta
* Per leggere un record, non leggere alcuna colonna, restituire un blob handle.
* Le funzioni per le Colonne Dinamiche useranno l&#39;handle per leggere le singole colonne. Una colonna viene letta da HBase solo quando il suo valore viene richiesto.

Questo schema previene le letture ridondanti dei dati, provocando però di maggiori comunicazioni tra mysqld e HBase (che probabilmente sono costose)

==== Soluzione #2: Lista di letture

* Traversare la query e trovare tutti i riferimenti a tab_hbase.colonne.
* Ricordare i nomi delle colonne lette, ed estrarre solo queste colonne.

Questo metodo potrebbe causare letture ridondanti, per esempio in:

{{{
  SELECT COLUMN_GET(tab_hbase, &#39;colonna1&#39; AS INTEGER) 
  FROM hbase_tbl
  WHERE 
    row_id BETWEEN &#39;hbase_riga_id1&#39; AND &#39;hbase_riga_id2&#39; AND 
    COLUMN_GET(tab_hbase, &#39;colonna2&#39; AS INTEGER)=1
}}}

colonna1 viene letta in tutte quelle righe che hanno column2!=1. Tuttavia, questo problema sembra essere preferibile alle troppe comunicazioni.

Occorre decidere cosa fare se la query ha riferimenti come

{{{  
  COLUMN_GET(tab_hbase, {oggetto-non-costante} AS ...) 
}}}

dove non c&#39;è modo di sapere in anticipo quali sono le colonne da leggere. I possibili approcci sono:
* estrarre tutte le colonne
* estrarre le colonne su richiesta
* fermare la query restituendo un errore.

== 3. Mappatura per cella

La shell di HBase ha il comando &#39;scan&#39;, ecco un esempio del suo output:

{{{
hbase(main):007:0&gt; scan &#39;testtable&#39;
 ROW COLUMN+CELL
  myrow-1 column=colfam1:q1, timestamp=1297345476469, value=value-1
  myrow-2 column=colfam1:q2, timestamp=1297345495663, value=value-2
  myrow-2 column=colfam1:q3, timestamp=1297345508999, value=value-3
}}}

Qui una riga di HBase produce diverse righe di output. Ognuna di esse rappresenta una combinazione (id_riga, colonna), pertanto le righe con colonne multiple (e revisioni multiple dei dati delle colonne) possono essere rappresentate facilmente.

=== 3.1 Definizione della mappatura

La mappatura può essere definita come segue:

{{{
CREATE TABLE hbase_tbl_cells (
  id_riga binary(MAX_HBASE_ROWID_LEN),
  famiglia_colonne binary(MAX_HBASE_COLFAM_LEN),
  nome_colonna binary(MAX_HBASE_NAME_LEN),
  timestamp TIMESTAMP,
  valore BLOB,
  PRIMARY KEY (riga_id, famiglia_colonne, nome_colonna, timestamp)
) ENGINE=hbase_cell;
}}}

Non c&#39;è bisogno di usare le Colonne Dinamiche in questa mappatura.

* NOTA: E&#39; desiderabile che le definizioni delle tabelle SQL siano indipendenti dal contenuto della tabella hbase backend. In questo modo non è necessario sincronizzare la definizione della tabella tra hbase e mysql (NDB cluster ha dovuto farlo, e per farlo hanno dovuto implementare un sistema molto complesso).

=== 3.2 Query nella mappatura per cella

{{{
# Point-select:
SELECT value 
FROM hbase_cell
WHERE 
  row_id=&#39;id_riga&#39; AND 
  column_family=&#39;famiglia_colonne&#39; AND column_name=&#39;colonna&#39;
  ...

#  Select di un intervallo:
#   (the example uses BETWEEN but we will support arbitrary predicates)
SELECT value 
FROM hbase_cell
WHERE 
  row_id BETWEEN &#39;id_riga1&#39; AND &#39;id_riga2&#39; AND 
  column_family=&#39;famiglia_colonne&#39; AND column_name=&#39;colonna&#39;


# Update su una colonna
UPDATE cella SET value=&#39;valore&#39; 
WHERE row_id=&#39;hbase_row&#39; AND 
      column_family=&#39;famiglia_colonne&#39; AND column_name=&#39;colonna&#39;


# Aggiungere una colonna (aggiunge anche una riga, se non ce ne sono)
INSERT INTO cella values (&#39;riga_hbase&#39;, &#39;famiglia_col&#39;,&#39;nome_col&#39;,&#39;valore&#39;);
}}}

Si noti che
* accedere alle versioni dei dati è facile: si può leggere una particolare versione, versioni in un intervallo, etc
* è facile anche selezionare tutte le colonne di una certa famiglia .

=== 3.3 Esecuzione efficiente della mappatura per cella

Nella definizione della tabella c&#39;è:

{{{
  PRIMARY KEY (row_id, column_family, column_name, timestamp)
}}}

Questo permette rapide ricerche di un punto su tuple (id_riga, famiglia_colonne, nome_colonna).

L&#39;ordine delle colonne nell&#39;indice permette inoltre di leggere tutte le colonne di una certa famiglia.

==== 3.3.1 Scansire alcune colonne all&#39;interno di un intervallo

L&#39;API di HBase permette di scansire un intervallo di righe, estraendo solo certe colonne o certe famiglie. In SQL, si scrive così:

{{{
SELECT valore
FROM hbase_cell
WHERE
  row_id BETWEEN &#39;id_riga1&#39; AND &#39;id_riga2&#39; AND
  famiglia=&#39;nome_famiglia&#39;                           (*)
}}}

Elaborato dall&#39;ottimizer, viene prodotto un range:

{{{
  (&#39;id_riga1&#39;, &#39;nome_famiglia&#39;) &lt;= (row_id, nome_famiglia) &lt;=
  (&#39;id_riga2&#39;, &#39;nome_famiglia&#39;)
}}}

che racchiude tutte le famiglie delle colonne che soddisfano

{{{
  &#39;id_riga1&#39; &lt; rowid &lt; &#39;id_riga2&#39;
}}}

In questo modo vengono però letti più dati.

Possibili soluzioni:
* Estendere l&#39;interfaccia di multi-range-read per attraversare il &#39;grafo SEL_ARG&#39; invece di una lista di intervalli. Questo permette di catturare l&#39;esatta forma delle condizioni simili a (*).
* Usare il condition pushdown e analizzare la condizione.
* Definire più indici, in modo che gli intervalli siano &#34;densi&#34;.
   ^^ può andare  (row_id BETWEEN $X AND $Y) AND (timestamp BETWEEN $T1 AND
   $T2) ? Indipendentemente da quali indici si definiscono, la lista degli intervalli non sarà identica alla clausola WHERE.


== 4. Comparazione delle due mappature

Se si selezionano due colonne da una riga, la mappatura per cella produce risultati &#34;verticali&#34;, mentre la mappatura per riga produce risultati &#34;orizzontali&#34;.

{{{
# Per cella:
SELECT column_name, value 
FROM hbase_cell
WHERE 
  row_id=&#39;hbase_row_id1&#39; AND 
  column_family=&#39;col_fam&#39; AND column_name IN (&#39;column1&#39;,&#39;column2&#39;)
+-------------+-------+
| column_name | value |
+-------------+-------+
| column1     | val1  |
| column2     | val2  |
+-------------+-------+
}}}

{{{
# Per riga:
SELECT 
  COLUMN_GET(columns, &#39;col_fam:column1&#39;) as col1,  
  COLUMN_GET(columns, &#39;col_fam:column2&#39;) as col2,
FROM hbase_row
WHERE 
  row_id=&#39;hbase_row_id1&#39; 
+------+------+
| col1 | col2 |
+------+------+
| val1 | val2 |
+------+------+
}}}

Mappatura per cella:
* Consente un controllo più preciso della selezione delle versioni dei dati, delle famiglie di colonne, etc.
* Produce un set di risultati &#34;migliore&#34; quando si selezionano diverse colonne arbitrarie (il client deve solo iterare sul resultset, senza dover decomprimere i blob delle Colonne Dinamiche).

Mappatura per riga:
* più semplice da usare se si seleziona un set di colonne predefinito
* permette join su diverse colonne (con la mappatura per cella occorre eseguire una [inefficiente?] auto-join se si desidera ottenere una join tra righe in una tabella hbase e alcune altre cose).


== 5. Interfacciarsi con HBase

HBase è in Java, e la sua API client nativa è una libreria Java. Occorre interfacciarla con uno Storage Engine in C++. Le possibilità sono:

=== 5.1 Usare Thrift 
Occorre installare HBase per eseguire un server Thrift

=== 5.2 Reimplement il protocollo di rete di HBase
* Sembra essere un protocollo RPC creato appositamente.
* Ecco una reimplementazione indipendente: https://github.com/stumbleupon/asynchbase. Sono 10K righe di codice Java, il che dà un&#39;idea della complessità del protocollo di HBase
** Sembra supportare solo un sottoinsieme delle sue funzionalità? Ad esempio, non è menzionato il supporto alle push down condition?
** Guardare in ##HBaseRpc.java## per una ##&#34;Documentazione non ufficiale del protocollo RPC di Hadoop / HBase&#34;##

=== 5.3 Usare il protocollo client JNI+HBase
* non so quanto sia complesso
* Mark ritiene che il carico di lavoro sia accettabile?

== 6. Integrità, transazioni, etc

* HBase usa transazioni di un singolo record. Questo significa che lo Storage Engine HBase avrà caratteristiche simili a MyISAM? Per esempio, se una UPDATE multi-riga fallisce a metà, non c&#39;è modo di tornare indietro.

* Come devono essere fatte le scritture dei dati? Le UPDATE/INSERT dovrebbero usare checkAndPut per non sovrascrivere i dati già presenti?

* Q: La scrittura è importante? (ad esempio, se la primissima versione ha un accesso in sola lettura, è utile?) 
  A: Sì?
</textarea>
    


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/solutions" title="Solutions">Solutions</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">Company</a></h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        
                        
                        <li>
                            <h5><a href="https://mariadb.com/downloads" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2025 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.1587e3a666fc.js" charset="utf-8"></script>

</html>