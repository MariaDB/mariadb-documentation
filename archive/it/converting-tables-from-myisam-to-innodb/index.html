<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>Convertire le tabelle da MyISAM a InnoDB - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.f7633538c846.css" rel="stylesheet" type="text/css" />

    

    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="Convertire le tabelle da MyISAM a InnoDB" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/it/converting-tables-from-myisam-to-innodb/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="
Il Task
Hai deciso di trasformare le tue tabelle MyISAM in InnoDB. Dovrebbe bastare un ALTER TABLE foo ENGINE=InnoDB. Ma hai sentito dire che potrebbero verificarsi dei probl..." />

    <meta name="description" content="
Il Task
Hai deciso di trasformare le tue tabelle MyISAM in InnoDB. Dovrebbe bastare un ALTER TABLE foo ENGINE=InnoDB. Ma hai sentito dire che potrebbero verificarsi dei probl..." />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes products nodes_view jqui" id="nodes_view">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/it/converting-tables-from-myisam-to-innodb/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2025 MariaDB. All rights reserved.</p>
    </div>
</div>
<div class="violator-wrap d-none" id="top_violator">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12">
                <div class="violator-outer">
                    <div class="violator-inner">
                        <div class="row">
                            <div class="col-xs-12 col-sm-9 col-lg-7 col-lg-offset-2" id="top_violator_content">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="content-link" target="_blank" rel="nofollow noreferrer">
                                    <span>The Ultimate Guide to High Availability with MariaDB</span>
                                </a>
                            </div>
                            <div class="col-xs-12 col-sm-3" id="top_violator_cta">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="btn btn-mariadb" target="_blank" rel="nofollow noreferrer">Download Now</a>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn btn-link close-btn">
                        <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" width="15px" height="15px"><path d="M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/it/converting-tables-from-myisam-to-innodb/" rel="nofollow">Accesso</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/it/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/it/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/solutions" title="Solutions">Solutions</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="Company">Company</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/it/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/it/mariadb-italiano/">MariaDB - Italiano</a>
    

    
    » <a class="crumb" href="/kb/it/documentazione-di-mariadb/">Documentazione di MariaDB</a>
    

    
    » <a class="crumb" href="/kb/it/ottimizzazione/">Ottimizzazione</a>
    


    » <a class="node_link crumb" href="/kb/it/converting-tables-from-myisam-to-innodb/">Convertire le tabelle da MyISAM a InnoDB</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/it/">Pagina iniziale</a></li>
                            
                                
                                    <li><a href="/kb/it/+questions/">Domande Aperte</a></li>
                                
                                <li><a href="/kb/it/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/it/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/it/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/it/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
<div>



<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-blue btn-sm" href="/kb/it/converting-tables-from-myisam-to-innodb/+history" rel="nofollow">Cronologia</a>
        
        
        
        <a class="btn btn-block btn-blue btn-sm" href="/kb/it/converting-tables-from-myisam-to-innodb/+source/">Source</a>
        
        <a class="btn btn-block btn-blue btn-sm flag" href="/kb/it/converting-tables-from-myisam-to-innodb/+flag"
                data-flag-url="/kb/it/converting-tables-from-myisam-to-innodb/+flag" rel="nofollow">
                Flag as Spam / Inappropriate</a>
        
        <a class="btn btn-block btn-blue btn-sm" href="/kb/it/converting-tables-from-myisam-to-innodb/+translate/">
                Traduci</a>
        

</div>
</div>





<div class="well well-small box node_info"><div>

    <dl>
        <dt>Creato</dt>
        <dd>

<span class="datetime" title="2012-09-26 09:17">12 anni, 7 mesi ago</span></dd>

        <dt>Modificato</dt>
        <dd>

<span class="datetime" title="2012-09-28 09:03">12 anni, 7 mesi ago</span></dd>

        <dt>Tipo</dt>
        <dd>article</dd>

        <dt>Stato</dt>
        <dd>active</dd>

        <dt>Licenza</dt>
        <dd>
            
                <a href="/kb/it/converting-tables-from-myisam-to-innodb/+license/">CC BY-SA / Gnu FDL</a>
            
        </dd>

        
    </dl>

    
    <ul class="rss_feeds">
        <li><a href="/kb/it/converting-tables-from-myisam-to-innodb/+history/feed/">
            Cronologia</a>
        </li>
        <li><a href="/kb/it/converting-tables-from-myisam-to-innodb/+comments/feed/">
            Commenti</a>
        </li>
    </ul>
    

</div>
</div>





    
    
    

<div class="well well-small box attachments"><div><div class="edit_link pull-right"><a href="/kb/it/converting-tables-from-myisam-to-innodb/+edit/attachments/">Edit</a></div><h5>Attachments</h5></div><div>

        
            <div class="no_data">No attachments exist</div>
        
    
</div>
</div>

    



    
    
        

<div class="well well-small box"><div><h5>Versioni Localizzate</h5></div><div>

        <ul>
            
            <li><a href="/kb/en/converting-tables-from-myisam-to-innodb/">Converting Tables from MyISAM to InnoDB</a> [en]</li>
            
            <li><a href="/kb/zh-cn/converting-tables-from-myisam-to-innodb/">将表从 MyISAM 转换为 InnoDB</a> [zh-cn]</li>
            
        </ul>
        
</div>
</div>

    





    

<div class="well well-small box"><div><h5>Parents</h5></div><div>

        <ul>
            
                <li><a href="/kb/it/ottimizzazione/">Ottimizzazione</a></li>
            
                <li><a href="/kb/it/storage-engine/">Storage Engine</a></li>
            
        </ul>
    
</div>
</div>



</div>


                    

































                </aside>
            
            
            
                
            
            
                
            
            <section id="content" class="limited_width col-md-8 clearfix">
                
                    <h1>Convertire le tabelle da MyISAM a InnoDB</h1>
                

                



                <div>
                    
    

    
    
    

    <div class="node creole">
        
        
        


    
    <div class="answer formatted">
        <div class="table_of_contents well well-small">
<h3>Contents</h3>
 <ol class="toc">

    <li class=""><a href="#il-task" title="Il Task">Il Task</a></li>

    <li class=""><a href="#problemi-sugli-indici" title="Problemi sugli indici">Problemi sugli indici</a></li>

    <li class=""><a href="#problemi-non-relativi-agli-indici" title="Problemi non relativi agli indici">Problemi non relativi agli indici</a></li>

    <li class=""><a href="#vedi-anche" title="Vedi anche">Vedi anche</a> </ol>
</li>
</div>
<h2 class="anchored_heading" id="il-task">Il Task</h2>
<p>Hai deciso di trasformare le tue tabelle MyISAM in InnoDB. Dovrebbe bastare un <code>ALTER TABLE foo ENGINE=InnoDB</code>. Ma hai sentito dire che potrebbero verificarsi dei problemi sottili. </p>
<p>Qui vengono descritti, insieme al modo per risolverli. </p>
<p> <em>Raccomandazione.</em> Per cercare i problemi, può aiutare (almeno su *nix):</p>
<pre class="fixed">mysqldump --no-data --all-databases &gt;schemas
egrep <span class="s1">&#39;CREATE|PRIMARY&#39;</span> schemas   <span class="c1"># per le chiavi primarie</span>
egrep <span class="s1">&#39;CREATE|FULLTEXT&#39;</span> schemas  <span class="c1"># cerca gli indici FULLTEXT</span>
egrep <span class="s1">&#39;CREATE|KEY&#39;</span> schemas       <span class="c1"># cerca varie combinazioni di indici</span>
</pre><p>Capire il funzionamento degli indici aiuta a comprendere meglio che cosa può velocizzare o rallentare InnoDB. </p>
<h2 class="anchored_heading" id="problemi-sugli-indici">Problemi sugli indici</h2>
<p> <em>(La maggioranza di questa Raccomandazioni e alcuni di questi Fatti presentano delle eccezioni.)</em></p>
<p> <em>Fatto.</em> Ogni tabella InnoDB ha una PRIMARY KEY. Se non ne viene creata una esplicitamente, verrà usata la prima chiave non-NULL e UNIQUE. Se non è possibile, viene aggiunto un intero di 6-byte, nascosto. </p>
<p> <em>Raccomandazione.</em> Cercare le tabelle senza una PRIMARY KEY. Specificarne una esplicitamente, anche un AUTO_INCREMENT artificiale. Non è un requisito obbligatorio, ma su InnoDB questo consiglio è più importante che su MyISAM. Un giorno potresti aver bisogno di scorrere la tabella; sena una chiave primaria esplicita, non è possibile.</p>
<p> <em>Fatto.</em> I campi della PRIMARY KEY sono inclusi in ogni Chiave Secondaria. </p>
<ul start="1"><li>Si cerchino gli indici ridondanti tenendo questo in mente.
</li></ul>
<pre class="fixed indent1">PRIMARY KEY(id),
INDEX(b), -- in effetti è come INDEX(b, id)
INDEX(b, id) -- in effetti è come INDEX(b)
</pre><ul start="1" style="list-style: none"><li>(Mantenere uno degli indici, on entrambi)
</li></ul>
<ul start="1"><li>Si notino questioni sottili come
</li></ul>
<pre class="fixed indent1">PRIMARY KEY(id),
UNIQUE(b), -- mantenere: vincolo di univocità
INDEX(b, id) -- eliminarlo
</pre><ul start="1"><li>Inoltre, siccome la PK e i dati coesistono:
</li></ul>
<pre class="fixed indent1">PRIMARY KEY(id),
INDEX(id, b) -- eliminarlo: non aggiunge quasi niente
</pre><p> <em>Contrasto.</em> Questa funzionalità di MyISAM non esiste in InnoDB; il valore di 'id' inizia da 1 per ogni diverso valore di 'abc':</p>
<pre class="fixed">id INT UNSIGNED NOT NULL AUTO_INCREMENT,
PRIMARY KEY (abc, id)
</pre><p>Un modo per simulare questa 'funzionalità' di MyISAM potrebbe essere qualcosa del genere: Ecco ciò che desideri, ma non funziona perché ci sono due riferimenti alla tabella:</p>
<pre class="fixed">INSERT INTO foo
    (other, id, ...)
    VALUES
    (123, (SELECT MAX(id)+1 FROM foo WHERE other = 123), ...);
</pre><p>Invece, hai bisogno di una variante. (potresti già avere un BEGIN...COMMIT.)</p>
<pre class="fixed">BEGIN;
SELECT @id := MAX(id)+1 FROM foo WHERE other = 123;
INSERT INTO foo
    (other, id, ...)
    VALUES
    (123, @id, ...);
COMMIT;
</pre><p>E' necessario usare una transazione per impedire agli altri thread di aggiudicarsi lo stesso id. </p>
<p> <em>Raccomandazioni.</em> Cerca queste PRIMARY KEY. Se ne trovi, valuta se cambiare le scelte di progettazione. Non esiste un'alternativa semplice. Tuttavia, la seguente dovrebbe andare bene. (Assicurati che il tipo di id sia sufficientemente grande.):</p>
<pre class="fixed">id INT UNSIGNED NOT NULL AUTO_INCREMENT,
PRIMARY KEY (abc, id),
UNIQUE(id)
</pre><p> <em>Raccomandazione.</em> Mantenere piccola la PRIMARY KEY. Se si hanno delle Chiavi Secondarie, bisogna ricordarsi che queste includono la PK. Una PK di grandi dimensioni intasa le Chiavi Secondarie. Beh, forse no <span>&mdash;</span> se nei campi vi sono molte sovrapposizioni.  Esempio: <code>PRIMARY KEY(a,b,c), INDEX(c,b,a)</code>
<span>&mdash;</span> niente dati aggiuntivi. </p>
<p> <em>Recommendation.</em> Check AUTO_INCREMENT sizes. </p>
<ul start="1"><li>BIGINT non è quasi mai necessario. Spreca almeno 4 bytes per riga (rispetto a INT). 
</li><li>Si usino sempre UNSIGNED e NOT NULL. 
</li><li>MEDIUMINT UNSIGNED (massimo 16M) dovrebbe essere sufficiente, invece di INT 
</li><li>E' meglio essere sempre pessimisti <span>&mdash;</span> eseguire un ALTER è doloroso.
</li></ul>
<p> <em>Contrasto.</em> "Partizionamento Verticale". E' la tecnica che consiste nel dividere artificialmente una tabella per spostare le grandi colonne (per esempio i BLOB) in un'altra tabella, parallela. In MyISAM porta dei benefici, perché si evita di inciampare in un BLOB quando non ce necessita di usarlo. InnoDB registra i BLOB i TEXT in modo diverso <span>&mdash;</span> 767 byte si trovano nel record, il resto è in un altro blocco. Perciò potrebbe (ma non è detto) valere la pena di riunire insieme le tabelle. Cautela: una riga InnoDB è limitata a 8KB e il valore di 767 conta su questo. </p>
<p> <em>Fact.</em> Gli indici FULLTEXT e SPATIAL non sono disponibilie per InnoDB. </p>
<p> <em>Raccomandazione.</em> Cercare questi indici. Mantenere queste tabelle in MyISAM.
Meglio ancora, tramile il Partizionamento Verticale (vedi sopra) separare il minor numero possibile di colonne da InnoDB. </p>
<p> <em>Fatto.</em> La lunghezza massima degli indici varia a seconda degli Storage Engine. (E' difficile che questa variazione crei problemi, ma è meglio stare attenti.) MyISAM permette 1000 byte; InnoDB permette 767 byte, che è troppo poco per:</p>
<pre class="fixed">VARCHAR(255) CHARACTER SET utf8.

ERROR 1071 (42000): Specified key was too long; max key length is 767 bytes
</pre><p> <em>Fatto.</em> La PRIMARY KEY è compresa nei dati. Perciò, SHOW TABLE STATUS
mostra un <code>Index_length</code> di 0 byte (o 16KB) nel caso di tabelle senza Chiavi Secondarie. Altrimenti, <code>Index_length</code> sono le dimensioni totali delle Chiavi Secondarie. </p>
<p> <em>Fatto.</em> La PRIMARY KEY è compresa nei dati. Perciò, la ricerca esatta della PK
potrebbe essere leggermente più rapida in InnoDB. E le scansioni "range" (su un intervallo) sulla PK sono in gener epiù veloci.</p>
<p> <em>Fatto.</em> Le ricerche sulle Chiavi Secondarie attraversa il BTree di quelle chiavi, legge la PRIMARY KEY, poi attraversa il BTree della PK. Perciò, le ricerche sulle chiavi secondarie sono un po' più lente in InnoDB. </p>
<p> <em>Contrasto.</em> I campi della PRIMARY KEY sono inclusi in ogni Chiave Secondaria.  Questo può causare un "Using index" (nel piano di EXPLAIN) su InnoDB in casi in cui questo non accadrebbe in MyISAM. (è un leggero miglioramento nelle prestazioni e controbilancia il doppio passaggio che altrimenti sarebbe necessario.) Tuttavia, quando "Using index" è utile con una PRIMARY KEY, MyISAM esegue un "index scan", mentre InnoDB deve eseguire un "table scan". </p>
<p> <em>Come MyISAM.</em> Quasi sempre</p>
<pre class="fixed">INDEX(a)   -- eliminarlo, perchè l'altro indice contiene questo
INDEX(a,b)
</pre><p> <em>Contrasto.</em> I dati sono registrati nell'ordine della PK. Questo significa che i record "recenti" sono raggruppati insieme alla fine. In questo modo si ottiene una "vicinanza dei riferimenti" migliore che in MyISAM.</p>
<p> <em>Come MyISAM.</em> L'ottimizzatore non usa quasi mai due indici in un'unica SELECT. (5.1 esegue occasionalmente un "index merge".) Le SELECT nelle subquery e le UNION possono usare indici in modo indipendente. </p>
<p> <em>Problema sottile.</em> Quando si elimina una riga, il suo valore nell'id AUTO_INCREMENT viene bruciato. Lo stesso dicasi per REPLACE, che è una DELETE seguita da una INSERT. </p>
<p> <em>Problema molto sottile.</em> La replica avviene con i COMMIT. Se diversi thread utilizzano le transazioni, i valori AUTO_INCREMENT potrebbero arrivare agli slave in ordine sparso. Una transazione inizia, si prenota un id. Poi un'altra transazione prenota un altro id, ma esegue il COMMIT prima dell'altra. </p>
<p> <em>Come MyISAM.</em> L'indicizzazione con i prefissi, in genere è male sia con InnoDB sia con MyISAM.  Esempio: <code>INDEX(foo(30))</code></p>
<h2 class="anchored_heading" id="problemi-non-relativi-agli-indici">Problemi non relativi agli indici</h2>
<p>Lo spazio su disco per InnoDB è probabilmente 2-3 volte maggiore rispetto a MyISAM. </p>
<p>MyISAM e InnoDB utilizzano la RAM in modo radicalmente diverso. Se si convertono tutte le tabelle, occorre fare delle modifiche significative: </p>
<ul start="1"><li><code>key_buffer_size</code> <span>&mdash;</span> piccolo ma non zero; diciamo 10M; 
</li><li><code>innodb_buffer_pool_size</code> <span>&mdash;</span> 70% della RAM disponibile
</li></ul>
<p>InnoDB has essentially no need for CHECK, OPTIMIZE, or ANALYZE. Remove them
from your maintenance scripts. (No real harm if you keep them.) </p>
<p>Gli script di backup devono essere controllati. Per ricreare una tabella MyISAM basta copiare tre file. Non esiste una tecnica simile su InnoDB. Allo stesso modo, catturare una tabella o database per la copia da un ambiente di produzione a un ambiente di sviluppo non è possibile. Passare a mysqldump. </p>
<p>Comprendere l'autocommit e BEGIN/COMMIT. </p>
<ul start="1"><li>(default) autocommit = 1: In assenza delle istruzioni BEGIN e COMMIT,
  ogni comando è di per sé una transazione. Questo comportamento è simile a quello di MyISAM, ma non è il migliore. 
</li><li>autocommit = 0: i COMMIT chiudono una transazione e ne iniziano un'altra. Per me, è un po' povero.
</li><li>(raccomandato) BEGIN...COMMIT dà il controllo su quali sequenze di operazioni devono essere considerate una transazione e atomiche. Si può usare l'istruzione ROLLBACK se si deve annullare tutto e tornare a BEGIN. 
</li></ul>
<p>Perl DBIx::DWIW e Java JDBC hanno chiamate API per eseguire BEGIN e COMMIT. Queste probabilmente sono preferibili, piuttosto che eseguire BEGIN e COMMIT. </p>
<p>Cercare errori ovunque! Siccome InnoDB utilizza il lock a livello di riga, potrebbe inciampare in deadlock che non ci si aspetta. L'engine esegue automaticamente un ROLLBACK fino a BEGIN. Normalmente per recuperare si rifà tutto, ricominciando da BEGIN. Si noti che anche questa è un'ottima ragione per usare BEGIN.</p>
<p>Rimuovere LOCK/UNLOCK TABLES. Sostituirli con (una sorta di) BEGIN ... COMMIT. (Sì, LOCK funziona, ma è meno efficiente e comporta problemi sottili.) </p>
<p>In 5.1, ALTER ONLINE TABLE può velocizzare parecchio alcune operazioni.
(Normalmente ALTER TABLE copia la tabella e ricostruisce gli indici.) </p>
<p>I "limiti" su ogni aspetto sono differenti tra MyISAM e InnoDB.
A meno di non avere tabelle grandi, righe corpose, molti indici, etc, è difficile avere problemi per via di un limite diverso. </p>
<p>Un misto di MyISAM e InnoDB? Va bene. Ma ci sono cose da considerare. </p>
<ul start="1"><li>Le impostazioni della RAM devono essere cambiate di conseguenza. 
</li><li>Le JOIN tra diversi Engines funzionano. 
</li><li>Una transazione che ha effetto su tabelle di entrambi i tipi può eseguire un ROLLBACK su InnoDB, ma lascerà intatte le modifiche su MyISAM.
</li><li>Replica: le istruzioni su MyISAM vengono replicate dopo che la loro esecuzione è terminata; le istruzioni su InnoDB vengono lasciate in attesa fino al COMMIT. 
</li></ul>
<p>FIXED (oppure DYNAMIC) non ha significato in InnoDB. </p>
<p>PARTITION <span>&mdash;</span> E' possibile partizionare le tabelle MyISAM e InnoDB. Si ricordi la seguente regola generale: bisogna scegliere tra due alternative:</p>
<ul start="1"><li>non usare chiavi UNIQUE (o PRIMARY) oppure
</li><li>inserire il valore su cui si basa il partizionamento su tutte le chiavi UNIQUE. 
</li></ul>
<p>Su InnoDB la prima possibilità non è consigliata. La seconda non è buona se si usa AUTO_INCREMENT. </p>
<p>PRIMARY KEY nelle PARTITION <span>&mdash;</span> Considerato che tutte le chiavi devono includere il campo su cui si basa il partizionamento, come funziona AUTO_INCREMENT?
Bene, sembra esistere un caso speciale molto comodo: </p>
<ul start="1"><li>Questo funziona: PRIMARY KEY(autoinc, partition_key) 
</li></ul>
<ul start="1"><li>Questo non funziona, su InnoDB: PRIMARY KEY(partition_key, autoinc) 
</li></ul>
<p>Insomma, AUTO_INCREMENT aumenterà correttamente, e i valori saranno univoci tra tutte le partizioni, solo quando è impostato sul primo campo della PRIMARY KEY.</p>
<h2 class="anchored_heading" id="vedi-anche">Vedi anche</h2>
<p>Rick James ha gentilmente concesso di utilizzare questo articolo nella Knowledgebase. L'originale è qui: <a href="http://mysql.rjweb.org/doc.php/myisam2innodb">http://mysql.rjweb.org/doc.php/myisam2innodb</a></p>
<p><a href="http://mysql.rjweb.org/">Il sito di Rick James</a> contiene altri utili trucchi, how-to, ottimizzazioni e suggerimenti per il debug.</p>

    </div>


        
            <div id="subscribe" class="well well-small hide hidden-print"
                 data-subscribe-url="/kb/it/converting-tables-from-myisam-to-innodb/+subscriptions/add"
                 data-unsubscribe-url="/kb/it/converting-tables-from-myisam-to-innodb/+subscriptions/remove">
            </div>
        

        
        
    
        <div class="simple_section_nav">
            <ul class="nav nav-pills">
                
                    <li><a href="/kb/it/how-to-force-query-plans/">
                        ← Come forzare i piani delle query
                    </a>
                    </li>
                
                
                    <li><a href="/kb/it/ottimizzazione/">
                        ↑ Ottimizzazione ↑
                    </a>
                    </li>
                
                
                    <li class="pull-right"><a href="/kb/it/inserire-dati-velocemente-in-mariadb/">
                        Inserire dati velocemente in MariaDB →
                    </a>
                    </li>
                
            </ul>
        </div>
    

        

        
        <h2>Commenti</h2>
        
    
    <div id="comments" data-node-id="2952" data-comments-url="/kb/it/converting-tables-from-myisam-to-innodb/+comments"
         data-reply-url="/kb/it/converting-tables-from-myisam-to-innodb/comments/post/">
        Sto caricando i commenti......
    </div>

        

    </div>


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
                <div id="right_bar" class="col-md-2">
                    
    
        
        <ul class="section_navigation well well-small hidden-xs hidden-sm">
            
                <li class="parent"><a href="/kb/it/ottimizzazione/">
                    ↑ Ottimizzazione ↑
                </a>
                </li>
            
            
                
                    <li>
                        <a href="/kb/it/buffer-e-cache/">
                            
                            Buffer e cache
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/it/lottimizzatore-delle-query/">
                            
                            L&#39;ottimizzatore delle query
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/it/ottimizzare-le-strutture-dati/">
                            
                            Ottimizzare le strutture dati
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/it/ottimizzazione-e-indici/">
                            
                            Ottimizzazione e indici
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/it/variabili-di-sistema/">
                            
                            Variabili di sistema
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/it/how-to-limittimeout-queries/">
                            
                            Come applicare un limite o un timeout alle query
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/it/how-to-force-query-plans/">
                            
                            Come forzare i piani delle query
                        </a>
                    </li>
                
            
                
                    <li class="active">
                        <span>Convertire le tabelle da MyISAM a InnoDB</span>
                        
                    </li>
                
            
                
                    <li>
                        <a href="/kb/it/inserire-dati-velocemente-in-mariadb/">
                            
                            Inserire dati velocemente in MariaDB
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/it/row-based-replication-with-no-primary-key/">
                            
                            La replica basata sulle righe senza chiave primaria
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/it/le-group-commit-del-binlog-e-innodb_flush_log_at_trx_commit/">
                            
                            Le Group Commit del binlog e innodb_flush_log_at_trx_commit
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/it/limit-rows-examined/">
                            
                            LIMIT ROWS EXAMINED
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/it/mariadb-optimization-for-mysql-users/">
                            
                            MariaDB Optimization for MySQL Users
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/it/optimize-table/">
                            <span class="pull-right not_primary"></span>
                            OPTIMIZE TABLE
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/it/hardware-optimization/">
                            
                            Ottimizzazione hardware
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/it/pool-di-thread-in-mariadb-51-53/">
                            
                            Pool di Thread in MariaDB 5.1 - 5.3
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/it/thread-pool-in-mariadb-55/">
                            
                            Pool di Thread in MariaDB 5.5
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/it/segmented-key-cache/">
                            
                            Segmentazione della Cache degli Indici
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/it/slow-query-log-extended-statistics/">
                            
                            Statistiche estese dello Slow Query Log
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/it/user-statistics/">
                            
                            Statistiche Utente
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/it/variabili-server-di-sistema/">
                            
                            Variabili server di sistema
                        </a>
                    </li>
                
            
        </ul>
    
    

                </div>
            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/solutions" title="Solutions">Solutions</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">Company</a></h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        
                        
                        <li>
                            <h5><a href="https://mariadb.com/downloads" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2025 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.1587e3a666fc.js" charset="utf-8"></script>

</html>