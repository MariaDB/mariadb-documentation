<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>Configurazione di Buildbot per le Macchine Virtuali - Ubuntu 12.10 &#34;quantal&#34; - Source - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.f7633538c846.css" rel="stylesheet" type="text/css" />

    
        <meta name="robots" content="noindex, nofollow">
    

    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="Configurazione di Buildbot per le Macchine Virtuali - Ubuntu 12.10 &amp;#34;quantal&amp;#34; - Source" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/it/buildbot-setup-for-virtual-machines-ubuntu-1210-quantal/+source/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="" />

    <meta name="description" content="" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes autoresize nodes_source jqui" id="nodes_source">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/it/buildbot-setup-for-virtual-machines-ubuntu-1210-quantal/+source/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2024 MariaDB. All rights reserved.</p>
    </div>
</div>
<div class="violator-wrap d-none" id="top_violator">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12">
                <div class="violator-outer">
                    <div class="violator-inner">
                        <div class="row">
                            <div class="col-xs-12 col-sm-9 col-lg-7 col-lg-offset-2" id="top_violator_content">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="content-link" target="_blank" rel="nofollow noreferrer">
                                    <span>The Ultimate Guide to High Availability with MariaDB</span>
                                </a>
                            </div>
                            <div class="col-xs-12 col-sm-3" id="top_violator_cta">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="btn btn-mariadb" target="_blank" rel="nofollow noreferrer">Download Now</a>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn btn-link close-btn">
                        <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" width="15px" height="15px"><path d="M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/it/buildbot-setup-for-virtual-machines-ubuntu-1210-quantal/+source/" rel="nofollow">Accesso</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/it/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/it/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/services" title="Services">Services</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="About Us">About Us</a>
    </li>
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/it/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/it/mariadb-italiano/">MariaDB - Italiano</a>
    

    
    » <a class="crumb" href="/kb/it/sviluppo/">Sviluppo</a>
    

    
    » <a class="crumb" href="/kb/it/strumenti/">Strumenti</a>
    

    
    » <a class="crumb" href="/kb/it/buildbot/">Buildbot</a>
    

    
    » <a class="crumb" href="/kb/it/configurazione-di-buildbot/">Configurazione di Buildbot</a>
    

    
    » <a class="crumb" href="/kb/it/configurare-buildbot-sulle-macchine-virtuali/">Configurare Buildbot sulle macchine virtuali</a>
    

    
    » <a class="crumb" href="/kb/it/configurazione-di-buildbot-per-le-macchine-virtuali-ubuntu/">Configurazione di Buildbot per le Macchine Virtuali - Ubuntu</a>
    


    » <a class="node_link crumb" href="/kb/it/buildbot-setup-for-virtual-machines-ubuntu-1210-quantal/">Configurazione di Buildbot per le Macchine Virtuali - Ubuntu 12.10 &#34;quantal&#34;</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/it/">Pagina iniziale</a></li>
                            
                                
                                <li><a href="/kb/it/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/it/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/it/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/it/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
                        <div>
    

<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-small" href="/kb/it/buildbot-setup-for-virtual-machines-ubuntu-1210-quantal/">Return to article</a>
    
</div>
</div>

</div>
                    

                    

































                </aside>
            
            
            
                
            
            
            <section id="content" class="limited_width col-md-10 clearfix">
                
                    <h1>Configurazione di Buildbot per le Macchine Virtuali - Ubuntu 12.10 &#34;quantal&#34; - Source</h1>
                

                



                <div>
                    

    

    
    <div class="revision_info">
        <dl class="table">
            <dt>Revisione</dt>
            <dd><a href="/kb/it/buildbot-setup-for-virtual-machines-ubuntu-1210-quantal/+r/13239/">13239</a></dd>
            <dt>Utente</dt>
            <dd>
<span class="user" id="user-982">
<a href="/kb/user/id/982" title="Federico Razzoli">Federico Razzoli</a>
</span></dd>
            <dt>Data</dt>
            <dd>

<span class="datetime" title="2013-01-18 13:49">2013-01-18 13:49</span></dd>
        </dl>
    </div>
    


    

    
        
        <textarea id="answer_source" class="creole_source autogrow">&lt;&lt;toc&gt;&gt;
== Installazione base

&lt;&lt;code lang=bash inline=false&gt;&gt;
qemu-img create -f qcow2 /kvm/vms/vm-quantal-amd64-serial.qcow2 10G
qemu-img create -f qcow2 /kvm/vms/vm-quantal-i386-serial.qcow2 10G
&lt;&lt;/code&gt;&gt;

Avviare tutte le VM dall&#39;iso di installazione del server, una alla volta, ed effettuare i seguenti passaggi:

&lt;&lt;code lang=bash inline=false&gt;&gt;
kvm -m 2048 -hda /kvm/vms/vm-quantal-amd64-serial.qcow2 -cdrom /kvm/iso/ubuntu/ubuntu-12.10-server-amd64.iso -boot d -smp 2 -cpu qemu64 -net nic,model=virtio -net user,hostfwd=tcp:127.0.0.1:2275-:22
kvm -m 2048 -hda /kvm/vms/vm-quantal-i386-serial.qcow2 -cdrom /kvm/iso/ubuntu/ubuntu-12.10-server-i386.iso -boot d -smp 2 -cpu qemu64 -net nic,model=virtio -net user,hostfwd=tcp:127.0.0.1:2276-:22
&lt;&lt;/code&gt;&gt;

Una volta avviate, connettersi al server VNC dall&#39;host locale:

&lt;&lt;code lang=bash inline=false&gt;&gt;
vncviewer -via ${remote-host} localhost
&lt;&lt;/code&gt;&gt;

Sostituire ${remote-host} con l&#39;host su cui la vm è stata avviata.

**Nota:** Quando si attiva l&#39;installazione, vncviewer potrebbe disconnettersi dicendo che il rect è troppo grande. Va tutto bene. Ubuntu ha semplicemente ridimensionato lo schermo vnc. Basta riconnettersi.

Installare, mantenendo per lo più i valori predefiniti, con qualche accorgimento:
* Impostare l&#39;hostname a ubuntu-quantal-amd64 o ubuntu-quantal-i386
* Quando si partizionano i dischi, scegliere &#34;Guided - use entire disk&#34; (non vogliamo LVM)
* Niente aggiornamenti automatici
* Scegliere il software da installare: OpenSSH server

Ora che la VM è installata, bisogna configurarla.
Se si ha abbastanza memoria, si possono eseguire le seguenti operazioni simultaneamente:

&lt;&lt;code lang=bash inline=false&gt;&gt;
kvm -m 2048 -hda /kvm/vms/vm-quantal-amd64-serial.qcow2 -cdrom /kvm/iso/ubuntu/ubuntu-12.10-server-amd64.iso -boot c -smp 2 -cpu qemu64 -net nic,model=virtio -net user,hostfwd=tcp:127.0.0.1:2275-:22 -nographic
kvm -m 2048 -hda /kvm/vms/vm-quantal-i386-serial.qcow2 -cdrom /kvm/iso/ubuntu/ubuntu-12.10-server-i386.iso -boot c -smp 2 -cpu qemu64 -net nic,model=virtio -net user,hostfwd=tcp:127.0.0.1:2276-:22 -nographic

ssh -p 2275 localhost
# edit /boot/grub/menu.lst and visudo, see below

ssh -p 2276 localhost
# edit /boot/grub/menu.lst and visudo, see below

ssh -t -p 2275 localhost &#34;mkdir -v .ssh; sudo addgroup $USER sudo&#34;
ssh -t -p 2276 localhost &#34;mkdir -v .ssh; sudo addgroup $USER sudo&#34;

scp -P 2275 /kvm/vms/authorized_keys localhost:.ssh/
scp -P 2276 /kvm/vms/authorized_keys localhost:.ssh/

echo $&#39;Buildbot\n\n\n\n\ny&#39; | ssh -p 2275 localhost &#39;chmod -vR go-rwx .ssh; sudo adduser --disabled-password buildbot; sudo addgroup buildbot sudo; sudo mkdir -v ~buildbot/.ssh; sudo cp -vi .ssh/authorized_keys ~buildbot/.ssh/; sudo chown -vR buildbot:buildbot ~buildbot/.ssh; sudo chmod -vR go-rwx ~buildbot/.ssh&#39;
echo $&#39;Buildbot\n\n\n\n\ny&#39; | ssh -p 2276 localhost &#39;chmod -vR go-rwx .ssh; sudo adduser --disabled-password buildbot; sudo addgroup buildbot sudo; sudo mkdir -v ~buildbot/.ssh; sudo cp -vi .ssh/authorized_keys ~buildbot/.ssh/; sudo chown -vR buildbot:buildbot ~buildbot/.ssh; sudo chmod -vR go-rwx ~buildbot/.ssh&#39;

scp -P 2275 /kvm/vms/ttyS0.conf buildbot@localhost:
scp -P 2276 /kvm/vms/ttyS0.conf buildbot@localhost:

ssh -p 2275 buildbot@localhost &#39;sudo apt-get update &amp;&amp; sudo apt-get -y dist-upgrade;&#39;
ssh -p 2276 buildbot@localhost &#39;sudo apt-get update &amp;&amp; sudo apt-get -y dist-upgrade;&#39;

ssh -p 2275 buildbot@localhost &#39;sudo cp -vi ttyS0.conf /etc/init/; rm -v ttyS0.conf; sudo shutdown -h now&#39;
ssh -p 2276 buildbot@localhost &#39;sudo cp -vi ttyS0.conf /etc/init/; rm -v ttyS0.conf; sudo shutdown -h now&#39;
&lt;&lt;/code&gt;&gt;
 
Abilitare sudo senza password:
 
&lt;&lt;code lang=bash inline=false&gt;&gt;
sudo VISUAL=vi visudo
# Add line at end: `%sudo ALL=NOPASSWD: ALL&#39;
&lt;&lt;/code&gt;&gt;

Modificare /boot/grub/menu.lst:

&lt;&lt;code lang=bash inline=false&gt;&gt;
sudo vi /etc/default/grub

# Aggiungere/modificare queste voci:
    GRUB_CMDLINE_LINUX_DEFAULT=&#34;console=tty0 console=ttyS0,115200n8&#34;
    GRUB_TERMINAL=&#34;serial&#34;
    GRUB_SERIAL_COMMAND=&#34;serial --unit=0 --speed=115200 --word=8 --parity=no --stop=1&#34;

sudo update-grub
# tornare all&#39;host server
&lt;&lt;/code&gt;&gt;

== VM per creare i .deb

&lt;&lt;code lang=bash inline=false&gt;&gt;
for i in &#39;/kvm/vms/vm-quantal-amd64-serial.qcow2 2275 qemu64&#39; &#39;/kvm/vms/vm-quantal-i386-serial.qcow2 2276 qemu64&#39; ; do \
  set $i; \
  runvm --user=buildbot --logfile=kernel_$2.log --base-image=$1 --port=$2 --cpu=$3 &#34;$(echo $1 | sed -e &#39;s/serial/build/&#39;)&#34; \
    &#34;= scp -P $2 -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no /kvm/boost_1_49_0.tar.gz buildbot@localhost:/dev/shm/&#34; \
    &#34;= scp -P $2 -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no /kvm/thrift-0.9.0.tar.gz buildbot@localhost:/dev/shm/&#34; \
    &#34;sudo DEBIAN_FRONTEND=noninteractive apt-get update&#34; \
    &#34;sudo DEBIAN_FRONTEND=noninteractive apt-get -y build-dep mysql-server-5.5&#34; \
    &#34;sudo DEBIAN_FRONTEND=noninteractive apt-get install -y devscripts hardening-wrapper fakeroot doxygen texlive-latex-base ghostscript libevent-dev libssl-dev zlib1g-dev libpam0g-dev libreadline-gplv2-dev autoconf automake automake1.9 defoma dpatch ghostscript-x libfontenc1 libjpeg62 libltdl-dev libltdl7 libmail-sendmail-perl libxfont1 lmodern psfontmgr texlive-latex-base-doc ttf-dejavu ttf-dejavu-extra libaio-dev xfonts-encodings xfonts-utils&#34; \
    &#34;cd /usr/local/src;sudo tar zxf /dev/shm/thrift-0.9.0.tar.gz;pwd;ls&#34; \
    &#34;cd /usr/local/src/thrift-0.9.0;echo;pwd;sudo ./configure --prefix=/usr --enable-shared=no --enable-static=yes CXXFLAGS=-fPIC CFLAGS=-fPIC &amp;&amp; echo &amp;&amp; echo &#39;now making&#39; &amp;&amp; echo &amp;&amp; sleep 3 &amp;&amp; sudo make &amp;&amp; echo &amp;&amp; echo &#39;now installing&#39; &amp;&amp; echo &amp;&amp; sleep 3 &amp;&amp; sudo make install&#34; \
    &#34;cd /usr/local/src;sudo tar zxf /dev/shm/boost_1_49_0.tar.gz;cd /usr/local/include/;sudo ln -vs ../src/boost_1_49_0/boost .&#34; ; \
done

&lt;&lt;/code&gt;&gt;

== VM per testare l&#39;installazione

Si veda [[https://kb.askmonty.org/it/configurare-buildbot-per-le-macchine-virtuali-principi-generali/|Configurare Buildbot per le Macchine Virtuali - Principi generali]] per sapere come ottenere ##my.seed## e ##sources.append##.

&lt;&lt;code lang=bash inline=false&gt;&gt;
for i in &#39;/kvm/vms/vm-quantal-amd64-serial.qcow2 2275 qemu64&#39; &#39;/kvm/vms/vm-quantal-i386-serial.qcow2 2276 qemu64&#39; ; do \
  set $i; \
  runvm --user=buildbot --logfile=kernel_$2.log --base-image=$1 --port=$2 --cpu=$3 &#34;$(echo $1 | sed -e &#39;s/serial/install/&#39;)&#34; \
    &#34;sudo DEBIAN_FRONTEND=noninteractive apt-get update&#34; \
    &#34;sudo DEBIAN_FRONTEND=noninteractive apt-get install -y patch libaio1 debconf-utils&#34; \
    &#34;= scp -P $2 /kvm/vms/my55.seed /kvm/vms/sources.append buildbot@localhost:/tmp/&#34; \
    &#34;sudo debconf-set-selections /tmp/my55.seed&#34; \
    &#34;sudo sh -c &#39;cat /tmp/sources.append &gt;&gt; /etc/apt/sources.list&#39;&#34;; \
done
&lt;&lt;/code&gt;&gt;

== VM per testare l&#39;upgrade di MySQL

&lt;&lt;code lang=bash inline=false&gt;&gt;
for i in &#39;/kvm/vms/vm-quantal-amd64-install.qcow2 2275 qemu64&#39; &#39;/kvm/vms/vm-quantal-i386-install.qcow2 2276 qemu64&#39; ; do \
  set $i; \
  runvm --user=buildbot --logfile=kernel_$2.log --base-image=$1 --port=$2 --cpu=$3 &#34;$(echo $1 | sed -e &#39;s/install/upgrade/&#39;)&#34; \
    &#34;sudo DEBIAN_FRONTEND=noninteractive apt-get install -y patch debconf-utils&#34; \
    &#39;sudo DEBIAN_FRONTEND=noninteractive apt-get install -y libaio1 mysql-server-5.5&#39; \
    &#39;sudo service mysql stop&#39; \
    &#39;sudo rm -rf /var/lib/mysql/&#39; \
    &#39;sudo mysql_install_db&#39; \
    &#39;sudo service mysql start&#39; \
    &#39;sudo mysqladmin --verbose -u root password &#34;rootpass&#34;&#39; \
    &#39;mysql -uroot -prootpass -e &#34;create database mytest; use mytest; create table t(a int primary key); insert into t values (1); select * from t&#34;&#39; ;\
done
&lt;&lt;/code&gt;&gt;

== VM per testare l&#39;upgrade di MariaDB

&lt;&lt;style class=&#34;graybox&#34; style=&#34;font-size:0.8em;&#34;&gt;&gt;
 //Le istruzioni qui sotto si basano su quelle per Natty alla pagina [[https://kb.askmonty.org/it/installare-le-immagini-delle-vm-per-testare-laggiornamento-dei-deb/|Installare le immagini delle VM per testare l&#39;aggiornamento dei .deb]].//
&lt;&lt;/style&gt;&gt;


&lt;&lt;code lang=bash inline=false&gt;&gt;
for i in &#39;/kvm/vms/vm-quantal-amd64-serial.qcow2 2275 qemu64&#39; &#39;/kvm/vms/vm-quantal-i386-serial.qcow2 2276 qemu64&#39; ; do \
  set $i; \
  runvm --user=buildbot --logfile=kernel_$2.log --base-image=$1 --port=$2 --cpu=$3 &#34;$(echo $1 | sed -e &#39;s/serial/upgrade2/&#39;)&#34; \
    &#34;= scp -P $2 -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no /kvm/vms/mariadb-quantal.list buildbot@localhost:/tmp/tmp.list&#34; \
    &#39;sudo mv -vi /tmp/tmp.list /etc/apt/sources.list.d/&#39; \
    &#39;sudo apt-key adv --recv-keys --keyserver keyserver.ubuntu.com 1BB943DB&#39; \
    &#39;sudo apt-get update&#39; \
    &#39;sudo DEBIAN_FRONTEND=noninteractive apt-get install -y --allow-unauthenticated mariadb-server mariadb-server-5.5 mariadb-client mariadb-client-5.5 mariadb-test libmariadbclient-dev&#39; \
    &#39;sudo apt-get -f install&#39; \
    &#39;sudo mysqladmin -u root password &#34;rootpass&#34;&#39; \
    &#39;sudo /etc/init.d/mysql restart&#39; \
    &#39;mysql -uroot -prootpass -e &#34;create database mytest; use mytest; create table t(a int primary key); insert into t values (1); select * from t&#34;&#39; \
    &#39;sudo rm -v /etc/apt/sources.list.d/tmp.list&#39; \
    &#39;sudo apt-get update&#39; \
    &#39;sudo DEBIAN_FRONTEND=noninteractive apt-get install -y libaio1&#39; \
    &#39;sudo DEBIAN_FRONTEND=noninteractive apt-get upgrade -y&#39;; \
done
&lt;&lt;/code&gt;&gt;

== Aggiungere le chiavi a known_hosts

Seguire queste istruzioni su ogni server kvm (terrier, terrier2, i7, etc...) per aggiungere le VM a known_hosts.

&lt;&lt;code lang=bash inline=false&gt;&gt;
# quantal-amd64
cp -avi /kvm/vms/vm-quantal-amd64-install.qcow2 /kvm/vms/vm-quantal-amd64-test.qcow2
kvm -m 1024 -hda /kvm/vms/vm-quantal-amd64-test.qcow2 -redir tcp:2275::22 -boot c -smp 2 -cpu qemu64 -net nic,model=virtio -net user -nographic
sudo su - buildbot
ssh -p 2275 buildbot@localhost sudo shutdown -h now
# answer &#34;yes&#34; when prompted
exit # the buildbot user
rm -v /kvm/vms/vm-quantal-amd64-test.qcow2

# quantal-i386
cp -avi /kvm/vms/vm-quantal-i386-install.qcow2 /kvm/vms/vm-quantal-i386-test.qcow2
kvm -m 1024 -hda /kvm/vms/vm-quantal-i386-test.qcow2 -redir tcp:2276::22 -boot c -smp 2 -cpu qemu64 -net nic,model=virtio -net user -nographic
sudo su - buildbot
ssh -p 2276 buildbot@localhost sudo shutdown -h now
# answer &#34;yes&#34; when prompted
exit # the buildbot user
rm -v /kvm/vms/vm-quantal-i386-test.qcow2
&lt;&lt;/code&gt;&gt;
</textarea>
    


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/services" title="Services">Services</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">About Us</a></h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/download" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2024 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.1587e3a666fc.js" charset="utf-8"></script>

</html>