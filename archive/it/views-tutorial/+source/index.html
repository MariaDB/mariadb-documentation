<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>Guida sulle viste - Source - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.b9e1e104f007.css" rel="stylesheet" type="text/css" />

    
        <meta name="robots" content="noindex, nofollow">
    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="Guida sulle viste - Source" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/it/views-tutorial/+source/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="" />

    <meta name="description" content="" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes autoresize nodes_source jqui" id="nodes_source">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/it/views-tutorial/+source/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2024 MariaDB. All rights reserved.</p>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/it/views-tutorial/+source/" rel="nofollow">Accesso</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/it/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/it/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/services" title="Services">Services</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="About Us">About Us</a>
    </li>
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/it/">Knowledge Base</a>
                    



    » <a class="node_link crumb" href="/kb/it/views-tutorial/">Guida sulle viste</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/it/">Pagina iniziale</a></li>
                            
                                
                                    <li><a href="/kb/it/+questions/">Domande Aperte</a></li>
                                
                                <li><a href="/kb/it/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/it/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/it/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/it/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
                        <div>
    

<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-small" href="/kb/it/views-tutorial/">Return to article</a>
    
</div>
</div>

</div>
                    

                    

































                </aside>
            
            
            
                
            
            
            <section id="content" class="limited_width col-md-10 clearfix">
                
                    <h1>Guida sulle viste - Source</h1>
                

                



                <div>
                    

    

    
    <div class="revision_info">
        <dl class="table">
            <dt>Revisione</dt>
            <dd><a href="/kb/it/views-tutorial/+r/16282/">16282</a></dd>
            <dt>Utente</dt>
            <dd>
<span class="user" id="user-982">
<a href="/kb/user/id/982" title="Federico Razzoli">Federico Razzoli</a>
</span></dd>
            <dt>Data</dt>
            <dd>

<span class="datetime" title="2013-06-02 17:53">2013-06-02 17:53</span></dd>
        </dl>
    </div>
    


    

    
        
        <textarea id="answer_source" class="creole_source autogrow">&lt;&lt;toc&gt;&gt;
== Introduzione alla guida
**Attenzione:** Qui inizia una guida molto basilare sulle viste, che si basa sulle mie sperimentazioni. Esso assume che il lettore abbia letto le guide precedenti, fino a [[More Advanced Joins]] (o che si conoscano i concetti ivi spiegati). Questa pagine intende fornire una visione generale di come funzionano e a cosa servono, oltre a esempi di utilizzo.

=== Prerequisiti del manuale
Per eseguire le istruzioni SQL in questa guida, you will need access
to a database hosted on a MySQL 5.x server, and you will need the CREATE TABLE
and CREATE VIEW privileges on this table.

== Il database Dipendenti
Per cominciare occorrono i dati che poi andremo a ottimizzare, perciò ricreeremo le tabelle già usate nella guida [[more-advanced-joins|More Advanced Joins]]. Chi ha già letto tale guida e ha già il database, si può passare oltre.

Andiamo a creare la tabella che contiene tutti gli impiegati e le informazioni per contattarli:

&lt;&lt;code lang=mysql inline=false&gt;&gt;
CREATE TABLE `Employees` (
  `ID` TINYINT(3) UNSIGNED NOT NULL AUTO_INCREMENT,
  `First_Name` VARCHAR(25) NOT NULL,
  `Last_Name` VARCHAR(25) NOT NULL,
  `Position` VARCHAR(25) NOT NULL,
  `Home_Address` VARCHAR(50) NOT NULL,
  `Home_Phone` VARCHAR(12) NOT NULL,
  PRIMARY KEY (`ID`)
) ENGINE=MyISAM;
&lt;&lt;/code&gt;&gt;

Poi inseriamo alcuni impiegati nella tabella:

&lt;&lt;sql&gt;&gt;
INSERT INTO `Employees` (`First_Name`, `Last_Name`, `Position`, `Home_Address`, `Home_Phone`)
VALUES
  (&#39;Mustapha&#39;, &#39;Mond&#39;, &#39;Chief Executive Officer&#39;, &#39;692 Promiscuous Plaza&#39;, &#39;326-555-3492&#39;),
  (&#39;Henry&#39;, &#39;Foster&#39;, &#39;Store Manager&#39;, &#39;314 Savage Circle&#39;, &#39;326-555-3847&#39;),
  (&#39;Bernard&#39;, &#39;Marx&#39;, &#39;Cashier&#39;, &#39;1240 Ambient Avenue&#39;, &#39;326-555-8456&#39;),
  (&#39;Lenina&#39;, &#39;Crowne&#39;, &#39;Cashier&#39;, &#39;281 Bumblepuppy Boulevard&#39;, &#39;328-555-2349&#39;),
  (&#39;Fanny&#39;, &#39;Crowne&#39;, &#39;Restocker&#39;, &#39;1023 Bokanovsky Lane&#39;, &#39;326-555-6329&#39;),
  (&#39;Helmholtz&#39;, &#39;Watson&#39;, &#39;Janitor&#39;, &#39;944 Soma Court&#39;, &#39;329-555-2478&#39;); 
&lt;&lt;/sql&gt;&gt;

Ora creiamo una seconda tabella, che contiene le ore settimanali di entrata e di uscita timbrate dagli impiegati:

&lt;&lt;code lang=mysql inline=false&gt;&gt;
CREATE TABLE `Hours` (
  `ID` TINYINT(3) UNSIGNED NOT NULL,
  `Clock_In` DATETIME NOT NULL,
  `Clock_Out` DATETIME NOT NULL
) TYPE=MyISAM;
&lt;&lt;/code&gt;&gt;

Infine, anche se sono informazioni ingombranti, aggiungiamo le ore lavorative degli impiegati in questa seconda tabella:

&lt;&lt;sql&gt;&gt;
INSERT INTO `Hours`
VALUES (&#39;1&#39;, &#39;2005-08-08 07:00:42&#39;, &#39;2005-08-08 17:01:36&#39;),
  (&#39;1&#39;, &#39;2005-08-09 07:01:34&#39;, &#39;2005-08-09 17:10:11&#39;),
  (&#39;1&#39;, &#39;2005-08-10 06:59:56&#39;, &#39;2005-08-10 17:09:29&#39;),
  (&#39;1&#39;, &#39;2005-08-11 07:00:17&#39;, &#39;2005-08-11 17:00:47&#39;),
  (&#39;1&#39;, &#39;2005-08-12 07:02:29&#39;, &#39;2005-08-12 16:59:12&#39;),
  (&#39;2&#39;, &#39;2005-08-08 07:00:25&#39;, &#39;2005-08-08 17:03:13&#39;),
  (&#39;2&#39;, &#39;2005-08-09 07:00:57&#39;, &#39;2005-08-09 17:05:09&#39;),
  (&#39;2&#39;, &#39;2005-08-10 06:58:43&#39;, &#39;2005-08-10 16:58:24&#39;),
  (&#39;2&#39;, &#39;2005-08-11 07:01:58&#39;, &#39;2005-08-11 17:00:45&#39;),
  (&#39;2&#39;, &#39;2005-08-12 07:02:12&#39;, &#39;2005-08-12 16:58:57&#39;),
  (&#39;3&#39;, &#39;2005-08-08 07:00:12&#39;, &#39;2005-08-08 17:01:32&#39;),
  (&#39;3&#39;, &#39;2005-08-09 07:01:10&#39;, &#39;2005-08-09 17:00:26&#39;),
  (&#39;3&#39;, &#39;2005-08-10 06:59:53&#39;, &#39;2005-08-10 17:02:53&#39;),
  (&#39;3&#39;, &#39;2005-08-11 07:01:15&#39;, &#39;2005-08-11 17:04:23&#39;),
  (&#39;3&#39;, &#39;2005-08-12 07:00:51&#39;, &#39;2005-08-12 16:57:52&#39;),
  (&#39;4&#39;, &#39;2005-08-08 06:54:37&#39;, &#39;2005-08-08 17:01:23&#39;),
  (&#39;4&#39;, &#39;2005-08-09 06:58:23&#39;, &#39;2005-08-09 17:00:54&#39;),
  (&#39;4&#39;, &#39;2005-08-10 06:59:14&#39;, &#39;2005-08-10 17:00:12&#39;),
  (&#39;4&#39;, &#39;2005-08-11 07:00:49&#39;, &#39;2005-08-11 17:00:34&#39;),
  (&#39;4&#39;, &#39;2005-08-12 07:01:09&#39;, &#39;2005-08-12 16:58:29&#39;),
  (&#39;5&#39;, &#39;2005-08-08 07:00:04&#39;, &#39;2005-08-08 17:01:43&#39;),
  (&#39;5&#39;, &#39;2005-08-09 07:02:12&#39;, &#39;2005-08-09 17:02:13&#39;),
  (&#39;5&#39;, &#39;2005-08-10 06:59:39&#39;, &#39;2005-08-10 17:03:37&#39;),
  (&#39;5&#39;, &#39;2005-08-11 07:01:26&#39;, &#39;2005-08-11 17:00:03&#39;),
  (&#39;5&#39;, &#39;2005-08-12 07:02:15&#39;, &#39;2005-08-12 16:59:02&#39;),
  (&#39;6&#39;, &#39;2005-08-08 07:00:12&#39;, &#39;2005-08-08 17:01:02&#39;),
  (&#39;6&#39;, &#39;2005-08-09 07:03:44&#39;, &#39;2005-08-09 17:00:00&#39;),
  (&#39;6&#39;, &#39;2005-08-10 06:54:19&#39;, &#39;2005-08-10 17:03:31&#39;),
  (&#39;6&#39;, &#39;2005-08-11 07:00:05&#39;, &#39;2005-08-11 17:02:57&#39;),
  (&#39;6&#39;, &#39;2005-08-12 07:02:07&#39;, &#39;2005-08-12 16:58:23&#39;);
&lt;&lt;/sql&gt;&gt;

== Lavorare con il database Employee

In questo esempio, aiuteremo le Risorse Umane semplificando le query che servono alle loro applicazioni. Allo stesso tempo, questo ci permetterà di astrarre le loro query dal database, il che consente una maggiore flessibilità nella manutenzione.

=== Filtrare per nome, data e ora

Nel tutorial tutorial precedente, abbiamo visto una query JOIN che mostrava tutti i ritardi di un certo dipendente. In questo tutorial, astrarremo quella query perché trovi tutti i ritardi di tutti i dipendenti, e la standardizzeremo con una vista.

La query precedente era la seguente:

&lt;&lt;sql&gt;&gt;
SELECT
  `Employees`.`First_Name`,
  `Employees`.`Last_Name`,
  `Hours`.`Clock_In`,
  `Hours`.`Clock_Out`
FROM `Employees`
INNER JOIN `Hours` ON `Employees`.`ID` = `Hours`.`ID`
WHERE `Employees`.`First_Name` = &#39;Helmholtz&#39;
AND DATE_FORMAT(`Hours`.`Clock_In`, &#39;%Y-%m-%d&#39;) &gt;= &#39;2005-08-08&#39;
AND DATE_FORMAT(`Hours`.`Clock_In`, &#39;%Y-%m-%d&#39;) &lt;= &#39;2005-08-12&#39;
AND DATE_FORMAT(`Hours`.`Clock_In`, &#39;%H:%i:%S&#39;) &gt; &#39;07:00:59&#39;;
&lt;&lt;/sql&gt;&gt;

Il risultato:

&lt;&lt;code&gt;&gt;
+------------+-----------+---------------------+---------------------+
| First_Name | Last_Name | Clock_In            | Clock_Out           |
+------------+-----------+---------------------+---------------------+
| Helmholtz  | Watson    | 2005-08-09 07:03:44 | 2005-08-09 17:00:00 |
| Helmholtz  | Watson    | 2005-08-12 07:02:07 | 2005-08-12 16:58:23 |
+------------+-----------+---------------------+---------------------+
&lt;&lt;/code&gt;&gt;

=== Migliorare la Query

L&#39;esempio precedente mostra tutte le entrate di Heimholtz che sono avvenute dopo le sette del mattino. Vediamo quindi che Heimholz è entrato in ritardo per due volte nel periodo in esame, e vediamo che in entrambi i casi è uscito esattamente in orario o è uscito prima. La politica aziendale tuttavia stabilisce che in caso di ritardo l&#39;ora di uscita deve slittare, pertanto vogliamo escludere dal report le persone la cui uscita è avvenuta dopo 10 ore e un minuto dopo l&#39;ora di entrata.

&lt;&lt;sql&gt;&gt;
SELECT
  `Employees`.`First_Name`,
  `Employees`.`Last_Name`,
  `Hours`.`Clock_In`,
  `Hours`.`Clock_Out`,
  (TIMESTAMPDIFF(MINUTE,`Hours`.`Clock_Out`,`Hours`.`Clock_In`) + 601) as Difference
FROM `Employees`
INNER JOIN `Hours` USING (`ID`)
WHERE DATE_FORMAT(`Hours`.`Clock_In`, &#39;%Y-%m-%d&#39;) &gt;= &#39;2005-08-08&#39;
AND DATE_FORMAT(`Hours`.`Clock_In`, &#39;%Y-%m-%d&#39;) &lt;= &#39;2005-08-12&#39;
AND DATE_FORMAT(`Hours`.`Clock_In`, &#39;%H:%i:%S&#39;) &gt; &#39;07:00:59&#39;
AND TIMESTAMPDIFF(MINUTE,`Hours`.`Clock_Out`,`Hours`.`Clock_In`) &gt; -601;
&lt;&lt;/sql&gt;&gt;

Otteniamo la seguente lista di persone che hanno violato la politica aziendale:

&lt;&lt;code&gt;&gt;
+------------+-----------+---------------------+---------------------+------------+
| First_Name | Last_Name | Clock_In            | Clock_Out           | Difference |
+------------+-----------+---------------------+---------------------+------------+
| Mustapha   | Mond      | 2005-08-12 07:02:29 | 2005-08-12 16:59:12 |          4 |
| Henry      | Foster    | 2005-08-11 07:01:58 | 2005-08-11 17:00:45 |          2 |
| Henry      | Foster    | 2005-08-12 07:02:12 | 2005-08-12 16:58:57 |          4 |
| Bernard    | Marx      | 2005-08-09 07:01:10 | 2005-08-09 17:00:26 |          1 |
| Lenina     | Crowne    | 2005-08-12 07:01:09 | 2005-08-12 16:58:29 |          3 |
| Fanny      | Crowne    | 2005-08-11 07:01:26 | 2005-08-11 17:00:03 |          2 |
| Fanny      | Crowne    | 2005-08-12 07:02:15 | 2005-08-12 16:59:02 |          4 |
| Helmholtz  | Watson    | 2005-08-09 07:03:44 | 2005-08-09 17:00:00 |          4 |
| Helmholtz  | Watson    | 2005-08-12 07:02:07 | 2005-08-12 16:58:23 |          4 |
+------------+-----------+---------------------+---------------------+------------+
&lt;&lt;/code&gt;&gt;

== L&#39;utilità delle viste

Vediamo nell&#39;esempio precedente che diversi dipendenti sono entrati in ritardo e usciti troppo presto. Sfortunatamente, vediamo anche che questa query sta diventando troppo complessa. Avere tutto questo SQL nell&#39;applicazione non solo porta più complessità nel codice dell&#39;applicazione, ma significa anche che, se mai modificassimo la strutura di questa tabella, dovremmo modificare una query che sta diventando ingarbugliata. E&#39; a questo punto che le viste cominciano a mostrare la loro utilità.

=== Creare la vista Employee Tardiness
Creare una vista è quasi come creare un&#39;istruzione SELECT, perciò possiamo utilizzare la SELECT precedente per creare una nuova vista:

&lt;&lt;sql&gt;&gt;
CREATE SQL SECURITY INVOKER VIEW Employee_Tardiness AS 
SELECT
  `Employees`.`First_Name`,
  `Employees`.`Last_Name`,
  `Hours`.`Clock_In`,
  `Hours`.`Clock_Out`,
(TIMESTAMPDIFF(MINUTE,`Hours`.`Clock_Out`,`Hours`.`Clock_In`) + 601) as Difference
FROM `Employees`
INNER JOIN `Hours` USING (`ID`)
WHERE DATE_FORMAT(`Hours`.`Clock_In`, &#39;%Y-%m-%d&#39;) &gt;= &#39;2005-08-08&#39;
AND DATE_FORMAT(`Hours`.`Clock_In`, &#39;%Y-%m-%d&#39;) &lt;= &#39;2005-08-12&#39;
AND DATE_FORMAT(`Hours`.`Clock_In`, &#39;%H:%i:%S&#39;) &gt; &#39;07:00:59&#39;
AND TIMESTAMPDIFF(MINUTE,`Hours`.`Clock_Out`,`Hours`.`Clock_In`) &gt; -601;
&lt;&lt;/sql&gt;&gt;

Si noti che la prima riga della query contiene l&#39;istruzione &#39;SQL SECURITY INVOKER&#39; - ciò significa che, quando si accede alla vista, questa viene eseguita con gli stessi privilegi dell&#39;utente che accede alla vista. Perciò, se qualcuno che non ha accesso alla tabella Employees cerca di interrogare la vista, otterrà un errore.

A parte il parametro sulla sicurezza, il resto della query è abbastanza eloquente. Eseguiamo semplicemente un &#39;CREATE VIEW &lt;nome_vista&gt; AS&#39; e aggiungiamo un&#39;istruzione SELECT valida, e la nostra vista viene creata. Ora se eseguiamo una SELECT sulla vista, otteniamo gli stessi risultati di prima, con molto meno SQL:

&lt;&lt;sql&gt;&gt;
SELECT * FROM Employee_Tardiness;
&lt;&lt;/sql&gt;&gt;
 
&lt;&lt;code&gt;&gt;
+------------+-----------+---------------------+---------------------+------------+
| First_Name | Last_Name | Clock_In            | Clock_Out           | Difference |
+------------+-----------+---------------------+---------------------+------------+
| Mustapha   | Mond      | 2005-08-12 07:02:29 | 2005-08-12 16:59:12 |          5 |
| Henry      | Foster    | 2005-08-11 07:01:58 | 2005-08-11 17:00:45 |          3 |
| Henry      | Foster    | 2005-08-12 07:02:12 | 2005-08-12 16:58:57 |          5 |
| Bernard    | Marx      | 2005-08-09 07:01:10 | 2005-08-09 17:00:26 |          2 |
| Lenina     | Crowne    | 2005-08-12 07:01:09 | 2005-08-12 16:58:29 |          4 |
| Fanny      | Crowne    | 2005-08-09 07:02:12 | 2005-08-09 17:02:13 |          1 |
| Fanny      | Crowne    | 2005-08-11 07:01:26 | 2005-08-11 17:00:03 |          3 |
| Fanny      | Crowne    | 2005-08-12 07:02:15 | 2005-08-12 16:59:02 |          5 |
| Helmholtz  | Watson    | 2005-08-09 07:03:44 | 2005-08-09 17:00:00 |          5 |
| Helmholtz  | Watson    | 2005-08-12 07:02:07 | 2005-08-12 16:58:23 |          5 |
+------------+-----------+---------------------+---------------------+------------+
&lt;&lt;/code&gt;&gt;

Ora possiamo perfino eseguire operazioni sulla tabella, come limitare i risultati a quelli in cui Difference è di almeno cinque minuti:

&lt;&lt;sql&gt;&gt;
SELECT * FROM Employee_Tardiness WHERE Difference &gt;=5;
&lt;&lt;/sql&gt;&gt;
 
&lt;&lt;code&gt;&gt;
+------------+-----------+---------------------+---------------------+------------+
| First_Name | Last_Name | Clock_In            | Clock_Out           | Difference |
+------------+-----------+---------------------+---------------------+------------+
| Mustapha   | Mond      | 2005-08-12 07:02:29 | 2005-08-12 16:59:12 |          5 |
| Henry      | Foster    | 2005-08-12 07:02:12 | 2005-08-12 16:58:57 |          5 |
| Fanny      | Crowne    | 2005-08-12 07:02:15 | 2005-08-12 16:59:02 |          5 |
| Helmholtz  | Watson    | 2005-08-09 07:03:44 | 2005-08-09 17:00:00 |          5 |
| Helmholtz  | Watson    | 2005-08-12 07:02:07 | 2005-08-12 16:58:23 |          5 |
+------------+-----------+---------------------+---------------------+------------+
&lt;&lt;/code&gt;&gt;

=== Altri usi delle viste
A parte semplificare le query SQL, vi sono altri benefici che le viste possono portare, alcuni dei quali si possono ottenere solo attraverso le viste.

==== Restringere l&#39;accesso ai dati
Per esempio, anche se il database Employees contiene i campi come la posizione, l&#39;indirizzo di casa e il telefono di casa, la nostra query non mostra questi campi. ciò significa che, nel caso ci sia un problema di sicurezza nell&#39;applicazione (come una vulnerabilità alle SQL injection, o anche un programmatore malizioso), non ci sarà il rischio che le informazioni personali degli impiegati vengano diffuse.

==== Sicurezza a livello di riga
E&#39; anche possibile definire viste reparate per includere una clausola WHERE specifica, per motivi di sicurezza; ad esempio, se volessimo restringere l&#39;accesso di un capo di dipartimento, in modo che possa vedere solo il suo staff, potremmo specificare la sua identità nella definizione della vista, e lui non potrebbe più vedere i dipendenti degli altri dipartimenti, nonostante si trovino tutti nella stessa tabella. Questo è l&#39;unico modo per implementare la sicurezza a livello di riga in MariaDB, pertanto le viste giocano un ruolo importante in quest&#39;area.

==== Pre-emptive Optimization
We can also define our views in such a way as to force the use of indexes, so
that other, less-experienced developers don&#39;t run the risk of running
un-optimized queries or JOINs that result in full-table scans and extended
locks. Expensive queries, queries that SELECT *, and poorly thought-out JOINs
can not only slow down the database entirely, but can cause inserts to fail,
clients to time out, and reports to error out. By creating a view that is
already optimized and letting users perform their queries on that, you can
ensure that they won&#39;t cause a significant performance hit unnecessarily.

==== Abstracting Tables
When we re-engineer our application, we sometimes need to change the database
to optimize or accommodate new or removed features. We may, for example, want
to normalize our tables when they start getting too large and queries start
taking too long. Alternately, we may be installing a new application with
different requirements alongside a legacy application. Unfortunately, database
redesign will tend to break backwards-compatibility with previous applications,
which can cause obvious problems.

Using views, we can change the format of the underlying tables while still
presenting the same table format to the legacy application. Thus, an
application which demands username, hostname, and access time in string format
can access the same data as an application which requires firstname, lastname,
user@host, and access time in Unix timestamp format.

== Summary
Views are an SQL feature that can provide a lot of versatility in larger
applications, and can even simplify smaller applications further. Just as
stored procedures can help us abstract out our database logic, views can
simplify the way we access data in the database, and can help un-complicate our
queries to make application debugging easier and more efficient.

&lt;&lt;style class=&#34;bluebox&#34; style=&#34;font-size:0.6em;font-family:&#39;Droid Sans&#39;;&#34;&gt;&gt;
//The initial version of this article was copied, with permission, from http://hashmysql.org/wiki/Views_(Basic) on 2012-10-05.//
&lt;&lt;/style&gt;&gt;

</textarea>
    


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/services" title="Services">Services</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">About Us</a></h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/download" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2024 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.fed4ec768178.js" charset="utf-8"></script>

</html>