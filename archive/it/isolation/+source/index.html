<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>ISOLATION - Source - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.f7633538c846.css" rel="stylesheet" type="text/css" />

    
        <meta name="robots" content="noindex, nofollow">
    

    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="ISOLATION - Source" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/it/isolation/+source/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="" />

    <meta name="description" content="" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes autoresize nodes_source jqui" id="nodes_source">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/it/isolation/+source/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2025 MariaDB. All rights reserved.</p>
    </div>
</div>
<div class="violator-wrap d-none" id="top_violator">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12">
                <div class="violator-outer">
                    <div class="violator-inner">
                        <div class="row">
                            <div class="col-xs-12 col-sm-9 col-lg-7 col-lg-offset-2" id="top_violator_content">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="content-link" target="_blank" rel="nofollow noreferrer">
                                    <span>The Ultimate Guide to High Availability with MariaDB</span>
                                </a>
                            </div>
                            <div class="col-xs-12 col-sm-3" id="top_violator_cta">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="btn btn-mariadb" target="_blank" rel="nofollow noreferrer">Download Now</a>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn btn-link close-btn">
                        <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" width="15px" height="15px"><path d="M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/it/isolation/+source/" rel="nofollow">Accesso</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/it/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/it/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/services" title="Services">Services</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="About Us">About Us</a>
    </li>
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/it/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/it/mariadb-italiano/">MariaDB - Italiano</a>
    

    
    » <a class="crumb" href="/kb/it/documentazione-di-mariadb/">Documentazione di MariaDB</a>
    

    
    » <a class="crumb" href="/kb/it/comandi-sql/">Comandi SQL</a>
    

    
    » <a class="crumb" href="/kb/it/transazioni/">Transazioni</a>
    


    » <a class="node_link crumb" href="/kb/it/isolation/">ISOLATION</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/it/">Pagina iniziale</a></li>
                            
                                
                                <li><a href="/kb/it/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/it/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/it/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/it/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
                        <div>
    

<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-small" href="/kb/it/isolation/">Return to article</a>
    
</div>
</div>

</div>
                    

                    

































                </aside>
            
            
            
                
            
            
            <section id="content" class="limited_width col-md-10 clearfix">
                
                    <h1>ISOLATION - Source</h1>
                

                



                <div>
                    

    

    
    <div class="revision_info">
        <dl class="table">
            <dt>Revisione</dt>
            <dd><a href="/kb/it/isolation/+r/55157/">55157</a></dd>
            <dt>Utente</dt>
            <dd>
<span class="user" id="user-982">
<a href="/kb/user/id/982" title="Federico Razzoli">Federico Razzoli</a>
</span></dd>
            <dt>Data</dt>
            <dd>

<span class="datetime" title="2017-05-25 15:16">2017-05-25 15:16</span></dd>
        </dl>
    </div>
    


    

    
        
        <textarea id="answer_source" class="creole_source autogrow">== Sintassi

&lt;&lt;code&gt;&gt;
SET [GLOBAL | SESSION] TRANSACTION ISOLATION LEVEL
  {
       READ UNCOMMITTED
     | READ COMMITTED
     | REPEATABLE READ
     | SERIALIZABLE
   }
&lt;&lt;/code&gt;&gt;

== Spiegazione

Questa istruzione imposta il livello di isolamento delle transazioni a livello globale, per la sessione corrente o per la prossima transazione:

* Con la parola chiave &lt;&lt;fixed&gt;&gt;GLOBAL&lt;&lt;/fixed&gt;&gt;, l&#39;istruzione imposta il livello di isolamento predefinito per tutte le prossime sessioni. Le sessioni esistenti non sono influenzate.
* Con la parola chiave &lt;&lt;fixed&gt;&gt;SESSION&lt;&lt;/fixed&gt;&gt;, l&#39;istruzione imposta il livello di isolamento predefinito per tutte le transazioni che verranno eseguite all&#39;interno della sessione corrente.
* Se non è specificata né &lt;&lt;fixed&gt;&gt;SESSION&lt;&lt;/fixed&gt;&gt; né &lt;&lt;fixed&gt;&gt;GLOBAL&lt;&lt;/fixed&gt;&gt;, l&#39;istruzione imposta il livello di isolamento per la prossima transazione non ancora iniziata, eseguita all&#39;interno della sessione corrente.

Per modificare il livello di isolamento globale predefinito occorre il permesso &lt;&lt;fixed&gt;&gt;[[grant|SUPER privilege]]&lt;&lt;/fixed&gt;&gt;. Tutte le sessioni sono libere di modificare il proprio livello di isolamento (anche durante una transazione), o quello della transazione successiva.

Per impostare il livello di isolamento predefinito all&#39;avvio del server, si usa l&#39;opzione &lt;&lt;fixed&gt;&gt;--transaction-isolation=liv&lt;&lt;/fixed&gt;&gt; di mysqld nella riga di comando o in un file di configurazione. I valori di liv per questa opzione utilizzano i trattini anziché gli spazi, quindi i valori ammessi sono: &lt;&lt;fixed&gt;&gt;READ-UNCOMMITTED&lt;&lt;/fixed&gt;&gt;, &lt;&lt;fixed&gt;&gt;READ-COMMITTED&lt;&lt;/fixed&gt;&gt;, &lt;&lt;fixed&gt;&gt;REPEATABLE-READ&lt;&lt;/fixed&gt;&gt; e &lt;&lt;fixed&gt;&gt;SERIALIZABLE&lt;&lt;/fixed&gt;&gt;. Per esempio, per impostare il livello di isolamento predefinito a &lt;&lt;fixed&gt;&gt;REPEATABLE READ&lt;&lt;/fixed&gt;&gt;, si usano queste righe nella sezione [mysqld] di un file di configurazione:

&lt;&lt;fixed&gt;&gt;
[mysqld]
transaction-isolation = REPEATABLE-READ
&lt;&lt;/fixed&gt;&gt;

Per determinare i livelli di isolamento globale e di sessione a runtime, si controlla il valore della variabile di sistema tx_isolation:

&lt;&lt;fixed&gt;&gt;
SELECT @@GLOBAL.tx_isolation, @@tx_isolation;
&lt;&lt;/fixed&gt;&gt;

InnoDB supporta tutti i livelli di isolamento descritti qui utilizzando diverse strategie di locking. Il livello predefinito è &lt;&lt;fixed&gt;&gt;REPEATABLE READ&lt;&lt;/fixed&gt;&gt;. Per ulteriori informazioni sui lock a livello di record di InnoDB e su come li utilizza per eseguire i diversi tipi di istruzioni, si vedano https://dev.mysql.com/doc/refman/en/innodb-locking.html e https://dev.mysql.com/doc/refman/en/innodb-locks-set.html.

I prossimi paragrafi spiegano in che modo MariaDB supporta i diversi livelli di isolamento.

=== READ UNCOMMITTED

Le istruzioni &lt;&lt;fixed&gt;&gt;SELECT&lt;&lt;/fixed&gt;&gt; sono eseguite in un modo non-bloccante, ma è possibile che venga usata una vecchia versione dei record. Perciò, utilizzando questo livello di isolamento, le letture potrebbero non essere coerenti. A volte vengono chiamate &#34;letture sporche&#34;. Per tutto il resto, questo livello di isolamento funziona come &lt;&lt;fixed&gt;&gt;READ COMMITTED&lt;&lt;/fixed&gt;&gt;.

=== READ COMMITTED

Un livello di isolamento simile a Oracle per quanto riguarda le letture coerenti (non bloccanti): tutte le letture coerenti, anche se vengono eseguite all&#39;interno di una stessa transazione, leggono un proprio snapshot. Si veda https://dev.mysql.com/doc/refman/en/innodb-consistent-read.html.

Per le letture bloccanti (&lt;&lt;fixed&gt;&gt;SELECT&lt;&lt;/fixed&gt;&gt; con la clausola &lt;&lt;fixed&gt;&gt;FOR UPDATE&lt;&lt;/fixed&gt;&gt; o &lt;&lt;fixed&gt;&gt;LOCK IN SHARE MODE&lt;&lt;/fixed&gt;&gt;), InnoDB blocca solo i record degli indici, e questo permette di inserire liberamente nuove righe dopo quelle bloccate. next to
locked records. Per le istruzioni &lt;&lt;fixed&gt;&gt;UPDATE&lt;&lt;/fixed&gt;&gt; e &lt;&lt;fixed&gt;&gt;DELETE&lt;&lt;/fixed&gt;&gt;, il locking dipende dal fatto che per la ricerca utilizzi un indice univoco (ad esempio &lt;&lt;fixed&gt;&gt;WHERE id = 100&lt;&lt;/fixed&gt;&gt;), oppure una ricerca all&#39;interno di un intervallo (ad esempio &lt;&lt;fixed&gt;&gt;WHERE id &gt; 100&lt;&lt;/fixed&gt;&gt;). Per le ricerche su un indice univoco, InnoDB blocca solo il record interessato, non ciò che si trova prima. Per le ricerce di un intervallo di valori, InnoDB blocca tutto l&#39;intervallo che viene scansito, usando i lock di tipo gap o next-key (gap più index-record) per impedire gli inserimenti da parte di altre sessioni negli intervalli interessati. Questo comportamento è necessario perché alcune &#34;righe fantasma&#34; potrebbero essere bloccate dalla replica e successivamente tornare disponibili.

**Nota:** In MariaDB 5.1, se il livello di isolamento è impostato a &lt;&lt;fixed&gt;&gt;READ COMMITTED&lt;&lt;/fixed&gt;&gt; o se la variabile di sistema innodb_locks_unsafe_for_binlog è abilitata, allora InnoDB usa il gap locking solo per verificare i vincoli di integrità delle chiavi primarie e per cercare chiavi duplicate. Inoltre, i lock sui record locks per le righe che non corrispondono alla ricerca vengono rilasciati subito dopo aver valutato la condizione &lt;&lt;fixed&gt;&gt;WHERE&lt;&lt;/fixed&gt;&gt;. A partire da MySQL
5.1, se si usa &lt;&lt;fixed&gt;&gt;READ COMMITTED&lt;&lt;/fixed&gt;&gt; o si abilita innodb_locks_unsafe_for_binlog, è necessario usare il log binario basato sulle righe.

=== REPEATABLE READ

E&#39; il livello di isolamento predefinito di InnoDB. Per le letture coerenti, esiste un&#39;importante differenza rispetto al livello &lt;&lt;fixed&gt;&gt;READ COMMITTED&lt;&lt;/fixed&gt;&gt;: tutte le letture coerenti che si trovano all&#39;interno di una stessa transazione leggono lo snapshot stabilito dalla prima lettura. Questo significa che se si eseguono diverse istruzioni &lt;&lt;fixed&gt;&gt;SELECT&lt;&lt;/fixed&gt;&gt; non-bloccanti nella stessa transazione, esse saranno coerenti anche tra loro. Si veda https://dev.mysql.com/doc/refman/en/innodb-consistent-read.html.

Per le letture bloccanti (SELECT con clausole FOR UPDATE o LOCK IN SHARE MODE) e per le istruzioni UPDATE e DELETE, il locking dipende se si cerca un valore specifico in un indice, o un intervallo di valori. Per l&#39;indice univoco, InnoDB blocca solo il record interessato, non ciò che viene prima. Per le altre condizioni di ricerca, InnoDB blocca l&#39;intervallo da scansire, utilizzando i lock gap o next-key (gap più index-record) per impedire gli inserimenti da parte di altre sessioni negli intervalli interessati.

=== SERIALIZABLE ===

Questo livello è simile a REPEATABLE READ ma, se l&#39;autocommit è disabilitato, InnoDB converte implicitamente tutte le istruzioni SELECT in SELECT ... LOCK IN SHARE MODE. Se invece è abilitato, ogni SELECT è una transazione a sé stante. Perciò si sa che è di sola lettura e può essere serializzata se eseguita come lettura consistente (non-bloccante)m cioé non deve effettuare alcun lock. Questo significa che, per poter forzare una SELECT ad acquisire un lock se le altre transazioni hanno modificato i record interessati, occorre disabilitare l&#39;autocommit.)</textarea>
    


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/services" title="Services">Services</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">About Us</a></h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/download" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2025 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.1587e3a666fc.js" charset="utf-8"></script>

</html>