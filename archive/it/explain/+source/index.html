<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>EXPLAIN - Source - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.9a0d7dcebefd.css" rel="stylesheet" type="text/css" />

    
        <meta name="robots" content="noindex, nofollow">
    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="EXPLAIN - Source" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/it/explain/+source/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="" />

    <meta name="description" content="" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes autoresize nodes_source jqui" id="nodes_source">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/it/explain/+source/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2024 MariaDB. All rights reserved.</p>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/it/explain/+source/" rel="nofollow">Accesso</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/it/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/it/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/services" title="Services">Services</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="About Us">About Us</a>
    </li>
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/it/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/it/mariadb-italiano/">MariaDB - Italiano</a>
    

    
    » <a class="crumb" href="/kb/it/documentazione-di-mariadb/">Documentazione di MariaDB</a>
    

    
    » <a class="crumb" href="/kb/it/comandi-sql/">Comandi SQL</a>
    

    
    » <a class="crumb" href="/kb/it/comandi-di-amministrazione/">Comandi di amministrazione</a>
    


    » <a class="node_link crumb" href="/kb/it/explain/">EXPLAIN</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/it/">Pagina iniziale</a></li>
                            
                                
                                    <li><a href="/kb/it/+questions/">Domande Aperte</a></li>
                                
                                <li><a href="/kb/it/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/it/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/it/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/it/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
                        <div>
    

<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-small" href="/kb/it/explain/">Return to article</a>
    
</div>
</div>

</div>
                    

                    

































                </aside>
            
            
            
                
            
            
            <section id="content" class="limited_width col-md-10 clearfix">
                
                    <h1>EXPLAIN - Source</h1>
                

                



                <div>
                    

    

    
    <div class="revision_info">
        <dl class="table">
            <dt>Revisione</dt>
            <dd><a href="/kb/it/explain/+r/18629/">18629</a></dd>
            <dt>Utente</dt>
            <dd>
<span class="user" id="user-982">
<a href="/kb/user/id/982" title="Federico Razzoli">Federico Razzoli</a>
</span></dd>
            <dt>Data</dt>
            <dd>

<span class="datetime" title="2013-08-19 18:12">2013-08-19 18:12</span></dd>
        </dl>
    </div>
    


    

    
        
        <textarea id="answer_source" class="creole_source autogrow">== Sintassi

&lt;&lt;code&gt;&gt;
EXPLAIN nome_tab
&lt;&lt;/code&gt;&gt;

Oppure:

&lt;&lt;code&gt;&gt;
EXPLAIN [EXTENDED | PARTITIONS] SELECT opzioni_select
&lt;&lt;/code&gt;&gt;

== Spiegazione

L&#39;istruzione &lt;&lt;fixed&gt;&gt;EXPLAIN&lt;&lt;/fixed&gt;&gt; può essere utilizzata come sinonimo di &lt;&lt;fixed&gt;&gt;DESCRIBE&lt;&lt;/fixed&gt;&gt; oppure per ottenere informazioni sul modo in cui MariaDB esegue un&#39;istruzione &lt;&lt;fixed&gt;&gt;SELECT&lt;&lt;/fixed&gt;&gt;:

* &lt;&lt;fixed&gt;&gt;&#39;EXPLAIN nome_tab&#39;&lt;&lt;/fixed&gt;&gt; è sinonimo di &lt;&lt;fixed&gt;&gt;&#39;[[http://kb.askmonty.org/it/describe/|DESCRIBE]] nome_tab&#39;&lt;&lt;/fixed&gt;&gt; o &lt;&lt;fixed&gt;&gt;&#39;[[http://kb.askmonty.org/it/show-columns/|SHOW COLUMNS]] FROM nome_tab&#39;&lt;&lt;/fixed&gt;&gt;.
* Quando la parola chiave &lt;&lt;fixed&gt;&gt;EXPLAIN&lt;&lt;/fixed&gt;&gt; precede una istruzione &lt;&lt;fixed&gt;&gt;SELECT&lt;&lt;/fixed&gt;&gt;, MariaDB mostra informazioni sul piano di esecuzione della query, ottenute dall&#39;ottimizzatore. In pratica, MariaDB spiega come intende eseguire la &lt;&lt;fixed&gt;&gt;SELECT&lt;&lt;/fixed&gt;&gt;, compreso il modo e l&#39;ordine in cui intende concatenare le tabelle. &lt;&lt;fixed&gt;&gt;EXPLAIN EXTENDED&lt;&lt;/fixed&gt;&gt; serve a fornire maggiori informazioni.\\
  Per ulteriori informazioni su come usare EXPLAIN e EXPLAIN EXTENDED per conoscere i piani di esecuzione delle query, si veda
  http://dev.mysql.com/doc/refman/5.1/en/using-explain.html.
* &lt;&lt;fixed&gt;&gt;EXPLAIN PARTITIONS&lt;&lt;/fixed&gt;&gt; è supportato a partire da MariaDB
  5.1.5. Serve solo quando si esaminano le query che coinvolgono le tabelle partizionate.\\ Per i dettagli, si veda
  http://dev.mysql.com/doc/refman/5.1/en/partitioning-info.html.

E&#39; disponibile online un [[http://kb.askmonty.org/it/explain-analyzer/|EXPLAIN Analyzer]] che può essere utilizzato per condividere con altre persone gli output di ##EXPLAIN## e ##EXPLAIN EXTENDED##.

== Le colonne di EXPLAIN ... SELECT
&lt;&lt;style class=&#34;darkheader-nospace-borders&#34;&gt;&gt;
|= Nome Colonna      |= Spiegazione |
|##id##             | Numero di sequenza che indica in quale ordine vengono concatenate le tabelle.|
|##select_type##    | Da che tipo di SELECT viene la tabella.|
|##table##          | Alias dei nomi di tabella. Tabelle temporanee materializzate per le subquery chiamate &lt;subquery#&gt;|
|##type##           | In che modo le righe vengono lette (tipo di join).|
|##possible_keys##  | Chiavi che potrebbero essere utilizzate per trovare righe nella tabella
|##key##            | The name of the key that is used to retrieve rows. NULL is no key was used.|
|##key_len##        | Quanti byte verranno letti dalla chiave (indica se si sta usando solo parte di un indice multi-colonna).|
|##ref##            | The reference that is used to as the key value.|
|##rows##           | Una stima di quante righe verranno trovate nella tabella per ogni ricerca su indice.|
|##Extra##          | Informazioni aggiuntive sulla join.|
&lt;&lt;/style&gt;&gt;

Ecco le spiegazioni dei valori di alcune delle colonne più complesse di ##EXPLAIN ... SELECT##:

=== Colonna &#34;select_type&#34;

La colonna ##select_type## può avere i seguenti valori:

&lt;&lt;style class=&#34;darkheader-nospace-borders&#34;&gt;&gt;
|= Valore                    |= Spiegazione
|  ##PRIMARY##              |  La SELECT è primaria.
|  ##SIMPLE##               |  La SELECT è semplice.
|  ##DERIVED##              |  La SELECT è derivata da quella primaria.
|  ##SUBQUERY##             |  La SELECT è una subquery di quella primaria.
|  ##DEPENDENT SUBQUERY##   |  La SUBQUERY è dipendente.
|  ##UNCACHEABLE SUBQUERY## |  La SUBQUERY non può essere messa nella cache.
|  ##UNION##                |  La SELECT è una UNION di quella primaria.
|  ##UNION RESULT##         |  Il risultato di una UNION.
|  ##DEPENDENT UNION##      |  La UNION è dipendente.
|  ##UNCACHEABLE UNION##    |  La UNION non può essere messa nella cache.
&lt;&lt;/style&gt;&gt;

=== Colonna &#34;Type&#34;

Questa colonna contiene informazioni sul modo in cui avviene l&#39;accesso alla tabella.

&lt;&lt;style class=&#34;darkheader-nospace-borders&#34;&gt;&gt;
|= Valore                |= Spiegazione
|  ##ALL##              | Scansione completa della tabella (tutte le righe vengono lette). Questo è male se la tabella è grande e se è concatenata ad un&#39;altra tabella che è alla sua sinistra! Succede se l&#39;ottimizzatore non ha trovato indici utilizzabili per leggere le righe.
|  ##const##            | Nella tabella c&#39;è una sola riga che potrebbe soddisfare la ricerca. Viene letta prima della fase di ottimizzazione e tutte le colonne della tabella vengono trattate come costanti.
|  ##eq_ref##           | Un indice univoco viene usato per trovare le righe. Questo è il miglior piano possibile per trovare le righe.
|  ##fulltext##         | Un indice fulltext viene usato per trovare le righe.
|  ##index_merge##      | Un accesso &#39;range&#39; viene usato per diversi indici e le righe trovate vengono unite. La colonna key dice quali chiavi vengono usate.
|  ##index_subquery##   | Simile a ref, ma è usata per le subquery che vengono trasformate in ricerche su indice.
|  ##index##            | Scansione completa di un indice. Meglio di ALL, ma non va bene se l&#39;indice è grande e la tabella è concatenata ad un&#39;altra che si trova alla sua sinistra.
|  ##range##            | L&#39;accesso avviene attraverso una chiave, basato su uno o più intervalli.
|  ##ref_or_null##      | Come &#39;ref&#39; ma viene cercato anche il valore &#39;null&#39; se il primo valore non viene trovato. Solitamente avviene con le subquery.
|  ##ref##              | Un indice non univoco o un prefisso di un indice univoco viene usato per trovare le righe. Buono se il prefisso non corrisponde ad alcuna riga.
|  ##system##           | La tabella ha 0 o 1 riga.
|  ##unique_subquery##  | Simile a eq_ref, ma è usato per le subquery che vengono trasformate in ricerche su indice.
&lt;&lt;/style&gt;&gt;

=== La colonna &#34;Extra&#34;

Questa colonna contiene uno o più dei seguenti valori, separato da &#39;;&#39;

 //Si noti che alcuni di essi vengono rilevati dopo la fase di ottimizzazione.//

La fase di ottimizzazione può apportare le seguenti modifiche alla clausola ##WHERE##:

* Spostare espressioni dalle clausole ##ON## e ##USING## alla clausola ##WHERE##.
* Propagazione delle costanti: se c&#39;è ##colonna=costante##, sostituisce tutte le istanze di &#39;colonna&#39; con la costante.
* Sostituisce tutte le colonne dalle tabelle &#39;##const##&#39; con i loro valori.
* Rimuove dalla ##WHERE## le colonne indice utilizzate (perché questa operazione viene fatta nella parte di ricerca su indice).
* Elimina le sottoespressioni costanti impossibili.
  Per esempio ##WHERE &#39;(a=1 and a=2) OR b=1&#39;## becomes ##&#39;b=1&#39;##.
* Sostituisce le colonne con altre colonne che hanno identici valori:
  Esempio:  ##WHERE## ##a=b## and ##a=c## possono essere cambiati in
  ##&#39;WHERE a=b and a=c and b=c&#39;##.
* Aggiunge condizioni aggiuntive per rilevare più velocemente le condizioni di riga impossibili. Accade principalmente con le ##OUTER JOIN##, dove talvolta viene aggiunto il rilevamento dei valori ##NULL## nella ##WHERE## (fa parte dell&#39;ottimizzazione &#39;##Not exists##&#39;).
  Questo può far apparire un &#39;##Using where##&#39; inaspettato nella colonna Extra.
* Per ogni livello della tabella vengono eliminate le espressioni che sono già state controllate leggendo la riga precedente. Esempio: quando vengono concatenate le tabelle ##t1## e ##t2## utilizzando ##WHERE &#39;t1.a=1 and t1.a=t2.b&#39;##, non c&#39;è bisogno di controllare ##&#39;t1.a=1&#39;## mentre si cercano le righe in ##t2##, perché questa espressione è necessariamente vera. 

&lt;&lt;style class=&#34;darkheader-nospace-borders&#34;&gt;&gt;
|= Valore  |= Spiegazione
|##const row not found##| La tabella è di tipo system (dovrebbe contenere esattamente una riga), ma non è stata trovata alcuna riga.
|##Distinct##| Viene usata l&#39;ottimizzazione distinct (eliminazione dei duplicati). Questo valore può essere presente solo per l&#39;ultima tabella della SELECT.
|##Full scan on NULL key##| La tabella è parte di una subquery e se il valore che viene letto è NULL, viene eseguita una scansione completa.
|##Impossible HAVING##| La clausola HAVING specificata è sempre false, perciò la SELECT non restituisce alcuna riga.
|##Impossible WHERE## ##noticed## ##after## ##reading## ##const## ##tables.##| La clausola WHERE specificata è sempre falsa, perciò la SELECT non restituisce alcuna riga. Questa condizione viene rilevata dopo aver letto tutte le tabelle &#39;const&#39; e aver trasformato i valori delle colonne in costanti nella clausola WHERE. Per esempio: WHERE col_cost=5 and col_cost=4.
|##Impossible WHERE##| La clausola WHERE specificata è sempre falsa, perciò la SELECT non restituisce alcuna riga. Per esempio: WHERE 1=2
|##No matching min/max row##| Durante l&#39;ottimizzazione iniziale di MIN()/MAX() è stato rilevato che nessuna riga può soddisfare la clausola WHERE. Le funzioni MIN()/MAX() restituiranno NULL.
|##no matching row## ##in## ##const## ##table##| La tabella è di tipo &#39;const&#39; (non più di una riga potrebbe soddisfare la ricerca), ma nessuna riga è stata trovata.
|##No tables used##|La SELECT è una subquery che non coinvolge alcuna tabella. In pratica non c&#39;è una clausola FROM, oppure c&#39;è una clausola FROM DUAL.
|##Not exists##| Appena trova una riga, smette di cercarne altre. Questa ottimizzazione viene usata con le LEFT JOIN dove una cerca esplicitamente righe che non esistono nella LEFT JOIN. Esempio: SELECT * FROM t1 LEFT JOIN t2 on (...) WHERE t2.not_null_column IS NULL.  Siccome t2.not_null_column può essere NULL solo se nessuna riga soddisfa la clausola on, appena trova una riga smette di cercare.
|##Open_frm_only##| Per le tabelle dell&#39;INFORMATION_SCHEMA. Per ogni riga trovata, viene aperto solo il file frm (che contiene la definizione di una tabella).
|##Open_full_table##| Per le tabelle dell&#39;INFORMATION_SCHEMA. Per ogni riga trovata una tabella viene aperta completamente. (Lento)
|##Open_trigger_only##| Per le tabelle dell&#39;INFORMATION_SCHEMA. Per ogni riga trovata viene aperto solo il file di definizione dei trigger.
|##Range checked## ##for## ##each## ##record## ##(index map: ...)## | Succede solo se non c&#39;è un buon indice di default da usare ma potrebbe esserci qualche indice utilizzabile se si trattano come costanti tutte le colonne lette dalla tabella precedenti. Per ogni singola combinazione di righe, l&#39;ottimizzatore decide quale indice utilizzare (se ce ne sono) per estrarre una riga da questa tabella. Non è un metodo veloce, ma è comunque più rapido di una scansione completa della tabella, che è l&#39;unica alternativa. La &#34;index map&#34; è una maschera di bit che indica quali indici vengono presi in considerazione per ogni riga.
|##Scanned 0/1/all databases##| Per le tabelle dell&#39;INFORMATION_SCHEMA. Indica quante volte è stata eseguita la scansione di una directory.
|##Select tables## ##optimized## ##away##| Tutte le tabelle della join sono state eliminate dall&#39;ottimizzatore. Questo accade quando nella SELECT si usano solo le funzioni COUNT(*), MIN() e MAX(), ed è stato possibile sostituirle con valori costanti.
|##Skip_open_table##| Per le tabelle dell&#39;INFORMATION_SCHEMA. Non è stato necessario aprire la tabella da interrogare.
|##unique row not found##| Durante la fase di ottimizzazione la tabella è stata giudicata di tipo const (non più di una riga potrebbe soddisfare la ricerca), ma nessuna riga è stata trovata.
|##Using filesort##| Per risolvere la query è necessario un filesort. Questo implica una fase aggiuntiva, durante la quale vengono raccolte tutte le colonne da ordinare, vengono ordinate con un merge sort su disco e infine la lista ordinata viene usata per estrarre le righe nell&#39;ordine desiderato. Se le colonne sono poche, vengono registrate tutte nel sort file per evitare di accedere al database la seconda volta.
|##Using index##| Viene usato solo l&#39;indice per restituire le informazioni dalla tabella. Non sono necessarie ricerche aggiuntive per leggere i record.
|##Using index condition##| Simile a &#39;Using where&#39;, ma la condizione WHERE viene passata allo Storage Engine, che effettuerà ottimizzazioni interne sugli indici.
|##Using index condition(BKA)##| Simile a &#39;Using index condition&#39;, ma in aggiunta viene usato un batch key access per leggere le righe.
|##Using index for group-by##| Viene usato un indice per risolvere una GROUP BY o una DISTINCT. Le righe non vengono lette. E&#39; molto efficiente se gli indici contengono molte voci identiche, perché i duplicati vengono ignorati.
|##Using intersect(...)##| Per le join index_merge. Indica quali indici sono parte dell&#39;intersezione.
|##Using join buffer##| Le combinazioni delle righe della tabella precedente vengono registrate in un buffer delle righe, per poterle confrontare con le combinazioni presenti nel buffer della join tutte in una volta.
|##Using sort_union(...)##| Per le join index_merge. Indica quali indici sono parte della union.
|##Using temporary##| Il risultato viene scritto in una tabella temporanea. Solitamente accade se si usa GROUP BY, DISTINCT o ORDER BY.
|##Using where##| Viene usata un&#39;espressione WHERE (in aggiunta a un&#39;eventuale ricerca su indice) per controllare se la riga ci interessa. Se &#39;Using where&#39; non è accompagnata dal &#34;join type&#34; ALL, probabilmente si sta sbagliando qualcosa!
|##Using where## ##with## ##pushed## ##condition##| Simile a &#39;Using where&#39;, ma la condizione WHERE viene passata allo Storage Engine, che effettuerà ottimizzazioni interne a livello di riga.
&lt;&lt;/style&gt;&gt;

=== EXPLAIN EXTENDED
La parola chiave EXTENDED aggiunge la colonna //filtered// all&#39;output. E&#39; una stima in percentuale delle righe che verranno filtrate dalla condizione.

EXPLAIN EXTENDED produce sempre uno warning, perché aggiunge un&#39;informazione //Message// al prossimo comando [[https://kb.askmonty.org/it/show-warnings/|SHOW WARNINGS]]. Esso mostra la SELECT ottimizzata e riscritta dall&#39;ottimizzatore.

== Examples

As synonym for DESCRIBE or SHOW COLUMNS FROM:
&lt;&lt;sql&gt;&gt;
DESCRIBE city;
+------------+----------+------+-----+---------+----------------+
| Field      | Type     | Null | Key | Default | Extra          |
+------------+----------+------+-----+---------+----------------+
| Id         | int(11)  | NO   | PRI | NULL    | auto_increment |
| Name       | char(35) | YES  |     | NULL    |                |
| Country    | char(3)  | NO   | UNI |         |                |
| District   | char(20) | YES  | MUL |         |                |
| Population | int(11)  | YES  |     | NULL    |                |
+------------+----------+------+-----+---------+----------------+
&lt;&lt;/sql&gt;&gt;

A simple set of examples to see how EXPLAIN can identify poor index usage:
&lt;&lt;sql&gt;&gt;
CREATE TABLE IF NOT EXISTS `employees_example` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `first_name` varchar(30) NOT NULL,
  `last_name` varchar(40) NOT NULL,
  `position` varchar(25) NOT NULL,
  `home_address` varchar(50) NOT NULL,
  `home_phone` varchar(12) NOT NULL,
  `employee_code` varchar(25) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `employee_code` (`employee_code`),
  KEY `first_name` (`first_name`,`last_name`)
) ENGINE=Aria;

INSERT INTO `employees_example` (`first_name`, `last_name`, `position`, `home_address`, `home_phone`, `employee_code`)
  VALUES
  (&#39;Mustapha&#39;, &#39;Mond&#39;, &#39;Chief Executive Officer&#39;, &#39;692 Promiscuous Plaza&#39;, &#39;326-555-3492&#39;, &#39;MM1&#39;),
  (&#39;Henry&#39;, &#39;Foster&#39;, &#39;Store Manager&#39;, &#39;314 Savage Circle&#39;, &#39;326-555-3847&#39;, &#39;HF1&#39;),
  (&#39;Bernard&#39;, &#39;Marx&#39;, &#39;Cashier&#39;, &#39;1240 Ambient Avenue&#39;, &#39;326-555-8456&#39;, &#39;BM1&#39;),
  (&#39;Lenina&#39;, &#39;Crowne&#39;, &#39;Cashier&#39;, &#39;281 Bumblepuppy Boulevard&#39;, &#39;328-555-2349&#39;, &#39;LC1&#39;),
  (&#39;Fanny&#39;, &#39;Crowne&#39;, &#39;Restocker&#39;, &#39;1023 Bokanovsky Lane&#39;, &#39;326-555-6329&#39;, &#39;FC1&#39;),
  (&#39;Helmholtz&#39;, &#39;Watson&#39;, &#39;Janitor&#39;, &#39;944 Soma Court&#39;, &#39;329-555-2478&#39;, &#39;HW1&#39;);

SHOW INDEXES FROM employees_example;
+-------------------+------------+---------------+--------------+---------------+-----------+-------------+----------+--------+------+------------+---------+---------------+
| Table             | Non_unique | Key_name      | Seq_in_index | Column_name   | Collation | Cardinality | Sub_part | Packed | Null | Index_type | Comment | Index_comment |
+-------------------+------------+---------------+--------------+---------------+-----------+-------------+----------+--------+------+------------+---------+---------------+
| employees_example |          0 | PRIMARY       |            1 | id            | A         |           7 |     NULL | NULL   |      | BTREE      |         |               |
| employees_example |          0 | employee_code |            1 | employee_code | A         |           7 |     NULL | NULL   |      | BTREE      |         |               |
| employees_example |          1 | first_name    |            1 | first_name    | A         |        NULL |     NULL | NULL   |      | BTREE      |         |               |
| employees_example |          1 | first_name    |            2 | last_name     | A         |        NULL |     NULL | NULL   |      | BTREE      |         |               |
+-------------------+------------+---------------+--------------+---------------+-----------+-------------+----------+--------+------+------------+---------+---------------+
&lt;&lt;/sql&gt;&gt;
SELECTING on a primary key:
&lt;&lt;sql&gt;&gt;
EXPLAIN SELECT * FROM employees_example WHERE id=1;
+------+-------------+-------------------+-------+---------------+---------+---------+-------+------+-------+
| id   | select_type | table             | type  | possible_keys | key     | key_len | ref   | rows | Extra |
+------+-------------+-------------------+-------+---------------+---------+---------+-------+------+-------+
|    1 | SIMPLE      | employees_example | const | PRIMARY       | PRIMARY | 4       | const |    1 |       |
+------+-------------+-------------------+-------+---------------+---------+---------+-------+------+-------+
&lt;&lt;/sql&gt;&gt;
The type is //const//, which means that only one possible result could be returned. 
Now, returning the same record but searching by their phone number:
&lt;&lt;sql&gt;&gt;
EXPLAIN SELECT * FROM employees_example WHERE home_phone=&#39;326-555-3492&#39;;
+------+-------------+-------------------+------+---------------+------+---------+------+------+-------------+
| id   | select_type | table             | type | possible_keys | key  | key_len | ref  | rows | Extra       |
+------+-------------+-------------------+------+---------------+------+---------+------+------+-------------+
|    1 | SIMPLE      | employees_example | ALL  | NULL          | NULL | NULL    | NULL |    6 | Using where |
+------+-------------+-------------------+------+---------------+------+---------+------+------+-------------+
&lt;&lt;/sql&gt;&gt; 
Here, the type is //All//, which means no index could be used. Looking at the rows count, a full table scan (all six rows) had to be performed in order to retrieve the record. If it&#39; a requirement to search by phone number, and index will have to be created.

== Esempi
=== Esempio di ottimizzazione &lt;&lt;fixed&gt;&gt;ref_or_null&lt;&lt;/fixed&gt;&gt;:

&lt;&lt;code&gt;&gt;
SELECT * FROM nome_tabella
  WHERE colonna_chiave=espr OR colonna_chiave IS NULL;
&lt;&lt;/code&gt;&gt;

&lt;&lt;fixed&gt;&gt;ref_or_null&lt;&lt;/fixed&gt;&gt; si verifica spesso quando si usano subquery con &lt;&lt;fixed&gt;&gt;NOT IN&lt;&lt;/fixed&gt;&gt; perché, se nessuna riga contiene il primo valore, occorre un controllo aggiuntivo per i valori NULL. 
</textarea>
    


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row row-10">
                <div class="col-md-2 col-xs-4 item">
                    <h5>
                        <a href="/products" title="Products">Products</a>
                    </h5>
                    <ul>
                        <li id="menu-item-7816" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7816"><a href="https://mariadb.com/products/mariadb-platform/">MariaDB Platform</a></li>
                        <li id="menu-item-7815" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7815"><a href="https://mariadb.com/products/skysql/">MariaDB SkySQL</a></li>
                        <li id="menu-item-4172" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4172"><a href="https://mariadb.com/pricing/">Pricing</a></li>
                        <li id="menu-item-4163" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4163"><a href="https://mariadb.com/downloads/">Download MariaDB</a></li>
                    </ul>
                </div>
                <div class="col-md-2 col-xs-4 item">
                    <h5>
                        <a href="/services" title="Services">Services</a>
                    </h5>
                    <ul>
                        <li id="menu-item-4169" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4169"><a href="https://mariadb.com/services/remote-dba/">Remote DBA</a></li>
                        <li id="menu-item-41691" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4169"><a href="https://mariadb.com/services/skydba/">SkyDBA</a></li>
                        <li id="menu-item-4167" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4167"><a href="https://mariadb.com/services/enterprise-architect/">Enterprise Architect</a></li>
                        <li id="menu-item-4170" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4170"><a href="https://mariadb.com/services/technical-support-services/">Technical Support</a></li>
                        <li id="menu-item-4168" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4168"><a href="https://mariadb.com/services/migration-practice/">Migration Practice</a></li>
                        <li id="menu-item-4166" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4166"><a href="https://mariadb.com/services/consulting/">Consulting</a></li>
                        <li id="menu-item-4171" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4171"><a href="https://mariadb.com/services/training/">Training</a></li>
                    </ul>
                </div>
                <div class="col-md-2 col-xs-4 item">
                    <h5>
                        <a href="/resources" title="Resources">Resources</a>
                    </h5>
                    <ul>
                        <li id="menu-item-41751" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4175"><a href="https://mariadb.com/docs/">Documentation</a></li>
                        <li id="menu-item-41752" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4175"><a href="https://mariadb.com/developers/">Developers</a></li>
                        <li id="menu-item-4175" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4175"><a href="https://mariadb.com/resources/blog/">Blog</a></li>
                        <li id="menu-item-5462" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5462"><a href="https://support.mariadb.com">Support</a></li>
                        <li id="menu-item-6004" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6004"><a href="https://mariadb.com/openworks/">OpenWorks</a></li>
                        <li id="menu-item-60041" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6004"><a href="https://mariadb.com/resources/customer-stories/">Customer Stories</a></li>
                        <li id="menu-item-7817" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-7817"><a href="https://mariadb.com/resources/events/">Events</a></li>
                        <li id="menu-item-4177" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4177"><a href="https://mariadb.com/roadshow/">MariaDB Roadshow</a></li>
                    </ul>
                </div>
                <div class="visible-xs visible-sm clear"></div>
                <div class="col-md-2 col-xs-5 item">
                    <h5>
                        <a href="/about-us" title="About MariaDB">About</a>
                    </h5>
                    <ul>
                        <li id="menu-item-4173" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4173"><a href="https://mariadb.com/contact/">Contact</a></li>
                        <li id="menu-item-4161" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4161"><a href="https://mariadb.com/about-us/leadership/">Leadership</a></li>
                        <li id="menu-item-4162" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4162"><a href="https://mariadb.com/about-us/partners/">Partners</a></li>
                        <li id="menu-item-4174" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4174"><a href="https://mariadb.com/newsroom/">Newsroom</a></li>
                        <li id="menu-item-4160" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4160"><a href="https://mariadb.com/about-us/investors/">Investors</a></li>
                        <li id="menu-item-4159" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4159"><a href="https://mariadb.com/about-us/careers/">Careers</a></li>
                        <li id="menu-item-41591" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4159"><a href="https://mariadb.com/trust/">Trust Center</a></li>
                        <li id="menu-item-41592" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4159"><a href="https://mariadb.com/vulnerability-reporting/">Vulnerability Reporting</a></li>
                    </ul>
                </div>
                <div class="col-md-4 col-xs-7 item">
                    <div id="block-footercontact" class="block block-block-content block-block-content22b3af28-0754-44ec-a5c6-4466568f37e3">
                        <h5><a href="/contact" title="Contact">Contact</a></h5>
                    </div>
                    <div class="social">
                        <ul class="list-inline">
                            <li>
                                <a target="_blank" href="https://www.facebook.com/MariaDB.dbms/" title="Facebook">
                                    <i class="fa fa-facebook" aria-hidden="true"></i>
                                </a>
                            </li>
                            <li>
                                <a target="_blank" href="https://twitter.com/mariadb" title="Twitter">
                                    <i class="fa fa-twitter" aria-hidden="true"></i>
                                </a>
                            </li>
                            <li>
                                <a target="_blank" href="https://www.linkedin.com/company/mariadb-corporation?trk=company_logo " title="LinkedIn">
                                    <i class="fa fa-linkedin" aria-hidden="true"></i>
                                </a>
                            </li>
                        </ul>
                    </div>
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <p>Subscribe to our newsletter!</p>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="footer-copyright">
        <div class="container text-center">
            <ul class="list-inline no-margin">
                <li>
                    <a href="/legal" title="Legal">Legal</a>
                </li>
                <li>
                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                </li>
                <li>
                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                </li>
            </ul>
            <p>Copyright &copy; 2024 MariaDB. All rights reserved.</p>
        </div>
    </div>
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.fed4ec768178.js" charset="utf-8"></script>

</html>