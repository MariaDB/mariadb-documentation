<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>MariaDB Galera Cluster - Limitazioni note - Source - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.f7633538c846.css" rel="stylesheet" type="text/css" />

    
        <meta name="robots" content="noindex, nofollow">
    

    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="MariaDB Galera Cluster - Limitazioni note - Source" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/it/mariadb-galera-cluster-known-limitations/+source/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="" />

    <meta name="description" content="" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes autoresize nodes_source jqui" id="nodes_source">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/it/mariadb-galera-cluster-known-limitations/+source/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2025 MariaDB. All rights reserved.</p>
    </div>
</div>
<div class="violator-wrap d-none" id="top_violator">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12">
                <div class="violator-outer">
                    <div class="violator-inner">
                        <div class="row">
                            <div class="col-xs-12 col-sm-9 col-lg-7 col-lg-offset-2" id="top_violator_content">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="content-link" target="_blank" rel="nofollow noreferrer">
                                    <span>The Ultimate Guide to High Availability with MariaDB</span>
                                </a>
                            </div>
                            <div class="col-xs-12 col-sm-3" id="top_violator_cta">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="btn btn-mariadb" target="_blank" rel="nofollow noreferrer">Download Now</a>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn btn-link close-btn">
                        <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" width="15px" height="15px"><path d="M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/it/mariadb-galera-cluster-known-limitations/+source/" rel="nofollow">Accesso</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/it/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/it/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/solutions" title="Solutions">Solutions</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="Company">Company</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/it/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/it/mariadb-italiano/">MariaDB - Italiano</a>
    

    
    » <a class="crumb" href="/kb/it/replica-cluster-multi-master/">Replica, Cluster, &amp; Multi-Master</a>
    

    
    » <a class="crumb" href="/kb/it/galera/">Galera</a>
    


    » <a class="node_link crumb" href="/kb/it/mariadb-galera-cluster-known-limitations/">MariaDB Galera Cluster - Limitazioni note</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/it/">Pagina iniziale</a></li>
                            
                                
                                    <li><a href="/kb/it/+questions/">Domande Aperte</a></li>
                                
                                <li><a href="/kb/it/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/it/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/it/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/it/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
                        <div>
    

<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-small" href="/kb/it/mariadb-galera-cluster-known-limitations/">Return to article</a>
    
</div>
</div>

</div>
                    

                    

































                </aside>
            
            
            
                
            
            
            <section id="content" class="limited_width col-md-10 clearfix">
                
                    <h1>MariaDB Galera Cluster - Limitazioni note - Source</h1>
                

                



                <div>
                    

    

    
    <div class="revision_info">
        <dl class="table">
            <dt>Revisione</dt>
            <dd><a href="/kb/it/mariadb-galera-cluster-known-limitations/+r/25787/">25787</a></dd>
            <dt>Utente</dt>
            <dd>
<span class="user" id="user-982">
<a href="/kb/user/id/982" title="Federico Razzoli">Federico Razzoli</a>
</span></dd>
            <dt>Data</dt>
            <dd>

<span class="datetime" title="2014-03-17 07:19">2014-03-17 07:19</span></dd>
        </dl>
    </div>
    


    

    
        
        <textarea id="answer_source" class="creole_source autogrow">Questo articolo illustra i problemi noti e le limitazioni di MariaDB Galera Cluster.

== Limitazioni da codership.com:

* Al momento la replica funziona solo con lo Storage Engine [[InnoDB]]. Tutte le modifiche su tabelle di altri tipi, comprese quelle di sistema (mysql.*), non vengono replicate (questo non riguarda le istruzioni del DDL che modificano implicitamente le tabelle mysql.* &lt;&lt;entity&gt;&gt;mdash&lt;&lt;/entity&gt;&gt; tali istruzioni vengono replicate). Vi è comunque un supporto sperimentale a [[myisam|MyISAM]] - si veda la variabile di sistema [[galera-cluster-system-variables#wsrep_replicate_myisam|wsrep_replicate_myisam]]).

* Non è supportato il locking esplicito, compresi [[transactions-lock|LOCK TABLES]], [[flush|FLUSH TABLES {lista tabelle esplicita} WITH READ LOCK]], ([[get_lock|GET_LOCK()]], [[release_lock|RELEASE_LOCK()]], …). Un uso appropriato delle transazioni dovrebbe aggirare queste limitazioni. Le istruzioni per il locking globale, come [[flush|FLUSH TABLES WITH READ LOCK]], sono supportate.

* L&#39;operazione ##DELETE## non è supportata per le tabelle sprovviste di chiave primaria. Inoltre le righe nelle tabelle senza chiave potrebbero essere memorizzate in ordine differente sui diversi nodi. Non bisogna usare tabelle senza chiave primaria. 

* Il [[general-query-log|log delle query]] non può essere diretto a una tabella. Se si abilita il log delle query, occorre indirizzarlo a un file: [[server-system-variables#log_output|log_output=FILE]].

* Le [[xa-transactions|transazioni XA]] non possono essere supportate.

* Dimensioni delle transazioni. Nonostante Galera non limiti esplicitamente le dimensioni delle transazioni, ogni insieme di modifiche viene elaborato in un singolo buffer residente in memoria e di conseguenza le transazioni molto grandi (per esempio LOAD DATA) potrebbero influenzare negativamente le prestazioni dei nodi. Per evitare ciò, le variabili wsrep_max_ws_rows e wsrep_max_ws_size limitano le righe che compongono le transazioni a 128K e le dimensioni delle transazioni a 1Gb, per default. Se necessario, l&#39;utente può incrementare questi limiti. Le versioni future supporteranno la frammentazione delle transazioni.


== Limitazioni da altre fonti:

* La cache delle query non deve essere utilizzata con Galera Cluster (fonte: [[https://groups.google.com/forum/?hl=ru&amp;fromgroups=#!topic/codership-team/VZyOuXFDSdQ|Gruppo Google di Codership]])


== Altre osservazioni in ordine sparso:

* Se si intende utilizzare mysqldump per trasferire lo stato, ma esso fallisce per una qualsiasi ragione (per esempio se l&#39;account che tenta di utilizzare per la connessione non esiste, oppure non ha i permessi necessari), si ottiene un errore di tipo SQL SYNTAX nel log degli errori. Non bisogna lasciarsi ingannare, è soltanto un modo elegante per comunicare un messaggio (la pseudo-istruzione in SQL contiene il messaggio di errore effettivo).

* MDEV-421: Non si utilizzino binlog-do-db e binlog-ignore-db
  &lt;&lt;entity&gt;&gt;mdash&lt;&lt;/entity&gt;&gt; sono supportati solo per il DML, ma non per il DDL, perciò si formerebbe rapidamente una discrepanza e la replica abortirebbe.

* Non vanno usate transazioni di dimensioni importanti. Solo per inserire ~100K righe, il server potrebbe necessitare di 200-300 Mb aggiuntivi. In situazioni meno fortunate potrebbero essere necessari 1.5 Gb per 500K righe, o 3.5 Gb per 1M righe. Si veda MDEV-466 per conoscere altri numeri (il bug è effettivamente chiuso, ma non perché sia stato risolto).

* Il lock è permissivo per quando riguarda il DDL. Per esempio, se una transazione DML utilizza una tabella e intanto viene lanciato un altro comando parallelo DDL, nella normale configurazione di MySQL questo dovrebbe attendere il rilascio del lock sui metadati, mentre in Galera viene eseguiro direttamente. Ciò è vero anche se è in esecuzione un solo nodo, purché questo sia configurato come nodo cluster. Si veda anche MDEV-468. Tale caratteristica potrebbe essere causa di vari effetti collaterali, per il momento le conseguenze non sono state studiate. E&#39; meglio evitare questo genere di parallelismo.

* Non bisogna fare affidamento sulla sequenzialità dei valori auto-increment. Galera si serve di un meccanismo basato su un incremento che produce sequenze univoche e non conflittuali, pertanto in ogni singolo nodo le sequenza hanno dei gap. Si veda http://codership.blogspot.com/2009/02/managing-auto-increments-with-multi.html

* Di tanto in tanto, all&#39;avvio di un nodo potrebbe verificarsi l&#39;errore &#39;Unknown command&#39; su quasi tutte le istruzioni ad eccezione di SHOW e forse alcuni altri comandi di servizio. Ciò accade quando c&#39;è il sospetto che un cluster sia diviso, e che il nodo si trovi in una parte più piccola &lt;&lt;entity&gt;&gt;mdash&lt;&lt;/entity&gt;&gt; per esempio, se a causa di un problema di rete i nodi temporaneamente non siano in grado di comunicare. L&#39;errore è inquietante ma non significa che il server è impazzito, semplicemente pensa di esserlo. E&#39; stato notato che tale problema si verifica quando un nodo trasferisce lo stato ad un altro nodo.

* Dopo un problema di rete temporaneo, se la parte &#39;buona&#39; del cluster è ancora raggiungibile e il suo stato è rimasto immutato, avviene una resincronizzazione. Durante tale operazione i nodi della parte &#39;cattiva&#39; del cluster chiudono le connessioni verso i client. Questo evento potrebbe risultare inaspettato, soprattutto se un client era in idle e non sapeva nemmeno che qualcosa fosse andato storto. Si noti che dopo il riprisino della connessione al nodo isolato, se vi è un flusso nel nodo, la sincronizzazione può richiedere molto tempo, durante il quale il nodo &#34;buono&#34; dice che il cluster ha già le dimensioni normali ed è sincronizzato, mentre il nodo che si sta riunendo dice di essersi solo riunito (ma non sincronizzato). Le connessioni intanto continuano a ricevere l&#39;errore &#39;unknown command&#39;. Alla fine dovrebbero smettere.

* binlog_format viene verificato all&#39;avvio e deve essere impostato a ROW, però potrebbe essere modificato a runtime. NON si modifichi binlog_format a runtime, perché non solo è probabile che ciò causi un fallimento nella replica, ma porterebbe a un crash di tutti gli altri nodi.

* Se si utilizza rsync per trasferire lo stato e un nodo crasha prima che il trasferimento sia terminato, il processo di rsync potrebbe rimanere in attesa per sempre, occupando la porta e non impedendo il riavvio del nodo. Il problema è indicato come &#39;port in use&#39;, nel log degli errori del server. Occorre allora trovare il processo resync orfano e terminarlo manualmente.

* Prestazioni: per una scelta di progettazione, le prestazioni del cluster non possono essere superiori a quelle del nodo più lento; tuttavia, anche se si ha un solo nodo, le sue performance potrebbero essere considerevolmente più basse di quelle che si otterrebbero facendo girare il server in modalità standalone (senza un provider wsrep). Ciò è vero soprattutto per le transazioni più grandi (anche quelle che si trovano abbondantemente nei limiti indicati sopra).

* Windows non è supportato.
</textarea>
    


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/solutions" title="Solutions">Solutions</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">Company</a></h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        
                        
                        <li>
                            <h5><a href="https://mariadb.com/downloads" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2025 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.1587e3a666fc.js" charset="utf-8"></script>

</html>