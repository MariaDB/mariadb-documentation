<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>I formati del Log Binario - Source - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.f7633538c846.css" rel="stylesheet" type="text/css" />

    
        <meta name="robots" content="noindex, nofollow">
    

    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="I formati del Log Binario - Source" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/it/binary-log-formats/+source/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="" />

    <meta name="description" content="" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes autoresize nodes_source jqui" id="nodes_source">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/it/binary-log-formats/+source/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2025 MariaDB. All rights reserved.</p>
    </div>
</div>
<div class="violator-wrap d-none" id="top_violator">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12">
                <div class="violator-outer">
                    <div class="violator-inner">
                        <div class="row">
                            <div class="col-xs-12 col-sm-9 col-lg-7 col-lg-offset-2" id="top_violator_content">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="content-link" target="_blank" rel="nofollow noreferrer">
                                    <span>The Ultimate Guide to High Availability with MariaDB</span>
                                </a>
                            </div>
                            <div class="col-xs-12 col-sm-3" id="top_violator_cta">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="btn btn-mariadb" target="_blank" rel="nofollow noreferrer">Download Now</a>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn btn-link close-btn">
                        <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" width="15px" height="15px"><path d="M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/it/binary-log-formats/+source/" rel="nofollow">Accesso</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/it/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/it/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/solutions" title="Solutions">Solutions</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="Company">Company</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/it/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/it/mariadb-italiano/">MariaDB - Italiano</a>
    

    
    » <a class="crumb" href="/kb/it/documentazione-di-mariadb/">Documentazione di MariaDB</a>
    

    
    » <a class="crumb" href="/kb/it/file-di-log/">File di Log</a>
    

    
    » <a class="crumb" href="/kb/it/binary-log/">Log Binario</a>
    


    » <a class="node_link crumb" href="/kb/it/binary-log-formats/">I formati del Log Binario</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/it/">Pagina iniziale</a></li>
                            
                                
                                <li><a href="/kb/it/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/it/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/it/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/it/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
                        <div>
    

<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-small" href="/kb/it/binary-log-formats/">Return to article</a>
    
</div>
</div>

</div>
                    

                    

































                </aside>
            
            
            
                
            
            
            <section id="content" class="limited_width col-md-10 clearfix">
                
                    <h1>I formati del Log Binario - Source</h1>
                

                



                <div>
                    

    

    
    <div class="revision_info">
        <dl class="table">
            <dt>Revisione</dt>
            <dd><a href="/kb/it/binary-log-formats/+r/16457/">16457</a></dd>
            <dt>Utente</dt>
            <dd>
<span class="user" id="user-982">
<a href="/kb/user/id/982" title="Federico Razzoli">Federico Razzoli</a>
</span></dd>
            <dt>Data</dt>
            <dd>

<span class="datetime" title="2013-06-10 10:14">2013-06-10 10:14</span></dd>
        </dl>
    </div>
    


    

    
        
        <textarea id="answer_source" class="creole_source autogrow">&lt;&lt;toc&gt;&gt;

== Formati
Il Log Binario ha tre formati - statement-based, row-based e mixed. Indipendentemente dal formato, i log sono sempre registrati in formato binario, non testuale, e pertanto non sono leggibili con un normale editor. Tuttavia MariaDB include [[mysqlbinlog]], uno strumento da riga di comando per elaborare i file di log come testo.

=== Statement-based
E&#39; il formato predefinito, il logging statement-based registra tutte le istruzioni SQL che apportano modifiche ai dati o alle strutture delle tabelle. Per abilitarlo: ##--binlog-format=STATEMENT##.

In alcuni casi, un&#39;istruzione può non essere deterministica, e quindi non essere sicura per la replica. Se MariaDB decide che è così, produce un warning ##Statement may not be safe to log in statement format##. Si veda la sezione Mixed sotto, per una lista di casi in cui si applica questa regola.

=== Row-based
Registra gli eventi che coinvolgono le righe delle tabelle. Per abilitarlo: ##--binlog-format=ROW##.

=== Mixed
Una combinazione del formato statement-based e quello row-based. Nel formato mixed, per default viene usato il logging statement-based, ma quando MariaDB determina che non è sicuro per la replica registrare una data istruzione in quel formato, utilizza il formato row-based. Per abilitarlo: ##--binlog-format=MIXED##.

Il formato statement-based non è sicuro nei seguenti casi:
* Istruzioni [[https://kb.askmonty.org/it/insert-delayed/|INSERT-DELAYED]].
* Quando una tabella con una colonna [[https://kb.askmonty.org/it/auto_increment/|AUTO_INCREMENT]] viene aggiornata e vi è un trigger o si usa una Stored Function.
* La funzione [[https://kb.askmonty.org/it/load_file/|LOAD_FILE()]]. 
* Vengono usate le funzioni [[https://kb.askmonty.org/it/row_count/|ROW_COUNT()]] o [[https://kb.askmonty.org/it/found_rows/|FOUND_ROWS()]].
* Vengono usate le funzioni [[https://kb.askmonty.org/it/user/|USER()]] o [[https://kb.askmonty.org/it/current_user/|CURRENT_USER()]]. 
* Viene usata la funzione [[https://kb.askmonty.org/it/uuid/|UUID()]].
* Una delle tabelle usate nell&#39;istruzione è un log che si trova nel database mysql.
* Un&#39;istruzione fa riferimento a una [[server-system-variable|system variable]] (alcune costituiscono eccezione se usate solo nel contesto della sessione).
* Viene usata una [[https://kb.askmonty.org/it/user-defined-functions/|user-defined function]].
* Se si usa il formato row-based per un&#39;istruzione, e la sessione che esegue quell&#39;istruzione ha delle tabelle temporanee, il formato row-based verrà usato anche per le successive istruzioni, finché le tabelle temporanee non vengono eliminate. Questo perché le tabelle temporanee non possono usare il logging row-based , perciò se viene usato a causa di una delle condizioni sopra indicate, tutte le istruzioni seguenti su quella tabella non sono sicure. Il server gestisce questa situazione considerando tutte le istruzioni della sessione come non sicure per il logging statement-based finché non vengono eliminate le tabelle temporanee.

Anche uno Storage Engine può impostare o limitare il formato del logging, il che aiuta a ridurre gli errori quando si usa la replica tra diversi storage engines.

== Impotare il formato del Log Binario

Il formato predefinito del Log Binario è statement-based. E&#39; possibile cambiarlo con ##--binlog-format=formato##, o modificando la variabile [[server-system-variables/binlog_format|binlog_format]] a livello globale (se si ha il privilegio SUPER) o di sessione.

&lt;&lt;style class=&#34;graybox&#34;&gt;&gt;
Occorre prestare attenzione al formato del Log Binario se si fa uso della replica. Il formato può essere impostato solo per il server stesso. Modificandolo sul master il cambiamento non si riflette sullo slave. Questo può far fallire la replica o dare risultati inattesi.
&lt;&lt;/style&gt;&gt;
 
Raramente dovrebbe essere necessario modificare il formato del Log Binario, tuttavia può essere desiderabile nei casi seguenti:
* Se una istruzione o poche istruzioni aggiornano molte righe, il formato statement-based è più efficiente. Siccome questa situazione è piuttosto comune, tale formato è quello predefinito.
* Molte istruzioni che hanno un impatto limitato sulle righe delle tabelle potrebbero essere più efficienti con il logging row-based.
* Un&#39;istruzione potrebbe impiegare molto tempo, ma avere un impatto limitato sulle righe delle tabelle, pertanto la replica nel formato row-based sarebbe più efficiente.

=== Esempi
&lt;&lt;code&gt;&gt;
MariaDB [(none)]&gt; SET GLOBAL binlog_format=ROW;

MariaDB [(none)]&gt; SET SESSION binlog_format=MIXED;

MariaDB [(none)]&gt; SET binlog_format=STATEMENT;
&lt;&lt;/code&gt;&gt;

== Il database mysql

Le istruzioni che coinvolgono il database mysql potrebbero essere registrate in un modo differente da come ci si aspetta.

Se il database mysql viene modificato direttamente, il logging viene eseguito come ci si aspetta, a seconda del ##formato_binlog##. Tra le istruzioni che possono modificare direttamente il database mysql troviamo [[https://kb.askmonty.org/it/insert/|INSERT]], [[https://kb.askmonty.org/it/update/|UPDATE]], [[https://kb.askmonty.org/it/delete/|DELETE]], [[https://kb.askmonty.org/it/replace/|REPLACE]], [[https://kb.askmonty.org/it/do/|DO]], [[https://kb.askmonty.org/it/load-data-infile/|LOAD DATA INFILE]], [[https://kb.askmonty.org/it/select/|SELECT]] e [[https://kb.askmonty.org/it/truncate-table/|TRUNCATE TABLE]].

Se il database mysql viene modificato indirettamente,  viene eseguito il logging row-based senza tenere conto del ##formato_binlog##. Tra le istruzioni che modificano indirettamente il database mysql troviamo [[https://kb.askmonty.org/it/grant/|GRANT]], [[https://kb.askmonty.org/it/revoke/|REVOKE]], [[set-password|SET PASSWORD]], [[https://kb.askmonty.org/it/rename-user/|RENAME USER]], [[https://kb.askmonty.org/it/alter/|ALTER]], [[https://kb.askmonty.org/it/drop/|DROP]] e [[https://kb.askmonty.org/it/create/|CREATE]] (eccettuate le situazioni descritte sotto). 

CREATE TABLE ... SELECT può causare una combinazione dei formati di log. La parte [[https://kb.askmonty.org/it/create-table/|CREATE TABLE]] viene registrata nel formato statement-based, mentre la parte [[https://kb.askmonty.org/it/select/|SELECT]] viene registrata secondo il valore di ##formato_binlog##. </textarea>
    


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/solutions" title="Solutions">Solutions</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">Company</a></h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        
                        
                        <li>
                            <h5><a href="https://mariadb.com/downloads" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2025 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.1587e3a666fc.js" charset="utf-8"></script>

</html>