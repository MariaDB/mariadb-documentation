<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>ISOLAMENTO - Source - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.f7633538c846.css" rel="stylesheet" type="text/css" />

    
        <meta name="robots" content="noindex, nofollow">
    

    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="ISOLAMENTO - Source" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/pt-br/isolation/+source/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="" />

    <meta name="description" content="" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes autoresize nodes_source jqui" id="nodes_source">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/pt-br/isolation/+source/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2024 MariaDB. All rights reserved.</p>
    </div>
</div>
<div class="violator-wrap d-none" id="top_violator">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12">
                <div class="violator-outer">
                    <div class="violator-inner">
                        <div class="row">
                            <div class="col-xs-12 col-sm-9 col-lg-7 col-lg-offset-2" id="top_violator_content">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="content-link" target="_blank" rel="nofollow noreferrer">
                                    <span>The Ultimate Guide to High Availability with MariaDB</span>
                                </a>
                            </div>
                            <div class="col-xs-12 col-sm-3" id="top_violator_cta">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="btn btn-mariadb" target="_blank" rel="nofollow noreferrer">Download Now</a>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn btn-link close-btn">
                        <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" width="15px" height="15px"><path d="M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/pt-br/isolation/+source/" rel="nofollow">Login</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/pt-br/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/pt-br/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/services" title="Services">Services</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="About Us">About Us</a>
    </li>
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/pt-br/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/pt-br/mariadb-brazilian-portuguese/">MariaDB - Brazilian Portuguese</a>
    


    » <a class="node_link crumb" href="/kb/pt-br/isolation/">ISOLAMENTO</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/pt-br/">Início</a></li>
                            
                                
                                    <li><a href="/kb/pt-br/+questions/">Open Questions</a></li>
                                
                                <li><a href="/kb/pt-br/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/pt-br/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/pt-br/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/pt-br/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
                        <div>
    

<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-small" href="/kb/pt-br/isolation/">Return to article</a>
    
</div>
</div>

</div>
                    

                    

































                </aside>
            
            
            
                
            
            
            <section id="content" class="limited_width col-md-10 clearfix">
                
                    <h1>ISOLAMENTO - Source</h1>
                

                



                <div>
                    

    

    
    <div class="revision_info">
        <dl class="table">
            <dt>Revision</dt>
            <dd><a href="/kb/pt-br/isolation/+r/55158/">55158</a></dd>
            <dt>Usuário</dt>
            <dd>
<span class="user" id="user-1041">
<a href="/kb/user/id/1041" title="Reinaldo Guevara">Reinaldo Guevara</a>
</span></dd>
            <dt>Date</dt>
            <dd>

<span class="datetime" title="2017-05-25 15:18">2017-05-25 15:18</span></dd>
        </dl>
    </div>
    


    

    
        
        <textarea id="answer_source" class="creole_source autogrow">== Sintaxe

&lt;&lt;code&gt;&gt;
SET [GLOBAL | SESSION] TRANSACTION ISOLATION LEVEL
  {
       READ UNCOMMITTED
     | READ COMMITTED
     | REPEATABLE READ
     | SERIALIZABLE
   }
&lt;&lt;/code&gt;&gt;

== Descrição

Esta instrução define o nível de isolamento da transação globalmente, para a sessão atual, ou para a próxima transação:

* Com a palavra-chave &lt;&lt;fixed&gt;&gt;GLOBAL&lt;&lt;/fixed&gt;&gt;, a instrução define o nível padrão de transação globalmente para todas as demais sessões. As sessões existentes não são afetadas.

* Com a palavra-chave &lt;&lt;fixed&gt;&gt;SESSION&lt;&lt;/fixed&gt;&gt;, a instrução define o nível padrão de transação para todas as demais transações subseqüentes realizadas dentro da sessão atual.

* Sem as palavras-chave &lt;&lt;fixed&gt;&gt;SESSION&lt;&lt;/fixed&gt;&gt; ou &lt;&lt;fixed&gt;&gt;GLOBAL&lt;&lt;/fixed&gt;&gt;, a instrução define o nível de isolamento para a próxima transação (não iniciada) realizada dentro da sessão atual.

Uma mudança no nível padrão de isolamento requer o &lt;&lt;fixed&gt;&gt;[[grant|SUPER privilégio]]&lt;&lt;/fixed&gt;&gt;. Qualquer sessão é livre de mudar seu nível de isolamento (mesmo no meio de uma transação), ou o nível de isolamento para sua próxima transação.

Para definir o nível padrão global de isolamento na inicialização do servidor, use a opção &lt;&lt;fixed&gt;&gt;--transaction-isolation=level&lt;&lt;/fixed&gt;&gt; para mysqld na linha de comando ou num arquivo de opção. Valores de nível para esta opção usam traços em vez de espaços, portanto os valores permitidos são &lt;&lt;fixed&gt;&gt;READ-UNCOMMITTED&lt;&lt;/fixed&gt;&gt;, &lt;&lt;fixed&gt;&gt;READ-COMMITTED&lt;&lt;/fixed&gt;&gt;, &lt;&lt;fixed&gt;&gt;REPEATABLE-READ&lt;&lt;/fixed&gt;&gt;, ou &lt;&lt;fixed&gt;&gt;SERIALIZABLE&lt;&lt;/fixed&gt;&gt;. Por exemplo, para definir o nível padrão de insolamento como &lt;&lt;fixed&gt;&gt;REPEATABLE READ&lt;&lt;/fixed&gt;&gt;, use estas linhas na seção [mysqld] de um arquivo de opção:


&lt;&lt;fixed&gt;&gt;
[mysqld]
transaction-isolation = REPEATABLE-READ
&lt;&lt;/fixed&gt;&gt;

Para determinar os níveis de isolamento de transação global e de sessão em tempo de execução, verifique o valor da variável de sistema tx_isolation:

&lt;&lt;fixed&gt;&gt;
SELECT @@GLOBAL.tx_isolation, @@tx_isolation;
&lt;&lt;/fixed&gt;&gt;

InnoDB suporta cada um dos níveis de isolamento de transação aqui descritos, utilizando diferentes estratégias de bloqueio. O nível padrão é &lt;&lt;fixed&gt;&gt;REPEATABLE READ&lt;&lt;/fixed&gt;&gt;. 
Para informações adicionais sobre bloqueios a nível de registros no InnoDB, e de como ele os usa para executar varios tipos de instruções, veja https://dev.mysql.com/doc/refman/en/innodb-locking.html, e https://dev.mysql.com/doc/refman/5.1/en/innodb-locks-set.html.

As seguintes seções describem como o MySQL suporta diferentes níveis de transação:

=== READ UNCOMMITTED (Leitura não confirmada)

As instruções &lt;&lt;fixed&gt;&gt;SELECT&lt;&lt;/fixed&gt;&gt; são realizadas de um modo não bloqueante, mas uma possível versão anterior de uma linha pode ser usada. Assim, ao usar este nível de isolamento, tais leituras não são consistentes. Isto também é chamado de &#34;leitura suja&#34;. Caso contrário, este nível de isolamento funciona como &lt;&lt;fixed&gt;&gt;READ COMMITTED&lt;&lt;/fixed&gt;&gt;.


=== READ COMMITTED (Leitura confirmada)

Um nível de isolamento ligeiramente parecido com o Oracle em relação as leituras consistentes (não-bloqueantes): Cada leitura consistente, mesmo dentro da mesma transação, define e lê sua própia cópia atual. Veja https://dev.mysql.com/doc/refman/en/innodb-consistent-read.html.

Para leituras bloqueantes (&lt;&lt;fixed&gt;&gt;SELECT&lt;&lt;/fixed&gt;&gt; com &lt;&lt;fixed&gt;&gt;FOR UPDATE&lt;&lt;/fixed&gt;&gt;
ou &lt;&lt;fixed&gt;&gt;LOCK IN SHARE MODE&lt;&lt;/fixed&gt;&gt;), InnoDB bloqueia somente registros índice, e não as brechas antes deles, e assim permite a livre inserção de novos registros próximos a registros bloqueados. Para as instruções &lt;&lt;fixed&gt;&gt;UPDATE&lt;&lt;/fixed&gt;&gt; e &lt;&lt;fixed&gt;&gt;DELETE&lt;&lt;/fixed&gt;&gt;, o bloqueio depende se a instrução usa um índice exclusivo com una condição exclusiva de busca (tal como &lt;&lt;fixed&gt;&gt;WHERE id = 100&lt;&lt;/fixed&gt;&gt;), ou uma condição de busca do tipo gama (tal como &lt;&lt;fixed&gt;&gt;WHERE id &gt; 100&lt;&lt;/fixed&gt;&gt;). Para um índice exclusivo com uma condição exclusiva de busca, InnoDB bloqueia somente o registro índice encontrado, e não o vácuo anterior a ele. Para buscas tipo gama, InnoDB bloqueia a gama do índice escaneada, usando bloqueios gap ou bloqueios next-key (gap mais registro-índice) para bloquear inserções de outras sessões nos vácuos cobertos pela gama. Isto é necessário porque &#34;linhas fantasma&#34; devem ser bloqueadas para que a replicação do MYSQL e a recuperação funcionem.


**Nota:** No MariaDB 5.1, se o nível de isolamento &lt;&lt;fixed&gt;&gt;READ COMMITTED&lt;&lt;/fixed&gt;&gt; for usado ou a variável de sistema innodb_locks_unsafe_for_binlog estiver habilitada, não haverá gap locking do InnoDB com exceção da verificação de restrição de chave estrangeira  e a verificação da chave duplicada. Além disso, bloqueios de registro para linhas não correspondentes são liberados após o MySQL ter avaliado a condição &lt;&lt;fixed&gt;&gt;WHERE&lt;&lt;/fixed&gt;&gt;. A partir do MySQL 5.1, se você usar &lt;&lt;fixed&gt;&gt;READ COMMITTED&lt;&lt;/fixed&gt;&gt; ou habilita o innodb_locks_unsafe_for_binlog, você deve usar logs binários baseados em linhas.



=== REPEATABLE READ (Leitura Repetida)

Este é o nível de isolamento padrão para InnoDB. Para leituras consistentes, há uma diferença importante com respeito ao nível de isolamento &lt;&lt;fixed&gt;&gt;READ COMMITTED&lt;&lt;/fixed&gt;&gt;: Todas as leituras consistentes dentro da mesma transação lêem a cópia estabelecida pela primeira leitura. Esta convenção significa que se você emitir varias instruções &lt;&lt;fixed&gt;&gt;SELECT&lt;&lt;/fixed&gt;&gt; simples (sem bloqueio) dentro da mesma transação, estas instruções &lt;&lt;fixed&gt;&gt;SELECT&lt;&lt;/fixed&gt;&gt;  também são consistentes entre si. Veja https://dev.mysql.com/doc/refman/en/innodb-consistent-read.html.

Para leituras bloqueantes (SELECT with FOR UPDATE or LOCK IN SHARE MODE), instruções UPDATE e DELETE, o bloqueio depende se a instrução  usa um índice exclusivo com uma condição exclusiva de busca, ou uma condição de busca do tipo gama. Para um índice exclusivo com uma condição exclusiva de busca, InnoDB bloqueia só o registro índice encontrado, e não o vácuo anterior a ele. Para outras condições de busca, InnoDB bloqueia a gama do índice digitalizado, usando bloqueios gap ou bloqueios next-key (gap mais registro-índice) para bloquear inserções de outras sessões dentro dos vácuos cobertos pela gama.


== SERIALIZABLE == (Serializável)

Este nível é parecido com o REPEATABLE READ, mas InnoDB converte implicitamente todas as instruções simples SELECT para SELECT ... LOCK IN SHARE MODE se a auto-confirmação estiver desativada. Se a confirmação automática estiver habilitada, o SELECT será sua própria transação. Portanto, ele é conhecido por ser de somente leitura e pode ser serealizado se for realizado como uma leitura consistente (sem bloqueio) e não precisar do bloqueio de outras transações. (Isto significa que para forçar um SELECT simples a bloquear se outras transações têm alterado as linhas selecionadas, você deve desativar a confirmação automática.)</textarea>
    


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/services" title="Services">Services</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">About Us</a></h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/download" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2024 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.1587e3a666fc.js" charset="utf-8"></script>

</html>