<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>UNIQUE Constraints with MariaDB Enterprise Server - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.f7633538c846.css" rel="stylesheet" type="text/css" />

    

    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="UNIQUE Constraints with MariaDB Enterprise Server" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/en/unique-constraints-with-mariadb-enterprise-server/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="
Overview
MariaDB Enterprise Server supports UNIQUE constraints to ensure that a column&#39;s value is unique within a table:
Enterprise Server uses unique indexes to speed up que..." />

    <meta name="description" content="
Overview
MariaDB Enterprise Server supports UNIQUE constraints to ensure that a column&#39;s value is unique within a table:
Enterprise Server uses unique indexes to speed up que..." />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes products nodes_view jqui" id="nodes_view">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/unique-constraints-with-mariadb-enterprise-server/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2025 MariaDB. All rights reserved.</p>
    </div>
</div>
<div class="violator-wrap d-none" id="top_violator">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12">
                <div class="violator-outer">
                    <div class="violator-inner">
                        <div class="row">
                            <div class="col-xs-12 col-sm-9 col-lg-7 col-lg-offset-2" id="top_violator_content">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="content-link" target="_blank" rel="nofollow noreferrer">
                                    <span>The Ultimate Guide to High Availability with MariaDB</span>
                                </a>
                            </div>
                            <div class="col-xs-12 col-sm-3" id="top_violator_cta">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="btn btn-mariadb" target="_blank" rel="nofollow noreferrer">Download Now</a>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn btn-link close-btn">
                        <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" width="15px" height="15px"><path d="M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/unique-constraints-with-mariadb-enterprise-server/" rel="nofollow">Login</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/en/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/en/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/solutions" title="Solutions">Solutions</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="Company">Company</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/en/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/en/documentation/">MariaDB Server Documentation</a>
    

    
    » <a class="crumb" href="/kb/en/using-mariadb-server/">Using MariaDB Server</a>
    

    
    » <a class="crumb" href="/kb/en/sql-statements-structure/">SQL Statements &amp; Structure</a>
    

    
    » <a class="crumb" href="/kb/en/sql-statements/">SQL Statements</a>
    

    
    » <a class="crumb" href="/kb/en/data-manipulation/">Data Manipulation</a>
    

    
    » <a class="crumb" href="/kb/en/server-constraints/">Server Constraints</a>
    


    » <a class="node_link crumb" href="/kb/en/unique-constraints-with-mariadb-enterprise-server/">UNIQUE Constraints with MariaDB Enterprise Server</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/en/">Home</a></li>
                            
                                
                                    <li><a href="/kb/en/+questions/">Open Questions</a></li>
                                
                                <li><a href="/kb/en/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/en/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/en/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/en/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
<div>



<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-blue btn-sm" href="/kb/en/unique-constraints-with-mariadb-enterprise-server/+history" rel="nofollow">History</a>
        
        
        
        <a class="btn btn-block btn-blue btn-sm" href="/kb/en/unique-constraints-with-mariadb-enterprise-server/+source/">Source</a>
        
        <a class="btn btn-block btn-blue btn-sm flag" href="/kb/en/unique-constraints-with-mariadb-enterprise-server/+flag"
                data-flag-url="/kb/en/unique-constraints-with-mariadb-enterprise-server/+flag" rel="nofollow">
                Flag as Spam / Inappropriate</a>
        
        <a class="btn btn-block btn-blue btn-sm" href="/kb/en/unique-constraints-with-mariadb-enterprise-server/+translate/">
                Translate</a>
        

</div>
</div>





<div class="well well-small box node_info"><div>

    <dl>
        <dt>Created</dt>
        <dd>

<span class="datetime" title="2025-02-10 10:50">4 months ago</span></dd>

        <dt>Modified</dt>
        <dd>

<span class="datetime" title="2025-05-05 23:22">1 month, 1 week ago</span></dd>

        <dt>Type</dt>
        <dd>article</dd>

        <dt>Status</dt>
        <dd>active</dd>

        <dt>License</dt>
        <dd>
            
                <a href="/kb/en/unique-constraints-with-mariadb-enterprise-server/+license/">Copyright © 2025 MariaDB</a>
            
        </dd>

        
    </dl>

    
    <ul class="rss_feeds">
        <li><a href="/kb/en/unique-constraints-with-mariadb-enterprise-server/+history/feed/">
            History</a>
        </li>
        <li><a href="/kb/en/unique-constraints-with-mariadb-enterprise-server/+comments/feed/">
            Comments</a>
        </li>
    </ul>
    

</div>
</div>





    
    
    

<div class="well well-small box attachments"><div><div class="edit_link pull-right"><a href="/kb/en/unique-constraints-with-mariadb-enterprise-server/+edit/attachments/">Edit</a></div><h5>Attachments</h5></div><div>

        
            <div class="no_data">No attachments exist</div>
        
    
</div>
</div>

    



    
    






</div>


                    

































                </aside>
            
            
            
                
            
            
                
            
            <section id="content" class="limited_width col-md-8 clearfix">
                
                    <h1>UNIQUE Constraints with MariaDB Enterprise Server</h1>
                

                



                <div>
                    
    

    
    
    

    <div class="node creole">
        
        
        


    
    <div class="answer formatted">
        <div class="table_of_contents well well-small">
<h3>Contents</h3>
 <ol class="toc">

 <li class=""><a href="#overview" title="Overview">Overview</a></li>

 <li class=""><a href="#unique_checks-system-variable" title="unique_checks System Variable">unique_checks System Variable</a></li>

 <li class=""><a href="#creating-an-innodb-table-with-a-single-column-unique-index" title="Creating an InnoDB Table with a Single Column Unique Index">Creating an InnoDB Table with a Single Column Unique Index</a></li>

 <li class=""><a href="#creating-an-innodb-table-with-a-composite-unique-index" title="Creating an InnoDB Table with a Composite Unique Index">Creating an InnoDB Table with a Composite Unique Index</a></li>

 <li class=""><a href="#creating-an-innodb-table-with-a-unique-index-on-a-column-prefix" title="Creating an InnoDB Table with a Unique Index on a Column Prefix">Creating an InnoDB Table with a Unique Index on a Column Prefix</a></li>

 <li class=""><a href="#adding-a-unique-index-to-an-innodb-table" title="Adding a Unique Index to an InnoDB Table">Adding a Unique Index to an InnoDB Table</a></li>

 <li class=""><a href="#dropping-a-unique-index-from-an-innodb-table" title="Dropping a Unique Index from an InnoDB Table">Dropping a Unique Index from an InnoDB Table</a></li>

 <li class=""><a href="#rebuilding-a-unique-index-in-an-innodb-table" title="Rebuilding a Unique Index in an InnoDB Table">Rebuilding a Unique Index in an InnoDB Table</a></li>
</div>
<h1 class="anchored_heading" id="overview">Overview</h1>
<p>MariaDB Enterprise Server supports <code>UNIQUE</code> constraints to ensure that a column's value is unique within a table:</p>
<ul start="1"><li>Enterprise Server uses unique indexes to speed up query execution and enforce unique constraints
</li><li>Enterprise Server supports single column and composite (multi-column) unique indexes
</li><li>MariaDB Community Server can have up to 64 total indexes for a given table.
</li><li>MariaDB Enterprise Server can have up to 128 total indexes for a given table.
</li><li>InnoDB stores unique indexes in the same tablespace file as the clustered index and data.
</li><li>Unique indexes are B+ trees, which are very efficient for searching for exact values, performing range scans, and checking uniqueness.
</li><li>If no primary key is defined for a table, then InnoDB will use the table's first <code>NOT NULL</code> unique index as the table's primary key.
</li><li>If no primary key or <code>NOT NULL</code> unique index is defined for a table, then InnoDB will automatically create a primary key called <code>GEN_CLUST_INDEX</code>, using an internal <code>48-bit DB_ROW_ID</code> column as the key. Replication with such tables can be very slow, especially when <a href="/en/replication-and-binary-log-system-variables/#binlog_format">binlog_format</a> is <code>MIXED or ROW</code>.
</li></ul>
<h1 class="anchored_heading" id="unique_checks-system-variable">unique_checks System Variable</h1>
<p>MariaDB Enterprise Server provides the <a href="/en/server-system-variables/#unique_checks">unique_checks system variable</a>, which can be used to disable unique checks.</p>
<p>When unique checks are disabled, the InnoDB change buffer is used for inserts into unique indexes, and duplicate values will not be detected.</p>
<p>Disabling unique checks can speed up bulk data loads, but it is dangerous to do so.</p>
<h1 class="anchored_heading" id="creating-an-innodb-table-with-a-single-column-unique-index">Creating an InnoDB Table with a Single Column Unique Index</h1>
<p>Let's create an InnoDB table with a single column unique index after confirming that the default storage engine is InnoDB:</p>
<p>1. Connect to the server using MariaDB Client:</p>
<pre class="fixed">$ mariadb --user=root
</pre><p>2. Confirm that the default storage engine is InnoDB by checking the <a href="/en/server-system-variables/#default_storage_engine">default_storage_engine system variable</a> using the <a href="/en/show-variables/">SHOW SESSION VARIABLES</a> statement:</p>
<pre class="fixed">
SHOW SESSION VARIABLES
   LIKE 'default_storage_engine';
</pre><pre class="fixed">+------------------------+--------+
| Variable_name          | Value  |
+------------------------+--------+
| default_storage_engine | InnoDB |
+------------------------+--------+
</pre><p>3. If the database does not exist, then create the database for the table using the <a href="/en/create-database/">CREATE DATABASE</a> statement:</p>
<pre class="fixed">
CREATE DATABASE hq_sales;
</pre><p>4. Create the table using the <a href="/en/create-table/">CREATE TABLE</a> statement and specify the unique index with the <code>UNIQUE INDEX()</code> clause:</p>
<pre class="fixed">
CREATE TABLE hq_sales.customers (
   customer_id BIGINT AUTO_INCREMENT NOT NULL,
   customer_name VARCHAR(500),
   customer_email VARCHAR(200),
   PRIMARY KEY(customer_id),
   UNIQUE INDEX(customer_email)
);
</pre><p>5. For a single column unique index, the unique index can also be specified with the <code>UNIQUE</code> column option:</p>
<pre class="fixed">CREATE TABLE hq_sales.customers (
   customer_id BIGINT AUTO_INCREMENT NOT NULL,
   customer_name VARCHAR(500),
   customer_email VARCHAR(200) UNIQUE,
   PRIMARY KEY(customer_id)
);
</pre><h1 class="anchored_heading" id="creating-an-innodb-table-with-a-composite-unique-index">Creating an InnoDB Table with a Composite Unique Index</h1>
<p>Let's create an InnoDB table with a composite (multi-column) unique index after confirming that the default storage engine is InnoDB:</p>
<p>1. Connect to the server using MariaDB Client:</p>
<pre class="fixed">
$ mariadb --user=root
</pre><p>2. Confirm that the default storage engine is InnoDB by checking the <a href="/en/server-system-variables/#default_storage_engine">default_storage_engine system variable</a> using the <a href="/en/show-variables/">SHOW SESSION VARIABLES</a> statement:</p>
<pre class="fixed">
SHOW SESSION VARIABLES
   LIKE 'default_storage_engine';
</pre><pre class="fixed">+------------------------+--------+
| Variable_name          | Value  |
+------------------------+--------+
| default_storage_engine | InnoDB |
+------------------------+--------+
</pre><p>3. If the database does not exist, then create the database for the table using the <a href="/en/create-database/">CREATE DATABASE</a> statement:</p>
<pre class="fixed">
CREATE DATABASE hq_sales;
</pre><p>4. Create the table using the <a href="/en/create-table/">CREATE TABLE</a> statement and specify the unique index with the UNIQUE INDEX() clause:</p>
<pre class="fixed">CREATE TABLE hq_sales.invoices (
   invoice_id BIGINT UNSIGNED NOT NULL,
   branch_id INT NOT NULL,
   customer_id INT,
   invoice_date DATETIME(6),
   invoice_total DECIMAL(13, 2),
   payment_method ENUM('NONE', 'CASH', 'WIRE_TRANSFER', 'CREDIT_CARD', 'GIFT_CARD'),
   PRIMARY KEY(invoice_id),
   UNIQUE INDEX(invoice_date, customer_id, branch_id)
);
</pre><h1 class="anchored_heading" id="creating-an-innodb-table-with-a-unique-index-on-a-column-prefix">Creating an InnoDB Table with a Unique Index on a Column Prefix</h1>
<p>Let's create an InnoDB table with a unique index on a single column prefix after confirming that the default storage engine is InnoDB:</p>
<p>1. Connect to the server using MariaDB Client:</p>
<pre class="fixed">
$ mariadb --user=root
</pre><p>2. Confirm that the default storage engine is InnoDB by checking the <a href="/en/server-system-variables/#default_storage_engine">default_storage_engine system variable</a> using the <a href="/en/show-variables/">SHOW SESSION VARIABLES</a> statement:</p>
<pre class="fixed">SHOW SESSION VARIABLES
   LIKE 'default_storage_engine';
</pre><pre class="fixed">+------------------------+--------+
| Variable_name          | Value  |
+------------------------+--------+
| default_storage_engine | InnoDB |
+------------------------+--------+

</pre><p>3. If the database does not exist, then create the database for the table using the <a href="/en/create-database/">CREATE DATABASE</a> statement:</p>
<pre class="fixed">CREATE DATABASE hq_sales;
</pre><p>4. Create the table using the <a href="/en/create-table/">CREATE TABLE</a> statement and specify the unique index with the <code>UNIQUE INDEX()</code> clause:</p>
<pre class="fixed">
CREATE TABLE hq_sales.products (
   product_id BIGINT AUTO_INCREMENT NOT NULL,
   product_name VARCHAR(500),
   product_brand VARCHAR(500),
   product_description TEXT,
   PRIMARY KEY(product_id),
   UNIQUE INDEX(product_description(1000))
);
</pre><p>The unique index is specified with the <code>product_description(1000)</code> prefix, so only the first 1000 characters of the <code>product_description</code> column for each row will be indexed and checked for uniqueness.</p>
<h1 class="anchored_heading" id="adding-a-unique-index-to-an-innodb-table">Adding a Unique Index to an InnoDB Table</h1>
<p>Let's create an InnoDB table without a unique index, and then add a unique index to it:</p>
<p>1. Connect to the server using MariaDB Client:</p>
<pre class="fixed">$ mariadb --user=root
</pre><p>2. Confirm that the default storage engine is InnoDB by checking the <a href="/en/server-system-variables/#default_storage_engine">default_storage_engine system variable</a> using the <a href="/en/show-variables/">SHOW SESSION VARIABLES</a> statement:</p>
<pre class="fixed">SHOW SESSION VARIABLES
   LIKE 'default_storage_engine';
</pre><pre class="fixed">+------------------------+--------+
| Variable_name          | Value  |
+------------------------+--------+
| default_storage_engine | InnoDB |
+------------------------+--------+
</pre><p>3. If the database does not exist, then create the database for the table using the <a href="/en/create-database/">CREATE DATABASE</a> statement:</p>
<pre class="fixed">
CREATE DATABASE hq_sales;
</pre><p>4. Create the table without a primary key using the <a href="/en/create-table/">CREATE TABLE</a> statement:</p>
<pre class="fixed">
CREATE TABLE hq_sales.customers (
   customer_id BIGINT AUTO_INCREMENT NOT NULL,
   customer_name VARCHAR(500),
   customer_email VARCHAR(200),
   PRIMARY KEY(customer_id)
);
</pre><p>5. Alter the table using the <a href="/en/alter-table/">ALTER TABLE</a> statement and specify the new unique index with the <code>ADD UNIQUE INDEX()</code> clause:</p>
<pre class="fixed">
ALTER TABLE hq_sales.customers ADD UNIQUE INDEX (customer_email);
</pre><h1 class="anchored_heading" id="dropping-a-unique-index-from-an-innodb-table">Dropping a Unique Index from an InnoDB Table</h1>
<p>Let's drop the unique index from the table created in the <a href="/en/unique-constraints-with-mariadb-enterprise-server/#creating-an-innodb-table-with-a-single-column-unique-index">Creating an InnoDB Table with a Single Column Unique Index</a> section:</p>
<p>1. Obtain the name of the index by joining the <a href="/en/information-schema-innodb_sys_indexes-table/">information_schema.INNODB_SYS_INDEXES</a>, <a href="/en/information-schema-innodb_sys_tables-table/">information_schema.INNODB_SYS_TABLES</a>, and <a href="https://mariadb.com/kb/en/information-schema-innodb_sys_fields-table/">information_schema.INNODB_SYS_FIELDS</a> tables:</p>
<pre class="fixed">SELECT isi.NAME AS index_name, isf.NAME AS index_column
FROM information_schema.INNODB_SYS_INDEXES isi
JOIN information_schema.INNODB_SYS_TABLES ist
ON isi.TABLE_ID = ist.TABLE_ID
JOIN information_schema.INNODB_SYS_FIELDS isf
ON isi.INDEX_ID = isf.INDEX_ID
WHERE ist.NAME = 'hq_sales/customers'
ORDER BY isf.INDEX_ID, isf.POS;
</pre><pre class="fixed">+----------------+----------------+
| index_name     | index_column   |
+----------------+----------------+
| PRIMARY        | customer_id    |
| customer_email | customer_email |
+----------------+----------------+

</pre><p>2. Alter the table using the <a href="/en/alter-table/">ALTER TABLE</a> statement and specify the <code>DROP INDEX</code> clause:</p>
<pre class="fixed">
ALTER TABLE hq_sales.customers DROP INDEX customer_email;
</pre><h1 class="anchored_heading" id="rebuilding-a-unique-index-in-an-innodb-table">Rebuilding a Unique Index in an InnoDB Table</h1>
<p>Let's rebuild the unique index in the table created in the <a href="/en/unique-constraints-with-mariadb-enterprise-server/#creating-an-innodb-table-with-a-single-column-unique-index">Creating an InnoDB Table with a Single Column Unique Index</a> section:</p>
<p>1. Obtain the name of the index by joining the <a href="/en/information-schema-innodb_sys_indexes-table/">information_schema.INNODB_SYS_INDEXES</a>, <a href="/en/information-schema-innodb_sys_tables-table/">information_schema.INNODB_SYS_TABLES</a>, and <a href="https://mariadb.com/kb/en/information-schema-innodb_sys_fields-table/">information_schema.INNODB_SYS_FIELDS</a> tables:</p>
<pre class="fixed">SELECT isi.NAME AS index_name, isf.NAME AS index_column
FROM information_schema.INNODB_SYS_INDEXES isi
JOIN information_schema.INNODB_SYS_TABLES ist
ON isi.TABLE_ID = ist.TABLE_ID
JOIN information_schema.INNODB_SYS_FIELDS isf
ON isi.INDEX_ID = isf.INDEX_ID
WHERE ist.NAME = 'hq_sales/customers'
ORDER BY isf.INDEX_ID, isf.POS;
</pre><pre class="fixed">+----------------+----------------+
| index_name     | index_column   |
+----------------+----------------+
| PRIMARY        | customer_id    |
| customer_email | customer_email |
+----------------+----------------+
</pre><p>2. Alter the table using the <a href="/en/alter-table/">ALTER TABLE</a> statement and specify the <code>DROP INDEX</code> clause:</p>
<pre class="fixed">
ALTER TABLE hq_sales.customers DROP INDEX customer_email;
</pre><p>3. Alter the table using the <a href="/en/alter-table/">ALTER TABLE</a> statement and specify the unique index with the <code>ADD UNIQUE INDEX()</code> clause:</p>
<pre class="fixed">
ALTER TABLE hq_sales.customers ADD UNIQUE INDEX (customer_email);
</pre>
    </div>


        
            <div id="subscribe" class="well well-small hide hidden-print"
                 data-subscribe-url="/kb/en/unique-constraints-with-mariadb-enterprise-server/+subscriptions/add"
                 data-unsubscribe-url="/kb/en/unique-constraints-with-mariadb-enterprise-server/+subscriptions/remove">
            </div>
        

        
        
    
        <div class="simple_section_nav">
            <ul class="nav nav-pills">
                
                    <li><a href="/kb/en/primary-key-constraints-with-mariadb-enterprise-server/">
                        ← PRIMARY KEY Constraints with MariaDB Enterprise Server
                    </a>
                    </li>
                
                
                    <li><a href="/kb/en/server-constraints/">
                        ↑ Server Constraints ↑
                    </a>
                    </li>
                
                
            </ul>
        </div>
    

        

        
        <h2>Comments</h2>
        
    
    <div id="comments" data-node-id="15666" data-comments-url="/kb/en/unique-constraints-with-mariadb-enterprise-server/+comments"
         data-reply-url="/kb/en/unique-constraints-with-mariadb-enterprise-server/comments/post/">
        Comments loading...
    </div>

        

    </div>


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
                <div id="right_bar" class="col-md-2">
                    
    
        
        <ul class="section_navigation well well-small hidden-xs hidden-sm">
            
                <li class="parent"><a href="/kb/en/server-constraints/">
                    ↑ Server Constraints ↑
                </a>
                </li>
            
            
                
                    <li>
                        <a href="/kb/en/auto_increment-constraints/">
                            
                            AUTO_INCREMENT Constraints
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/foreign-key-constraints-with-mariadb-enterprise-server/">
                            
                            FOREIGN KEY Constraints with MariaDB Enterprise Server
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/not-null-constraints-with-mariadb-enterprise-server/">
                            
                            NOT NULL Constraints with MariaDB Enterprise Server
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/primary-key-constraints-with-mariadb-enterprise-server/">
                            
                            PRIMARY KEY Constraints with MariaDB Enterprise Server
                        </a>
                    </li>
                
            
                
                    <li class="active">
                        <span>UNIQUE Constraints with MariaDB Enterprise Server</span>
                        
                    </li>
                
            
        </ul>
    
    

                </div>
            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/solutions" title="Solutions">Solutions</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">Company</a></h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        
                        
                        <li>
                            <h5><a href="https://mariadb.com/downloads" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2025 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.1587e3a666fc.js" charset="utf-8"></script>

</html>