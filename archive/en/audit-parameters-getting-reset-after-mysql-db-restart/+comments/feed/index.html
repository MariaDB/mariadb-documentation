<?xml version="1.0" encoding="utf-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>MariaDB Knowledge Base Comments for: Audit parameters getting reset after MySQL DB restart</title><link>https://mariadb.com/kb/en/audit-parameters-getting-reset-after-mysql-db-restart/+comments/feed/</link><description></description><atom:link href="https://mariadb.com/kb/en/audit-parameters-getting-reset-after-mysql-db-restart/+comments/feed/" rel="self"></atom:link><language>en-us</language><lastBuildDate>Tue, 23 Jan 2024 01:47:40 +0000</lastBuildDate><item><title>Re: Audit parameters getting reset after MySQL DB restart</title><link>https://mariadb.com/kb/en/audit-parameters-getting-reset-after-mysql-db-restart/+comments/2056</link><description>&lt;p&gt;Assuming you use our RPM packages, then you can do your automation like this:&lt;/p&gt;
&lt;ol start="1"&gt;&lt;li&gt;start the server
&lt;/li&gt;&lt;li&gt;create &lt;code&gt;/etc/my.cnf.d/server_audit.cnf&lt;/code&gt; with your server_audit parameters
&lt;/li&gt;&lt;li&gt;install the audit plugin dynamically â€” it will read parameters from the file all right, you won't need to configure them run-time.
&lt;/li&gt;&lt;/ol&gt;
&lt;p&gt;If you don't use our RPM packages, you can create &lt;code&gt;/etc/my.cnf.d&lt;/code&gt; directory (or any other path you want) manually and add &lt;code&gt;!includedir /etc/my.cnf.d&lt;/code&gt; to your &lt;code&gt;/etc/my.cnf&lt;/code&gt;, then proceed as above.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Sergei Golubchik</dc:creator><guid>https://mariadb.com/kb/en/audit-parameters-getting-reset-after-mysql-db-restart/+comments/2056</guid></item><item><title>Re: Audit parameters getting reset after MySQL DB restart</title><link>https://mariadb.com/kb/en/audit-parameters-getting-reset-after-mysql-db-restart/+comments/2049</link><description>&lt;p&gt;Thanks. I actually figured it out. Here is the problem. If the server_audit_file_path variable points to a non-existent directory, then the server_audit_logging will not get enabled even if you set it in my.cnf. I was using Unix variables for the server_audit_file_path which apparently wer not getting expanded. Like this&lt;/p&gt;
&lt;p&gt;server_audit_file_path=$DIRECTORY_AUD/audit.log&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Sanjay Kumar Raghavendra</dc:creator><guid>https://mariadb.com/kb/en/audit-parameters-getting-reset-after-mysql-db-restart/+comments/2049</guid></item><item><title>Re: Audit parameters getting reset after MySQL DB restart</title><link>https://mariadb.com/kb/en/audit-parameters-getting-reset-after-mysql-db-restart/+comments/2043</link><description>&lt;p&gt;The variables will not persist after a restart if they are only set dynamically, and not placed in a configuration file.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Ian Gilfillan</dc:creator><guid>https://mariadb.com/kb/en/audit-parameters-getting-reset-after-mysql-db-restart/+comments/2043</guid></item><item><title>Re: Audit parameters getting reset after MySQL DB restart</title><link>https://mariadb.com/kb/en/audit-parameters-getting-reset-after-mysql-db-restart/+comments/2041</link><description>&lt;p&gt;Further to add, I have added these parameters to my.cnf just below the [mysqld] section.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Sanjay Kumar Raghavendra</dc:creator><guid>https://mariadb.com/kb/en/audit-parameters-getting-reset-after-mysql-db-restart/+comments/2041</guid></item><item><title>Re: Audit parameters getting reset after MySQL DB restart</title><link>https://mariadb.com/kb/en/audit-parameters-getting-reset-after-mysql-db-restart/+comments/2039</link><description>&lt;p&gt;As part of this automation, I do install the Audit Plugin dynamically and then enable few server_audit parameters.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Sanjay Kumar Raghavendra</dc:creator><guid>https://mariadb.com/kb/en/audit-parameters-getting-reset-after-mysql-db-restart/+comments/2039</guid></item></channel></rss>