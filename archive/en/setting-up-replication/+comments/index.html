



<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>
Comments - Setting Up Replication
 - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.f7633538c846.css" rel="stylesheet" type="text/css" />

    

    
        <meta name="robots" content="noindex, nofollow" />
    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="
Comments - Setting Up Replication
" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/en/setting-up-replication/+comments" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="" />

    <meta name="description" content="" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes node_comments jqui" id="node_comments">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/setting-up-replication/+comments"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2025 MariaDB. All rights reserved.</p>
    </div>
</div>
<div class="violator-wrap d-none" id="top_violator">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12">
                <div class="violator-outer">
                    <div class="violator-inner">
                        <div class="row">
                            <div class="col-xs-12 col-sm-9 col-lg-7 col-lg-offset-2" id="top_violator_content">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="content-link" target="_blank" rel="nofollow noreferrer">
                                    <span>The Ultimate Guide to High Availability with MariaDB</span>
                                </a>
                            </div>
                            <div class="col-xs-12 col-sm-3" id="top_violator_cta">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="btn btn-mariadb" target="_blank" rel="nofollow noreferrer">Download Now</a>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn btn-link close-btn">
                        <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" width="15px" height="15px"><path d="M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/setting-up-replication/+comments" rel="nofollow">Login</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/en/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/en/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/solutions" title="Solutions">Solutions</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="Company">Company</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/en/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/en/documentation/">MariaDB Server Documentation</a>
    

    
    » <a class="crumb" href="/kb/en/replication-cluster-multi-master/">High Availability &amp; Performance Tuning</a>
    

    
    » <a class="crumb" href="/kb/en/standard-replication/">MariaDB Replication</a>
    


    » <a class="node_link crumb" href="/kb/en/setting-up-replication/">Setting Up Replication</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
            
            
            
            <section id="content" class="limited_width col-md-12 clearfix">
                
                    <h1>
Comments - Setting Up Replication
</h1>
                

                



                <div>
                    
<div id="comments" data-node-id="3369" data-comments-url="/kb/en/setting-up-replication/+comments"
        data-reply-url="/kb/en/setting-up-replication/comments/post/">
<div class="comment_top_menu hidden-print">&nbsp;
            <div class="pull-right">
                <label>
                    Include Archived
                    <input id="include_archived" type="checkbox" name="include_archived" value="1"
                           />
                </label>
            </div>
        </div>
        <a name="comment_6567"></a>
        <div class="comment approved" style="margin-left: 0px">
            <div class="info">
                

<span class="datetime" title="2024-01-16 19:14">1 year, 4 months ago</span>
                
<span class="user" id="user-9259">
<a href="/kb/user/id/9259" title="Matha Goram">Matha Goram</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_6567">Re: Setting Up Replication</a>
                
            </div><div class="comment_text">
                <p>I'm running primary as 10.11.3-MariaDB-1+rpi1-log Raspbian 12 and secondary as 10.11.4-MariaDB-1deb12u1 Debian 12. Obviously version mismatch is an issue but I have a more basic issue.</p>
<p>The file /.my.cnf sets server_id=2 in the secondary. It seems that this value is picked correctly because  SHOW GLOBAL VARIABLES reports server_id=2.</p>
<p>Yet, I get the following message in SHOW SLAVE STATUS\G
Last_IO_Error: Fatal error: The slave I/O thread stops because master and slave have equal MariaDB server ids; these ids must be different for replication to work (or the --replicate-same-server-id option must be used on slave but this does not always make sense; please check the manual before using it).</p>
<p>The primary is implicitly using server_id=1. In my limited knowledge there should be no conflict but there (apart from knowing which .cnf file is being used). Therefore, should not be any mismatch.</p>
<p>I am assuming that the primary is working fine (server_id=1) but what/where changes are needed in the secondary server for replication to start? Thanks.</p>
<p>Regards.</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/setting-up-replication/+comments/6567/flag"
                       data-flag-url="/kb/en/setting-up-replication/+comments/6567/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        
    

    
        <a name="comment_6011"></a>
        <div class="comment approved" style="margin-left: 0px">
            <div class="info">
                

<span class="datetime" title="2022-11-15 21:23">2 years, 6 months ago</span>
                
<span class="user" id="user-10162">
<a href="/kb/user/id/10162" title="Craig Robertson">Craig Robertson</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_6011">Re: Setting Up Replication</a>
                
            </div><div class="comment_text">
                <p>I have used these instructions to setup 10 or so master slave replications successfully. I now want to do the same where the master is on-premise, and the slave is on an AWS EC2 RDP.  The on-premise network is connected via a site-to-site VPN.  Communications have been tested sucessfuly.  Can I use the same instructions above?  When I look for the my.cnf file on the AWS RDP slave I cannot find it?  Also when I try to use the change master to command it says I have to have "super" rights.  When I try to enable super rights AWS will not allow me.</p>
<p>Is there a different set of instructions I should use for replicating with AWS?</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/setting-up-replication/+comments/6011/flag"
                       data-flag-url="/kb/en/setting-up-replication/+comments/6011/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        
    

    
        <a name="comment_5720"></a>
        <div class="comment approved" style="margin-left: 0px">
            <div class="info">
                

<span class="datetime" title="2022-04-29 10:38">3 years ago</span>
                
<span class="user" id="user-12258">
<a href="/kb/user/id/12258" title="David Bullado">David Bullado</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_5720">Re: Setting Up Replication</a>
                
            </div><div class="comment_text">
                <p>This article is mentioning "server_id", but it seams that the real property name is  "server-id".</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/setting-up-replication/+comments/5720/flag"
                       data-flag-url="/kb/en/setting-up-replication/+comments/5720/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        <a name="comment_5747"></a>
        <div class="comment approved" style="margin-left: 10px">
            <div class="info">
                

<span class="datetime" title="2022-05-24 15:12">3 years ago</span>
                
<span class="user" id="user-12338">
<a href="/kb/user/id/12338" title="Iván Stepaniuk">Iván Stepaniuk</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_5747">Re: Setting Up Replication</a>
                
            </div><div class="comment_text">
                <p>No. In the configuration file, the parameter name is "server_id".</p>
<p>The hyphen is used in the command-line arguments.</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/setting-up-replication/+comments/5747/flag"
                       data-flag-url="/kb/en/setting-up-replication/+comments/5747/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        
    

    

    
        <a name="comment_4406"></a>
        <div class="comment approved" style="margin-left: 0px">
            <div class="info">
                

<span class="datetime" title="2020-02-26 13:13">5 years, 2 months ago</span>
                
<span class="user" id="user-7323">
<a href="/kb/user/id/7323" title="Ed Greenberg">Ed Greenberg</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_4406">Re: Setting Up Replication</a>
                
            </div><div class="comment_text">
                <p><em>Now you need prevent any changes to the data while you view the binary log position. You'll use this to tell the slave at exactly which point it should start replicating from.</em></p>
<p><em>On the master, flush and lock all tables by running FLUSH TABLES WITH READ LOCK. Keep this session running - exiting it will release the lock. Get the current position in the binary log by running SHOW MASTER STATUS:</em></p>
<p>Don't forget to check and possibly set two variables: </p>
<pre class="fixed">show variables like 'wait_timeout';
show variables like 'interactive_timeout';
set variables interactive_timeout=XXX;
set variables work_timeout=XXX;
</pre><p>The defaults for these are very large, at 28,800 seconds, but many installations set them smaller.  Mine were 300 seconds, so my locks timed out and I had to do the database dump again.</p>
<p>I know that my dump takes 42 minutes, so I set them for 3600 seconds, or one hour. Your mileage may vary :)</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/setting-up-replication/+comments/4406/flag"
                       data-flag-url="/kb/en/setting-up-replication/+comments/4406/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        
    

    
        <a name="comment_4255"></a>
        <div class="comment approved" style="margin-left: 0px">
            <div class="info">
                

<span class="datetime" title="2019-11-06 22:52">5 years, 6 months ago</span>
                
<span class="user" id="user-7760">
<a href="/kb/user/id/7760" title="Steve Turner">Steve Turner</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_4255">Re: Setting Up Replication</a>
                
            </div><div class="comment_text">
                <p>I am a total database replication newbie with a dumb question:  If I'm setting up a slave to which a database will be replicated from the master, why do I first have to backup the database from the master and restore it to the slave?  Isn't that the very definition of "replication"?  Why doesn't the replication process handle the copying?</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/setting-up-replication/+comments/4255/flag"
                       data-flag-url="/kb/en/setting-up-replication/+comments/4255/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        <a name="comment_4391"></a>
        <div class="comment approved" style="margin-left: 10px">
            <div class="info">
                

<span class="datetime" title="2020-02-20 22:55">5 years, 3 months ago</span>
                
<span class="user" id="user-5532">
<a href="/kb/user/id/5532" title="Juan Vera">Juan Vera</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_4391">Re: Setting Up Replication</a>
                
            </div><div class="comment_text">
                <p>You actually can use a "blank" slave and set it up to replicate every event that has happened on the master since the was blank too. Although technically possible, this would require that you 1) can identify the exact transaction on the master that was equivalent to the clean slave's current state, 2) have saved all the binary logs on the master from that blank state up to the present, and 3) have the time to replay the master's transaction history on the slave.</p>
<p>So your intuition is correct. It's just that practically speaking, letting the slave replay the master's transaction history from installation forward is a lot more difficult and time-consuming than starting from a recent backup.</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/setting-up-replication/+comments/4391/flag"
                       data-flag-url="/kb/en/setting-up-replication/+comments/4391/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        
    

    

    
        <a name="comment_3650"></a>
        <div class="comment approved" style="margin-left: 0px">
            <div class="info">
                

<span class="datetime" title="2018-11-21 06:28">6 years, 6 months ago</span>
                
<span class="user" id="user-6654">
<a href="/kb/user/id/6654" title="Ankur Goyal">Ankur Goyal</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_3650">Re: Setting Up Replication</a>
                
            </div><div class="comment_text">
                <p>I have added a slave of version <a href="/kb/en/mariadb-10214-release-notes/">mariadb 10.2.14</a> to a master of version mysql 5.5.20.
i have table with character set latin1 on master and same table with utf4mb4 on slave.</p>
<p>As per my knowledge replication between different character set is not allowed. But i am able to replicate. I got below conversion error.
Last_Errno: 1677
Last_Error: Column 0 of table 'xx.xx' cannot be converted from type 'varchar(100)' to type 'varchar(100)'</p>
<p> but when i used slave_type_conversions=All_NON_lossy on slave, everything is working fine. Using mixed binlog format .</p>
<p>Will you please help how replication is possible with different char set and how my error got resolve when setting 'slave_type_conversions' is only effective in case of row based logging?</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/setting-up-replication/+comments/3650/flag"
                       data-flag-url="/kb/en/setting-up-replication/+comments/3650/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        <a name="comment_3651"></a>
        <div class="comment approved" style="margin-left: 10px">
            <div class="info">
                

<span class="datetime" title="2018-11-21 17:59">6 years, 6 months ago</span>
                
<span class="user" id="user-1234">
<a href="/kb/user/id/1234" title="Vasilis Lourdas">Vasilis Lourdas</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_3651">Re: Setting Up Replication</a>
                
            </div><div class="comment_text">
                <p>I guess the safest way to go is to upgrade your master server to 10.2. I wonder if replication between 5.5 and 10.2 actually works, you say it does, but you face a problem that could arise from the version difference.</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/setting-up-replication/+comments/3651/flag"
                       data-flag-url="/kb/en/setting-up-replication/+comments/3651/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        <a name="comment_3656"></a>
        <div class="comment approved" style="margin-left: 20px">
            <div class="info">
                

<span class="datetime" title="2018-11-24 08:17">6 years, 6 months ago</span>
                
<span class="user" id="user-6654">
<a href="/kb/user/id/6654" title="Ankur Goyal">Ankur Goyal</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_3656">Re: Setting Up Replication</a>
                
            </div><div class="comment_text">
                <p>Thanks for the response. We are planning to upgrade same as you suggested, 
But i am still wondering how option "slave_type_conversions=All_NON_lossy" worked, when i am using mixed binary logging. Replication broken in case of truncate table which generated a statement type binary log.Please help in understanding the same.</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/setting-up-replication/+comments/3656/flag"
                       data-flag-url="/kb/en/setting-up-replication/+comments/3656/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        
    

    

    

    
        <a name="comment_2788"></a>
        <div class="comment approved" style="margin-left: 0px">
            <div class="info">
                

<span class="datetime" title="2017-03-14 10:27">8 years, 2 months ago</span>
                
<span class="user" id="user-5065">
<a href="/kb/user/id/5065" title="Silviu Dan Tanasie">Silviu Dan Tanasie</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_2788">Slave won&#39;t connect, but will connect from console</a>
                
            </div><div class="comment_text">
                <p>After setting up a Galera cluster and realising is not exactly what I needed I decided to go for a master-slave setup. I set wserp_on=OFF and went through this guide.</p>
<p>As far as I know I did everything right but for some reason my slave gets Permission denied when connecting to the master.
Thing is, if I connect manually from the slave to the master like:
mysql -u master -p --host ip --port port 
then it connects without a problem.
The user master is set with replication privileges.
I am using <a href="/kb/en/mariadb-10121-release-notes/">MariaDB 10.1.21</a> on Centos 7.</p>
<p>Maybe it's a bug ?</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/setting-up-replication/+comments/2788/flag"
                       data-flag-url="/kb/en/setting-up-replication/+comments/2788/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        <a name="comment_2794"></a>
        <div class="comment approved" style="margin-left: 10px">
            <div class="info">
                

<span class="datetime" title="2017-03-14 21:54">8 years, 2 months ago</span>
                
<span class="user" id="user-5065">
<a href="/kb/user/id/5065" title="Silviu Dan Tanasie">Silviu Dan Tanasie</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_2794">Re: Slave won&#39;t connect, but will connect from console</a>
                
            </div><div class="comment_text">
                <p>Turns out semanage prevented the client machine from connecting remotely.</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/setting-up-replication/+comments/2794/flag"
                       data-flag-url="/kb/en/setting-up-replication/+comments/2794/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        
    

    

    
        <a name="comment_2627"></a>
        <div class="comment approved" style="margin-left: 0px">
            <div class="info">
                

<span class="datetime" title="2016-11-28 00:51">8 years, 5 months ago</span>
                
<span class="user" id="user-2165">
<a href="/kb/user/id/2165" title="Peter McLarty">Peter McLarty</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_2627">Setting Up Replication - Skip slave start </a>
                
            </div><div class="comment_text">
                <p>Firstly I notice neither here or in the Replication and Binary Log Server System Variables page there is mention of skip_slave_start. It is not in Server System Variables either. Could the documentation be amended and include some information on either the setting up page or elsewhere why to use or not use it in your server.cnf</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/setting-up-replication/+comments/2627/flag"
                       data-flag-url="/kb/en/setting-up-replication/+comments/2627/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        <a name="comment_2629"></a>
        <div class="comment approved" style="margin-left: 10px">
            <div class="info">
                

<span class="datetime" title="2016-11-28 08:17">8 years, 5 months ago</span>
                
<span class="user" id="user-1368">
<a href="/kb/user/id/1368" title="Ian Gilfillan">Ian Gilfillan</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_2629">Re: Setting Up Replication - Skip slave start </a>
                
            </div><div class="comment_text">
                <p>It's an option rather than a variable, so listed at <a href="/kb/en/mysqld-options/#-skip-slave-start">mysqld Options</a> as well as <a href="/kb/en/full-list-of-mariadb-options-system-and-status-variables/">Full List of MariaDB Options, System and Status Variables</a>. It should be mentioned in the replication text though, so thanks for pointing that out, will incorporate it.</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/setting-up-replication/+comments/2629/flag"
                       data-flag-url="/kb/en/setting-up-replication/+comments/2629/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        
    

    

    
        <a name="comment_2314"></a>
        <div class="comment approved" style="margin-left: 0px">
            <div class="info">
                

<span class="datetime" title="2016-06-23 13:16">8 years, 11 months ago</span>
                
<span class="user" id="user-4275">
<a href="/kb/user/id/4275" title="Walter Heeroma">Walter Heeroma</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_2314">Slave identification changes between computer name and IP address</a>
                
            </div><div class="comment_text">
                <p>When using replication in MariaDB, slaves identify themselves at the master, and this identification is checked against valid users with replication permissions in the master database.</p>
<p>In my test situation this identification frequently fails. By checking the column Last_IO_Error in the 'SHOW ALL SLAVES STATUS' output I learned that the slave switched its identification between full computer name (computer name plus domain name) and IP address. Though these switches were not very frequent (maybe once per hour), they seemed to happen completely at random. As the user was created on the master with the full computer name as hostname, this resulted in a failure whenever the slave introduced itself by its IP address.</p>
<p>This problem might be easily circumvented by creating a user with a wildcard, or an IP mask along the pattern xxx.xxx.%.% for a hostname. But in the context where I am working, this is not an acceptable solution.</p>
<p>So my question is: what is the cause of this erratic behaviour, and is there a way to force the slave to use computername plus domain as its identification?</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/setting-up-replication/+comments/2314/flag"
                       data-flag-url="/kb/en/setting-up-replication/+comments/2314/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        <a name="comment_2326"></a>
        <div class="comment approved" style="margin-left: 10px">
            <div class="info">
                

<span class="datetime" title="2016-06-28 08:00">8 years, 11 months ago</span>
                
<span class="user" id="user-4289">
<a href="/kb/user/id/4289" title="Qiu cb">Qiu cb</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_2326">Re: Slave identification changes between computer name and IP address</a>
                
            </div><div class="comment_text">
                <p>you may try add skip-name-resolve to your my.cnf, or start mysqld with the --skip-name-resolve option.
this option would make mysql do not resolve host names when checking client connections (only use ip address).</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/setting-up-replication/+comments/2326/flag"
                       data-flag-url="/kb/en/setting-up-replication/+comments/2326/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        <a name="comment_2327"></a>
        <div class="comment approved" style="margin-left: 20px">
            <div class="info">
                

<span class="datetime" title="2016-06-28 08:48">8 years, 11 months ago</span>
                
<span class="user" id="user-4275">
<a href="/kb/user/id/4275" title="Walter Heeroma">Walter Heeroma</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_2327">Re: Slave identification changes between computer name and IP address</a>
                
            </div><div class="comment_text">
                <p>But I want it the other way round! I have to use the full computer name for identification, IP-addresses are not allowed (and not practical as they may change). So skip-name-resolve would not help me.</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/setting-up-replication/+comments/2327/flag"
                       data-flag-url="/kb/en/setting-up-replication/+comments/2327/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        
    

    

    

    
        <a name="comment_1817"></a>
        <div class="comment approved" style="margin-left: 0px">
            <div class="info">
                

<span class="datetime" title="2015-11-23 13:21">9 years, 6 months ago</span>
                
<span class="user" id="user-3155">
<a href="/kb/user/id/3155" title="Haravikk Kh&#39;arr">Haravikk Kh&#39;arr</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_1817">Re: Setting Up Replication</a>
                
            </div><div class="comment_text">
                <p>Is it not simpler to setup replication using mysqldump with the --gtid and --master-data options? It seems to me that this would be much easier (and safer) for admins new to or experimenting with replication.</p>
<p>As a relative newbie to this myself I don't want to change the article myself, but it seems like a lot of this is just boiler-plate that mysqldump does for you while simultaneously generating a file that can be used to setup a slave in a single step.</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/setting-up-replication/+comments/1817/flag"
                       data-flag-url="/kb/en/setting-up-replication/+comments/1817/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        
    

    
        <a name="comment_1483"></a>
        <div class="comment approved" style="margin-left: 0px">
            <div class="info">
                

<span class="datetime" title="2015-02-26 13:35">10 years, 2 months ago</span>
                
<span class="user" id="user-285">
<a href="/kb/user/id/285" title="Oleksandr Byelkin">Oleksandr Byelkin</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_1483">Re: Setting Up Replication</a>
                
            </div><div class="comment_text">
                <p>"...and must be unique for each server in the replicating group."  what is replicating group? all servers which take part into replication?</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/setting-up-replication/+comments/1483/flag"
                       data-flag-url="/kb/en/setting-up-replication/+comments/1483/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        <a name="comment_1595"></a>
        <div class="comment approved" style="margin-left: 10px">
            <div class="info">
                

<span class="datetime" title="2015-06-16 15:08">9 years, 11 months ago</span>
                
<span class="user" id="user-982">
<a href="/kb/user/id/982" title="Federico Razzoli">Federico Razzoli</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_1595">Re: Setting Up Replication</a>
                
            </div><div class="comment_text">
                <p>Not exactly. Imagine each group as a server, plus the servers (masters, slaves) that DIRECTLY communicate with the first server. Within such groups, id's must be unique.</p>
<p>The followind replication topography is ok:</p>
<p>id1 -&gt; id:2 -&gt; id:3 -&gt; id:1</p>
<p>But of course it is a bad practice.</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/setting-up-replication/+comments/1595/flag"
                       data-flag-url="/kb/en/setting-up-replication/+comments/1595/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        
    

    

    
        <a name="comment_781"></a>
        <div class="comment approved" style="margin-left: 0px">
            <div class="info">
                

<span class="datetime" title="2013-08-26 05:44">11 years, 9 months ago</span>
                
<span class="user" id="user-1731">
<a href="/kb/user/id/1731" title="Alexandr Gorlov">Alexandr Gorlov</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_781">Re: Setting Up Replication</a>
                
            </div><div class="comment_text">
                <p>Grant:</p>
<p>GRANT REPLICATION SLAVE ON *.* TO 'replication_user'@'slave_host' IDENTIFIED BY 'bigs3cret';
FLUSH PRIVILEGES;</p>
<p>To check replication status:</p>
<p>SHOW SLAVE STATUS\G</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/setting-up-replication/+comments/781/flag"
                       data-flag-url="/kb/en/setting-up-replication/+comments/781/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        
    

    
        <a name="comment_542"></a>
        <div class="comment approved" style="margin-left: 0px">
            <div class="info">
                

<span class="datetime" title="2013-04-27 10:11">12 years ago</span>
                
<span class="user" id="user-1234">
<a href="/kb/user/id/1234" title="Vasilis Lourdas">Vasilis Lourdas</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_542">Re: Setting Up Replication</a>
                
            </div><div class="comment_text">
                <p>Thanks for the quick howto.</p>
<p>MySQL replication is one of the features that we took into account when choosing the database for our application. It works really nice and can distribute the load when you need two kind of users (updaters and readers). We were really impressed by the way it worked.</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/setting-up-replication/+comments/542/flag"
                       data-flag-url="/kb/en/setting-up-replication/+comments/542/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        
    

    

</div>


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/solutions" title="Solutions">Solutions</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">Company</a></h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        
                        
                        <li>
                            <h5><a href="https://mariadb.com/downloads" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2025 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.1587e3a666fc.js" charset="utf-8"></script>

</html>