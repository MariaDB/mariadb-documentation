<?xml version="1.0" encoding="utf-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>MariaDB Knowledge Base Comments for: Tips on Converting to Galera</title><link>https://mariadb.com/kb/en/tips-on-converting-to-galera/+comments/feed/</link><description></description><atom:link href="https://mariadb.com/kb/en/tips-on-converting-to-galera/+comments/feed/" rel="self"></atom:link><language>en-us</language><lastBuildDate>Mon, 04 Sep 2023 18:18:36 +0000</lastBuildDate><item><title>Re: Tips on Converting to Galera</title><link>https://mariadb.com/kb/en/tips-on-converting-to-galera/+comments/5931</link><description>&lt;p&gt;Thank you for your reply.&lt;/p&gt;
&lt;p&gt;This internet example illustrates how JPA works with @Embedded objects in @Elementcollection members of entities:&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.callicoder.com/hibernate-spring-boot-jpa-element-collection-demo/"&gt;https://www.callicoder.com/hibernate-spring-boot-jpa-element-collection-demo/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;As you can see, both the phone numbers and address tables lack a primary key and it isn't even guaranteed that the rows in those tables are unique. &lt;/p&gt;
&lt;p&gt;I have a similar structure in my project with a collection of documents consisting of one or more documents, each document being described by title, short summary and version. JPA creates a table for the document collections and a table for the documents, where every document in the documents table refers to the document collection in the document_collection table it belongs to by a foreign key relationship. The document collection table has a PK, the documents table has not. I cannot think of a more efficient setup of such a data structure and obviously no primary key is needed for the documents table here. A document may appear in more than one document collection. There may be even duplettes of documents within one collection, which would create identical rows within the document table.&lt;/p&gt;
&lt;p&gt;JPA treats those embedded entities as part of the entity they belong to. It's like a table as a column of another table. One can create such entities in any OOP language easily, whereas separate tables are needed in any relational database to represent them.&lt;/p&gt;
&lt;p&gt;To make this work with Galera cluster reliably, do I need to sneak an auto-generated id into the documents table (which I could do easily in the table setup sql script used by flyway)?&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Olaf Schlüter</dc:creator><guid>https://mariadb.com/kb/en/tips-on-converting-to-galera/+comments/5931</guid></item><item><title>Re: Tips on Converting to Galera</title><link>https://mariadb.com/kb/en/tips-on-converting-to-galera/+comments/5930</link><description>&lt;p&gt;Is there ever a case where the table contents aren't unique? Can PrimaryKeyJoinColumns be used to make the @Embedded objects into a composite PK? My reading suggest @Embedded are part of another table rather than their a table in their own right. I've only a basic understanding of JPA so might be missing something very obvious or asking the wrong question.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Daniel Black</dc:creator><guid>https://mariadb.com/kb/en/tips-on-converting-to-galera/+comments/5930</guid></item><item><title>Re: Tips on Converting to Galera</title><link>https://mariadb.com/kb/en/tips-on-converting-to-galera/+comments/5929</link><description>&lt;p&gt;Using mariadb Galera Cluster with a Spring Boot application I noticed that JPA does not define a primary key on tables of @Embedded objects (just a foreign key). Shall I expect problems? Tests so far are working.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Olaf Schlüter</dc:creator><guid>https://mariadb.com/kb/en/tips-on-converting-to-galera/+comments/5929</guid></item></channel></rss>