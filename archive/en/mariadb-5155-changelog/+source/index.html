<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>MariaDB 5.1.55 Changelog - Source - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.9a0d7dcebefd.css" rel="stylesheet" type="text/css" />

    
        <meta name="robots" content="noindex, nofollow">
    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="MariaDB 5.1.55 Changelog - Source" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/en/mariadb-5155-changelog/+source/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="" />

    <meta name="description" content="" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes autoresize nodes_source jqui" id="nodes_source">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/mariadb-5155-changelog/+source/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2023 MariaDB. All rights reserved.</p>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/mariadb-5155-changelog/+source/" rel="nofollow">Login</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/en/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/en/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/services" title="Services">Services</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="About Us">About Us</a>
    </li>
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/en/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/en/mariadb-server-release-dates/">MariaDB Server Releases</a>
    

    
    » <a class="crumb" href="/kb/en/changelogs/">Changelogs</a>
    

    
    » <a class="crumb" href="/kb/en/changelogs-mariadb-51-series/">Changelogs - MariaDB 5.1 Series</a>
    


    » <a class="node_link crumb" href="/kb/en/mariadb-5155-changelog/">MariaDB 5.1.55 Changelog</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/en/">Home</a></li>
                            
                                
                                    <li><a href="/kb/en/+questions/">Open Questions</a></li>
                                
                                <li><a href="/kb/en/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/en/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/en/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/en/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
                        <div>
    

<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-small" href="/kb/en/mariadb-5155-changelog/">Return to article</a>
    
</div>
</div>

</div>
                    

                    

































                </aside>
            
            
            
                
            
            
            <section id="content" class="limited_width col-md-10 clearfix">
                
                    <h1>MariaDB 5.1.55 Changelog - Source</h1>
                

                



                <div>
                    

    

    
    <div class="revision_info">
        <dl class="table">
            <dt>Revision</dt>
            <dd><a href="/kb/en/mariadb-5155-changelog/+r/13854/">13854</a></dd>
            <dt>User</dt>
            <dd>
<span class="user" id="user-2">
<a href="/kb/user/id/2" title="Daniel Bartholomew">Daniel Bartholomew</a>
</span></dd>
            <dt>Date</dt>
            <dd>

<span class="datetime" title="2022-11-18 03:22">2022-11-18 03:22</span></dd>
        </dl>
    </div>
    


    

    
        
        <textarea id="answer_source" class="creole_source autogrow">[[http://downloads.askmonty.org/mariadb/5.1.55|Download]] | [[mariadb-5155-release-notes|Release Notes]] | **Changelog** |
[[what-is-mariadb-51|Overview of 5.1]]

**Release date:** 1 Mar 2011

For the highlights of this release, see the [[mariadb-5155-release-notes|release notes]].

The revision number links will take you to the revision&#39;s page on Launchpad. On
Launchpad you can view more details of the revision and view diffs of the code
modified in that revision.

* maria51rev:3041
** Disable variables-big with debug binaries.
** When compiled with SAFEMALLOC or with Windows
  Debug CRT, it allocates and initializes 5GB of memory.
  The effect is 20 minutes of paging and swapping on
  a 4GB VM.
** Still allow the test to run with optimized binaries.
  Memory is not initialized in this case,  malloc() 
  of 5GB  size will not bring the whole buffer into 
  physical memory.
* maria51rev:3040
** Build fixes:
*** Fix signed/unsigned warning (error -Werror) in readline
*** change regex_replace pattern to account for forward or backward slashes 
     in partition_recover_myisam ( fixes Windows/embedded)
* maria51rev:3039
** Fix mtr errors with Windows/embedded/plugins.
** Plugins do not work on Windows/embedded,
  thus do not set plugin environment variables.
* maria51rev:3038 [merge]
** Automatic merge with 5.1-merge to get in Merge with MySQL 5.1.55
*** maria51rev:3034.1.10
**** Fixed compiler warnings
*** maria51rev:3034.1.9
**** Fixed compiler and build error:
***** Fixed main.mysqlcheck error on windows
***** Fixed &#39;can&#39;t drop database pbxt&#39; failure when running pbxt.mysqlslap
*** maria51rev:3034.1.8
**** maria/ma_test_all.sh can now be run with &lt;&lt;code&gt;&gt;--tmpdir=/dev/shm&lt;&lt;/code&gt;&gt; for faster testing
**** Fixed mysql-test-run failures on window
**** Fixed compiler warnings from my last push (sorry about that)
**** Fixed that maria_chk &lt;&lt;code&gt;&gt;--repair --extended&lt;&lt;/code&gt;&gt; works again
**** Fixed compiler warnings about using not unitialized data
*** maria51rev:3034.1.7
**** Reduced memory requirements for mysqltest to 1/4.th  This also gave a speedup for 5x for some tests.
**** Reduced memory usage from safe_mutex.
**** Fixed problem with failing tests that could not restart mysqld becasue the port was reserved
**** More DBUG information
**** Fixed bug where bitmap_set_prefix() wrote over buffer area.
**** Initialize n_pages_flushed in xtradb which was used uninitialized.
*** maria51rev:3034.1.6
**** Fixed build failures
***** Removed references to deleted files
***** If we link staticly, check for static zlib
****** This should fix the problem with &#39;no -lz found&#39; link error
***** Fixed build failure on window (Patch from Wlad)
***** Fixed build problem with federatedx when using -Werror
*** maria51rev:3034.1.5
**** Fixed test failure that ended with &#34;There is no group named &#39;mysqld.10&#39; that can be used to resolve &#39;port&#39; for test&#34;
*** maria51rev:3034.1.4 [merge]
**** Merge with main
*** maria51rev:3034.1.3
**** Merged InnoDB plugin from MySQL 5.1.54 -&gt; MySQL 5.1.55 into xtradb
*** maria51rev:3034.1.2 [merge]
**** Merge with xtradb code changes
***** (4 tests are still failing, so this push is not yet stable)
**** maria51rev:3030.1.2 [merge]
***** Merge
**** maria51rev:3030.1.1 [merge]
***** Merge XtraDB from Percona Server 5.1.54-12.5 into MariaDB.
***** maria51rev:0.6.45
****** Updated with changes from Percona Server 5.1.54-12.5, from lp:percona-server as of February 4, 2011/
****** Merged: revid:oleg.tsarev@percona.com-20110113143630-b9ojivymbiwe3y2i
*** maria51rev:3034.1.1 [merge]
**** Merge with MySQL 5.1.55
***** Fixed some issues with partitions and connection_string, which also fixed lpbug:716890 &#34;Pre- and post-recovery crash in Aria&#34;
***** Fixed wrong assert in Aria
***** Now need to merge with latest xtradb before pushing 
* maria51rev:3037
** lpbug#688404  : Fix pbxt crashes on Windows 64  in debug build 
** The reason for the crash is misalignment on SSE instruciton
  in setjmp(). The root cause is PBXT debug malloc(),  which
  unlike  OS malloc  does not guarantee 16 bytes alignment.
** So the fix for now is disable PBXT debug malloc on Windows.
  It was obsolete anyway, as  it does not provide additional
  benefits to C runtime debug routines (always used in debug 
  compilation) or to pageheap, available at runtime.
* maria51rev:3036
** Enhanced tap to write out a message at which stage it was killed if it got a signal.
** Added &#39;SIGINT&#39; to list of tracked signals.
* maria51rev:3035
** Fixed bug in federatedx patch that caused partition tests to fail.
** Fixed that connection string is returned for partitioned federated tables.
* maria51rev:3034 [merge]
** Automatic merge with trunk
*** maria51rev:3032.1.2
**** Fixed compiler warnings
*** maria51rev:3032.1.1
**** Applied patch for lpbug:585688 &#34;maridb crashes in federatedx code&#34; from lp:~atcurtis/maria/federatedx:
***** Fixed Partition engine to store CONNECTION string for partitions.
****** Removed HA_NO_PARTITION flag from FederatedX.
****** Added test &#39;federated_partition&#39; to suite.
***** lpbug#585688 - maridb crashes in federatedx code
****** FederatedX handler instances, created on one thread and used on
        another thread (via table cache) when &#34;show table status&#34; is executed
        crashed because txn member was not initialized for current thread.
****** Added test &#39;federated_bug_585688&#39; to suite.
**** Author for the patch is Antony Curtis
* maria51rev:3033
** Fix build : declaration in the middle of statement in C file.
* maria51rev:3032
** Fixes for Aria storage engine:
*** Fixed bug lpbug:624099 ma_close.c:75: maria_close: Assertion `share-&gt;in_trans == 0&#39; failed on UNLOCK TABLES
*** Fixed bug that caused table to be marked as not closed (crashed) during recovery testing.
*** Use maria_delete_table_files() instead of maria_delete_table() to delete tempoary tables (faster and safer)
*** Added checks to ensure that bitmap and internal mutex are always taken in right order.
*** For transactional tables, only mark the table as changed before page for table is to be written to disk (and thus the log is flushed).
**** This speeds up things a bit and fixes a problem where open_count was incremented on disk but there was no log entry to fix it during recovery -&gt; table was crashed.
*** Fixed a bug in repair() where table was not automaticly repaired.
*** Ensure that state-&gt;global_changed, share-&gt;changed and share-&gt;state.open_count are set and reset properly.
*** Added option &lt;&lt;code&gt;&gt;--ignore-control-file&lt;&lt;/code&gt;&gt; to maria_chk to be able to run maria_chk even if the control file is locked.
* maria51rev:3031
** Added missing header file strings_def.h to dist
* maria51rev:3030
** Fixed typo for non-debug build
* maria51rev:3029
** Fixed bug in Archive with insert delayed
* maria51rev:3028
** Don&#39;t delete directory mysql-test/var if we use mysql-test-run &lt;&lt;code&gt;&gt;--vardir=&lt;&lt;/code&gt;&gt;
** Fixed error in Maria unittest
** Fixes other issues found by test case for lpbug:700623 &#34;Aria recovery: ma_blockrec.c:3930: _ma_update_at_original_place: Assertion `block-&gt;org_bitmap_value == ..&#34;
** Fixes lpbug:670356 &#34;Aria table &#34;is marked as crashed and should be repaired&#34;
* maria51rev:3027
** Ignore some linked files
* maria51rev:3026 [merge]
** Merge with 5.1
** Fixed a couple of compilation failures that was not detected before merge.
*** maria51rev:3023.1.2
**** Aria fixes:
***** Fixed a bug where we didn&#39;t signal a thread waiting for bitmap flush that it&#39;s now time to continue which caused a deadlock in Aria.
***** Fix for lpbug:700623 &#34;Aria recovery: ma_blockrec.c:3930: _ma_update_at_original_place: Assertion `block-&gt;org_bitmap_value == _ma_bitmap_get_page_bits(info, &amp;info-&gt;s-&gt;bitmap, page)&#39; failed&#34;
***** Fixed a bug in pagecache where a block could change while it was in use.
***** In maria_chk set &lt;&lt;code&gt;&gt;--update-state&lt;&lt;/code&gt;&gt; to on by default so that open_count is cleared if table was ok during check.
*** maria51rev:3023.1.1
**** Flush DBUG log in case of DBUG_ASSERT()
**** Added strings_def.h into strings library to be able to have a DBUG_ASSERT() version without _db_flush() call (as strings.a should not depend on dbug.a)
**** Remove include of m_string.h in all string files (as it&#39;s included by string_def.h).
**** Fixed include order.
**** Changed &#34;m_ctype.h&#34; -&gt; &lt;m_ctype.h&gt;
* maria51rev:3025
** fixes for solaris 10
* maria51rev:3024
** fix &#34;&lt;&lt;code&gt;&gt;./configure --with-debug&lt;&lt;/code&gt;&gt;&#34; builds
** (without CFLAGS=-DSAFEMALLOC).
* maria51rev:3023
** Better fix for mysql_test.cc::do_remove_files_wildcard
* maria51rev:3022
** Use _ma_set_fatal_error() in Aria also for HA_ERR_WRONG_IN_RECORD, to be able to get an assert as soon as a failure is detected.
** Fixed stack overrun failure when calling maria_chk_data_link().
* maria51rev:3021
** Fixed bugs found by buildbot:
*** Use -Wno-uninitialized if -DFORCE_INIT_OF_VARS is not used, to avoid warnings about not initialized variables.
*** Fixed compiler warnings
*** Added a name for each thr_lock to get better error messages (This is needed to find out why &#39;archive.test&#39; sometimes fails)
* maria51rev:3020
** Aria issues:
*** Fix for LP#700623 &#34;Aria recovery: ma_blockrec.c:3930: _ma_update_at_original_place: Assertion `block-&gt;org_bitmap_value == _ma_bitmap_get_page_bits(info, &amp;info-&gt;s-&gt;bitmap, page)&#39; failed&#34;
**** Issue was that when deleting a tail page where all index entries where full, the page was marked wrongly in the bitmap.
*** If debug_assert_if_crashed_table is set, we now crash when we find Aria corrupted.
*** Write more information if we find something wrong with the bitmap.
*** Fixed that REPAIR also can fix wrong create_rename_lsn issues (a very unlikely event)
*** Define STATE_CRASHED_FLAGS as set of all CRASHED flags (to simplify code)
* maria51rev:3019
** Fixed bug that another thread used handler-&gt;s-&gt;id before it was recorded in the log.
** This fixed an assert in recovert in mi_recovery.c &#34;cmp_translog_addr(rec-&gt;lsn, checkpoint_start) &lt; 0&#34;
* maria51rev:3018
** Fixed some mysql-test-run failures and compile warnings/errors
** Added logging of all possible fatal table errors if &lt;&lt;code&gt;&gt;--log-warnings&lt;&lt;/code&gt;&gt; set to &lt;&lt;code&gt;&gt;&gt; 1&lt;&lt;/code&gt;&gt;
* maria51rev:3017
** Updated mysql-test-run to create on failure a var/log/files.log to allow us to analyze what was in the var directory on failure
** This should help us analyze failures like innodb_mysql.test that failes strangely in a CREATE TABLE statement.
* maria51rev:3016 [merge]
** Merge
*** maria51rev:3014.1.1
**** Fixed lpbug#702310 / mybug#59493.
**** An assertion failure was triggered for a 6-way join query that uses two
      join buffers.
**** The failure happened because every call of the function flush_cached_records()
      saved and restored status of all tables before the table join_tab. It
      must do it only for those of them that follow the last table that uses
      a join buffer.
* maria51rev:3015
** Call always ha_index_init(), not index_init(), to ensure that active_index is set correctly.
** Fixes failures in merge.test
* maria51rev:3014 [merge]
** Merge with 5.1
*** maria51rev:3012.1.1
**** Fix for lpbug#697610 ha_index_prev(uchar*): Assertion `inited==INDEX&#39; failed with HANDLER + InnoDB in maria-5.3
* maria51rev:3013 [merge]
** Merge lpbug#675118 into maria-5.1
*** maria51rev:2998.1.1
**** lpbug#675118: Elimination of a table results in an invalid execution plan
***** Fix for mybug#52357 added NESTED_JOIN::is_fully_covered() which would 
        not take into account that MariaDB&#39;s table elimination could eliminate tables
        from join plan (and so, from join nest).
***** Fixed the check in the function to compare post-table-elimination numbers.
* maria51rev:3012
** Fixed bug in Maria page cache that caused assert if block-&gt;request != 0 in free_block()
* maria51rev:3011
** Allow one to decrease page-buffer-size down to 1M (from 128M) for maria_read_log
** Don&#39;t allow too low value of pagecache_buffer_size for mysqld
* maria51rev:3010
** Allow smaller size for page-buffer-size
* maria51rev:3009
** Fixed wrong test in maria_rsame() that caused ma_test_all to fail.
* maria51rev:3008
** Safety fix for Aria:
*** Set lastinx= ~0 when last_key.keyinfo is set.
* maria51rev:3007
** Fixed that Aria works with HANDLER commands
** Added test case for Aria
** Tested HANDLER with HEAP (changes to HEAP code will be pushed in 5.3)
** Moved all HANDLER test to suite/handler.
* maria51rev:3006
** Don&#39;t do DBUG_ASSERT for checksum errors when using REPAIR
** mysql_convert_table_format ignored &lt;&lt;code&gt;&gt;--engine&lt;&lt;/code&gt;&gt; option.
** Fix that zerofill() doesn&#39;t write out wrong data to client if run with auto repair.
** Ensure that pagecache is properly flushed, even in case of errors.
** Handle checksum errors in BLOCK_RECORD format.
* maria51rev:3005
** Bug fixing in Aria:
*** Fixed some bugs in recovery of blobs
*** Don&#39;t ASSERT() on checksum errors when running check table
*** Added to maria_read_log option &lt;&lt;code&gt;&gt;--tables-to-redo=list-of-tables&lt;&lt;/code&gt;&gt; to only recover some tables (good for debugging)
* maria51rev:3004
** Fixed overwrite of directory information on the row page.
** This could only happen with very small rows on very full pages with old deleted information in middle of page.
* maria51rev:3003
** ALTER TABLE IGNORE didn&#39;t ignore duplicates for unique add index for InnoDB
* maria51rev:3002
** Make copy from heap to MyISAM / Aria killable.
** Fixes lpbug#695006 converting HEAP to Aria&#34; status do not respond to KILL QUERY
* maria51rev:3001
** Fixed recovery problem in Aria where bitmap had wrong information after recovery.
** lpbug#619731: Aria recovery corruption &#34;Page 1: Row: 1 has an extent with wrong information in bitmap
* maria51rev:3000
** Updated README for MTR test suite
* maria51rev:2999
** Speed up &lt;&lt;code&gt;&gt;`mtr --parallel=&lt;lots&gt;`&lt;&lt;/code&gt;&gt; by scheduling some slow tests earlier.
** The patch also fixes a race in rpl_stop_slave.test.
** On machines with lots of CPU and memory, something like &lt;&lt;code&gt;&gt;`mtr --parallel=10`&lt;&lt;/code&gt;&gt;
  can speed up the test suite enormously. However, we have a few test cases
  that run for long (several minutes), and if we are unlucky and happen to
  schedule those towards the end of the test suite, we end up with most
  workers idle while waiting for the last slow test to end, significantly
  delaying the finish of the entire suite.
** Improve this by marking the offending tests as taking &#34;long&#34;, and trying
  to schedule those tests early. This reduces the time towards the end of
  the test suite run where some workers are waiting with nothing to do for
  the remaining workers each to finish their last test.
** Also, the rpl_stop_slave test had a race which could cause it to take
  a 300 seconds debug_sync timeout; this is fixed.
** Testing on a 4-core 8GB machine, this patch speeds up the test suite with
  around 30% for &lt;&lt;code&gt;&gt;--parallel=10&lt;&lt;/code&gt;&gt; (debug build), allowing to run the entire
  suite in 5 minutes.
* maria51rev:2998
** Fixed lpbug#639935 (mybug#58727).
*** When the optimizer creates items out of other items it does
  not have to call the fix_fields method. Usually in these
  cases it calls quick_fix_field() that just marks the 
  created item as fixed. If the created item is an Item_func
  object then calling quick_fix_field() works fine if the
  arguments of the created functional item are already fixed.
  Otherwise some unfixed nodes remain in the item tree and
  it triggers an assertion failure whenever the item is 
  evaluated.
*** Fixed the problem by making the method quick_fix_field
  virtual and providing an implementation for the class
  Item_func objects that recursively calls the method
  for unfixed arguments of any functional item.
* maria51rev:2997
** Increased version number to 5.1.54
* maria51rev:2996
** Fixed bug in Aria that caused REPAIR to find old deleted rows.
* maria51rev:2995
** Fixed typo that caused compile failure in thr_lock.c
* maria51rev:2994
** Fix for lpbug#686010 maria.optimize corrupts stack around alloca() call
* maria51rev:2993
** Better warning message if lock test fails
** Made archive.test a bit more safe
* maria51rev:2992
** lpbug#687320: Fix sporadic test failures in innodb_mysql.test and partition_innodb_semi_consistent.test
*** Problem is that these tests run with &lt;&lt;code&gt;&gt;--innodb-lock-wait-timeout=2&lt;&lt;/code&gt;&gt; in .opt
  (and this is necessary as built-in innodb does not allow to change this
  dynamically). This cases another part of the test to occasionally time
  out an UPDATE, which subsequently caused the test case to timeout due to
  waiting for a condition (successful UPDATE) that never occurs.
*** Fixed by re-trying the update in case of timeout.
*** Tested by inserting a sleep() in the connection that the UPDATE is waiting
  for, and checking that the retry loops a couple of times until the other
  connection is done and COMMITs.
* maria51rev:2991
** Made sure that SELECT from the test case for bug BUG#56862/64041 uses
  the same execution plan that is in the output of the corresponding
  EXPLAIN.
* maria51rev:2990
** lpbug#677407 / mybug#48883: Stale data from INNODB_LOCKS table.
** The logic for how to check when to update the table cache for
  INNODB_LOCKS with real data was flawed. This could result in both
  not updating the cache often enough (when the table is queried
  repeatedly with less than 100 milliseconds in-between) resulting
  in stale data; as well as updating too often (when multiple
  queries against the table start at around the same time).
** This caused occasional test failures in innodb_information_schema.
** Fix by updating the &#34;last updated&#34; timestamp in the right place,
  when the cache is updated, not when it is read.
* maria51rev:2989
** Fix myisam_crash_before_flush_keys on Windows
** Problem : mtr reports test failure because it sees
  [ERROR] mysqld got exception 0x80000003 ;
  in the .err file
** The exception comes from DBUG_EXECUTE_IF (.. abort())
** Fix:  use DBUG_ABORT instead of abort() - it does not throw 
  any exceptions.
* maria51rev:2988
** Fix lpbug#686184 - merge_debug test fails.
*** The reason for failure is that DBUG_EXECUTE_IF in mi_open()
  only worked for Unix-formatted file names, due to strstr(name, &#34;/crashed&#34;)
*** The fix change strstr() above to strstr(name, &#34;crashed&#34;), to it can work with 
  Windows file names as well.
* maria51rev:2987 [merge]
** merge
*** maria51rev:2982.1.1
**** lpbug#473914: mysql_client_test fail with in debug compilaton on windows x64
***** Reason: inconsistent compilation, federatedx is compiled without SAFEMALLOC
      flag, while anything else is compiled with SAFEMALLOC.
***** As a consequence, my_hash_init used inside federatedx initialization does not
      provide correct caller info parameters (file, line) , so they are initialized with 
      whatever is on stack. When info about allocated memory is output in
      COM_DEBUG command, the server crashes trying to output string starting at
      0xcccccccccccccccc.
***** The fix is to remove SAFEMALLOC  preprocessor flags 
      from every CMakeLists.txt, except the top-level one.
***** Also, SAFEMALLOC is not defined by default now, instead
      there is WITH_DEBUG_FULL CMake option which adds 
      -DSAFEMALLOC to C and C++ flags in debug compilation. 
      This option is off by  default, because 
      1) Debug C runtime already has heap debugging builtin with 
       overwrite and leak detection
      2)safemalloc considerably slows down the tests.
***** Note also  that 
****** SAFEMALLOC is gone  in MySQL5.5
****** On Windows, heap related overflows can also be found using free pageheap utility
***** (that is also part of application verifier). This is even more efficient if there are no other layers 
      on top of Windows heap allocator, e.g  it is most efficient with release version.
* maria51rev:2986
** Fixed test case to be repeatable (after discussion with Igor)
* maria51rev:2985 [merge]
** Merge with 5.1-release
* maria51rev:2984 [merge]
** automatic merge with 5.1-release
* maria51rev:2983 [merge]
** Automatic merge with 5.1-release
* maria51rev:2982 [merge]
** merge
*** maria51rev:2981.1.3
**** address review comments
*** maria51rev:2981.1.2
**** Adapt fix_vs_config_dir () for VS2010
**** MTR_VS_CONFIG is now determined by looking at parent directory 
      of sql\*\mysqld.exe,  instead of looking at *\*\BuildLog.htm
**** Reason : VS2010 does not create BuildLog.htm, hence prior method did not work.
*** maria51rev:2981.1.1
**** Make maria 5.1 compilable on Visual Studio 2010 and remove Windows warnings
***** Remove all mentioning of /MAP /MAPINFO link options (does not work in VS2010). Remove map files from packaging.
***** Fix warning about ETIMEDOUT being redefined.
***** Fix  warning about FSP_EXTENT_SIZE in xtradb  (32/64 bit right shift mismatch)
***** Silence warnings coming from  generated  code (flex/bison) in xtradb/innodb_plugin.
***** Be nice to people without cygwin (me) and add win/configure-mariadb.bat with options suitable for quick compilation, e.g no embedded</textarea>
    


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row row-10">
                <div class="col-md-2 col-xs-4 item">
                    <h5>
                        <a href="/products" title="Products">Products</a>
                    </h5>
                    <ul>
                        <li id="menu-item-7816" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7816"><a href="https://mariadb.com/products/mariadb-platform/">MariaDB Platform</a></li>
                        <li id="menu-item-7815" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7815"><a href="https://mariadb.com/products/skysql/">MariaDB SkySQL</a></li>
                        <li id="menu-item-4172" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4172"><a href="https://mariadb.com/pricing/">Pricing</a></li>
                        <li id="menu-item-4163" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4163"><a href="https://mariadb.com/downloads/">Download MariaDB</a></li>
                    </ul>
                </div>
                <div class="col-md-2 col-xs-4 item">
                    <h5>
                        <a href="/services" title="Services">Services</a>
                    </h5>
                    <ul>
                        <li id="menu-item-4169" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4169"><a href="https://mariadb.com/services/remote-dba/">Remote DBA</a></li>
                        <li id="menu-item-41691" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4169"><a href="https://mariadb.com/services/skydba/">SkyDBA</a></li>
                        <li id="menu-item-4167" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4167"><a href="https://mariadb.com/services/enterprise-architect/">Enterprise Architect</a></li>
                        <li id="menu-item-4170" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4170"><a href="https://mariadb.com/services/technical-support-services/">Technical Support</a></li>
                        <li id="menu-item-4168" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4168"><a href="https://mariadb.com/services/migration-practice/">Migration Practice</a></li>
                        <li id="menu-item-4166" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4166"><a href="https://mariadb.com/services/consulting/">Consulting</a></li>
                        <li id="menu-item-4171" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4171"><a href="https://mariadb.com/services/training/">Training</a></li>
                    </ul>
                </div>
                <div class="col-md-2 col-xs-4 item">
                    <h5>
                        <a href="/resources" title="Resources">Resources</a>
                    </h5>
                    <ul>
                        <li id="menu-item-41751" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4175"><a href="https://mariadb.com/docs/">Documentation</a></li>
                        <li id="menu-item-41752" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4175"><a href="https://mariadb.com/developers/">Developers</a></li>
                        <li id="menu-item-4175" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4175"><a href="https://mariadb.com/resources/blog/">Blog</a></li>
                        <li id="menu-item-5462" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5462"><a href="https://support.mariadb.com">Support</a></li>
                        <li id="menu-item-6004" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6004"><a href="https://mariadb.com/openworks/">OpenWorks</a></li>
                        <li id="menu-item-60041" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6004"><a href="https://mariadb.com/resources/customer-stories/">Customer Stories</a></li>
                        <li id="menu-item-7817" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-7817"><a href="https://mariadb.com/resources/events/">Events</a></li>
                        <li id="menu-item-4177" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4177"><a href="https://mariadb.com/roadshow/">MariaDB Roadshow</a></li>
                    </ul>
                </div>
                <div class="visible-xs visible-sm clear"></div>
                <div class="col-md-2 col-xs-5 item">
                    <h5>
                        <a href="/about-us" title="About MariaDB">About</a>
                    </h5>
                    <ul>
                        <li id="menu-item-4173" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4173"><a href="https://mariadb.com/contact/">Contact</a></li>
                        <li id="menu-item-4161" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4161"><a href="https://mariadb.com/about-us/leadership/">Leadership</a></li>
                        <li id="menu-item-4162" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4162"><a href="https://mariadb.com/about-us/partners/">Partners</a></li>
                        <li id="menu-item-4174" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4174"><a href="https://mariadb.com/newsroom/">Newsroom</a></li>
                        <li id="menu-item-4160" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4160"><a href="https://mariadb.com/about-us/investors/">Investors</a></li>
                        <li id="menu-item-4159" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4159"><a href="https://mariadb.com/about-us/careers/">Careers</a></li>
                        <li id="menu-item-41591" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4159"><a href="https://mariadb.com/trust/">Trust Center</a></li>
                        <li id="menu-item-41592" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4159"><a href="https://mariadb.com/vulnerability-reporting/">Vulnerability Reporting</a></li>
                    </ul>
                </div>
                <div class="col-md-4 col-xs-7 item">
                    <div id="block-footercontact" class="block block-block-content block-block-content22b3af28-0754-44ec-a5c6-4466568f37e3">
                        <h5><a href="/contact" title="Contact">Contact</a></h5>
                    </div>
                    <div class="social">
                        <ul class="list-inline">
                            <li>
                                <a target="_blank" href="https://www.facebook.com/MariaDB.dbms/" title="Facebook">
                                    <i class="fa fa-facebook" aria-hidden="true"></i>
                                </a>
                            </li>
                            <li>
                                <a target="_blank" href="https://twitter.com/mariadb" title="Twitter">
                                    <i class="fa fa-twitter" aria-hidden="true"></i>
                                </a>
                            </li>
                            <li>
                                <a target="_blank" href="https://www.linkedin.com/company/mariadb-corporation?trk=company_logo " title="LinkedIn">
                                    <i class="fa fa-linkedin" aria-hidden="true"></i>
                                </a>
                            </li>
                        </ul>
                    </div>
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <p>Subscribe to our newsletter!</p>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="footer-copyright">
        <div class="container text-center">
            <ul class="list-inline no-margin">
                <li>
                    <a href="/legal" title="Legal">Legal</a>
                </li>
                <li>
                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                </li>
                <li>
                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                </li>
            </ul>
            <p>Copyright &copy; 2023 MariaDB. All rights reserved.</p>
        </div>
    </div>
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.fed4ec768178.js" charset="utf-8"></script>

</html>