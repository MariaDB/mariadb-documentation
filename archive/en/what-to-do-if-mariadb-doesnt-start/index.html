<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>What to Do if MariaDB Doesn&#39;t Start - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.f7633538c846.css" rel="stylesheet" type="text/css" />

    

    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="What to Do if MariaDB Doesn&#39;t Start" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/en/what-to-do-if-mariadb-doesnt-start/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="Troubleshooting MariaDB when it fails to start." />

    <meta name="description" content="Troubleshooting MariaDB when it fails to start." />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes products nodes_view jqui" id="nodes_view">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/what-to-do-if-mariadb-doesnt-start/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2025 MariaDB. All rights reserved.</p>
    </div>
</div>
<div class="violator-wrap d-none" id="top_violator">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12">
                <div class="violator-outer">
                    <div class="violator-inner">
                        <div class="row">
                            <div class="col-xs-12 col-sm-9 col-lg-7 col-lg-offset-2" id="top_violator_content">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="content-link" target="_blank" rel="nofollow noreferrer">
                                    <span>The Ultimate Guide to High Availability with MariaDB</span>
                                </a>
                            </div>
                            <div class="col-xs-12 col-sm-3" id="top_violator_cta">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="btn btn-mariadb" target="_blank" rel="nofollow noreferrer">Download Now</a>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn btn-link close-btn">
                        <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" width="15px" height="15px"><path d="M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/what-to-do-if-mariadb-doesnt-start/" rel="nofollow">Login</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/en/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/en/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/services" title="Services">Services</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="About Us">About Us</a>
    </li>
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/en/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/en/documentation/">MariaDB Server Documentation</a>
    

    
    » <a class="crumb" href="/kb/en/mariadb-administration/">MariaDB Administration</a>
    

    
    » <a class="crumb" href="/kb/en/getting-installing-and-upgrading-mariadb/">Getting, Installing, and Upgrading MariaDB</a>
    

    
    » <a class="crumb" href="/kb/en/starting-and-stopping-mariadb/">Starting and Stopping MariaDB</a>
    


    » <a class="node_link crumb" href="/kb/en/what-to-do-if-mariadb-doesnt-start/">What to Do if MariaDB Doesn&#39;t Start</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/en/">Home</a></li>
                            
                                
                                    <li><a href="/kb/en/+questions/">Open Questions</a></li>
                                
                                <li><a href="/kb/en/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/en/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/en/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/en/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
<div>



<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-blue btn-sm" href="/kb/en/what-to-do-if-mariadb-doesnt-start/+history" rel="nofollow">History</a>
        
        
        
        <a class="btn btn-block btn-blue btn-sm" href="/kb/en/what-to-do-if-mariadb-doesnt-start/+source/">Source</a>
        
        <a class="btn btn-block btn-blue btn-sm flag" href="/kb/en/what-to-do-if-mariadb-doesnt-start/+flag"
                data-flag-url="/kb/en/what-to-do-if-mariadb-doesnt-start/+flag" rel="nofollow">
                Flag as Spam / Inappropriate</a>
        
        <a class="btn btn-block btn-blue btn-sm" href="/kb/en/what-to-do-if-mariadb-doesnt-start/+translate/">
                Translate</a>
        

</div>
</div>





<div class="well well-small box node_info"><div>

    <dl>
        <dt>Created</dt>
        <dd>

<span class="datetime" title="2013-10-21 16:02">11 years, 3 months ago</span></dd>

        <dt>Modified</dt>
        <dd>

<span class="datetime" title="2023-12-08 22:09">1 year, 1 month ago</span></dd>

        <dt>Type</dt>
        <dd>article</dd>

        <dt>Status</dt>
        <dd>active</dd>

        <dt>License</dt>
        <dd>
            
                <a href="/kb/en/what-to-do-if-mariadb-doesnt-start/+license/">CC BY-SA / Gnu FDL</a>
            
        </dd>

        
    </dl>

    
    <ul class="rss_feeds">
        <li><a href="/kb/en/what-to-do-if-mariadb-doesnt-start/+history/feed/">
            History</a>
        </li>
        <li><a href="/kb/en/what-to-do-if-mariadb-doesnt-start/+comments/feed/">
            Comments</a>
        </li>
    </ul>
    

</div>
</div>





    
    
    

<div class="well well-small box attachments"><div><div class="edit_link pull-right"><a href="/kb/en/what-to-do-if-mariadb-doesnt-start/+edit/attachments/">Edit</a></div><h5>Attachments</h5></div><div>

        
            <div class="no_data">No attachments exist</div>
        
    
</div>
</div>

    



    
    
        

<div class="well well-small box"><div><h5>Localized Versions</h5></div><div>

        <ul>
            
            <li><a href="/kb/it/what-to-do-if-mariadb-doesnt-start/">Cosa fare se MariaDB non si avvia</a> [it]</li>
            
        </ul>
        
</div>
</div>

    





    

<div class="well well-small box"><div><h5>Parents</h5></div><div>

        <ul>
            
                <li><a href="/kb/en/starting-and-stopping-mariadb/">Starting and Stopping MariaDB</a></li>
            
                <li><a href="/kb/en/troubleshooting-installation-issues/">Troubleshooting Installation Issues</a></li>
            
        </ul>
    
</div>
</div>



</div>


                    

































                </aside>
            
            
            
                
            
            
                
            
            <section id="content" class="limited_width col-md-8 clearfix">
                
                    <h1>What to Do if MariaDB Doesn&#39;t Start</h1>
                

                



                <div>
                    
    

    
    
    

    <div class="node creole">
        
            <div class="cta">
                <div style="background: #E6F3FA;padding: 15px 25px;margin-bottom: 20px;border-radius:30px;">
        
    <div class="row">
        <div class="col-md-12 text-center">
            <h2 class="h3" style="font-size: 18px;">Need additional support? We're here to help!</h2>
                            
&nbsp;
    <a class="btn btn-primary btn-lg" href="https://mariadb.com/contact/?utm_source=onpagepromo&utm_medium=kb&utm_campaign=contact-support&interest=support" style="padding: 12px 50px;margin-top: 15px;margin-bottom: 10px;" target="_blank">Contact Us</a>
        </div>
        
    </div>
    </div>
            </div>
        
        
        


    
    <div class="answer formatted">
        <div class="table_of_contents well well-small">
<h3>Contents</h3>
 <ol class="toc">

    <li class=""><a href="#the-error-log-and-the-data-directory" title="The Error Log and the Data Directory">The Error Log and the Data Directory</a></li>

    <li class=""><a href="#option-files" title="Option Files">Option Files</a>    <ol class="toc">

        <li class=""><a href="#invalid-option-or-option-value" title="Invalid Option or Option Value">Invalid Option or Option Value</a>    </ol>
</li>

    <li class=""><a href="#cant-open-privilege-tables" title="Can&#39;t Open Privilege Tables">Can&#39;t Open Privilege Tables</a></li>

    <li class=""><a href="#cant-create-test-file" title="Can&#39;t Create Test File">Can&#39;t Create Test File</a></li>

    <li class=""><a href="#cant-lock-aria-control-file" title="Can&#39;t Lock Aria Control File">Can&#39;t Lock Aria Control File</a></li>

    <li class=""><a href="#unable-to-lock-ibdata1-error-11" title="Unable to lock ./ibdata1 error 11">Unable to lock ./ibdata1 error 11</a></li>

    <li class=""><a href="#innodb" title="InnoDB">InnoDB</a>    <ol class="toc">

        <li class=""><a href="#cannot-allocate-memory-for-the-innodb-buffer-pool" title="Cannot Allocate Memory for the InnoDB Buffer Pool">Cannot Allocate Memory for the InnoDB Buffer Pool</a></li>

        <li class=""><a href="#innodb-table-corruption" title="InnoDB Table Corruption">InnoDB Table Corruption</a>    </ol>
</li>

    <li class=""><a href="#myisam" title="MyISAM">MyISAM</a></li>

    <li class=""><a href="#systemd" title="systemd">systemd</a></li>

    <li class=""><a href="#selinux" title="SELinux">SELinux</a></li>

    <li class=""><a href="#apparmor" title="AppArmor">AppArmor</a> </ol>
</li>
</div>
<p>There could be many reasons that MariaDB fails to start. This page will help troubleshoot some of the more common reasons and provide solutions.</p>
<p>If you have tried everything here, and still need help, you can ask for help on IRC or on the forums - see <a href="/kb/en/where-to-find-other-mariadb-users-and-developers/">Where to find other MariaDB users and developers</a> - or ask a question at the <a href="/kb/en/starting-and-stopping-mariadb/">Starting and Stopping MariaDB</a> page.</p>
<h2 class="anchored_heading" id="the-error-log-and-the-data-directory">The Error Log and the Data Directory</h2>
<p>The reason for the failure will almost certainly be written in the <a href="/kb/en/error-log/">error log</a> and, if you are starting MariaDB manually, to the console. By default, the error log is named <em>host-name</em>.err and is written to the data directory.</p>
<p>Common Locations:</p>
<ul start="1"><li>/var/log/
</li><li>/var/log/mysql
</li><li>C:\Program Files\MariaDB x.y\data (x.y refers to the version number)
</li><li>C:\Program Files (x86)\MariaDB x.y\data (32bit  version on 64bit Windows)
</li></ul>
<p>It's also possible that the error log has been explicitly written to another location. This is often done by changing the <code><a href="/kb/en/server-system-variables/#datadir">datadir</a></code> or <code><a href="/kb/en/server-system-variables/#log_error">log_error</a></code> system variables in an <a href="/kb/en/configuring-mariadb-with-option-files/">option file</a>. See <a href="#option-files">Option Files</a> below for more information about that.</p>
<p>A quick way to get the values of these system variables is to execute the following commands:</p>
<pre class="fixed">mariadbd --help --verbose | grep 'log-error' | tail -1
mariadbd --help --verbose | grep 'datadir' | tail -1
</pre><h2 class="anchored_heading" id="option-files">Option Files</h2>
<p>Another kind of file to consider when troubleshooting is <a href="/kb/en/configuring-mariadb-with-option-files/">option files</a>. The default option file is called <code>my.cnf</code>. Option files contain configuration options, such as the location of the data directory mentioned above. If you're unsure where the option file is located, see <a href="/kb/en/configuring-mariadb-with-option-files/#default-option-file-locations">Configuring MariaDB with Option Files: Default Option File Locations</a> for information on the default locations.</p>
<p>You can check which configuration options MariaDB server will use from its option files by executing the following command:</p>
<pre class="fixed">mariadbd --print-defaults
</pre><p>You can also check by executing the following command:</p>
<pre class="fixed">my_print_defaults --mysqld
</pre><p>See <a href="/kb/en/configuring-mariadb-with-option-files/#checking-program-options">Configuring MariaDB with Option Files: Checking Program Options</a> for more information on checking configuration options.</p>
<h3 class="anchored_heading" id="invalid-option-or-option-value">Invalid Option or Option Value</h3>
<p>Another potential reason for a startup failure is that an <a href="/kb/en/configuring-mariadb-with-option-files/">option file</a> contains an invalid option or an invalid option value. In those cases, the <a href="/kb/en/error-log/">error log</a> should contain an error similar to this:</p>
<pre class="fixed">140514 12:19:37 [ERROR] /usr/local/mysql/bin/mariadbd: unknown variable 'option=value'
</pre><p>This is more likely to happen when you upgrade to a new version of MariaDB. In most cases the <a href="/kb/en/configuring-mariadb-with-option-files/">option file</a> from the old version of MariaDB will work just fine with the new version. However, occasionally, options are removed in new versions of MariaDB, or the valid values for options are changed in new versions of MariaDB. Therefore, it's possible for an <a href="/kb/en/configuring-mariadb-with-option-files/">option file</a> to stop working after an upgrade.</p>
<p>Also remember that option names are case sensitive.</p>
<p>Examine the specifics of the error. Possible fixes are usually one of the following:</p>
<ul start="1"><li>If the option is completely invalid, then remove it from the <a href="/kb/en/configuring-mariadb-with-option-files/">option file</a>.
</li><li>If the option's name has changed, then fix the name.
</li><li>If the option's valid values have changed, then change the option's value to a valid one.
</li><li>If the problem is caused by a simple typo, then fix the typo.
</li></ul>
<h2 class="anchored_heading" id="cant-open-privilege-tables">Can't Open Privilege Tables</h2>
<p>It is possible to see errors similar to the following:</p>
<pre class="fixed">System error 1067 has occurred.
Fatal error: Can't open privilege tables: Table 'mysql.host' doesn't exist
</pre><p>If errors like this occur, then critical <a href="/kb/en/system-tables/">system tables</a> are either missing or are in the wrong location. The above error is quite common after an upgrade if the <a href="/kb/en/configuring-mariadb-with-option-files/">option files</a> set the <code><a href="/kb/en/server-system-variables/#basedir">basedir</a></code> or <code><a href="/kb/en/server-system-variables/#datadir">datadir</a></code> to a non-standard location, but the new server is using the default location. Therefore, make sure that the <code><a href="/kb/en/server-system-variables/#basedir">basedir</a></code> and <code><a href="/kb/en/server-system-variables/#datadir">datadir</a></code> variables are correctly set.</p>
<p>If you're unsure where the option file is located, see <a href="/kb/en/configuring-mariadb-with-option-files/#default-option-file-locations">Configuring MariaDB with Option Files: Default Option File Locations</a> for information on the default locations.</p>
<p>If the <a href="/kb/en/system-tables/">system tables</a> really do not exist, then you may need to create them with <a href="/kb/en/mariadb-install-db/">mariadb-install-db</a>. See <a href="/kb/en/installing-system-tables-mariadb-install-db/">Installing System Tables (mariadb-install-db)</a> for more information.</p>
<h2 class="anchored_heading" id="cant-create-test-file">Can't Create Test File</h2>
<p>One of the first tests on startup is to check whether MariaDB can write to the data directory. When this fails, it will log an error like this:</p>
<pre class="fixed wrap">May 13 10:24:28 mariadb3 mariadbd[19221]: 2019-05-13 10:24:28 0 [Warning] Can't create test file /usr/local/data/mariadb/mariadb3.lower-test
May 13 10:24:28 mariadb3 maridbd[19221]: 2019-05-13 10:24:28 0 [ERROR] Aborting
</pre><p>This is usually a permission error on the directory in which this file is being written. Ensure that the entire <code><a href="/kb/en/server-system-variables/#datadir">datadir</a></code> is owned by the user running <code>mariadbd</code>, usually <code>mysql</code>. Ensure that directories have the "x" (execute) directory permissions for the owner. Ensure that all the parent directories of the <code><a href="/kb/en/server-system-variables/#datadir">datadir</a></code> upwards have "x" (execute) permissions for all (<code>user</code>, <code>group</code>, and <code>other</code>).</p>
<p>Once this is checked look at the <a href="#systemd">systemd</a> and <a href="#selinux">selinux</a> documentation below, or <a href="#AppArmorl">AppArmor</a>.</p>
<h2 class="anchored_heading" id="cant-lock-aria-control-file">Can't Lock Aria Control File</h2>
<p>On starting MariaDB, the <code>aria_log_control</code> file is locked. If a lock cannot be obtained, it will log and error like this:</p>
<pre class="fixed wrap">2023-05-01 16:27:03 0 [ERROR] mariadbd: Can't lock aria control file '/var/lib/mysql/aria_log_control' for exclusive use, error: 11. Will retry for 30 seconds
</pre><p>This almost always cause for this is that there is already an existing MariaDB service running on this data directory. Recommend aborting this startup and looking closely for the other MariaDB instance.</p>
<p>The less likely case is there isn't locking available which might occur on a NFS data directory with explictly disable locking.</p>
<h2 class="anchored_heading" id="unable-to-lock-ibdata1-error-11">Unable to lock ./ibdata1 error 11</h2>
<p>Like the above for the Aria Control File, this is a attempting to exclusively lock the <code>ibdata1</code> InnoDB system tablespace. Error 11 corresponds to the system error "OS error code  11:  Resource temporarily unavailable" meaning the lock cannot be created.</p>
<pre class="fixed wrap">2023-05-01 16:27:34 0 [ERROR] InnoDB: Unable to lock ./ibdata1 error: 11
2023-05-01 16:27:34 0 [Note] InnoDB: Check that you do not already have another mariadbd process using the same InnoDB data or log files.
2023-05-01 16:27:34 0 [ERROR] InnoDB: Plugin initialization aborted with error Generic error
2023-05-01 16:27:35 0 [Note] InnoDB: Starting shutdown...
</pre><p>Like the above, this is an indication that a second MariaDB instance is already running on the data directory.</p>
<h2 class="anchored_heading" id="innodb">InnoDB</h2>
<p><a href="/kb/en/xtradb-and-innodb/">InnoDB</a> is probably the MariaDB component that most frequently causes a crash. In the error log, lines containing InnoDB messages generally start with "InnoDB:".</p>
<h3 class="anchored_heading" id="cannot-allocate-memory-for-the-innodb-buffer-pool">Cannot Allocate Memory for the InnoDB Buffer Pool</h3>
<p>In a typical installation on a dedicated server, at least 70% of your memory should be assigned to <a href="/kb/en/xtradbinnodb-buffer-pool/">InnoDB buffer pool</a>; sometimes it can even reach 85%. But be very careful: don't assign to the buffer pool more memory than it can allocate. If it cannot allocate memory, InnoDB will use the disk's swap area, which is very bad for performance. If swapping is disabled or the swap area is not big enough, InnoDB will crash. In this case, MariaDB will probably try to restart several times, and each time it will log a message like this:</p>
<pre class="fixed">140124 17:29:01 InnoDB: Fatal error: cannot allocate memory for the buffer pool
</pre><p>In that case, you will need to add more memory to your server/VM or decrease the value of the <a href="/kb/en/xtradbinnodb-server-system-variables/#innodb_buffer_pool_size">innodb_buffer_pool_size</a> variables.</p>
<p>Remember that the buffer pool will slightly exceed that limit. Also, remember that MariaDB also needs allocate memory for other storage engines and several per-connection buffers. The operating system also needs memory.</p>
<h3 class="anchored_heading" id="innodb-table-corruption">InnoDB Table Corruption</h3>
<p>By default, InnoDB deliberately crashes the server when it detects table corruption. The reason for this behavior is preventing corruption propagation. However, in some situations, server availability is more important than data integrity. For this reason, we can avoid these crashes by changing the value of <a href="/kb/en/xtradbinnodb-server-system-variables/#innodb_corrupt_table_action">innodb_corrupt_table_action</a> to 'warn'.</p>
<p>If InnoDB crashes the server after detecting data corruption, it writes a detailed message in the error log. The first lines are similar to the following:</p>
<pre class="fixed">InnoDB: Database page corruption on disk or a failed
InnoDB: file read of page 7.
InnoDB: You may have to recover from a backup.
</pre><p>Generally, it is still possible to recover most of the corrupted data. To do so, restart the server in <a href="/kb/en/xtradbinnodb-recovery-modes/">InnoDB recovery mode</a> and try to extract the data that you want to backup. You can save them in a CSV file or in a non-InnoDB table. Then, restart the server in normal mode and restore the data.</p>
<h2 class="anchored_heading" id="myisam">MyISAM</h2>
<p>Most tables in the <a href="/kb/en/the-mysql-database-tables/">mysql</a> database are MyISAM tables. These tables are necessary for MariaDB to properly work, or even start.</p>
<p>A MariaDB crash could cause system tables corruption. With the default settings, MariaDB will simply not start if the system tables are corrupted. With <a href="/kb/en/myisam-system-variables/#myisam_recover_options">myisam_recover_options</a>, we can force MyISAM to repair damaged tables.</p>
<h2 class="anchored_heading" id="systemd">systemd</h2>
<p>If you are using <code><a href="/kb/en/systemd/">systemd</a></code>, then there are a few relevant notes about startup failures:</p>
<ul start="1"><li>If MariaDB is configured to access files under <code>/home</code>, <code>/root</code>, or <code>/run/user</code>, then the default systemd unit file will prevent access to these directories with a  <code>Permission Denied</code> error. This happens because the unit file set <code><a href="https://www.freedesktop.org/software/systemd/man/systemd.exec.html#ProtectHome=">ProtectHome=true</a></code>. See <a href="/kb/en/systemd/#configuring-access-to-home-directories">Systemd: Configuring Access to Home Directories</a> for information on how to work around this.
</li></ul>
<ul start="1"><li>The default systemd unit file also sets <a href="https://www.freedesktop.org/software/systemd/man/systemd.exec.html#ProtectSystem=">ProtectSystem=full</a>, which places restrictions on writing to a few other directories. Overwriting this with <code>ProtectSystem=off</code> in the same way as above will restore access to these directories.
</li></ul>
<ul start="1"><li>If MariaDB takes longer than 90 seconds to start, then the default systemd unit file will cause it to fail with an error. This happens because the default value for the <code><a href="https://www.freedesktop.org/software/systemd/man/systemd.service.html#TimeoutStartSec=">TimeoutStartSec</a></code> option is 90 seconds. See <a href="/kb/en/systemd/#configuring-the-systemd-service-timeout">Systemd: Configuring the Systemd Service Timeout</a> for information on how to work around this.
</li></ul>
<ul start="1"><li>The systemd journal may also contain useful information about startup failures. See <a href="/kb/en/systemd/#systemd-journal">Systemd: Systemd Journal</a> for more information.
</li></ul>
<p>See <a href="/kb/en/systemd/">systemd</a> documentation for further information on systemd configuration.</p>
<h2 class="anchored_heading" id="selinux">SELinux</h2>
<p><a href="https://selinuxproject.org/page/Main_Page">Security-Enhanced Linux (SELinux)</a> is a Linux kernel module that provides a framework for configuring <a href="https://en.wikipedia.org/wiki/Mandatory_access_control">mandatory access control (MAC)</a> system for many resources on the system. It is enabled by default on some Linux distributions, including RHEL, CentOS, Fedora, and other similar Linux distribution. SELinux prevents programs from accessing files, directories or ports unless it is configured to access those resources.</p>
<p>You might need to troubleshoot SELinux-related issues in cases, such as:</p>
<ul start="1"><li>MariaDB is using a non-default port.
</li><li>MariaDB is reading from or writing to some files (datadir, log files, option files, etc.) located at non-default paths.
</li><li>MariaDB is using a plugin that requires access to resources that default installations do not use.
</li></ul>
<p>Setting SELinux state to <code>permissive</code> is a common way to investigate what is going wrong while allowing MariaDB to function normally. <code>permissive</code> is supposed to produce a log entry every time it should block a resource access, without actually blocking it. However, <a href="https://danwalsh.livejournal.com/67855.html">there are situations</a> when SELinux blocks resource accesses even in <code>permissive</code> mode.</p>
<p>See <a href="/kb/en/selinux/">SELinux</a> for more information.</p>
<h2 class="anchored_heading" id="apparmor">AppArmor</h2>
<p>Add the following to <code>/etc/apparmor.d/tunables/alias</code> if you have moved the datadir:</p>
<pre class="fixed">alias /var/lib/mysql/ -&gt; /data/mariadb/,
</pre><p>The restart AppArmor:</p>
<pre class="fixed">sudo systemctl restart apparmor
</pre>
    </div>


        
            <div id="subscribe" class="well well-small hide hidden-print"
                 data-subscribe-url="/kb/en/what-to-do-if-mariadb-doesnt-start/+subscriptions/add"
                 data-unsubscribe-url="/kb/en/what-to-do-if-mariadb-doesnt-start/+subscriptions/remove">
            </div>
        

        
        
    
        <div class="simple_section_nav">
            <ul class="nav nav-pills">
                
                    <li><a href="/kb/en/mariadbd-options/">
                        ← mariadbd Options
                    </a>
                    </li>
                
                
                    <li><a href="/kb/en/starting-and-stopping-mariadb/">
                        ↑ Starting and Stopping MariaDB ↑
                    </a>
                    </li>
                
                
                    <li class="pull-right"><a href="/kb/en/running-mariadb-from-the-build-directory/">
                        Running MariaDB from the Build Directory →
                    </a>
                    </li>
                
            </ul>
        </div>
    

        

        
        <h2>Comments</h2>
        
    
    <div id="comments" data-node-id="3947" data-comments-url="/kb/en/what-to-do-if-mariadb-doesnt-start/+comments"
         data-reply-url="/kb/en/what-to-do-if-mariadb-doesnt-start/comments/post/">
        Comments loading...
    </div>

        

    </div>


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
                <div id="right_bar" class="col-md-2">
                    
    
        
        <ul class="section_navigation well well-small hidden-xs hidden-sm">
            
                <li class="parent"><a href="/kb/en/starting-and-stopping-mariadb/">
                    ↑ Starting and Stopping MariaDB ↑
                </a>
                </li>
            
            
                
                    <li>
                        <a href="/kb/en/starting-and-stopping-mariadb-automatically/">
                            
                            Starting and Stopping MariaDB Server
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/configuring-mariadb-with-option-files/">
                            <span class="pull-right not_primary"></span>
                            Configuring MariaDB with Option Files
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/mariadbd-options/">
                            
                            mariadbd Options
                        </a>
                    </li>
                
            
                
                    <li class="active">
                        <span>What to Do if MariaDB Doesn&#39;t Start</span>
                        
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/running-mariadb-from-the-build-directory/">
                            
                            Running MariaDB from the Build Directory
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/mysql-server/">
                            
                            mysql.server
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/switching-between-different-installed-mariadb-versions/">
                            
                            Switching Between Different Installed MariaDB Versions
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/running-multiple-mariadb-server-processes/">
                            
                            Running Multiple MariaDB Server Processes
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/specifying-permissions-for-schema-data-directories-and-tables/">
                            
                            Specifying Permissions for Schema (Data) Directories and Tables
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/launchd/">
                            
                            launchd
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/systemd/">
                            
                            systemd
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/sysvinit/">
                            
                            sysVinit
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/mariadb-admin/">
                            <span class="pull-right not_primary"></span>
                            mariadb-admin
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/mariadbd-multi/">
                            
                            mariadbd-multi
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/mariadbd-safe/">
                            
                            mariadbd-safe
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/mariadbd-configuration-files-and-groups/">
                            <span class="pull-right not_primary"></span>
                            mariadbd Configuration Files and Groups
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/mariadbd/">
                            
                            mariadbd
                        </a>
                    </li>
                
            
        </ul>
    
    

                </div>
            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/services" title="Services">Services</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">About Us</a></h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/download" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2025 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.1587e3a666fc.js" charset="utf-8"></script>

</html>