<?xml version="1.0" encoding="utf-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>MariaDB Knowledge Base Comments for: InnoDB Errors - Can't Start MariaDB After Unexpected Shutdown</title><link>https://mariadb.com/kb/en/innodb-errors-cant-start-mariadb-after-unexpected-shutdown/+comments/feed/</link><description></description><atom:link href="https://mariadb.com/kb/en/innodb-errors-cant-start-mariadb-after-unexpected-shutdown/+comments/feed/" rel="self"></atom:link><language>en-us</language><lastBuildDate>Mon, 24 Mar 2025 17:12:11 +0000</lastBuildDate><item><title>Re: InnoDB Errors - Can't Start MariaDB After Unexpected Shutdown</title><link>https://mariadb.com/kb/en/innodb-errors-cant-start-mariadb-after-unexpected-shutdown/+comments/6008</link><description>&lt;p&gt;Questionable advice like the one that you encountered motivated me to implement &lt;a href="https://jira.mariadb.org/browse/MDEV-27199"&gt;MDEV-27199&lt;/a&gt;. That is, starting with &lt;a href="/kb/en/what-is-mariadb-108/"&gt;MariaDB 10.8&lt;/a&gt;, InnoDB will no longer attempt to recreate a missing log file.&lt;/p&gt;
&lt;p&gt;The impact of setting innodb_force_recovery=6 or removing the write-ahead log depends on how many outstanding changes were lost by that, and which versions of modified pages had been last written from the buffer pool to the data files. The database contents could appear to be fine while some data is actually inconsistent. The database could also crash on an attempt to follow a corrupted pointer (say, when after a B-tree page split, only some of the involved pages had been written back). &lt;a href="https://jira.mariadb.org/browse/MDEV-13542"&gt;MDEV-13542&lt;/a&gt; in &lt;a href="/kb/en/mariadb-1069-release-notes/"&gt;MariaDB 10.6.9&lt;/a&gt;, 10.7.5, 10.8.4, 10.9.2 removed many of the crashes but ironically introduced two recovery bugs that were fixed in the unscheduled updates &lt;a href="/kb/en/mariadb-10610-release-notes/"&gt;MariaDB 10.6.10&lt;/a&gt;, 10.7.6, 10.8.5, 10.9.3: &lt;a href="https://jira.mariadb.org/browse/MDEV-29374"&gt;MDEV-29374&lt;/a&gt; and &lt;a href="https://jira.mariadb.org/browse/MDEV-29383"&gt;MDEV-29383&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;My talk &lt;a href="https://archive.fosdem.org/2022/schedule/event/mariadb_innodb/"&gt;https://archive.fosdem.org/2022/schedule/event/mariadb_innodb/&lt;/a&gt; explains how the InnoDB crash recovery works and some performance improvements that were implemented in &lt;a href="/kb/en/what-is-mariadb-108/"&gt;MariaDB 10.8&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;It is always a good idea to not only take regular backups of important data but also to test that the data can be recovered. When using MariaDB Backup, I recommend running &lt;code&gt;mariadb-backup --prepare&lt;/code&gt; on the freshly backed-up data.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Marko Mäkelä</dc:creator><guid>https://mariadb.com/kb/en/innodb-errors-cant-start-mariadb-after-unexpected-shutdown/+comments/6008</guid></item></channel></rss>