<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>MariaDB 5.3.3 Changelog - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.f7633538c846.css" rel="stylesheet" type="text/css" />

    

    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="MariaDB 5.3.3 Changelog" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/en/mariadb-533-changelog/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="Download | 
Release Notes | 
Changelog |
Overview of 5.3
Release date: 21 Dec 2011
For the highlights of this release, see the
release notes.
The revision number links will ta..." />

    <meta name="description" content="Download | 
Release Notes | 
Changelog |
Overview of 5.3
Release date: 21 Dec 2011
For the highlights of this release, see the
release notes.
The revision number links will ta..." />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes products nodes_view jqui" id="nodes_view">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/mariadb-533-changelog/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2024 MariaDB. All rights reserved.</p>
    </div>
</div>
<div class="violator-wrap d-none" id="top_violator">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12">
                <div class="violator-outer">
                    <div class="violator-inner">
                        <div class="row">
                            <div class="col-xs-12 col-sm-9 col-lg-7 col-lg-offset-2" id="top_violator_content">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="content-link" target="_blank" rel="nofollow noreferrer">
                                    <span>The Ultimate Guide to High Availability with MariaDB</span>
                                </a>
                            </div>
                            <div class="col-xs-12 col-sm-3" id="top_violator_cta">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="btn btn-mariadb" target="_blank" rel="nofollow noreferrer">Download Now</a>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn btn-link close-btn">
                        <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" width="15px" height="15px"><path d="M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/mariadb-533-changelog/" rel="nofollow">Login</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/en/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/en/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/services" title="Services">Services</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="About Us">About Us</a>
    </li>
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/en/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/en/mariadb-server-release-dates/">MariaDB Server Releases</a>
    

    
    » <a class="crumb" href="/kb/en/changelogs/">Changelogs</a>
    

    
    » <a class="crumb" href="/kb/en/changelogs-mariadb-53-series/">Changelogs - MariaDB 5.3 Series</a>
    


    » <a class="node_link crumb" href="/kb/en/mariadb-533-changelog/">MariaDB 5.3.3 Changelog</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/en/">Home</a></li>
                            
                                
                                    <li><a href="/kb/en/+questions/">Open Questions</a></li>
                                
                                <li><a href="/kb/en/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/en/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/en/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/en/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
<div>



<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-blue btn-sm" href="/kb/en/mariadb-533-changelog/+history" rel="nofollow">History</a>
        
        
        
        <a class="btn btn-block btn-blue btn-sm" href="/kb/en/mariadb-533-changelog/+source/">Source</a>
        
        <a class="btn btn-block btn-blue btn-sm flag" href="/kb/en/mariadb-533-changelog/+flag"
                data-flag-url="/kb/en/mariadb-533-changelog/+flag" rel="nofollow">
                Flag as Spam / Inappropriate</a>
        
        <a class="btn btn-block btn-blue btn-sm" href="/kb/en/mariadb-533-changelog/+translate/">
                Translate</a>
        

</div>
</div>





<div class="well well-small box node_info"><div>

    <dl>
        <dt>Created</dt>
        <dd>

<span class="datetime" title="2011-10-14 12:57">13 years, 1 month ago</span></dd>

        <dt>Modified</dt>
        <dd>

<span class="datetime" title="2022-11-18 02:56">2 years ago</span></dd>

        <dt>Type</dt>
        <dd>article</dd>

        <dt>Status</dt>
        <dd>active</dd>

        <dt>License</dt>
        <dd>
            
                <a href="/kb/en/mariadb-533-changelog/+license/">CC BY-SA / Gnu FDL</a>
            
        </dd>

        
    </dl>

    
    <ul class="rss_feeds">
        <li><a href="/kb/en/mariadb-533-changelog/+history/feed/">
            History</a>
        </li>
        <li><a href="/kb/en/mariadb-533-changelog/+comments/feed/">
            Comments</a>
        </li>
    </ul>
    

</div>
</div>





    
    
    

<div class="well well-small box attachments"><div><div class="edit_link pull-right"><a href="/kb/en/mariadb-533-changelog/+edit/attachments/">Edit</a></div><h5>Attachments</h5></div><div>

        
            <div class="no_data">No attachments exist</div>
        
    
</div>
</div>

    



    
    






</div>


                    

































                </aside>
            
            
            
                
            
            
                
            
            <section id="content" class="limited_width col-md-8 clearfix">
                
                    <h1>MariaDB 5.3.3 Changelog</h1>
                

                



                <div>
                    
    

    
    
    

    <div class="node creole">
        
        
        


    
    <div class="answer formatted">
        <p><a href="http://downloads.askmonty.org/mariadb/5.3.3">Download</a> | 
<a href="/kb/en/mariadb-533-release-notes/">Release Notes</a> | 
<strong>Changelog</strong> |
<a href="/kb/en/what-is-mariadb-53/">Overview of 5.3</a></p>
<p><strong>Release date:</strong> 21 Dec 2011</p>
<p>For the highlights of this release, see the
<a href="/kb/en/mariadb-533-release-notes/">release notes</a>.</p>
<p>The revision number links will take you to the revision's page on Launchpad. On
Launchpad you can view more details of the revision and view diffs of the code
modified in that revision.</p>
<ul start="1"><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3367">Revision #3367</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Tue 2011-12-20 12:13:47 +0400</span>
<ul start="1"><li>Fix version number: it's 5.3.3
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3366">Revision #3366</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Tue 2011-12-20 09:57:42 +0400</span>
<ul start="1"><li>Update mysql-test/suite/pbxt/r/subselect.result for the previous push
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3365">Revision #3365</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Mon 2011-12-19 23:05:44 +0200</span>
<ul start="1"><li>Backport of <a href="https://dev.mysql.com/worklog/task/?id=5953">MySQL Worklog #5953</a> from MySQL 5.6
</li><li>The patch differs from the original MySQL patch as follows:
<ul start="1"><li>All test case differences have been reviewed one by one, and
   care has been taken to restore the original plan so that each
   test case executes the code path it was designed for.
</li><li>A bug was found and fixed in <a href="/kb/en/what-is-mariadb-53/">MariaDB 5.3</a> in
   Item_allany_subselect::cleanup().
</li><li>ORDER BY is not removed because we are unsure of all effects,
   and it would prevent enabling ORDER BY ... LIMIT subqueries.
</li><li>ref_pointer_array.m_size is not adjusted because we don't do
   array bounds checking, and because it looks risky.
</li></ul>
</li><li>Original comment by Jorgen Loland:
<ul start="1" style="list-style: none"><li><a href="https://dev.mysql.com/worklog/task/?id=5953">MySQL Worklog #5953</a> - Optimize away useless subquery clauses
</li><li>For IN/ALL/ANY/SOME/EXISTS subqueries, the following clauses are 
   meaningless:
<ul start="1"><li>ORDER BY (since we don't support LIMIT in these subqueries)
</li><li>DISTINCT
</li><li>GROUP BY if there is no HAVING clause and no aggregate 
    functions
</li></ul>
</li><li>This WL detects and optimizes away these useless parts of the
   query during JOIN::prepare()
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3364">Revision #3364</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Mon 2011-12-19 22:24:10 +0400</span>
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/906385">Bug #906385</a>: EXPLAIN EXTENDED crashes in TABLE_LIST::print with limited max_join_size
<ul start="1"><li>Take into account that subquery's optimization can fail because of @@max_join_size error.
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3363">Revision #3363</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Mon 2011-12-19 20:58:55 +0400</span>
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/904432">Bug #904432</a>: Wrong result with LEFT JOIN, constant table, semijoin=ON,materialization=ON
<ul start="1"><li>Correct handling for SJ-Materialization + outer joins (details in the comments in the code)
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3362">Revision #3362</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Mon 2011-12-19 18:07:19 +0400</span>
<ul start="1"><li>Remove garbage comments
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3361">Revision #3361</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Mon 2011-12-19 10:11:21 +0200</span>
<ul start="1"><li>Supression condition made wider to cover some other system cases.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3360">Revision #3360</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sun 2011-12-18 23:38:37 -0800</span>
<ul start="1"><li>Fixed <a href="https://bugs.launchpad.net/bugs/904832">Bug #904832</a>.
</li><li>Do not perform index condition pushdown for conditions containing subqueries
   and stored functions.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3359">Revision #3359</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sun 2011-12-18 19:25:00 +0400</span>
<ul start="1"><li>Bump version number: now it's 5.3.3 (5.3.2 has been released some time ago)
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3358">Revision #3358</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-12-16 08:05:14 -0800</span>
<ul start="1"><li>Adjusted test cases of the suite funcs_1.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3357">Revision #3357</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-12-16 14:19:58 +0400</span>
<ul start="1"><li>Update test results for previous push
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3356">Revision #3356</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-12-16 10:21:46 +0400</span>
<ul start="1"><li>GIS issues fixed.
</li><li>Failures on SUN Solaris. Buggy compiler there required some extra initialization
  for variables. Then the 02 optimization leads to bugs when values set through the
  pointer are not always taken into account. Finally, the (long long) / (long)
  crashes there, the explicit typeconverstion added.
  Failing innodb_plunin.innodb_gis.test fixed.
</li><li>per-file comments:
<ul start="1"><li>mysql-test/suite/innodb_plugin/t/innodb_gis.test
<ul start="1"><li>GIS issues fixed.
</li></ul>
</li><li>sql/gcalc_slicescan.cc
<ul start="1"><li>GIS issues fixed.
</li></ul>
</li><li>sql/gcalc_tools.cc
<ul start="1"><li>GIS issues fixed.
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3355">Revision #3355</a> [merge]
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-12-15 15:55:00 -0800</span>
<ul start="1"><li>Merge
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3353.1.1">Revision #3353.1.1</a> [merge]
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-12-15 14:28:34 -0800</span>
<ul start="1"><li>Merge.
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3349.2.2">Revision #3349.2.2</a>
    <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-12-15 14:26:59 -0800</span>
<ul start="1"><li>Made join_cache_level == 2 by default.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3349.2.1">Revision #3349.2.1</a>
    <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-12-15 00:21:15 -0800</span>
<ul start="1"><li>Made the optimizer switch flags 'outer_join_with_cache', 'semijoin_with_cache'
    set to 'on' by default.
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3354">Revision #3354</a> [merge]
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-12-16 03:46:04 +0400</span>
<ul start="1"><li>Merge
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3349.1.2">Revision #3349.1.2</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-12-16 03:44:25 +0400</span>
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/901399">Bug #901399</a>: Wrong result (extra row) with semijoin=ON, materialization=OFF, optimizer_prune_level=0
</li><li>Correctly handle plan refinement stage for LooseScan plans: run create_ref_for_key() if LooseScan 
    plan includes a ref access, and if we don't have any fixed key components, switch to a full index scan.
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3353">Revision #3353</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-12-15 17:26:32 +0400</span>
<ul start="1"><li>Fix unused variable 'thd' error.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3352">Revision #3352</a> [merge]
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-12-15 16:47:39 +0400</span>
<ul start="1"><li>Merge
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3349.1.1">Revision #3349.1.1</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-12-15 02:49:19 +0400</span>
<ul start="1"><li>Make MyISAM's version of create_internal_tmp_table set 
    QPLAN_TMP_DISK, like Aria version does (otherwise slow query 
    log would show Tmp_table_on_disk=No when it should have said Yes)
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3351">Revision #3351</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-12-15 16:43:28 +0400</span>
<ul start="1"><li>Fix trivial merge error
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3350">Revision #3350</a> [merge]
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-12-14 20:38:38 +0200</span>
<ul start="1"><li>Merge
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3345.1.2">Revision #3345.1.2</a> [merge]
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-12-14 20:36:51 +0200</span>
<ul start="1"><li>Merge with 5.2
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2732.46.39">Revision #2732.46.39</a> [merge]
    <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Tue 2011-12-13 20:08:41 +0200</span>
<ul start="1"><li>Merge with 5.1
</li><li>Updated version number in configure
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2643.143.66">Revision #2643.143.66</a>
     <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Mon 2011-12-12 16:28:16 +0100</span>
<ul start="1"><li>new "<code class="fixed" style="white-space:pre-wrap">./configure --disable-distribution</code>" option
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2643.143.65">Revision #2643.143.65</a>
      <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Mon 2011-12-12 13:37:18 +0100</span>
<ul start="1"><li>Fix GCC build failure in PBXT in some cases/platforms.
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2643.143.64">Revision #2643.143.64</a>
       <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sun 2011-12-11 22:58:01 +0200</span>
<ul start="1"><li>Fixed valgrind problem: reference on deleted memory of temporary table name.
         Removed previous patch of this problem.
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2732.46.38">Revision #2732.46.38</a>
    <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Tue 2011-12-13 19:57:19 +0200</span>
<ul start="1"><li>Fixed <a href="https://bugs.launchpad.net/bugs/887051">Bug #887051</a>  ; Error in recovery with LOAD DATA + DELETE
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3345.1.1">Revision #3345.1.1</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Tue 2011-12-13 20:07:23 +0200</span>
<ul start="1"><li>Fixed failure with query_cache.test for embedded server
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3349">Revision #3349</a> [merge]
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-12-14 04:56:54 +0400</span>
<ul start="1"><li>Merge
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3338.1.1">Revision #3338.1.1</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-12-14 04:39:29 +0400</span>
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/901506">Bug #901506</a>: Crash in TABLE_LIST::print on EXPLAIN EXTENDED
<ul start="1"><li>Let JTBM optimization code handle the case where the subquery is
     degenerate and doesn't have a join query plan. Regular materialization
     would fall back to IN-&gt;EXISTS for such cases. Semi-Join materialization
     does not have such option, instead we introduce and use "constant JTBM
     join tabs".
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3348">Revision #3348</a> [merge]
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Tue 2011-12-13 14:28:53 -0800</span>
<ul start="1"><li>Merge
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3346.1.1">Revision #3346.1.1</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Tue 2011-12-13 14:20:47 -0800</span>
<ul start="1"><li>Fixed <a href="https://bugs.launchpad.net/bugs/902356">Bug #902356</a>.
</li><li>A memory overwrite in the function test_if_skip_sort_order()
    could cause a crash for some queries with subqueries.
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3347">Revision #3347</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-12-14 02:15:15 +0400</span>
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/902632">Bug #902632</a>: Crash or invalid read at st_join_table::cleanup, st_table::disable_keyread
<ul start="1"><li>Do a "more thorough" cleanup of SJ-Materialization join tab in
    JOIN_TAB::cleanup. The bug was due to the fact that JOIN_TAB::cleanup() may
    be called multiple times for the same tab if the join has grouping.
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3346">Revision #3346</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Tue 2011-12-13 20:52:06 +0200</span>
<ul start="1"><li>The variable query_cache_strip_comments allowed in embedded server.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3345">Revision #3345</a> [merge]
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Tue 2011-12-13 14:11:08 +0200</span>
<ul start="1"><li>Automatic merge
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3343.1.1">Revision #3343.1.1</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Tue 2011-12-13 14:00:20 +0200</span>
<ul start="1"><li>Fixed valgrind error when storing db_name_length in query_cache.
<ul start="1"><li>Changed storage to be 2 bytes instead of sizeof(size_t) (simple optimization)
</li><li>Fixed bug when using query_cache_strip_comments and query that started with '('
</li><li>Fixed DBUG_PRINT() that used wrong (not initialized) variables.
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3344">Revision #3344</a> [merge]
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Mon 2011-12-12 13:00:33 +0100</span>
<ul start="1"><li>5.2-&gt;5.3 merge
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2732.46.37">Revision #2732.46.37</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Mon 2011-12-12 12:36:46 +0200</span>
</li><li>Fixed <a href="https://bugs.launchpad.net/bugs/900375">Bug #900375</a>
</li><li>The range optimizer incorrectly chose a loose scan for group by
   when there is a correlated WHERE condition. This range access
   method cannot be executed for correlated conditions also with the
   "range checked for each record" because generally the range access
   method can change for each outer record. Loose scan destructively
   changes the query plan and removes the GROUP operation, which will
   result in wrong query plans if another range access is chosen
   dynamically.
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2732.46.36">Revision #2732.46.36</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-12-08 12:05:52 +0200</span>
</li><li>Fixed <a href="https://bugs.launchpad.net/bugs/888456">Bug #888456</a>
</li><li>Analysis:
<ul start="1"><li>The class member QUICK_GROUP_MIN_MAX_SELECT::seen_first_key
    was not reset between subquery re-executions. Thus each
    subsequent execution continued from the group that was
    reached by the previous subquery execution. As a result
    loose scan reached end of file much earlier, and returned
    empty result where it shouldn't.
</li></ul>
</li><li>Solution:
<ul start="1"><li>Reset seen_first_key before each re-execution of the
    loose scan.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2732.46.35">Revision #2732.46.35</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sat 2011-12-03 22:44:33 +0100</span>
<ul start="1"><li>updated the version in configure
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2732.46.34">Revision #2732.46.34</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-12-02 16:27:13 +0100</span>
<ul start="1"><li>PAM plugin with test
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2732.46.33">Revision #2732.46.33</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-12-02 16:26:43 +0100</span>
<ol start="1"><li>add <code class="fixed" style="white-space:pre-wrap">--plugin-dir</code> and <code class="fixed" style="white-space:pre-wrap">--default-auth</code> to mysqltest.
</li><li>dialog plugin now always returns mysql-&gt;password if non-empty and the first question is of password type
</li><li>split get_tty_password into get_tty_password_buff and strdup.
</li><li>dialog plugin now uses get_tty_password by default
</li><li>dialog.test
</li><li>moved small tests of individual plugins into a dedicated suite
</li></ol>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2732.46.32">Revision #2732.46.32</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sat 2011-12-03 10:53:00 +0100</span>
<ul start="1"><li>update tests
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3343">Revision #3343</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sun 2011-12-11 19:41:53 -0800</span>
<ul start="1"><li>Fixed <a href="https://bugs.launchpad.net/bugs/901709">Bug #901709</a>
</li><li>The cause of the reported assertion failure was a division of a double value by 0. 
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3342">Revision #3342</a> [merge]
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sun 2011-12-11 14:38:14 -0800</span>
<ul start="1"><li>Merge
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3339.1.1">Revision #3339.1.1</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sun 2011-12-11 12:56:06 -0800</span>
<ul start="1"><li>Fixed <a href="https://bugs.launchpad.net/bugs/901478">Bug #901478</a>
</li><li>If the duplicate elimination strategy is used for a semi-join and potentially
    one of the block-based join algorithms can be employed to join the inner
    tables of the semi-join then sorting of the head (first non-constant) table
    for a query with ORDER BY / GROUP BY cannot be used.
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3341">Revision #3341</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sun 2011-12-11 12:42:43 -0800</span>
<ul start="1"><li>Adjusted the results of pbxt.subselect after the latest merge 5.1-&gt;5.2-&gt;5.3.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3340">Revision #3340</a> [merge]
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sun 2011-12-11 19:28:05 +0200</span>
<ul start="1"><li>Merge with 5.1 &amp; fixes to IGNORE handling
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3327.1.3">Revision #3327.1.3</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sun 2011-12-11 18:39:33 +0200</span>
<ul start="1"><li>Rewrite IGNORE handling:
<ul start="1"><li>Instead of supressing all errors, only suppress safe ones like:
<ul start="1"><li>ER_DUP_KEY, ER_BAD_NULL_ERROR, ER_SUBQUERY_NO_1_ROW, ER_ROW_IS_REFERENCED_2
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3327.1.2">Revision #3327.1.2</a> [merge]
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sun 2011-12-11 11:34:44 +0200</span>
<ul start="1"><li>Merge with 5.2.
</li><li>no_error handling for select (used by <code>INSERT ... SELECT</code>) still needs to
    be fixed, but I will do that in a separate commit
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2732.46.31">Revision #2732.46.31</a> [merge]
    <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sat 2011-12-03 20:47:25 +0200</span>
<ul start="1"><li>Merge with 5.1
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2643.143.63">Revision #2643.143.63</a>
     <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sat 2011-12-03 20:29:15 +0200</span>
<ul start="1"><li>Added suppressions
</li><li>Fixed feedback_plugin_send to not generate a random number of lines.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2643.143.62">Revision #2643.143.62</a> [merge]
     <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-12-01 19:20:57 +0100</span>
<ul start="1"><li>merge
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2643.150.2">Revision #2643.150.2</a> [merge]
      <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-12-01 19:18:45 +0100</span>
<ul start="1"><li>merge
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2643.150.1">Revision #2643.150.1</a>
      <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-12-01 19:15:09 +0100</span>
<ul start="1"><li>Fix main.merge testcase on Windows
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2732.46.30">Revision #2732.46.30</a>
    <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sat 2011-12-03 20:44:54 +0200</span>
<ul start="1"><li>Fixed buildbot warnings
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2732.46.29">Revision #2732.46.29</a>
    <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-12-02 18:10:54 +0200</span>
<ul start="1"><li>Fixed some Aria limits to be more sane
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2732.46.28">Revision #2732.46.28</a> [merge]
    <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-12-02 17:32:56 +0200</span>
<ul start="1"><li>Merge
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2732.49.1">Revision #2732.49.1</a>
     <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-12-02 17:22:17 +0200</span>
<ul start="1"><li>Fixed bug where automaticly zerofilled table was not part of recovery if crash happended before next checkpoint.
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2732.46.27">Revision #2732.46.27</a>
    <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-12-01 22:37:45 +0100</span>
<ul start="1"><li>Fix intermittently failing variables-notembedded test case.
</li><li>After sending packet that is too large, clienrt can get either an error packet with 
     ER_NET_PACKET_TOO_LARGE, or a socket error. Both cases are valid, since the
     server does not ensure reply was fully read by client, before shutting down  and closing 
     the socket.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2732.46.26">Revision #2732.46.26</a>
    <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-12-01 20:21:11 +0200</span>
<ul start="1"><li>Fixed compiler warning
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2732.46.25">Revision #2732.46.25</a> [merge]
    <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-12-01 20:14:53 +0200</span>
<ul start="1"><li>Merge with 5.1
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2643.143.61">Revision #2643.143.61</a>
     <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-12-01 20:11:41 +0200</span>
<ul start="1"><li>Fixed that <code class="fixed" style="white-space:pre-wrap">--with-libedit --without-readline</code> works
</li><li>Fixed buildbot failures (compiler warnings, failing tests)
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2732.46.24">Revision #2732.46.24</a> [merge]
    <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-11-30 22:57:18 +0200</span>
<ul start="1"><li>Merge with 5.1
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2643.143.60">Revision #2643.143.60</a>
     <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-11-30 20:57:09 +0200</span>
<ul start="1"><li>Fixed compiler warning and errors
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2643.143.59">Revision #2643.143.59</a>
     <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-11-30 18:44:51 +0200</span>
<ul start="1"><li>Fixed compiler warnings and other bugs found by buildbot.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2643.143.58">Revision #2643.143.58</a>
     <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-11-30 11:37:28 +0100</span>
<ul start="1"><li>test both federated and federatedX in the federated suite.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2643.143.57">Revision #2643.143.57</a>
     <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-11-30 13:53:25 +0100</span>
<ul start="1"><li>Cherrypick into XtraDB: Bug#13002783 PARTIALLY UNINITIALIZED CASCADE UPDATE VECTOR&lt;&lt;/style&gt;&gt;
</li><li>We merged the test case for this into <a href="/kb/en/what-is-mariadb-51/">MariaDB 5.1</a>, but the fix was not
      yet part of XtraDB.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2643.143.56">Revision #2643.143.56</a>
     <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-11-30 00:34:05 +0200</span>
<ul start="1"><li>Fixed compiler warnings
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2732.46.23">Revision #2732.46.23</a> [merge]
    <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Tue 2011-11-29 22:48:24 +0200</span>
<ul start="1"><li>Merge with 5.1 + fixes for build failures in 5.2
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2643.143.55">Revision #2643.143.55</a>
     <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Tue 2011-11-29 15:32:25 +0200</span>
<ul start="1"><li>Fixed that maria-recover works as expected.
<ul start="1"><li>"" is now used if no option is set
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2643.143.54">Revision #2643.143.54</a>
     <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Tue 2011-11-29 01:10:17 +0100</span>
<ul start="1"><li>Fix Windows build, and a conversion truncation warning.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2643.143.53">Revision #2643.143.53</a>
     <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-11-24 19:23:20 +0200</span>
<ul start="1"><li>Fixed that one can use <code class="fixed" style="white-space:pre-wrap">--maria-recover=backup,force</code>
</li><li>(Before we only allowed one option)
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2732.46.22">Revision #2732.46.22</a>
    <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Tue 2011-11-29 08:50:54 +0100</span>
<ul start="1"><li>Fix testcases:
<ol start="1"><li>main.merge fails with errno 13 in copy_file().
<ul start="1"><li>The reason for the error is that copy_file tries to create a file with
       the same name as recently deleted one, and there is still an open handle
       for the deleted file.
</li><li>To fix, use my_delete_allow_opened() for MTR's delete_file. On Windows,
       this renames file to unique name prior to deletion, and prevents EACCES
       errors for files opened with FILE_SHARE_DELETE.
</li></ul>
</li><li>innodb_bug59641 
<ul start="1"><li>generates warnings, after server was killed and restarted in the test case.
</li><li>The warnings are about test_suppression table (needs to be repaired, as it that was written just prior to the crash)
</li><li>Fixed by using FLUSH TABLES after populating warning suppression table.
</li></ul>
</li></ol>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2732.46.21">Revision #2732.46.21</a>
    <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Tue 2011-11-29 02:00:24 +0100</span>
<ul start="1"><li>merge, fix Windows warnings
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2732.46.20">Revision #2732.46.20</a>
    <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Mon 2011-11-28 15:08:12 +0100</span>
<ul start="1"><li>after merge fixes
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2732.46.19">Revision #2732.46.19</a> [merge]
    <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-11-24 22:48:35 +0200</span>
<ul start="1"><li>Automatic merge
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2732.48.2">Revision #2732.48.2</a>
     <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-11-24 19:07:36 +0200</span>
<ul start="1"><li>Added test case for <a href="https://bugs.launchpad.net/bugs/875797">Bug #875797</a>  Using 'innodb_sys_indexes' causes core dump
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2732.48.1">Revision #2732.48.1</a> [merge]
     <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-11-24 18:48:58 +0200</span>
<ul start="1"><li>Merge with <a href="/kb/en/what-is-mariadb-51/">MariaDB 5.1</a>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2643.143.52">Revision #2643.143.52</a>
      <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-11-24 16:04:19 +0200</span>
<ul start="1"><li>Fixes for build failuers found by buildbot
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2643.143.51">Revision #2643.143.51</a> [merge]
      <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-11-23 19:32:14 +0200</span>
<ul start="1"><li>Merge with MySQL 5.1.60
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2643.143.50">Revision #2643.143.50</a>
      <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-11-23 10:25:27 +0200</span>
<ul start="1"><li>Fixes of testcases after merge with MySQL 5.1.59
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2643.143.49">Revision #2643.143.49</a> [merge]
      <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Mon 2011-11-21 19:19:37 +0200</span>
<ul start="1"><li>Merge of XtraDB for 5.1.59
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2643.149.1">Revision #2643.149.1</a> [merge]
       <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Mon 2011-11-21 14:21:13 +0100</span>
<ul start="1"><li>Merge XtraDB from Percona-Server-5.1.59-13 into <a href="/kb/en/what-is-mariadb-51/">MariaDB 5.1</a>.
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/0.6.47">Revision #0.6.47</a>
        <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Mon 2011-11-21 13:20:15 +0100</span>
<ul start="1"><li>Updated with changes from Percona Server 5.1.56-13, from
         lp<code>:</code>percona-server/5.1, tag Percona-Server-5.1.59-13.0.
</li><li>Merged: revid:<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="2c454b424d4f4543024245426c5c495e4f43424d024f4341011e1c1d1d1d1c1d1a1d1f1f14181d014a565c5e195f1415421d1f4a581d5f1d">[email&#160;protected]</a>
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2643.143.48">Revision #2643.143.48</a> [merge]
      <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Mon 2011-11-21 19:17:56 +0200</span>
<ul start="1"><li>Automatic merge
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2643.148.1">Revision #2643.148.1</a> [merge]
       <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Mon 2011-11-21 19:13:14 +0200</span>
<ul start="1"><li>Initial merge with MySQL 5.1 (XtraDB still needs to be merged)
</li><li>Fixed up copyright messages.
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2732.46.18">Revision #2732.46.18</a>
    <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Tue 2011-11-22 21:55:11 +0100</span>
<ul start="1"><li>fix dialog plugin to work on windows
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2732.46.17">Revision #2732.46.17</a>
    <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Tue 2011-11-15 13:14:54 +0200</span>
<ul start="1"><li>Fix for <a href="https://bugs.launchpad.net/bugs/780425">Bug #780425</a> sql_buffer_result=1 gives wrong result for GROUP BY with a +# constant expression"
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3327.1.1">Revision #3327.1.1</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sat 2011-12-03 23:06:16 +0200</span>
<ul start="1"><li>Added handler and temporary table usage to mytop
</li><li>Fixed prompt on reconnect in mysql client
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3339">Revision #3339</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-12-09 14:30:50 -0800</span>
<ul start="1"><li>Fixed <a href="https://bugs.launchpad.net/bugs/901312">Bug #901312</a>
</li><li>The function setup_sj_materialization_part1() forgot to set the value
   of TABLE::map for any materialized IN subquery. 
</li><li>This could lead to wrong results for queries with subqueries that were
   converted to queries with semijoins.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3338">Revision #3338</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-12-08 16:29:45 +0400</span>
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/901655">Bug #901655</a> ST_BUFFER asserts with a coplicated shape.
</li><li>Coinciding nodes can appear as a result of DOUBLE inaccuracy.
</li><li>We should test that before we start the loop.
</li><li>Also the spatial relations can be calculated faster if we check
   MBR relations first. And we do have the shape's MBR-s now.
</li><li>per-file comments:
<ul start="1"><li>sql/gcalc_slicescan.cc
<ul start="1"><li>set_extent() method added.
</li><li><a href="https://bugs.launchpad.net/bugs/901655">Bug #901655</a> ST_BUFFER asserts with a coplicated shape.
</li></ul>
</li><li>sql/gcalc_slicescan.h
<ul start="1"><li>set_extent() method declared.
</li><li><a href="https://bugs.launchpad.net/bugs/901655">Bug #901655</a> ST_BUFFER asserts with a coplicated shape.
</li></ul>
</li><li>sql/gcalc_tools.cc
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/901655">Bug #901655</a> ST_BUFFER asserts with a coplicated shape.
</li><li>checks for equal nodes added.
</li></ul>
</li><li>sql/item_geofunc.cc
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/901655">Bug #901655</a> ST_BUFFER asserts with a coplicated shape.
</li><li>MBR for the shapes calculated, and MBR checks added before we
     start the heavy calculations.
</li></ul>
</li><li>sql/spatial.h
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/901655">Bug #901655</a> ST_BUFFER asserts with a coplicated shape.
</li><li>MBR::buffer() method implemented.
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3337">Revision #3337</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-12-08 04:22:38 +0400</span>
<ul start="1"><li>Small semi-join optimization improvement:
<ul start="1"><li>if we're considering FirstMatch access with one inner table, and 
    @@optimizer_switch has semijoin_with_cache flag, calculate costs
    as if we used join cache (because we will be able to do so)
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3336">Revision #3336</a> [merge]
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-12-08 02:47:54 +0400</span>
<ul start="1"><li>Merge fix for <a href="https://bugs.launchpad.net/bugs/868908">Bug #868908</a>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3322.1.3">Revision #3322.1.3</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-12-07 23:15:57 +0400</span>
<ul start="1"><li>Remove garbage assignments causing failures on Windows
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3322.1.2">Revision #3322.1.2</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-12-07 19:21:51 +0400</span>
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/868908">Bug #868908</a>: Crash in check_simple_equality() with semijoin + materialization + prepared statement
<ul start="1"><li>Part2: safety and code cleanup
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3322.1.1">Revision #3322.1.1</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-12-07 01:03:00 +0400</span>
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/868908">Bug #868908</a>: Crash in check_simple_equality() with semijoin + materialization + prepared statement
<ul start="1"><li>Part 1 of the fix: for semi-join merged subqueries, calling child_join-&gt;optimize() until we're done with all
     PS-lifetime optimizations in the parent.
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3335">Revision #3335</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-12-08 02:12:48 +0400</span>
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/901032">Bug #901032</a>: Wrong result for MIN/MAX on an indexed column with materialization and semijoin
<ul start="1"><li>opt_sum_query() should not assume that join tables from sj-materialization
    have known numbers of rows.
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3334">Revision #3334</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Tue 2011-12-06 13:42:18 -0800</span>
<ul start="1"><li>Fixed <a href="https://bugs.launchpad.net/bugs/900469">Bug #900469</a>.
</li><li>The execution plan cannot use sorting on the first table from the
   sequence of the joined tables if it plans to employ the block-based
   hash join algorithm.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3333">Revision #3333</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Tue 2011-12-06 02:46:42 -0800</span>
<ul start="1"><li>Fixed <a href="https://bugs.launchpad.net/bugs/899509">Bug #899509</a>.
</li><li>The optimizer must ignore any possible hash join key when looking for the 
   query execution plan with join_cache_level set to 0.  
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3332">Revision #3332</a> [merge]
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Mon 2011-12-05 18:52:50 -0800</span>
<ul start="1"><li>Merge
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3330.1.1">Revision #3330.1.1</a> [merge]
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Mon 2011-12-05 18:51:56 -0800</span>
<ul start="1"><li>Merge
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3328.1.1">Revision #3328.1.1</a>
    <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Mon 2011-12-05 09:50:24 -0800</span>
<ul start="1"><li>Fixed <a href="https://bugs.launchpad.net/bugs/899777">Bug #899777</a>.
</li><li>KEYUSE elements for a possible hash join key are not sorted by field
     numbers of the second table T of the hash join operation. Besides
     some of these KEYUSE elements cannot be used to build any key as their
     key expressions depend on the tables that are planned to be accessed
     after the table T. 
</li><li>The code before the patch did not take this into account and, as a result,
     execition of a query the employing block-based hash join algorithm could
     cause a crash or return a wrong result set. 
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3331">Revision #3331</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Tue 2011-12-06 01:04:27 +0400</span>
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/899962">Bug #899962</a>: materialized subquery with join_cache_level=3 
</li><li>Make create_tmp_table() set KEY_PART_INFO attributes for the keys it creates.
</li><li>This wasn't needed before but is needed now, when temp. tables that are 
   results of SJ-Materialization are being used for joins.
</li><li>This particular bug depended on HA_VAR_LENGTH_PART being set,
   but also added code to set HA_BLOB_PART and HA_NULL_PART when appropriate.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3330">Revision #3330</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Mon 2011-12-05 10:24:14 +0400</span>
<ul start="1"><li>Update test result missed in the previous cset
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3329">Revision #3329</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Mon 2011-12-05 01:31:42 +0400</span>
<ul start="1"><li>Make subquery Materialization, as well as semi-join Materialization be shown
   in EXPLAIN as select_type==MATERIALIZED. 
</li><li>Before, we had select_type==SUBQUERY and it was difficult to tell materialized
   subqueries from uncorrelated scalar-context subqueries.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3328">Revision #3328</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sun 2011-12-04 07:43:33 -0800</span>
<ul start="1"><li>Fixed <a href="https://bugs.launchpad.net/bugs/899696">Bug #899696</a>.
</li><li>If has been decided that the first match strategy is to be used to join table T
   from a semi-join nest while no buffer can be employed to join this table
   then no join buffer can be used to join any table in the join sequence between
   the first one belonging to the semi-join nest and table T.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3327">Revision #3327</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-12-02 00:36:55 +0200</span>
<ul start="1"><li>Added new file (for netware)
</li><li>Added some file to ignore
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3326">Revision #3326</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-12-02 00:34:59 +0200</span>
<ul start="1"><li>Fixes for netware by Guenter Knauf
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3325">Revision #3325</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-12-02 00:24:58 +0200</span>
<ul start="1"><li>Patch to get MariaDB to compile on CYGWIN; By Guenter Knauf
</li><li>Increased number of locks in thr_lock (used only when testing)
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3324">Revision #3324</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-11-30 10:22:53 -0800</span>
<ul start="1"><li>Fixed <a href="https://bugs.launchpad.net/bugs/898073">Bug #898073</a>.
</li><li>The tables from the same semi-join or outer join nest cannot use
   join buffers if in the join sequence of the query execution plan
   they are separated by a table that is planned to be joined without
   usage of a join buffer.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3323">Revision #3323</a> [merge]
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-11-30 08:28:40 +0200</span>
<ul start="1"><li>Merge the fix of <a href="https://bugs.launchpad.net/bugs/825051">Bug #825051</a>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3321.1.1">Revision #3321.1.1</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Tue 2011-11-29 23:06:39 +0200</span>
<ul start="1"><li>Fixed <a href="https://bugs.launchpad.net/bugs/825051">Bug #825051</a>
</li><li>The cause of the wrong result was that Item_ref_null_helper::get_date()
    didn't use a method of the *_result() family, and fetched the data
    for the field from the current row instead of result_field. Changed to
    use the correct *_result() method, like to all other similar methods
    of Item_ref_null_helper.
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3322">Revision #3322</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Tue 2011-11-29 23:09:06 +0200</span>
<ul start="1"><li>Added test suite for the <a href="https://bugs.launchpad.net/bugs/885162">Bug #885162</a> (fixed by the patch for <a href="https://bugs.launchpad.net/bugs/859375">Bug #859375</a> and <a href="https://bugs.launchpad.net/bugs/887458">Bug #887458</a>).
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3321">Revision #3321</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Tue 2011-11-29 15:27:52 +0400</span>
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/857066">Bug #857066</a> Wrong result with ST_DISJOINT when using an index.
</li><li>DISJOINT can't be properly optimized with the RTree keys in MyISAM also.
</li><li>per-file comments:
<ul start="1"><li>storage/myisam/rt_index.c
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/857066">Bug #857066</a> Wrong result with <code>ST_DISJOINT</code> when using an index.
</li><li>don't optimize <code>DISJOINT</code> with the RTree keys.
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3320">Revision #3320</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Tue 2011-11-29 02:11:13 +0400</span>
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/857066">Bug #857066</a> Wrong result with ST_DISJOINT when using an index
   the ST_DISJOINT can't be properly optimized with the RTree key
   at the moment.
</li><li>per-file comments:
<ul start="1"><li>storage/maria/ma_rt_index.c
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/857066">Bug #857066</a> Wrong result with ST_DISJOINT when using an index
     disabled optimization for the DISJOINT case.
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3319">Revision #3319</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Mon 2011-11-28 15:24:07 +0200</span>
<ul start="1"><li>Fix <a href="https://bugs.launchpad.net/bugs/833777">Bug #833777</a>, <a href="https://bugs.launchpad.net/bugs/894397">Bug #894397</a>
</li><li>Analysis:
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/894397">Bug #894397</a> was a consequence of a prior incorrect fix of <a href="https://bugs.launchpad.net/bugs/833777">Bug #833777</a>
    which didn't take into account that even when all tables are
    constant there may be correlated conditions, and the where clause
    is not equivalent to the constant conditions.
</li></ul>
</li><li>Solution:
<ul start="1"><li>When there are constant tables only, evaluate only the conditions
    that reference outer fields, because the constant conditions are
    already checked, and the where clause doesn't have other conditions
    than constant ones, and outer referencing ones. The fix for
    <a href="https://bugs.launchpad.net/bugs/894397">Bug #894397</a> also fixes <a href="https://bugs.launchpad.net/bugs/833777">Bug #833777</a>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3318">Revision #3318</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Mon 2011-11-28 12:42:14 +0200</span>
<ul start="1"><li>Fixed <a href="https://bugs.launchpad.net/bugs/747278">Bug #747278</a>
</li><li>The problem was that when we have single row subquery with no rows
   Item_cache(es) which represent result row was not null and being
   requested via element_index() returned random value.
</li><li>The fix is setting all Item_cache(es) in NULL before executing the
   query (reset() method) which guaranty NULL value of whole query
   or its elements requested in any way if no rows was found.
</li><li>set_null() method was added to Item_cache to guaranty correct NULL
   value in case of reseting the cache.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3317">Revision #3317</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sat 2011-11-26 14:23:00 -0800</span>
<ul start="1"><li>Set new default values for the optimizer switch flags 'derived_merge'
   and 'derived_with_keys'. Now they are set on by default.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3316">Revision #3316</a> [merge]
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sat 2011-11-26 12:27:52 +0400</span>
<ul start="1"><li>Merge
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3314.1.5">Revision #3314.1.5</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-11-25 23:54:36 +0400</span>
<ul start="1"><li>Subquery code cleanups:
      - Make functions that operate on SJ_TMP_TABLE be member functions
      - Make Loose_scan_opt data members private
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3314.1.4">Revision #3314.1.4</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-11-25 21:45:58 +0400</span>
<ul start="1"><li>Update test results
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3314.1.3">Revision #3314.1.3</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-11-25 15:48:56 +0400</span>
<ul start="1"><li>Update test results
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3314.1.2">Revision #3314.1.2</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-11-25 14:57:27 +0400</span>
<ul start="1"><li>Remove garbage comments
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3314.1.1">Revision #3314.1.1</a> [merge]
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-11-25 14:28:43 +0400</span>
<ul start="1"><li>Merge
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3275.1.3">Revision #3275.1.3</a>
    <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-11-25 05:56:58 +0400</span>
<ul start="1"><li>Semi-join optimizations code cleanup part 2:
<ul start="1"><li>Make EXPLAIN display "Start temporary" at the start of the fanout (it used to display
     at the first table whose rowid gets into temp. table which is not that useful for
     the user)
</li><li>Updated test results (all checked)
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3275.1.2">Revision #3275.1.2</a>
    <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-11-23 04:25:52 +0400</span>
<ul start="1"><li>Semi-join optimizations code cleanup:
<ul start="1"><li>Break down POSITION/advance_sj_state() into four classes 
     representing potential semi-join strategies.
</li><li>Treat all strategies uniformly (before, DuplicateWeedout 
     was special as it was the catch-all strategy. Now, we're 
     still relying on it to be the catch-all, but are able to 
     function,e.g. with firstmatch=on,duplicate_weedout=off.
</li><li>Update test results (checked)
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3275.1.1">Revision #3275.1.1</a>
    <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sat 2011-11-12 20:50:11 +0200</span>
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/887468">Bug #887468</a>: Second assertion `keypart_map' failed in maria_rkey with semijoin
</li><li>in advance_sj_state: Do not try to construct LooseScan strategy if we're 
     already behind the last LooseScan table.
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3315">Revision #3315</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-11-25 22:54:13 +0400</span>
<ul start="1"><li>Remove garbage comment
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3314">Revision #3314</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-11-24 22:56:02 -0800</span>
<ul start="1"><li>Currently innodb_plugin does not support ICP. Part2.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3313">Revision #3313</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-11-24 23:47:50 +0200</span>
<ul start="1"><li>Added valgrind suppression for an error due to
</li><li><a href="http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=577135">http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=577135</a>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3312">Revision #3312</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-11-24 23:15:40 +0200</span>
<ul start="1"><li>Fix <a href="https://bugs.launchpad.net/bugs/894326">Bug #894326</a>
</li><li>The patch also fixes an unrelated compiler warning.
</li><li>Analysis:
<ul start="1"><li>The temporary table created during SJ-materialization
    might be used for sorting for a group by operation. The
    sort buffers for this internal temporary table were not
    cleared by the execution code after each subquery
    re-execution. This resulted in a memory leak detected
    by valgrind.
</li></ul>
</li><li>Solution:
<ul start="1"><li>Cleanup the sort buffers for the semijon tables as well.
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3311">Revision #3311</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-11-24 12:19:37 -0800</span>
  Currently innodb_plugin does not support ICP.
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3310">Revision #3310</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-11-24 15:12:10 +0200</span>
<ul start="1"><li>Fix for <a href="https://bugs.launchpad.net/bugs/859375">Bug #859375</a> and <a href="https://bugs.launchpad.net/bugs/887458">Bug #887458</a>.
</li><li>Stop attempts to apply IN/ALL/ANY optimizations to so called "fake_select"
   (used for ordering and filtering results of union) in union subquery execution.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3309">Revision #3309</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-11-24 16:26:13 +0400</span>
<ul start="1"><li>fixes to make compilers happy.
</li><li>per-file comments:
<ul start="1"><li>mysql-test/t/gis-precise.test
<ul start="1"><li>number-to-string conversion differs on Windows.
</li><li>Have to tolerate this while GIS data is stored in doubles.
</li></ul>
</li><li>sql/spatial.cc
<ul start="1"><li>prev_x initialization added.
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3308">Revision #3308</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-11-23 23:13:51 +0200</span>
<ul start="1"><li>Fix <a href="https://bugs.launchpad.net/bugs/893486">Bug #893486</a>
</li><li>Analysis:
<ul start="1"><li>The bug is a result of an incomplete fix for <a href="https://bugs.launchpad.net/bugs/869036">Bug #869036</a>
</li><li>That fix didn't take into account that there may be a case
    when ther are no NULLs in the materialized subquery, however
    all columns without NULLs may not be grouped in the only
    non-null index. This is the case when the left subquery expression
    has nullable columns.
</li></ul>
</li><li>Solution:
<ul start="1"><li>The patch handles two missing sub-cases of the case when there are
    no value (non-null matches) for any outer expression, and there are
    both NULLs and non-NUll values in the outer reference.
<ol start="1" style="list-style: lower-alpha"><li>If the materialized subquery contains no NULLs there cannot be a
     partial match, because there are no NULLs in those columns where
     the outer reference has no NULLs.
</li><li>If the materialized subquery contains NULLs, but there exists a
     column, such that its corresponding outer expression has no NULL,
     and this column also has no NULL. Then there cannot be a partial
     match either.
</li></ol>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3307">Revision #3307</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Tue 2011-11-22 17:57:33 +0400</span>
<ul start="1"><li>Small fixes to make compilers happy.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3306">Revision #3306</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Tue 2011-11-22 17:32:05 +0400</span>
<ul start="1"><li>Windows has no 'nearbyint' in libraries.
</li><li>So removed.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3305">Revision #3305</a> [merge]
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Tue 2011-11-22 12:06:46 +0200</span>
<ul start="1"><li>Merge default materialization=on.
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3300.2.1">Revision #3300.2.1</a> [merge]
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Mon 2011-11-21 17:48:25 +0200</span>
<ul start="1"><li>Merge enabling materialization=on by default.
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3290.1.1">Revision #3290.1.1</a> [merge]
    <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Mon 2011-11-21 16:56:32 +0200</span>
<ul start="1"><li>Merge enabling of materialization=on by default with main tree.
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3273.1.3">Revision #3273.1.3</a>
     <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-11-09 21:29:01 +0200</span>
<ul start="1"><li>Fixed PBXT test cases.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3273.1.2">Revision #3273.1.2</a>
     <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-11-09 16:46:08 +0200</span>
<ul start="1"><li>Removed a comment that is not true any more.
</li><li>Consistent use of the <code>SUBS_NOT_TRANSFORMED</code> constant for in_strategy.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3273.1.1">Revision #3273.1.1</a>
     <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-11-09 15:36:25 +0200</span>
<ul start="1"><li>Enable subquery materialization=ON by default.
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3304">Revision #3304</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Mon 2011-11-21 22:16:01 +0200</span>
<ul start="1"><li>Fix <a href="https://bugs.launchpad.net/bugs/833777">Bug #833777</a>
</li><li>Correct test file.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3303">Revision #3303</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Mon 2011-11-21 22:01:47 +0200</span>
<ul start="1"><li>Fix <a href="https://bugs.launchpad.net/bugs/833777">Bug #833777</a>
</li><li>Fix test to pass on 32-bit machines by reducing
   the depth of subquery nestedness to less than 31
   (sizeof(ulong)-1).
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3302">Revision #3302</a> [merge]
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Mon 2011-11-21 11:21:30 -0800</span>
<ul start="1"><li>Merge.
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3300.1.1">Revision #3300.1.1</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Mon 2011-11-21 09:06:35 -0800</span>
<ul start="1"><li>Fixed <a href="https://bugs.launchpad.net/bugs/887496">Bug #887496</a>
</li><li>This bug in the function Loose_scan_opt::check_ref_access_part1 could lead
    to choosing an invalid execution plan employing a loose scan access to a
    semi-join table even in the cases when such access could not be used at all.
    This could result in wrong answers for some queries with IN subqueries.
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3301">Revision #3301</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Mon 2011-11-21 18:00:55 +0200</span>
<ul start="1"><li>Fix <a href="https://bugs.launchpad.net/bugs/833777">Bug #833777</a>
</li><li>Analysis:
<ul start="1"><li>The optimizer distinguishes two kinds of 'constant' conditions:
    expensive ones, and non-expensive ones. The non-expensive conditions
    are evaluated inside make_join_select(), and if false, already the
    optimizer detects empty query results.
</li><li>In order to avoid arbitrarily expensive optimization, the evaluation of
    expensive constant conditions is delayed until execution. These conditions
    are attached to JOIN::exec_const_cond and evaluated in the beginning of
    JOIN::exec. The relevant execution logic is:<pre class="fixed">JOIN::exec()
  {
    if (! join-&gt;exec_const_cond-&gt;val_int())
    {
      produce an empty result;
      stop execution
    }
    continue execution
    execute the original WHERE clause (that contains exec_const_cond)
   ...
  }
</pre>
</li><li>As a result, when an expensive constant condition is
    TRUE, it is evaluated twice - once through
    JOIN::exec_const_cond, and once through JOIN::cond.
    When the expensive constant condition is a subquery,
    predicate, the subquery is evaluated twice. If we have
    many levels of subqueries, this logic results in a chain
    of recursive subquery executions that walk a perfect
    binary tree. The result is that for subquries with depth N,
    JOIN::exec is executed O(2^N) times.
</li></ul>
</li><li>Solution:
<ul start="1"><li>Notice that the second execution of the constant conditions
    happens inside do_select(), in the branch:
    if (join-&gt;table_count == join-&gt;const_tables) { ... }
    In this case exec_const_cond is equivalent to the whole WHERE
    clause, therefore the WHERE clause has already been checked in
    the beginnig of JOIN::exec, and has been found to be true.
    The bug is addressed by not evaluating the WHERE clause if there
    was exec_const_conds, and it was TRUE.
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3300">Revision #3300</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Mon 2011-11-21 07:00:14 -0800</span>
<ul start="1"><li>Corrected the patch that made the optimizer switch for index condition pushdown
   set to 'on' by default.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3299">Revision #3299</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Mon 2011-11-21 05:16:16 -0800</span>
<ul start="1"><li>Made the optimizer switch for index condition pushdown set to 'on' by default. 
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3298">Revision #3298</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sun 2011-11-20 04:53:07 -0800</span>
<ul start="1"><li>Fixed <a href="https://bugs.launchpad.net/bugs/892725">Bug #892725</a>.
</li><li>A non-first execution of a prepared statement missed a call of the
   TABLE_LIST::process_index_hints() method in the code of the function
   setup_tables().
</li><li>At some scenarios this could lead to the choice of a quite inefficient
   execution plan for the base query of the prepared statement.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3297">Revision #3297</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sun 2011-11-20 12:30:43 +0400</span>
<ul start="1"><li>Fix for <a href="https://bugs.launchpad.net/bugs/809849">Bug #809849</a> spatial operations must be KILL-able.
<ul start="1"><li>Checks for thd-&gt;killed state added to the long loops in geometry calculations.
</li></ul>
</li><li>per-file comments:
<ul start="1"><li>sql/gcalc_slicescan.cc
<ul start="1"><li>Fix for <a href="https://bugs.launchpad.net/bugs/809849">Bug #809849</a> spatial operations must be KILL-able.
</li><li>checks for TERMINATED_STATE added.
</li></ul>
</li><li>sql/gcalc_slicescan.h
<ul start="1"><li>Fix for <a href="https://bugs.launchpad.net/bugs/809849">Bug #809849</a> spatial operations must be KILL-able.
</li><li>defines added to include checks for termination in the
     library.
</li></ul>
</li><li>sql/gcalc_tools.cc
<ul start="1"><li>Fix for <a href="https://bugs.launchpad.net/bugs/809849">Bug #809849</a> spatial operations must be KILL-able.
</li><li>checks for TERMINATED_STATE added.
</li></ul>
</li><li>sql/gcalc_tools.h
<ul start="1"><li>Fix for <a href="https://bugs.launchpad.net/bugs/809849">Bug #809849</a> spatial operations must be KILL-able.
</li><li>TERMINATED_STATE pointers added.
</li></ul>
</li><li>sql/item_geofunc.cc
<ul start="1"><li>Fix for <a href="https://bugs.launchpad.net/bugs/809849">Bug #809849</a> spatial operations must be KILL-able.
</li></ul>
</li><li>sql/item_geofunc.h
<ul start="1"><li>Fix for <a href="https://bugs.launchpad.net/bugs/809849">Bug #809849</a> spatial operations must be KILL-able.
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3296">Revision #3296</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-11-18 13:32:21 -0800</span>
<ul start="1"><li>Fixed <a href="https://bugs.launchpad.net/bugs/891995">Bug #891995</a>
</li><li>This bug in the function setup_semijoin_dups_elimination() could 
   lead to invalid choice of the sequence of tables for which semi-join
   duplicate elimination was applied.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3295">Revision #3295</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-11-18 09:35:51 -0800</span>
<ul start="1"><li>Fixed <a href="https://bugs.launchpad.net/bugs/891953">Bug #891953</a>
</li><li>Due to this bug the function SEL_IMERGE::or_sel_tree_with_checks()
   could build an inconsistent merge tree if one of the SEL_TREEs in the
   resulting index merge happened to contain a full key range.
</li><li>This could trigger an assertion failure.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3294">Revision #3294</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-11-18 18:15:06 +0400</span>
<ul start="1"><li>unused variable removed.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3293">Revision #3293</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-11-18 17:56:42 +0400</span>
<ul start="1"><li>GCALC_CHECK_WITH_FLOAT disabled.
</li><li>That's not a good option for an onrdinary user.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3292">Revision #3292</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-11-18 04:41:25 -0800</span>
<ul start="1"><li>Fixed <a href="https://bugs.launchpad.net/bugs/800184">Bug #800184</a>
</li><li>The function key_and() erroneously called SEL_ARG::increment_use_count()
   when SEL_ARG::incr_refs() should had been called. This could lead to
   wrong values of use_count for some SEL_ARG trees.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3291">Revision #3291</a> [merge]
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-11-17 08:00:22 -0800</span>
<ul start="1"><li>Merge.
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3287.1.1">Revision #3287.1.1</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-11-17 03:24:20 -0800</span>
<ul start="1"><li>Corrected the fix for <a href="https://bugs.launchpad.net/bugs/891052">Bug #891052</a>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3290">Revision #3290</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-11-17 18:03:47 +0400</span>
<ul start="1"><li>small fixes to make compiler happy.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3289">Revision #3289</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-11-17 17:12:58 +0400</span>
<ul start="1"><li>test results updated.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3288">Revision #3288</a> [merge]
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-11-17 14:27:00 +0400</span>
<ul start="1"><li>merging.
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2978.3.42">Revision #2978.3.42</a> [merge]
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sat 2011-11-12 19:56:29 +0400</span>
<ul start="1"><li>merging.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2978.3.41">Revision #2978.3.41</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sun 2011-10-16 21:16:53 +0500</span>
<ul start="1"><li>code cleanup.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2978.3.40">Revision #2978.3.40</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sun 2011-10-16 19:55:37 +0500</span>
<ul start="1"><li>GIS code cleanup.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2978.3.39">Revision #2978.3.39</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-10-14 18:37:40 +0500</span>
<ul start="1"><li>#define added
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2978.3.38">Revision #2978.3.38</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-10-14 17:57:07 +0500</span>
<ul start="1"><li>repeating calcualtions eliminated.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2978.3.37">Revision #2978.3.37</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-10-14 16:10:55 +0500</span>
<ul start="1"><li>GIS code.
</li><li>Forward calculations introduced.
</li><li>per-file comments:
<ul start="1"><li>sql/gcalc_slicescan.cc
</li><li>sql/gcalc_slicescan.h
</li><li>sql/gcalc_tools.cc
</li><li>sql/gcalc_tools.h
</li><li>sql/item_geofunc.cc
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2978.3.36">Revision #2978.3.36</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-10-06 17:41:28 +0500</span>
<ul start="1"><li>Copyright notices fixed.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2978.3.35">Revision #2978.3.35</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-10-05 14:45:39 +0500</span>
<ul start="1"><li>Valgrind warning fixed.
</li><li>Coordinate size limitation removed.
</li><li>per-file comments:
<ul start="1"><li>mysql-test/r/gis-precise.result
<ul start="1"><li>test result updated.
</li></ul>
</li><li>sql/gcalc_slicescan.cc
<ul start="1"><li>Check coordinate extent to pick better precidion in the ::set_double()
</li></ul>
</li><li>sql/gcalc_slicescan.h
<ul start="1"><li>free_list() can lead to valgrind warnig. Fixed
</li></ul>
</li><li>sql/gcalc_tools.cc
<ul start="1"><li>free_list() call changed.
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2978.3.34">Revision #2978.3.34</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Tue 2011-10-04 15:29:39 +0500</span>
<ul start="1"><li>GIS code cleanup.
</li><li>GCALC_xxx macros fixed for the GCALC_DBUG_OFF case.
</li><li>per-file comments:
<ul start="1"><li>sql/gcalc_slicescan.h
<ul start="1"><li>GIS code cleanup.
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2978.3.33">Revision #2978.3.33</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Tue 2011-10-04 15:01:21 +0500</span>
<ul start="1"><li>GIS library code cleanup.
</li><li>GCALC_DBUG_OFF and related infrastructure defined so we can enable/disable debugging conveniently.
</li><li>per-file comments:
<ul start="1"><li>sql/gcalc_slicescan.cc
<ul start="1"><li>GIS library code cleanup.
</li></ul>
</li><li>sql/gcalc_slicescan.h
<ul start="1"><li>GIS library code cleanup.
</li></ul>
</li><li>sql/gcalc_tools.cc
<ul start="1"><li>GIS library code cleanup.
</li></ul>
</li><li>sql/gcalc_tools.h
<ul start="1"><li>GIS library code cleanup.
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2978.3.32">Revision #2978.3.32</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-09-23 17:00:36 +0500</span>
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/857087">Bug #857087</a> Wrong result with ST_INTERSECTS and LINESTRINGs
</li><li>Line autointersection point was treated as if it doesn't belong to the line.
</li><li>It's in some way logical, but seems to confuse people. Fixed.
</li><li>per_file_comments:
<ul start="1"><li>mysql-test/r/gis-precise.result
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/857087">Bug #857087</a> Wrong result with ST_INTERSECTS and LINESTRINGs
</li><li>test result updated.
</li></ul>
</li><li>mysql-test/t/gis-precise.test
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/857087">Bug #857087</a> Wrong result with ST_INTERSECTS and LINESTRINGs
</li><li>test case added.
</li></ul>
</li><li>sql/gcalc_tools.cc
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/857087">Bug #857087</a> Wrong result with ST_INTERSECTS and LINESTRINGs
</li><li>Point of line autointersection handled as it belongs to the line.
</li></ul>
</li><li>sql/gcalc_tools.h
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/857087">Bug #857087</a> Wrong result with ST_INTERSECTS and LINESTRINGs
</li><li>Gcalc_function::set_i_state() added
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2978.3.31">Revision #2978.3.31</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-09-23 15:36:56 +0500</span>
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/857050">Bug #857050</a> ST_WITHIN returns wrong result with MULTIPOINT and POLYGON
    actually only testcase added as the bug was fixed already.
</li><li>modified:
<ul start="1"><li>mysql-test/r/gis-precise.result
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/857050">Bug #857050</a> ST_WITHIN returns wrong result with MULTIPOINT and POLYGON
</li><li>test result updated.
</li></ul>
</li><li>mysql-test/t/gis-precise.test
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/857050">Bug #857050</a> ST_WITHIN returns wrong result with MULTIPOINT and POLYGON
</li><li>test case added.
</li></ul>
</li><li>sql/gcalc_tools.cc
<ul start="1"><li>superfluous variable removed.
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2978.3.30">Revision #2978.3.30</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-09-23 15:25:48 +0500</span>
<ul start="1"><li>fix for <a href="https://bugs.launchpad.net/bugs/857051">Bug #857051</a> ST_EQUALS returns TRUE on two nonidentical MULTIPOINTs
</li><li>The 'single point' event was forgotten in the relation's calculation
</li><li>per-file comments:
<ul start="1"><li>mysql-test/r/gis-precise.result
<ul start="1"><li>fix for <a href="https://bugs.launchpad.net/bugs/857051">Bug #857051</a> ST_EQUALS returns TRUE on two nonidentical MULTIPOINTs
</li><li>test result updated.
</li></ul>
</li><li>mysql-test/t/gis-precise.test
<ul start="1"><li>fix for <a href="https://bugs.launchpad.net/bugs/857051">Bug #857051</a> ST_EQUALS returns TRUE on two nonidentical MULTIPOINTs
</li><li>test case added.
</li></ul>
</li><li>sql/gcalc_tools.cc
<ul start="1"><li>fix for <a href="https://bugs.launchpad.net/bugs/857051">Bug #857051</a> ST_EQUALS returns TRUE on two nonidentical MULTIPOINTs
</li><li>scev_single_point is properly handled.
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2978.3.29">Revision #2978.3.29</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-09-23 15:05:36 +0500</span>
<ul start="1"><li>fix for 857050 ST_WITHIN returns wrong result with MULTIPOINT and POLYGON
    return GEOMETRYCOLLECTION EMPTY, not NULL for the query
</li><li>per-file comments:
<ul start="1"><li>mysql-test/r/gis.result
<ul start="1"><li>fix for 857050 ST_WITHIN returns wrong result with MULTIPOINT and POLYGON
      test result updated.
</li></ul>
</li><li>sql/spatial.cc
<ul start="1"><li>fix for 857050 ST_WITHIN returns wrong result with MULTIPOINT and POLYGON
      return of the Geometry::envelope() changed for the empty geometry.
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2978.3.28">Revision #2978.3.28</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-09-22 18:53:36 +0500</span>
<ul start="1"><li>fixed bugs
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/855485">Bug #855485</a>  ST_CROSSES returns different result than PostGIS for overlapping polygons
</li><li><a href="https://bugs.launchpad.net/bugs/855487">Bug #855487</a>  ST_WITHIN returns wrong result for partially overlapping polygons
</li><li><a href="https://bugs.launchpad.net/bugs/855492">Bug #855492</a>  ST_WITHIN returns TRUE on point on the edge of a polygon
</li><li><a href="https://bugs.launchpad.net/bugs/855497">Bug #855497</a>  ST_ENVELOPE of GEOMETRYCOLLECTION EMPTY returns NULL and not GEOMETRYCOLLECTION EMPTY
</li><li><a href="https://bugs.launchpad.net/bugs/855503">Bug #855503</a>  ST_EQUALS reports TRUE between a POLYGON and a MULTILINESTRING
</li><li><a href="https://bugs.launchpad.net/bugs/855505">Bug #855505</a>  ST_TOUCHES reports TRUE for intersecting polygon and linestring
</li></ul>
</li><li>Changed the way weird functions like Crosses or Touches treated.
</li><li>Added BORDER handling to the Gcalc_function.
</li><li>per-file comments:
<ul start="1"><li>mysql-test/r/gis-precise.result
<ul start="1"><li>GIS bugs fixed.
</li><li>test result updated.
</li></ul>
</li><li>mysql-test/t/gis-precise.test
<ul start="1"><li>GIS bugs fixed.
</li><li>test cases added.
</li></ul>
</li><li>sql/gcalc_slicescan.h
<ul start="1"><li>GIS bugs fixed.
</li></ul>
</li><li>sql/gcalc_tools.cc
<ul start="1"><li>GIS bugs fixed.
</li></ul>
</li><li>sql/gcalc_tools.h
<ul start="1"><li>GIS bugs fixed.
</li></ul>
</li><li>sql/item_create.cc
<ul start="1"><li>GIS bugs fixed.
</li></ul>
</li><li>sql/item_geofunc.cc
<ul start="1"><li>GIS bugs fixed.
</li></ul>
</li><li>sql/item_geofunc.h
<ul start="1"><li>GIS bugs fixed.
</li></ul>
</li><li>sql/spatial.cc
<ul start="1"><li>GIS bugs fixed.
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2978.3.27">Revision #2978.3.27</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-09-21 13:26:21 +0500</span>
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/855336">Bug #855336</a>      ST_LENGTH does not work on GEOMETRYCOLLECTIONs fixed.
</li><li>per-file comments:
<ul start="1"><li>mysql-test/r/gis.result
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/855336">Bug #855336</a>      ST_LENGTH does not work on GEOMETRYCOLLECTIONs fixed.
</li><li>test result updated.
</li></ul>
</li><li>mysql-test/t/gis.test
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/855336">Bug #855336</a>      ST_LENGTH does not work on GEOMETRYCOLLECTIONs fixed.
</li><li>test case added.
</li></ul>
</li><li>sql/item_geofunc.cc
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/855336">Bug #855336</a>      ST_LENGTH does not work on GEOMETRYCOLLECTIONs fixed.
</li><li>geom_length() call fixed.
</li></ul>
</li><li>sql/spatial.cc
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/855336">Bug #855336</a>      ST_LENGTH does not work on GEOMETRYCOLLECTIONs fixed.
</li><li>Geometry_collection::geom_length implemented.
</li></ul>
</li><li>sql/spatial.h
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/855336">Bug #855336</a>      ST_LENGTH does not work on GEOMETRYCOLLECTIONs fixed.
</li><li>Geometry_collection::geom_length declaration added.
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2978.3.26">Revision #2978.3.26</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-09-21 12:50:03 +0500</span>
<ul start="1"><li>fix for <a href="https://bugs.launchpad.net/bugs/848926">Bug #848926</a> GIS functions return "GEOMETRYCOLLECTION()" instead of "GEOMETRYCOLLECTION EMPTY"
</li><li>per-file comments:
<ul start="1"><li>mysql-test/r/gis.result
<ul start="1"><li>fix for <a href="https://bugs.launchpad.net/bugs/848926">Bug #848926</a> GIS functions return "GEOMETRYCOLLECTION()" instead of "GEOMETRYCOLLECTION EMPTY"
</li><li>test result updated.
</li></ul>
</li><li>mysql-test/t/gis.test
<ul start="1"><li>fix for <a href="https://bugs.launchpad.net/bugs/848926">Bug #848926</a> GIS functions return "GEOMETRYCOLLECTION()" instead of "GEOMETRYCOLLECTION EMPTY"
</li><li>test case added.
</li></ul>
</li><li>sql/gstream.cc
<ul start="1"><li>fix for <a href="https://bugs.launchpad.net/bugs/848926">Bug #848926</a> GIS functions return "GEOMETRYCOLLECTION()" instead of "GEOMETRYCOLLECTION EMPTY"
</li><li>lookup_next_word() implemented.
</li></ul>
</li><li>sql/gstream.h
<ul start="1"><li>fix for <a href="https://bugs.launchpad.net/bugs/848926">Bug #848926</a> GIS functions return "GEOMETRYCOLLECTION()" instead of "GEOMETRYCOLLECTION EMPTY"
</li><li>lookup_next_word() added.
</li></ul>
</li><li>sql/spatial.cc
<ul start="1"><li>fix for <a href="https://bugs.launchpad.net/bugs/848926">Bug #848926</a> GIS functions return "GEOMETRYCOLLECTION()" instead of "GEOMETRYCOLLECTION EMPTY"
</li><li>name changed for the empty geometry.
</li></ul>
</li><li>sql/spatial.h
<ul start="1"><li>fix for <a href="https://bugs.launchpad.net/bugs/848926">Bug #848926</a> GIS functions return "GEOMETRYCOLLECTION()" instead of "GEOMETRYCOLLECTION EMPTY"
</li><li>declarations modified.
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2978.3.25">Revision #2978.3.25</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-09-21 09:29:37 +0500</span>
<ul start="1"><li>bugs fixed
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/855253">Bug #855253</a> Compiler error: gcalc_slicescan.cc:2036: error: suggest parentheses around comparison in operand of .|. in maria-5.3-gis
</li><li><a href="https://bugs.launchpad.net/bugs/850775">Bug #850775</a> ST_AREA does not work on GEOMETRYCOLLECTIONs in maria-5.3-gis
</li></ul>
</li><li>per-file comments:
<ul start="1"><li>mysql-test/r/gis.result
<ul start="1"><li>test result updated.
</li></ul>
</li><li>mysql-test/t/gis.test
<ul start="1"><li>test case added for 850775.
</li></ul>
</li><li>sql/gcalc_slicescan.cc
<ul start="1"><li>compiler error fixed.
</li></ul>
</li><li>sql/spatial.cc
<ul start="1"><li>ST_AREA implementation for GEOMETRY_COLLECTION, POINT and LINESTRING.
</li></ul>
</li><li>sql/spatial.h
<ul start="1"><li>area() declarations added.
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2978.3.24">Revision #2978.3.24</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-09-21 00:04:41 +0500</span>
<ul start="1"><li>several bugs fixed here.
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/849789">Bug #849789</a>  Second assertion `m_poly_borders-&gt;next' failed in Gcalc_operation_reducer::count_slice in maria-5.3-gis
</li><li><a href="https://bugs.launchpad.net/bugs/849791">Bug #849791</a>  Fourth assertion `n &gt; 0 &amp;&amp; n &lt; SINUSES_CALCULATED*2+1' in get_n_sincos
</li><li><a href="https://bugs.launchpad.net/bugs/849789">Bug #849789</a>  Second assertion `m_poly_borders-&gt;next' failed in Gcalc_operation_reducer::count_slice in maria-5.3-gis
</li><li><a href="https://bugs.launchpad.net/bugs/848901">Bug #848901</a>  Assertion `fabs(cur_isc-&gt;x-m_cur_intersection-&gt;x) + fabs(cur_isc-&gt;y-m_cur_intersection-&gt;y) &lt; 0.000000000001' failed in Gcalc_scan_iterator::intersection_scan() in maria-5.3-gis
</li></ul>
</li><li>per-file comments:
<ul start="1"><li>mysql-test/r/gis-precise.result
<ul start="1"><li>test result updated.
</li></ul>
</li><li>mysql-test/r/gis.result
<ul start="1"><li>test result updated.
</li></ul>
</li><li>sql/gcalc_slicescan.cc
<ul start="1"><li>bugfixes.
</li></ul>
</li><li>sql/gcalc_slicescan.h
<ul start="1"><li>bugfixes.
</li></ul>
</li><li>sql/gcalc_tools.cc
<ul start="1"><li>bugfixes.
</li></ul>
</li><li>sql/gcalc_tools.h
<ul start="1"><li>bugfixes.
</li></ul>
</li><li>sql/item_geofunc.cc
<ul start="1"><li>bugfixes.
</li></ul>
</li><li>sql/spatial.cc
<ul start="1"><li>bugfixes.
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2978.3.23">Revision #2978.3.23</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Tue 2011-09-13 18:26:16 +0500</span>
<ul start="1"><li>Fix for <a href="https://bugs.launchpad.net/bugs/848939">Bug #848939</a> Wrong result with <code>ST_INTERSECTION</code> between linestrings and a polygon in 5.3-gis
<ul start="1"><li>Coordinates were mistakenly reversed for MULTIPOINT.
</li></ul>
</li><li>per-file comments:
<ul start="1"><li>mysql-test/r/gis-precise.result
<ul start="1"><li>Fix for <a href="https://bugs.launchpad.net/bugs/848939">Bug #848939</a> Wrong result with ST_INTERSECTION between linestrings and a polygon in 5.3-gis
</li><li>test result updated.
</li></ul>
</li><li>mysql-test/t/gis-precise.test
<ul start="1"><li>Fix for <a href="https://bugs.launchpad.net/bugs/848939">Bug #848939</a> Wrong result with ST_INTERSECTION between linestrings and a polygon in 5.3-gis
</li><li>test case added.
</li></ul>
</li><li>sql/gcalc_tools.cc
<ul start="1"><li>Fix for <a href="https://bugs.launchpad.net/bugs/848939">Bug #848939</a> Wrong result with ST_INTERSECTION between linestrings and a polygon in 5.3-gis
</li><li>coordinates set in the proper order.
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2978.3.22">Revision #2978.3.22</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Tue 2011-09-13 15:19:55 +0500</span>
<ul start="1"><li>Fix for <a href="https://bugs.launchpad.net/bugs/848901">Bug #848901</a> Assertion `fabs(cur_isc-&gt;x-m_cur_intersection-&gt;x) + fabs(cur_isc-&gt;y-m_cur_intersection-&gt;y) &lt; 0.000000000001' failed in Gcalc_scan_iterator::intersection_scan() in maria-5.3-gis
</li><li>That assertion's check was too tight. Released it a bit.
</li><li>per-file comments:
<ul start="1"><li>mysql-test/r/gis-precise.result
<ul start="1"><li>Fix for <a href="https://bugs.launchpad.net/bugs/848901">Bug #848901</a>
</li><li>test result updated.
</li></ul>
</li><li>mysql-test/t/gis-precise.test
<ul start="1"><li>Fix for <a href="https://bugs.launchpad.net/bugs/848901">Bug #848901</a>
</li><li>test case added.
</li></ul>
</li><li>sql/gcalc_slicescan.cc
<ul start="1"><li>Fix for <a href="https://bugs.launchpad.net/bugs/848901">Bug #848901</a>
</li><li>The DBUG_ASSERT check is too tight here.
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2978.3.21">Revision #2978.3.21</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Tue 2011-09-13 13:59:11 +0500</span>
<ul start="1"><li>Fix for few similar bugs:
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/841622">Bug #841622</a> Assertion `t-&gt;rp-&gt;type == Gcalc_function::shape_line' failed in Gcalc_operation_reducer::end_line in maria-5.3-gi
</li><li><a href="https://bugs.launchpad.net/bugs/841625">Bug #841625</a> Assertion `m_poly_borders-&gt;next' failed in Gcalc_operation_reducer::count_slice in maria-5.3-gis
</li><li><a href="https://bugs.launchpad.net/bugs/841638">Bug #841638</a> Assertion `!m_prev || m_prev-&gt;x != x || m_prev-&gt;y != y' failed in Gcalc_shape_transporter::int_add_point in maria-5.3-gis
</li><li><a href="https://bugs.launchpad.net/bugs/841662">Bug #841662</a> Third assertion `n &gt; 0 &amp;&amp; n &lt; SINUSES_CALCULATED*2+1' in get_n_sincos
</li><li><a href="https://bugs.launchpad.net/bugs/841745">Bug #841745</a> Assertion `!sp0-&gt;is_bottom()' failed in Gcalc_scan_iterator::find_intersections in maria-5.3-gis
</li></ul>
</li><li>They mostly was caused by inprecision of double arithmetic.
<ul start="1"><li>Fixed by changes in how to handle multiple intersections to keep their order right.
</li><li>Also ST_DISTANCE(GEOM, EMPTY_GEOM) was defined as NULL.
</li></ul>
</li><li>per-file comments:
<ul start="1"><li>mysql-test/r/gis-precise.result
<ul start="1"><li>GIS bugfixes.
<ul start="1"><li>test result updated.
</li></ul>
</li></ul>
</li><li>mysql-test/t/gis-precise.test
<ul start="1"><li>GIS bugfixes.
<ul start="1"><li>test cases added.
</li></ul>
</li></ul>
</li><li>sql/gcalc_slicescan.cc
<ul start="1"><li>GIS bugfixes.
<ul start="1"><li>If intersections are close, add order checks to cope with the
       double calcualtions imprecision.
</li></ul>
</li></ul>
</li><li>sql/gcalc_slicescan.h
<ul start="1"><li>GIS bugfixes.
<ul start="1"><li>n_row parameter added to intersection to check their order.
</li></ul>
</li></ul>
</li><li>sql/item_geofunc.cc
<ul start="1"><li>GIS bugfixes.
<ul start="1"><li>ST_DISTANCE(GEOM, EMPTY_GEOM) returns NULL.
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2978.3.20">Revision #2978.3.20</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Mon 2011-09-05 09:49:46 +0500</span>
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/839327">Bug #839327</a> Crash in Gcalc_operation_reducer::end_couple with ST_UNION and MULTIPOLYGONs in 5.3-gis.
</li><li>When edges of a polygon coicide, it can form an pike, that is turned into a line after an operation.
</li><li>In this case a former polygon point can be an end of a single line, and that case wasn't properly handled.
</li><li>per-file comments:
<ul start="1"><li>mysql-test/r/gis-precise.result
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/839327">Bug #839327</a> Crash in Gcalc_operation_reducer::end_couple with ST_UNION and MULTIPOLYGONs in 5.3-gis.
<ul start="1"><li>test result updated.
</li></ul>
</li></ul>
</li><li>mysql-test/t/gis-precise.test
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/839327">Bug #839327</a> Crash in Gcalc_operation_reducer::end_couple with ST_UNION and MULTIPOLYGONs in 5.3-gis.
<ul start="1"><li>test case added.
</li></ul>
</li></ul>
</li><li>sql/gcalc_tools.cc
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/839327">Bug #839327</a> Crash in Gcalc_operation_reducer::end_couple with ST_UNION and MULTIPOLYGONs in 5.3-gis.
<ul start="1"><li>in the scev_two_ends case check if we have single line ending on a polygon node.
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2978.3.19">Revision #2978.3.19</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Mon 2011-09-05 09:13:58 +0500</span>
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/839318">Bug #839318</a> Crash in Gcalc_scan_iterator::point::get_shape with ST_DISTANCE and MULTILINESTRING in maria-5.3-gis.
<ul start="1"><li>wrong variable was used as a result of inattentive copypaste.
</li></ul>
</li><li>per-file comments:
<ul start="1"><li>mysql-test/r/gis-precise.result
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/839318">Bug #839318</a> Crash in Gcalc_scan_iterator::point::get_shape with ST_DISTANCE and MULTILINESTRING in maria-5.3-gis.
</li><li>test result updated.
</li></ul>
</li><li>mysql-test/t/gis-precise.test
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/839318">Bug #839318</a> Crash in Gcalc_scan_iterator::point::get_shape with ST_DISTANCE and MULTILINESTRING in maria-5.3-gis.
</li><li>test case added.
</li></ul>
</li><li>sql/item_geofunc.cc
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/839318">Bug #839318</a> Crash in Gcalc_scan_iterator::point::get_shape with ST_DISTANCE and MULTILINESTRING in maria-5.3-gis.
</li><li>use 'ev' variable instead of the 'evpos'.
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2978.3.18">Revision #2978.3.18</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sun 2011-09-04 23:48:17 +0500</span>
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/839341">Bug #839341</a> 100% CPU usage with ST_UNION in maria-5.3-gis.
<ul start="1"><li>Line loops weren't recognized when collect results.
</li><li>Fixed by checking if we got the same beginning point of the line.
</li></ul>
</li><li>per-file comments:
<ul start="1"><li>mysql-test/r/gis-precise.result
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/839341">Bug #839341</a> 100% CPU usage with ST_UNION in maria-5.3-gis.
</li><li>test result updated.
</li></ul>
</li><li>mysql-test/t/gis-precise.test
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/839341">Bug #839341</a> 100% CPU usage with ST_UNION in maria-5.3-gis.
</li><li>test case added.
</li></ul>
</li><li>sql/gcalc_tools.cc
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/839341">Bug #839341</a> 100% CPU usage with ST_UNION in maria-5.3-gis.
</li><li>check if we get the beginning node of the linestring, then cut the loop.
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2978.3.17">Revision #2978.3.17</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sun 2011-09-04 19:11:04 +0500</span>
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/801466">Bug #801466</a> ST_INTERSECTION() returns invalid value on empty intersection in maria-5.3-gis.
<ul start="1"><li>We didn't implement an empty geometry. And returning NULL instead of it is not
     quite correct. So here is the implementation of the empty value as GEOMETRYCOLLECTION().
</li></ul>
</li><li>per-file comments:
<ul start="1"><li>mysql-test/r/gis-precise.result
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/801466">Bug #801466</a> ST_INTERSECTION() returns invalid value on empty intersection in maria-5.3-gis.
<ul start="1"><li>test result updated.
</li></ul>
</li></ul>
</li><li>mysql-test/r/gis.result
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/801466">Bug #801466</a> ST_INTERSECTION() returns invalid value on empty intersection in maria-5.3-gis.
<ul start="1"><li>test result updated.
</li></ul>
</li></ul>
</li><li>mysql-test/t/gis-precise.test
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/801466">Bug #801466</a> ST_INTERSECTION() returns invalid value on empty intersection in maria-5.3-gis.
<ul start="1"><li>test case added.
</li></ul>
</li></ul>
</li><li>mysql-test/t/gis.test
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/801466">Bug #801466</a> ST_INTERSECTION() returns invalid value on empty intersection in maria-5.3-gis.
<ul start="1"><li>test case added.
</li></ul>
</li></ul>
</li><li>sql/field.cc
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/801466">Bug #801466</a> ST_INTERSECTION() returns invalid value on empty intersection in maria-5.3-gis.
<ul start="1"><li>store GEOMETRYCOLLECTION() properly.
</li></ul>
</li></ul>
</li><li>sql/gcalc_tools.cc
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/801466">Bug #801466</a> ST_INTERSECTION() returns invalid value on empty intersection in maria-5.3-gis.
<ul start="1"><li>create the GEOMETRYCOLLECTION() for the empty result.
</li></ul>
</li></ul>
</li><li>sql/gstream.h
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/801466">Bug #801466</a> ST_INTERSECTION() returns invalid value on empty intersection in maria-5.3-gis.
<ul start="1"><li>next_symbol() added.
</li></ul>
</li></ul>
</li><li>sql/spatial.cc
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/801466">Bug #801466</a> ST_INTERSECTION() returns invalid value on empty intersection in maria-5.3-gis.
<ul start="1"><li>code modified to handle 0 geometries in the GEOMETRYCOLLECTION properly.
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2978.3.16">Revision #2978.3.16</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-09-02 09:38:17 +0500</span>
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/801560">Bug #801560</a> and <a href="https://bugs.launchpad.net/bugs/802194">Bug #802194</a>
<ul start="1"><li>tests added.
</li></ul>
</li><li>per-file comments:
<ul start="1"><li>mysql-test/r/gis-precise.result
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/801560">Bug #801560</a> and <a href="https://bugs.launchpad.net/bugs/802194">Bug #802194</a>
<ul start="1"><li>test result updated.
</li></ul>
</li></ul>
</li><li>mysql-test/t/gis-precise.test
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/801560">Bug #801560</a> and <a href="https://bugs.launchpad.net/bugs/802194">Bug #802194</a>
<ul start="1"><li>test case added.
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2978.3.15">Revision #2978.3.15</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-09-01 11:44:56 +0500</span>
<ul start="1"><li>PostGIS-style 'same point' handling.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2978.3.14">Revision #2978.3.14</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-07-13 14:57:27 +0500</span>
<ul start="1"><li>Fix for <a href="https://bugs.launchpad.net/bugs/804266">Bug #804266</a> Memory corruption/valgrind warning/crash in move_hole() with ST_UNION.
</li><li>Second smaller hole in the polygon got link to the bigger one as it's the
    outer ring. Fixed by specifying the outer ring explicitly.
</li><li>per-file comments:
<ul start="1"><li>mysql-test/r/gis-precise.result
<ul start="1"><li>Fix for <a href="https://bugs.launchpad.net/bugs/804266">Bug #804266</a> Memory corruption/valgrind warning/crash in move_hole() with ST_UNION.
<ul start="1"><li>test result updated.
</li></ul>
</li></ul>
</li><li>mysql-test/t/gis-precise.test
<ul start="1"><li>Fix for <a href="https://bugs.launchpad.net/bugs/804266">Bug #804266</a> Memory corruption/valgrind warning/crash in move_hole() with ST_UNION.
<ul start="1"><li>test case added.
</li></ul>
</li></ul>
</li><li>sql/gcalc_tools.cc
<ul start="1"><li>Fix for <a href="https://bugs.launchpad.net/bugs/804266">Bug #804266</a> Memory corruption/valgrind warning/crash in move_hole() with ST_UNION.
<ul start="1"><li>specify the outer ring explicitly in the get_polygon_result parameter.
</li></ul>
</li></ul>
</li><li>sql/gcalc_tools.h
<ul start="1"><li>Fix for <a href="https://bugs.launchpad.net/bugs/804266">Bug #804266</a> Memory corruption/valgrind warning/crash in move_hole() with ST_UNION.
<ul start="1"><li>add the outer ring as a parameter to the get_polygon_result.
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2978.3.13">Revision #2978.3.13</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Tue 2011-07-12 11:21:20 +0500</span>
<ul start="1"><li>Fix for <a href="https://bugs.launchpad.net/bugs/801217">Bug #801217</a> Assertion `t1-&gt;result_range' in Gcalc_operation_reducer::end_couple.
<ul start="1"><li>We cannot cut a line from a polygon. So if the polygon fits the condition, and
     the intersection of a line and the polygon doesn't, we just skip the line.
</li><li>That rule wasn't applied if the line start was inside the polygon, which leaded
     to the assertion.
</li></ul>
</li><li>per-file comments:
<ul start="1"><li>mysql-test/r/gis-precise.result
<ul start="1"><li>Fix for <a href="https://bugs.launchpad.net/bugs/801217">Bug #801217</a> Assertion `t1-&gt;result_range' in Gcalc_operation_reducer::end_couple.
<ul start="1"><li>test result updated.
</li></ul>
</li></ul>
</li><li>mysql-test/t/gis-precise.test
<ul start="1"><li>Fix for <a href="https://bugs.launchpad.net/bugs/801217">Bug #801217</a> Assertion `t1-&gt;result_range' in Gcalc_operation_reducer::end_couple.
<ul start="1"><li>test case added.
</li></ul>
</li></ul>
</li><li>sql/gcalc_tools.cc
<ul start="1"><li>Fix for <a href="https://bugs.launchpad.net/bugs/801217">Bug #801217</a> Assertion `t1-&gt;result_range' in Gcalc_operation_reducer::end_couple.
<ul start="1"><li>Don't mark the line as a border if it's inside a polygon that fits the result condition.
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2978.3.12">Revision #2978.3.12</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-07-08 15:38:15 +0500</span>
<ul start="1"><li>Fix for <a href="https://bugs.launchpad.net/bugs/804259">Bug #804259</a> Second assertion in Gis_geometry_collection::init_from_opresult.
<ul start="1"><li>A polygon has no right to have holes that are actually points.
</li><li>So just skip them when we collect the result of an operation.
</li></ul>
</li><li>per-file comments:
<ul start="1"><li>mysql-test/r/gis-precise.result
<ul start="1"><li>Fix for <a href="https://bugs.launchpad.net/bugs/804259">Bug #804259</a> Second assertion in Gis_geometry_collection::init_from_opresult.
<ul start="1"><li>test result updated.
</li></ul>
</li></ul>
</li><li>mysql-test/t/gis-precise.test
<ul start="1"><li>Fix for <a href="https://bugs.launchpad.net/bugs/804259">Bug #804259</a> Second assertion in Gis_geometry_collection::init_from_opresult.
<ul start="1"><li>test case added.
</li></ul>
</li></ul>
</li><li>sql/gcalc_tools.cc
<ul start="1"><li>Fix for <a href="https://bugs.launchpad.net/bugs/804259">Bug #804259</a> Second assertion in Gis_geometry_collection::init_from_opresult.
<ul start="1"><li>Skip the point in the result if it's the hole inside a polygon.
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2978.3.11">Revision #2978.3.11</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-07-07 21:30:51 +0500</span>
<ul start="1"><li>Fix for <a href="https://bugs.launchpad.net/bugs/805860">Bug #805860</a> Second assertion Assertion `n &gt; 0 &amp;&amp; n &lt; SINUSES_CALCULATED*2+1' in get_n_sincos.
<ul start="1"><li>Just typo-style mistake. Should be '||' instead of '&amp;&amp;'.
</li></ul>
</li><li>per-file comments:
<ul start="1"><li>mysql-test/r/gis-precise.result
<ul start="1"><li>Fix for <a href="https://bugs.launchpad.net/bugs/805860">Bug #805860</a> Second assertion Assertion `n &gt; 0 &amp;&amp; n &lt; SINUSES_CALCULATED*2+1' in get_n_sincos.
<ul start="1"><li>test result updated.
</li></ul>
</li></ul>
</li><li>mysql-test/t/gis-precise.test
<ul start="1"><li>Fix for <a href="https://bugs.launchpad.net/bugs/805860">Bug #805860</a> Second assertion Assertion `n &gt; 0 &amp;&amp; n &lt; SINUSES_CALCULATED*2+1' in get_n_sincos.
<ul start="1"><li>test case added.
</li></ul>
</li></ul>
</li><li>sql/item_geofunc.cc
<ul start="1"><li>Fix for <a href="https://bugs.launchpad.net/bugs/805860">Bug #805860</a> Second assertion Assertion `n &gt; 0 &amp;&amp; n &lt; SINUSES_CALCULATED*2+1' in get_n_sincos.
<ul start="1"><li>condition fixed.
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2978.3.10">Revision #2978.3.10</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-07-07 16:59:45 +0500</span>
<ul start="1"><li>Fix for <a href="https://bugs.launchpad.net/bugs/804324">Bug #804324</a> Assertion 0 in Gcalc_scan_iterator::pop_suitable_intersection
<ul start="1"><li>There were actually two bugs. One was when the line that intersects itself
     the intersection point treated as it doesn't belong to the line.
</li><li>Second when edges partly coincide, wrong result produced when we try to find their
     intersection.
</li></ul>
</li><li>per-file comments:
<ul start="1"><li>mysql-test/r/gis-precise.result
<ul start="1"><li>Fix for <a href="https://bugs.launchpad.net/bugs/804324">Bug #804324</a> Assertion 0 in Gcalc_scan_iterator::pop_suitable_intersection
<ul start="1"><li>test result updated.
</li></ul>
</li></ul>
</li><li>mysql-test/t/gis-precise.test
<ul start="1"><li>Fix for <a href="https://bugs.launchpad.net/bugs/804324">Bug #804324</a> Assertion 0 in Gcalc_scan_iterator::pop_suitable_intersection
<ul start="1"><li>test case added.
</li></ul>
</li></ul>
</li><li>sql/gcalc_slicescan.cc
<ul start="1"><li>Fix for <a href="https://bugs.launchpad.net/bugs/804324">Bug #804324</a> Assertion 0 in Gcalc_scan_iterator::pop_suitable_intersection
<ul start="1"><li>skip the intersection if it just line that intersects itself.
</li></ul>
</li></ul>
</li><li>sql/gcalc_tools.cc
<ul start="1"><li>Fix for <a href="https://bugs.launchpad.net/bugs/804324">Bug #804324</a> Assertion 0 in Gcalc_scan_iterator::pop_suitable_intersection
<ul start="1"><li>if edges coincide, just pick the first coinciding poing as an intersection.
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2978.3.9">Revision #2978.3.9</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Tue 2011-07-05 19:42:35 +0500</span>
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/804305">Bug #804305</a> Crash in wkb_get_double with ST_INTERSECTION.
</li><li>That crash happened with the complicated topology of the result.
</li><li>If we found a hole in a polygon whose outside border was already
    found, we need to paste the hole right after it and respectively
    shift polygons after it. Also we need to update poly_position fields
    in these polygons. That last thing wasn't properly done that led to the
    crash.
</li><li>To fix that we keep the list of the found polygons and update the
    poly_positions that are bigger or equal to where we placed the next hole.
</li><li>per-file comments:
<ul start="1"><li>mysql-test/r/gis-precise.result
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/804305">Bug #804305</a> Crash in wkb_get_double with ST_INTERSECTION.
<ul start="1"><li>test result updated.
</li></ul>
</li></ul>
</li><li>mysql-test/t/gis-precise.test
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/804305">Bug #804305</a> Crash in wkb_get_double with ST_INTERSECTION.
<ul start="1"><li>test result added.
</li></ul>
</li></ul>
</li><li>sql/gcalc_tools.cc
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/804305">Bug #804305</a> Crash in wkb_get_double with ST_INTERSECTION.
<ul start="1"><li>keep the list of the found polygons and update their poly_position fields respectively.
</li></ul>
</li></ul>
</li><li>sql/gcalc_tools.h
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/804305">Bug #804305</a> Crash in wkb_get_double with ST_INTERSECTION.
<ul start="1"><li>Gcalc_result_receiver::move_hole interface changed.
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2978.3.8">Revision #2978.3.8</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Mon 2011-07-04 16:17:34 +0500</span>
<ul start="1"><li>fix for <a href="https://bugs.launchpad.net/bugs/801212">Bug #801212</a> Assertion with ST_INTERSECTION on NULL values
<ul start="1"><li>The ::val_str() method has to return NULL if it calculated
     the null_value, not just set the related flag.
</li></ul>
</li><li>per-file comments:
<ul start="1"><li>mysql-test/r/gis-precise.result
<ul start="1"><li>fix for <a href="https://bugs.launchpad.net/bugs/801212">Bug #801212</a> Assertion with ST_INTERSECTION on NULL values
<ul start="1"><li>test result updated.
</li></ul>
</li></ul>
</li><li>mysql-test/t/gis-precise.test
<ul start="1"><li>fix for <a href="https://bugs.launchpad.net/bugs/801212">Bug #801212</a> Assertion with ST_INTERSECTION on NULL values
<ul start="1"><li>test case added.
</li></ul>
</li></ul>
</li><li>sql/item_geofunc.cc
<ul start="1"><li>fix for <a href="https://bugs.launchpad.net/bugs/801212">Bug #801212</a> Assertion with ST_INTERSECTION on NULL values
<ul start="1"><li>return NULL from the val_str if we get the null_value.
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2978.3.7">Revision #2978.3.7</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Mon 2011-07-04 16:03:36 +0500</span>
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/801199">Bug #801199</a> Infinite recursion in Gcalc_function::count_internal with ST_BUFFER over MULTIPOINT
<ul start="1"><li>Collections were treated mistakenly, so the counter for the final UNION operation
     received the wrong value.
</li><li>As a fix we implement Item_func_buffer::Transporter::start_collection() method,
     where we set the proper operation and the operand counter.
     start_poly() and start_line() were also modified to function correctly for the 
     polygon as a part of a collection.
</li></ul>
</li><li>per-file comments:
<ul start="1"><li>mysql-test/r/gis-precise.result
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/801199">Bug #801199</a> Infinite recursion in Gcalc_function::count_internal with ST_BUFFER over MULTIPOINT
<ul start="1"><li>test result updated.
</li></ul>
</li></ul>
</li><li>mysql-test/t/gis-precise.test
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/801199">Bug #801199</a> Infinite recursion in Gcalc_function::count_internal with ST_BUFFER over MULTIPOINT
<ul start="1"><li>test case added.
</li></ul>
</li></ul>
</li><li>sql/item_geofunc.cc
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/801199">Bug #801199</a> Infinite recursion in Gcalc_function::count_internal with ST_BUFFER over MULTIPOINT
<ul start="1"><li>start_collection() implemented.
</li></ul>
</li></ul>
</li><li>sql/item_geofunc.h
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/801199">Bug #801199</a> Infinite recursion in Gcalc_function::count_internal with ST_BUFFER over MULTIPOINT
<ul start="1"><li>Item_func_buffer::Transporter::start_collection() defined.
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2978.3.6">Revision #2978.3.6</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-06-30 19:24:52 +0500</span>
<ul start="1"><li>fix for <a href="https://bugs.launchpad.net/bugs/201189">Bug #201189</a> ST_BUFFER asserts if radius = 0.
<ul start="1"><li>Internal caclucations can't handle zero distance properly.
</li><li>As the ST_BUFFER(geom, 0) is in fact NOOP, we'll just return the
<ul start="1"><li>'geom' as the result here.
</li></ul>
</li></ul>
</li><li>per-file comments:
<ul start="1"><li>mysql-test/r/gis-precise.result
<ul start="1"><li>fix for <a href="https://bugs.launchpad.net/bugs/201189">Bug #201189</a> ST_BUFFER asserts if radius = 0.
<ul start="1"><li>test result updated.
</li></ul>
</li></ul>
</li><li>mysql-test/t/gis-precise.test
<ul start="1"><li>fix for <a href="https://bugs.launchpad.net/bugs/201189">Bug #201189</a> ST_BUFFER asserts if radius = 0.
<ul start="1"><li>test case added.
</li></ul>
</li></ul>
</li><li>sql/item_geofunc.cc
<ul start="1"><li>fix for <a href="https://bugs.launchpad.net/bugs/201189">Bug #201189</a> ST_BUFFER asserts if radius = 0.
<ul start="1"><li>return the first argument as the result of the ST_BUFFER, if
       the distance is 0 there.
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2978.3.5">Revision #2978.3.5</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-06-30 18:18:27 +0500</span>
<ul start="1"><li>fix for <a href="https://bugs.launchpad.net/bugs/801243">Bug #801243</a> Assertion `(0)' failed in Gis_geometry_collection::init_from_opresult on ST_UNION 
<ul start="1"><li>If the result contains a polygon with a hole, consequitive shapes weren't calculated
     properly, as the hole appeared as shape in the result, but actually it's a single shape
     with the surrounding polygon. It's more natural to use the size of the result as
     a border instead of the number of resulting shapes.
</li></ul>
</li><li>per-file comments:
<ul start="1"><li>mysql-test/r/gis-precise.result
<ul start="1"><li>fix for <a href="https://bugs.launchpad.net/bugs/801243">Bug #801243</a> Assertion `(0)' failed in Gis_geometry_collection::init_from_opresult on ST_UNION 
</li><li>test result updated.
</li></ul>
</li><li>mysql-test/t/gis-precise.test
<ul start="1"><li>fix for <a href="https://bugs.launchpad.net/bugs/801243">Bug #801243</a> Assertion `(0)' failed in Gis_geometry_collection::init_from_opresult on ST_UNION 
</li><li>test case added.
</li></ul>
</li><li>sql/spatial.cc
<ul start="1"><li>fix for <a href="https://bugs.launchpad.net/bugs/801243">Bug #801243</a> Assertion `(0)' failed in Gis_geometry_collection::init_from_opresult on ST_UNION 
</li><li>check the data lenght instead of number of shapes.
</li></ul>
</li><li>sql/spatial.h
<ul start="1"><li>fix for <a href="https://bugs.launchpad.net/bugs/801243">Bug #801243</a> Assertion `(0)' failed in Gis_geometry_collection::init_from_opresult on ST_UNION 
</li><li>check the data lenght instead of number of shapes.
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2978.3.4">Revision #2978.3.4</a> [merge]
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Mon 2011-06-20 00:21:41 +0500</span>
<ul start="1"><li>gis-related tests fixes.
</li><li>merging.
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2978.3.3">Revision #2978.3.3</a>
    <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Tue 2011-06-14 11:20:48 +0500</span>
<ul start="1"><li>Precision spatial function tests added.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2978.3.2">Revision #2978.3.2</a>
    <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-05-05 14:30:59 +0500</span>
<ul start="1"><li>forgotten h-files added to the NOINST_HEADERS
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2978.3.1">Revision #2978.3.1</a>
    <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-05-04 23:20:17 +0500</span>
<ul start="1"><li>Precise GIS functions added.
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3287">Revision #3287</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-11-17 01:00:46 -0800</span>
<ul start="1"><li>Fixed <a href="https://bugs.launchpad.net/bugs/891052">Bug #891052</a>.
</li><li>Some optimizer switches were missing in the help lists of mysqld.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3286">Revision #3286</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-11-17 01:25:10 +0200</span>
<ul start="1"><li>Fix <a href="https://bugs.launchpad.net/bugs/869036">Bug #869036</a>
</li><li>Apart from the fix, the patch also adds few more unrelated test
   cases for partial matching, and fixes few typos.
</li><li>Analysis:
<ul start="1"><li>This bug uncovered that partial matching via rowid intersection
    didn't handle the case when:
<ul start="1"><li>the left IN argument has some NULLs,
</li><li>there are no non-null value matches, and there is no non-null
     column,
</li><li>the subquery columns that are not covered with the NULLs in
     the left IN argument contain at least one row, such that it
     has NULL values in all columns where the left IN operand has
     no NULLs.
</li></ul>
</li><li>In this case there is a partial match.
</li><li>In addition the analysis of the related code uncovered incorrect
    handling of few other related cases.
</li></ul>
</li><li>Solution:
<ul start="1"><li>The solution for the bug is to check if there exists a row with
    NULLs in all columns other than the ones having NULL in the
    let IN operand.
</li><li>The check is implemented via checking whether the bitmaps that
    store NULL information in class Ordered_key have a non-empty
    intersection for the relevant columns.
</li><li>The intersection itself is implemented via the function
    bitmap_exists_intersection() in my_bitmap.c.
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3285">Revision #3285</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-11-16 06:11:25 -0800</span>
<ul start="1"><li>Fixed <a href="https://bugs.launchpad.net/bugs/887479">Bug #887479</a>.
</li><li>The function setup_semijoin_dups_elimination erroneously assumed
   that if join_cache_level is set to 3 or 4 then the type of the
   access to a table cannot be JT_REF or JT_EQ_REF. This could lead
   to wrong query result sets.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3284">Revision #3284</a> [merge]
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Tue 2011-11-15 14:35:36 -0800</span>
<ul start="1"><li>Merge.
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3278.1.1">Revision #3278.1.1</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Tue 2011-11-15 13:03:00 -0800</span>
<ul start="1"><li>Fixed <a href="https://bugs.launchpad.net/bugs/889750">Bug #889750</a>.
</li><li>If the optimizer switch 'semijoin_with_cache' is set to 'off' then 
    join cache cannot be used to join inner tables of a semijoin.
</li><li>Also fixed a bug in the function check_join_cache_usage() that led
    to wrong output of the EXPLAIN commands for some test cases.
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3283">Revision #3283</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Mon 2011-11-14 19:24:36 +0200</span>
<ul start="1"><li>Fix <a href="https://bugs.launchpad.net/bugs/889744">Bug #889744</a>
</li><li><a href="/kb/en/what-is-mariadb-55/">MariaDB 5.5</a> merges changes from MySQL 5.5 where all constant
   expressions are wrapped into an Item_cache. As a result, constant
   single-row subqueries were also wrapped in an Item_cache.
   When analyzing the where clause for constant expressions that
   can be evaluated during optimization, subqueries wrapped into
   an Item_cache did not appear as expensive, and were therefore
   evaluated during optimization. Such evaluation is against the
   current architecture of <a href="/kb/en/what-is-mariadb-53/">MariaDB 5.3</a> where subquries are executed
   during the execute phase.
</li><li>The patch adds the is_expensive() predicate to Item_cache.
</li><li>This makes Item_cache consistent with other wrapping Item
   classes that need to look at the properties of the wrapped
   object.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3282">Revision #3282</a> [merge]
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Mon 2011-11-14 00:32:21 +0100</span>
<ul start="1"><li>5.2-&gt;5.3 merge
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2732.46.16">Revision #2732.46.16</a> [merge]
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sun 2011-11-13 18:41:45 +0100</span>
<ul start="1"><li>5.1-&gt;5.2 merge
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2643.143.47">Revision #2643.143.47</a>
    <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sun 2011-11-13 13:28:35 +0100</span>
<ul start="1"><li>don't make feedback_plugin_send.test as 'big'
</li><li>don't assume that the http reply packet will arrive in all in one piece
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3281">Revision #3281</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sun 2011-11-13 12:02:13 +0200</span>
<ul start="1"><li>Fix for <a href="https://bugs.launchpad.net/bugs/824425">Bug #824425</a>: Prohibiting subqueries in rows for left part of IN/ALL/ANY
</li><li>Fix for walk() method of subqueries: always call the method on the subquery.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3280">Revision #3280</a> [merge]
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sun 2011-11-13 09:10:45 +0100</span>
<ul start="1"><li>5.2-&gt;5.3 merge
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2732.46.15">Revision #2732.46.15</a> [merge]
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sun 2011-11-13 08:30:03 +0100</span>
<ul start="1"><li>5.1-5.2 merge
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2643.143.46">Revision #2643.143.46</a>
    <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sat 2011-11-12 18:40:51 +0100</span>
<ul start="1"><li>increase feedback plugin version
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3279">Revision #3279</a> [merge]
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sat 2011-11-12 18:08:12 +0100</span>
<ul start="1"><li>5.2-&gt;5.3 merge
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2732.46.14">Revision #2732.46.14</a> [merge]
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sat 2011-11-12 16:47:14 +0100</span>
<ul start="1"><li>5.1 merge
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2643.143.45">Revision #2643.143.45</a>
    <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sat 2011-11-12 16:41:00 +0100</span>
<ul start="1"><li>feedback plugin:
<ul start="1"><li>fix for mem_total on windows
</li><li>report the time of the data snapshot
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2643.143.44">Revision #2643.143.44</a>
    <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Tue 2011-11-08 23:07:19 +0100</span>
<ul start="1"><li>typos fixed
<ul start="1"><li>(thanks viva64.com)
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2732.46.13">Revision #2732.46.13</a> [merge]
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-11-04 12:41:27 +0200</span>
<ul start="1"><li>Merge of gcc 4.6 fixes
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2732.47.2">Revision #2732.47.2</a>
    <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-10-27 19:18:25 +0300</span>
<ul start="1"><li>Fix gcc 4.6 warning after merge with 5.1
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2732.47.1">Revision #2732.47.1</a> [merge]
    <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-10-27 17:51:30 +0300</span>
<ul start="1"><li>5.1-&gt;5.2 merge (gcc 4.6 warnings and apple hwaddress fixes).
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2643.143.43">Revision #2643.143.43</a>
     <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-10-27 15:22:52 +0300</span>
<ul start="1"><li>Fix gcc 4.6 warnings about assigned but not used variables.
</li><li>Fixed my_gethwaddr.c to allow compilation on Mac OS X.
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2732.46.12">Revision #2732.46.12</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Tue 2011-11-01 12:36:43 +0400</span>
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/884184">Bug #884184</a>: Wrong result with RIGHT JOIN + derived_merge
<ul start="1" style="list-style: none"><li>Make eliminate_tables_for_list() take into account that it is not possible
     to eliminate a table if it is used in the upper-side ON expressions. Example:<pre class="fixed">xxx JOIN (t1 LEFT JOIN t2 ON cond ) ON func(t2.columns)</pre>
</li><li>Here it would eliminate t2 which is not possible because of use of t2.columns.
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3278">Revision #3278</a> [merge]
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sat 2011-11-12 03:57:46 -0800</span>
<ul start="1"><li>Merge.
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3148.1.1">Revision #3148.1.1</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sat 2011-11-12 02:20:44 -0800</span>
<ul start="1"><li>Fixed <a href="https://bugs.launchpad.net/bugs/823301">Bug #823301</a>
</li><li>A bug in the code of the function key_or could lead to a situation
    when performing of an OR operation for one index changes the result
    the operation for another index. This bug is fixed with this patch.
</li><li>Also corrected the specification and the code of the function 
    or_sel_tree_with_checks.
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3277">Revision #3277</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sat 2011-11-12 12:03:27 +0200</span>
<ul start="1"><li>Remove unused variable detected by GCC 4.6.1.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3276">Revision #3276</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sat 2011-11-12 11:29:12 +0200</span>
<ul start="1"><li>Fix <a href="http://bugs.mysql.com/bug.php?id=12329653">MySQL Bug #12329653</a>
<ul start="1"><li>In MariaDB, when running in ONLY_FULL_GROUP_BY mode,
    the server produced in incorrect error message that there
    is an aggregate function without GROUP BY, for artificially
    created MIN/MAX functions during subquery MIN/MAX optimization.
</li><li>The fix introduces a way to distinguish between artifially
    created MIN/MAX functions as a result of a rewrite, and normal
    ones present in the query. The test for ONLY_FULL_GROUP_BY violation
    now tests in addition if a MIN/MAX function was part of a MIN/MAX
    subquery rewrite.
</li><li>In order to be able to distinguish these MIN/MAX functions, the
    patch introduces an additional flag in Item_in_subselect::in_strategy -
    SUBS_STRATEGY_CHOSEN. This flag is set when the optimizer makes its
    final choice of a subuqery strategy. In order to make the choice
    consistent, access to Item_in_subselect::in_strategy is provided
    via new class methods.
</li></ul>
</li><li>Fix <a href="http://bugs.mysql.com/bug.php?id=12329653">MySQL Bug #12329653</a>
<ul start="1"><li>In MariaDB, when running in ONLY_FULL_GROUP_BY mode,
    the server produced in incorrect error message that there
    is an aggregate function without GROUP BY, for artificially
    created MIN/MAX functions during subquery MIN/MAX optimization.
</li><li>The fix introduces a way to distinguish between artifially
    created MIN/MAX functions as a result of a rewrite, and normal
    ones present in the query. The test for ONLY_FULL_GROUP_BY violation
    now tests in addition if a MIN/MAX function was part of a MIN/MAX
    subquery rewrite.
</li><li>In order to be able to distinguish these MIN/MAX functions, the
    patch introduces an additional flag in Item_in_subselect::in_strategy -
    SUBS_STRATEGY_CHOSEN. This flag is set when the optimizer makes its
    final choice of a subuqery strategy. In order to make the choice
    consistent, access to Item_in_subselect::in_strategy is provided
    via new class methods.
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3275">Revision #3275</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-11-11 14:53:26 -0800</span>
<ul start="1"><li>Fixed <a href="https://bugs.launchpad.net/bugs/879871">Bug #879871</a>
</li><li>The function add_ref_to_table_cond missed updating the value of
   join_tab-&gt;pre_idx_push_select_cond after having updated the value
   of join_tab-&gt;select-&gt;pre_idx_push_select_cond.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3274">Revision #3274</a> [merge]
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-11-10 13:28:02 -0800</span>
<ul start="1"><li>Merge of the maria-5.3-icp tree into the 5.3 tree
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3256.1.16">Revision #3256.1.16</a> [merge]
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Tue 2011-11-08 08:04:48 -0800</span>
<ul start="1"><li>Merge.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3256.1.15">Revision #3256.1.15</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Mon 2011-11-07 23:30:03 +0400</span>
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/887026">Bug #887026</a>: Wrong result with ICP, outer join, subquery in maria-5.3-icp
<ul start="1"><li>Do not push index condition if we're using a triggered ref access.
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3256.1.14">Revision #3256.1.14</a> [merge]
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sun 2011-11-06 13:44:59 -0800</span>
<ul start="1"><li>Merge.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3256.1.13">Revision #3256.1.13</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sun 2011-11-06 01:23:03 -0700</span>
<ul start="1"><li>Fixed <a href="https://bugs.launchpad.net/bugs/886145">Bug #886145</a>
</li><li>The bug happened because in some cases the function JOIN::exec
    did not save the value of TABLE::pre_idx_push_select_cond in
    TABLE::select-&gt;pre_idx_push_select_cond for the sort table.
</li><li>Noticed and fixed a bug in the function make_cond_remainder
    that builds the remainder condition after extraction of an index
    pushdown condition from the where condition. The code
    erroneously assumed that the function make_cond_for_table left
    the value of ICP_COND_USES_INDEX_ONLY in sub-condition markers.
</li><li>Adjusted many result files from the regression test suite
    after this fix .
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3256.1.12">Revision #3256.1.12</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-11-04 05:39:45 -0700</span>
<ul start="1"><li>Fixed <a href="https://bugs.launchpad.net/bugs/885168">Bug #885168</a>
</li><li>The call of the virtual function cancel_pushed_idx_cond in the code of
    the function test_if_skip_sort_order was misplaced when backporting the
    fix for <a href="http://bugs.mysql.com/bug.php?id=58816">MySQL Bug #58816</a>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3256.1.11">Revision #3256.1.11</a> [merge]
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-11-02 01:22:11 -0700</span>
<ul start="1"><li>Merge.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3256.1.10">Revision #3256.1.10</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Tue 2011-11-01 07:00:55 -0700</span>
<ul start="1"><li>Backported the fix and the test case for <a href="http://bugs.mysql.com/bug.php?id=12822678">MySQL Bug #12822678</a> from the mysql-5.6 code line.
</li><li>Fixed a bug in select_describe.
</li><li>Adjusted results for affected test cases.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3256.1.9">Revision #3256.1.9</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Mon 2011-10-31 01:36:28 -0700</span>
<ul start="1"><li>Fixed a compilation error.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3256.1.8">Revision #3256.1.8</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Mon 2011-10-31 01:13:12 -0700</span>
<ul start="1"><li>Backported the test case for <a href="http://bugs.mysql.com/bug.php?id=59843">MySQL Bug #59843</a> from the mysql-5.6 code line.
</li><li>(Failed to reproduce the bug in mariadb-5.3).
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3256.1.7">Revision #3256.1.7</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sun 2011-10-30 06:17:07 -0700</span>
<ul start="1"><li>Backported the fix and the test case for <a href="http://bugs.mysql.com/bug.php?id=59483">MySQL Bug #59483</a> from the mysql-5.6 code line.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3256.1.6">Revision #3256.1.6</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sun 2011-10-30 04:18:09 -0700</span>
<ul start="1"><li>Backported the test case for <a href="http://bugs.mysql.com/bug.php?id=58838">MySQL Bug #58838</a> from mysql-5.6 code line.
</li><li>The bug was fixed by the patches for <a href="https://bugs.launchpad.net/bugs/668644">Bug #668644</a> and <a href="https://bugs.launchpad.net/bugs/702322">Bug #702322</a> that
    were applied earlier to the mariadb-5.3 code.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3256.1.5">Revision #3256.1.5</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sun 2011-10-30 03:34:26 -0700</span>
<ul start="1"><li>Backported the test case for <a href="http://bugs.mysql.com/bug.php?id=59186">MySQL Bug #59186</a> from mysql-5.6 code line.
</li><li>The bug was fixed by the patch for <a href="https://bugs.launchpad.net/bugs/694092">Bug #694092</a> that was
    applied earlier to the mariadb-5.3 code.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3256.1.4">Revision #3256.1.4</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sun 2011-10-30 02:37:10 -0700</span>
<ul start="1"><li>Backported the test case for <a href="http://bugs.mysql.com/bug.php?id=58837">MySQL Bug #58837</a> The fix was backported earlier.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3256.1.3">Revision #3256.1.3</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sat 2011-10-29 15:36:24 -0700</span>
<ul start="1"><li>Backported the fix and the test case for <a href="http://bugs.mysql.com/bug.php?id=58816">MySQL Bug #58816</a> from mysql-5.6 code line.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3256.1.2">Revision #3256.1.2</a> [merge]
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-10-28 05:19:45 -0700</span>
<ul start="1"><li>Merge.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3256.1.1">Revision #3256.1.1</a> [merge]
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-10-28 04:07:11 -0700</span>
<ul start="1"><li>Merge.
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3015.2.3">Revision #3015.2.3</a>
    <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-06-02 14:03:02 -0700</span>
<ul start="1"><li>Applied the patch for <a href="http://bugs.mysql.com/bug.php?id=58837">MySQL Bug #58837</a> (for the mysql-5.6 code line).
</li><li>This patch fixed the crash in innodb_bug59307.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3015.2.2">Revision #3015.2.2</a> [merge]
    <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-06-01 20:49:37 -0700</span>
<ul start="1"><li>Merge.
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2954.1.6">Revision #2954.1.6</a>
     <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-06-01 17:41:50 -0700</span>
<ul start="1"><li>Modified the code backported from mysql 5.6 to make it handle virtual
      columns as well.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2954.1.5">Revision #2954.1.5</a>
     <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sun 2011-05-29 11:09:05 -0700</span>
<ul start="1"><li>Backported the test case for <a href="http://bugs.mysql.com/bug.php?id=52605">MySQL Bug #52605</a>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2954.1.4">Revision #2954.1.4</a>
     <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-05-27 20:50:06 -0700</span>
<ul start="1"><li>Backported the test case for <a href="http://bugs.mysql.com/bug.php?id=52660">MySQL Bug #52660</a> from mysql code line.
</li><li>Extended the test case to show how MariaDB applies ICP for
      indexes with some components defined on the beginning of fields.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2954.1.3">Revision #2954.1.3</a>
     <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-05-27 17:04:29 -0700</span>
<ul start="1"><li>Backported the test case for <a href="http://bugs.mysql.com/bug.php?id=43618">MySQL Bug #43618</a> from mysql code line.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2954.1.2">Revision #2954.1.2</a>
     <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-05-27 15:20:19 -0700</span>
<ul start="1"><li>Backported the test case for <a href="http://bugs.mysql.com/bug.php?id=43617">MySQL Bug #43617</a> fixed by the patch for <a href="http://bugs.mysql.com/bug.php?id=42580">MySQL Bug #42580</a>
</li><li>Backported the test case for <a href="http://bugs.mysql.com/bug.php?id=49906">MySQL Bug #49906</a> fixed by the patch for <a href="https://bugs.launchpad.net/bugs/625841">Bug #625841</a>
</li><li>Slightly optimized the code of the fix for <a href="https://bugs.launchpad.net/bugs/625841">Bug #625841</a>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2954.1.1">Revision #2954.1.1</a>
     <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-05-25 16:01:56 -0700</span>
<ul start="1"><li>Downported InnoDB support of Index Condition Pushdown from MySQL-5.6 code line.
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3273">Revision #3273</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Mon 2011-11-07 16:39:02 +0400</span>
<ul start="1"><li>Make subselect_extra_no_semijoin.test run the tests with semijoin=off,
</li><li>update test results
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3272">Revision #3272</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-11-04 12:04:12 +0200</span>
<ul start="1"><li>Fixed that test doesn't abort if 'var' points to a deleted directory (common case when using <code class="fixed" style="white-space:pre-wrap">--mem</code>)
</li><li>Better error message if <code class="fixed" style="white-space:pre-wrap">--log-bin</code> is used without <code class="fixed" style="white-space:pre-wrap">--log-bin-index</code>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3271">Revision #3271</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-11-04 10:14:25 +0200</span>
<ul start="1"><li>Fixed <a href="https://bugs.launchpad.net/bugs/884101">Bug #884101</a> "Crash in check_table_is_closed with concurrent workload"
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3270">Revision #3270</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-11-03 13:00:25 +0100</span>
<ul start="1"><li>rename binlog_dbug_fsync_sleep -&gt; debug_binlog_fsync_sleep
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3269">Revision #3269</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-11-03 12:59:48 +0100</span>
<ul start="1"><li>cast.test: use exact double, to be independent from compiler optimizations
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3268">Revision #3268</a> [merge]
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-11-02 22:06:22 +0400</span>
<ul start="1"><li>Merge
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3262.1.3">Revision #3262.1.3</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-11-02 22:05:08 +0400</span>
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/878753">Bug #878753</a>: Assertion '0' failed in replace_where_subcondition with derived_merge
<ul start="1"><li>Remove the assert in replace_where_subcondition (the patch has explanation why)
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3267">Revision #3267</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-11-02 20:01:50 +0400</span>
<ul start="1"><li>Change the default @@optimizer_switch settings:
<ul start="1"><li>More test result updates (the errors are the same, the difference is that
    "at row X" became "at row Y" due to queries with semi-joins producing
    select results in different order)
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3266">Revision #3266</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-11-02 19:52:11 +0400</span>
<ul start="1"><li>Fix "unused variable addr" warning
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3265">Revision #3265</a> [merge]
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-11-02 19:37:26 +0400</span>
<ul start="1"><li>Merge
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3262.1.2">Revision #3262.1.2</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-11-02 19:36:08 +0400</span>
<ul start="1"><li>Change the default @@optimizer_switch settings:
<ul start="1"><li>More test result updates
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3264">Revision #3264</a> [merge]
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-11-02 13:51:47 +0400</span>
<ul start="1"><li>Merge
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3262.1.1">Revision #3262.1.1</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-11-02 13:48:41 +0400</span>
<ul start="1"><li>Change the default @@optimizer_switch settings:
<ul start="1"><li>semijoin=on
</li><li>firstmatch=on
</li><li>loosescan=on
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3263">Revision #3263</a> [merge]
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-11-02 10:05:07 +0200</span>
<ul start="1"><li>Merge of <a href="https://bugs.launchpad.net/bugs/872775">Bug #872775</a> fix
<ul start="1"><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3248.1.1">Revision #3248.1.1</a>
    <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Tue 2011-11-01 17:42:52 +0200</span>
<ul start="1"><li>Fix of <a href="https://bugs.launchpad.net/bugs/872775">Bug #872775</a>
</li><li>The problem was that merged views has its own nest_level numbering =&gt;
      when we compare nest levels we should take into considiration basis (i.e. 0 level),
      if it is different then nest levels are not comparable.
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3262">Revision #3262</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Tue 2011-11-01 18:19:19 +0200</span>
<ul start="1"><li>Fix <a href="https://bugs.launchpad.net/bugs/833702">Bug #833702</a>
</li><li>Analysis:
<ul start="1"><li>Equality propagation propagated the constant '7' into
    args[0] of the Item_in_optimizer that stands for the
    "&lt; ANY" predicate. At the same the min/max subquery
    rewrite swapped the order of the left and right operands
    of the "&lt;" predicate, but used Item_in_subselect::left_expr.
</li><li>As a result, when the &lt;ANY predicate is executed early in the
    execution phase as a contant condition, instead of a constant
    right (swapped) argument of the &lt; predicate, there was a field
    (t3.a). This field had no data, since the whole predicate is
    considered constant, and it is evaluated before any tables are
    read. Having junk in the field row buffer produced wrong result
</li></ul>
</li><li>Solution:
<ul start="1"><li>Fix create_swap to pick the correct Item_in_optimizer left
    argument.
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3261">Revision #3261</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Tue 2011-11-01 13:22:09 +0200</span>
<ul start="1"><li>Fix of typo.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3260">Revision #3260</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Tue 2011-11-01 12:04:11 +0400</span>
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/884631">Bug #884631</a>: Table elimination works 5.3 release builds even if turned off
<ul start="1"><li>Make table elimination to actually switch itself on/off in release builds.
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3259">Revision #3259</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Mon 2011-10-31 15:07:43 +0400</span>
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/882994">Bug #882994</a>: Crash in QUICK_RANGE_SELECT::reset with derived_with_keys
<ul start="1"><li>The bug was caused by the following scenario:
<ul start="1"><li>a quick select is created with get_quick_select_for_ref. The quick 
     select refers to temporary (derived) table. It saves table-&gt;file, which
     refers to a ha_heap object.
</li><li>When temp table is populated, ha_heap reaches max. size and is converted
     to a ha_myisam.  However, quick-&gt;file remains pointing to where ha_heap 
     was. 
</li><li>Attempt to use the quick select causes crash.
<ul start="1"><li>Fixed by introducing QUICK_SELECT_I::replace_handler(). Note that it will 
      not work for index_merge quick selects. Which is fine, because these
      quick selects are never created for derived tables.
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3258">Revision #3258</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-10-28 12:38:36 +0400</span>
<ul start="1"><li>Let t/myisam_icp.test run include/icp_tests.inc with MRR/ICP turned ON (not OFF)
</li><li>Fix the compile-time-default value of optimizer_switch printed by mysqld <code class="fixed" style="white-space:pre-wrap">--help --defaults</code>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3257">Revision #3257</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-10-28 11:23:30 +0400</span>
<ul start="1"><li>Make innodb_no_mrricp.test to really run with MRR and ICP turned OFF. 
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3256">Revision #3256</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-10-27 12:03:33 -0700</span>
<ul start="1"><li>Moved the test case for <a href="https://bugs.launchpad.net/bugs/879939">Bug #879939</a> to derived_view.test where it belongs to. 
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3255">Revision #3255</a> [merge]
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-10-27 09:14:45 -0700</span>
<ul start="1"><li>Merge.
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3252.1.1">Revision #3252.1.1</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-10-27 08:32:24 -0700</span>
<ul start="1"><li>Fixed <a href="https://bugs.launchpad.net/bugs/874035">Bug #874035</a>
</li><li>The function Item_direct_view_ref::fix_fields erroneously did not correct
    the value of the flag maybe_null when the view for which the item was
    being fixed happened to be an inner table of an outer join.
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3254">Revision #3254</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-10-27 13:54:28 +0400</span>
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/882472">Bug #882472</a>: subselect4.test fails in current 5.3
<ul start="1"><li>The problem was that the value of READ_RECORD::file was not updated when the underlying table
    was temporary and was converted from heap to myisam. Resolved by eliminating READ_RECORD::file,
    always use READ_RECORD::table-&gt;file
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3253">Revision #3253</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-10-26 20:25:18 +0300</span>
<ul start="1"><li>Fixed <a href="https://bugs.launchpad.net/bugs/879939">Bug #879939</a> "assertion in ha_maria::enable_indexes with derived_with_keys=on"
</li><li>Honor unique/not unique when creating keys for internal tempory tables.
</li><li>Added new variables to be used to limit how keys are created for internal temporary tables.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3252">Revision #3252</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-10-26 04:27:09 -0700</span>
<ul start="1"><li>Fixed <a href="https://bugs.launchpad.net/bugs/881449">Bug #881449</a>
</li><li>The function SELECT_LEX::update_used_tables first must clean up
   all bitmaps to be recalculated for all tables that require it
   and only after this walk through on conditions attached to the
   tables to update these bitmaps.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3251">Revision #3251</a> [merge]
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-10-26 10:58:40 +0400</span>
<ul start="1"><li>Merge fix for <a href="https://bugs.launchpad.net/bugs/877288">Bug #877288</a>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3249.1.1">Revision #3249.1.1</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-10-26 02:38:49 +0400</span>
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/877288">Bug #877288</a>: Wrong result with semijoin + materialization + multipart key
<ul start="1"><li>when create_ref_for_key() is constructing a ref access for
     a table that's inside a SJ-Materialization nest, it may not 
     use references to fields of tables that are unside the nest (because 
     these fields will not yet have values when ref access will be used)
</li><li>The check was performed in the first of create_ref_for_key's loops (the 
     one which counts how many key parts are usable) but not in the second
     (the one which actually fills the TABLE_REF structure). 
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3250">Revision #3250</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Tue 2011-10-25 14:18:19 -0700</span>
<ul start="1"><li>Fixed <a href="https://bugs.launchpad.net/bugs/881318">Bug #881318</a>.
</li><li>If a materialized derived table / view is empty then for this table
   the value of file-&gt;ref is 0. This was not taken into account by
   the function JOIN_CACHE::write_record_data. As a result a query
   using an empty materialized derived tables as inner tables of outer
   joins and IN subqueries in WHERE conditions could cause server crashes
   when the optimizer employed join caches and duplicate elimination for
   semi-joins.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3249">Revision #3249</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Mon 2011-10-24 12:54:28 -0700</span>
<ul start="1"><li>Fixed <a href="https://bugs.launchpad.net/bugs/880724">Bug #880724</a>
</li><li>Do not create KEYUSEs for a materialized view over a constant table. 
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3248">Revision #3248</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sun 2011-10-23 05:46:03 -0700</span>
<ul start="1"><li>Fixed <a href="https://bugs.launchpad.net/bugs/879882">Bug #879882</a>
</li><li>This bug happened because the function Item_cond::eval_not_null_tables
   erroneously did not initialize the value of not_null_tables_cache.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3247">Revision #3247</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sat 2011-10-22 07:19:43 -0700</span>
<ul start="1"><li>Fixed <a href="https://bugs.launchpad.net/bugs/878769">Bug #878769</a>
</li><li>The method DsMrr_impl::dsmrr_init erroneously tried to get a KEY descriptor
   for key with number MAX_KEY. This caused valgrind complains.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3246">Revision #3246</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sat 2011-10-22 00:14:27 -0700</span>
<ul start="1"><li>Fixed <a href="https://bugs.launchpad.net/bugs/874378">Bug #874378</a>
</li><li>This bug happened for the queries over multi-table mergeable views
   because the bitmap TABLE::read_set of the underlying tables were not
   updated after the views had been merged into the query.
</li><li>Now this bitmaps are updated properly.
</li><li>Also the bitmap TABLE::merge_keys now is updated in prevention of
  future bugs.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3245">Revision #3245</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-10-20 08:02:31 -0700</span>
<ul start="1"><li>Added a test case for <a href="https://bugs.launchpad.net/bugs/873263">Bug #873263</a> fixed by the patch for <a href="https://bugs.launchpad.net/bugs/874006">Bug #874006</a>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3244">Revision #3244</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-10-20 04:59:20 -0700</span>
<ul start="1"><li>Fixed <a href="https://bugs.launchpad.net/bugs/878199">Bug #878199</a>
</li><li>The function JOIN::drop_unused_derived_keys could erroneously set
   the value of REF::key to 0 for a joined materialized view/derived table
   in the case when no REF access to the table was used by the query
   execution plan. This could cause a crash of the server.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3243">Revision #3243</a> [merge]
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-10-19 23:35:11 -0700</span>
<ul start="1"><li>Merge.
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3240.1.1">Revision #3240.1.1</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-10-19 23:28:37 -0700</span>
<ul start="1"><li>Fixed <a href="https://bugs.launchpad.net/bugs/877316">Bug #877316</a>
</li><li>This bug happened due to incompleteness of the fix for <a href="https://bugs.launchpad.net/bugs/872735">Bug #872735</a>:
    the occurrences of the fields in the conditions of correlated
    subqueries were not taken into account when recalculating
    covering keys bit maps.
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3242">Revision #3242</a> [merge]
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-10-19 21:01:42 +0200</span>
<ul start="1"><li>merge 5.2
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2732.46.11">Revision #2732.46.11</a> [merge]
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-10-19 20:53:16 +0200</span>
<ul start="1"><li>merge from 5.1
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2643.143.42">Revision #2643.143.42</a>
    <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Wed 2011-10-19 20:51:01 +0200</span>
<ul start="1"><li>Fix endless loop in my_gethwaddr()
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2643.143.41">Revision #2643.143.41</a>
    <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-10-13 11:20:33 +0200</span>
<ul start="1"><li>silence the "uninitialized" warning
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/2732.46.10">Revision #2732.46.10</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sun 2011-10-16 21:55:53 +0300</span>
<ul start="1"><li>Fixed wrong info message for mysqld <code class="fixed" style="white-space:pre-wrap">--general-log</code>
</li><li>Fixed wrong parameter type for <code class="fixed" style="white-space:pre-wrap">--general-log</code>. Now one can enable it with <code class="fixed" style="white-space:pre-wrap">--general-log= 1 | true | on</code>
</li><li>Fixed that bool parameters can also take 'on' and 'off' as parameters. This is in line with the values assigned to them in mysqld.
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3241">Revision #3241</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Tue 2011-10-18 22:50:17 +0300</span>
<ul start="1"><li>Fix of building on Mac OS.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3240">Revision #3240</a> [merge]
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Tue 2011-10-18 14:04:10 +0300</span>
<ul start="1"><li>merge
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3233.2.1">Revision #3233.2.1</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Tue 2011-10-18 13:44:12 +0300</span>
<ul start="1"><li>Compiler warning about assigned but not used variables fixed.
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3239">Revision #3239</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Mon 2011-10-17 03:42:56 -0700</span>
<ul start="1"><li>Fixed a compiler warning.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3238">Revision #3238</a> [merge]
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Mon 2011-10-17 01:20:16 -0700</span>
<ul start="1"><li>Merge.
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3235.1.1">Revision #3235.1.1</a>
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sun 2011-10-16 13:23:57 -0700</span>
<ul start="1"><li>Fixed <a href="https://bugs.launchpad.net/bugs/874006">Bug #874006</a>
</li><li>This bug manifested itself with queries containing non-correlated
    IN subqueries over materialized views/derived tables.  
</li><li>The bug happened because the code of the function generate_derived_keys did
    not take into account that the function could be called twice when the
    optimizer was deciding whether in-exist transformation should be applied.
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3237">Revision #3237</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Sun 2011-10-16 22:46:11 +0300</span>
<ul start="1"><li>Remove extra MariaDB- from binary tar.gz file name
</li><li>Print server version name to .err file on crash 
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3236">Revision #3236</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-10-14 17:51:16 +0200</span>
<ul start="1"><li>In crash handler, output session value of the optimizer switch.
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3235">Revision #3235</a> [merge]
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-10-14 03:56:41 -0700</span>
<ul start="1"><li>Merge.
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3233.1.1">Revision #3233.1.1</a> [merge]
   <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-10-14 00:11:50 -0700</span>
<ul start="1"><li>Merge.
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3232.1.1">Revision #3232.1.1</a>
    <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-10-13 22:39:00 -0700</span>
<ul start="1"><li>Fixed <a href="https://bugs.launchpad.net/bugs/872735">Bug #872735</a>
</li><li>This bug happened because the maps of covering keys for mergeable derived
     tables/views was not recalculated after the derived tables/vies had been
     merged into the main query.
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3234">Revision #3234</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Fri 2011-10-14 12:41:20 +0200</span>
<ul start="1"><li>update pbxt test results
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3233">Revision #3233</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-10-13 13:44:50 +0200</span>
<ul start="1"><li><a href="https://bugs.launchpad.net/bugs/817966">Bug #817966</a> int_column IN (string_constant)
</li><li>restore the status quo from before the microsecond patch
</li></ul>
</li><li><a href="http://bazaar.launchpad.net/%7Emaria-captains/maria/5.3/revision/3232">Revision #3232</a>
  <span class="cstm-style" style="color:gray;font-size:0.8em;font-style:italic;">Thu 2011-10-13 11:23:59 +0200</span>
<ul start="1"><li>typo.</li></ul>
</li></ul>

    </div>


        
            <div id="subscribe" class="well well-small hide hidden-print"
                 data-subscribe-url="/kb/en/mariadb-533-changelog/+subscriptions/add"
                 data-unsubscribe-url="/kb/en/mariadb-533-changelog/+subscriptions/remove">
            </div>
        

        
        
    
        <div class="simple_section_nav">
            <ul class="nav nav-pills">
                
                    <li><a href="/kb/en/mariadb-534-changelog/">
                        ← MariaDB 5.3.4 Changelog
                    </a>
                    </li>
                
                
                    <li><a href="/kb/en/changelogs-mariadb-53-series/">
                        ↑ Changelogs - MariaDB 5.3 Series ↑
                    </a>
                    </li>
                
                
                    <li class="pull-right"><a href="/kb/en/mariadb-532-changelog/">
                        MariaDB 5.3.2 Changelog →
                    </a>
                    </li>
                
            </ul>
        </div>
    

        

        
        <h2>Comments</h2>
        
    
    <div id="comments" data-node-id="1826" data-comments-url="/kb/en/mariadb-533-changelog/+comments"
         data-reply-url="/kb/en/mariadb-533-changelog/comments/post/">
        Comments loading...
    </div>

        

    </div>


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
                <div id="right_bar" class="col-md-2">
                    
    
        
        <ul class="section_navigation well well-small hidden-xs hidden-sm">
            
                <li class="parent"><a href="/kb/en/changelogs-mariadb-53-series/">
                    ↑ Changelogs - MariaDB 5.3 Series ↑
                </a>
                </li>
            
            
                
                    <li>
                        <a href="/kb/en/mariadb-5312-changelog/">
                            
                            MariaDB 5.3.12 Changelog
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/mariadb-5311-changelog/">
                            
                            MariaDB 5.3.11 Changelog
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/mariadb-5310-changelog/">
                            
                            MariaDB 5.3.10 Changelog
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/mariadb-539-changelog/">
                            
                            MariaDB 5.3.9 Changelog
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/mariadb-538-changelog/">
                            
                            MariaDB 5.3.8 Changelog
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/mariadb-537-changelog/">
                            
                            MariaDB 5.3.7 Changelog
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/mariadb-536-changelog/">
                            
                            MariaDB 5.3.6 Changelog
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/mariadb-535-changelog/">
                            
                            MariaDB 5.3.5 Changelog
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/mariadb-534-changelog/">
                            
                            MariaDB 5.3.4 Changelog
                        </a>
                    </li>
                
            
                
                    <li class="active">
                        <span>MariaDB 5.3.3 Changelog</span>
                        
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/mariadb-532-changelog/">
                            
                            MariaDB 5.3.2 Changelog
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/mariadb-531-changelog/">
                            
                            MariaDB 5.3.1 Changelog
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/mariadb-530-changelog/">
                            
                            MariaDB 5.3.0 Changelog
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/mariadb-530-changelog-p2/">
                            
                            MariaDB 5.3.0 Changelog p2
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/mariadb-530-changelog-p3/">
                            
                            MariaDB 5.3.0 Changelog p3
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/mariadb-530-changelog-p4/">
                            
                            MariaDB 5.3.0 Changelog p4
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/mariadb-530-changelog-p5/">
                            
                            MariaDB 5.3.0 Changelog p5
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/mariadb-530-changelog-p6/">
                            
                            MariaDB 5.3.0 Changelog p6
                        </a>
                    </li>
                
            
        </ul>
    
    

                </div>
            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/services" title="Services">Services</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">About Us</a></h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/download" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2024 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.1587e3a666fc.js" charset="utf-8"></script>

</html>