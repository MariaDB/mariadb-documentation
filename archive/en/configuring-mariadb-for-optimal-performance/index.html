<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>Configuring MariaDB for Optimal Performance - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.b9e1e104f007.css" rel="stylesheet" type="text/css" />

    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="Configuring MariaDB for Optimal Performance" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/en/configuring-mariadb-for-optimal-performance/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="How to get optimal performance." />

    <meta name="description" content="How to get optimal performance." />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes products nodes_view jqui" id="nodes_view">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/configuring-mariadb-for-optimal-performance/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2024 MariaDB. All rights reserved.</p>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/configuring-mariadb-for-optimal-performance/" rel="nofollow">Login</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/en/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/en/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/services" title="Services">Services</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="About Us">About Us</a>
    </li>
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/en/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/en/documentation/">MariaDB Server Documentation</a>
    

    
    » <a class="crumb" href="/kb/en/mariadb-administration/">MariaDB Administration</a>
    

    
    » <a class="crumb" href="/kb/en/getting-installing-and-upgrading-mariadb/">Getting, Installing, and Upgrading MariaDB</a>
    

    
    » <a class="crumb" href="/kb/en/mariadb-performance-advanced-configurations/">MariaDB Performance &amp; Advanced Configurations</a>
    


    » <a class="node_link crumb" href="/kb/en/configuring-mariadb-for-optimal-performance/">Configuring MariaDB for Optimal Performance</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/en/">Home</a></li>
                            
                                
                                    <li><a href="/kb/en/+questions/">Open Questions</a></li>
                                
                                <li><a href="/kb/en/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/en/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/en/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/en/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
<div>



<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-blue btn-sm" href="/kb/en/configuring-mariadb-for-optimal-performance/+history" rel="nofollow">History</a>
        
        
        
        <a class="btn btn-block btn-blue btn-sm" href="/kb/en/configuring-mariadb-for-optimal-performance/+source/">Source</a>
        
        <a class="btn btn-block btn-blue btn-sm flag" href="/kb/en/configuring-mariadb-for-optimal-performance/+flag"
                data-flag-url="/kb/en/configuring-mariadb-for-optimal-performance/+flag" rel="nofollow">
                Flag as Spam / Inappropriate</a>
        
        <a class="btn btn-block btn-blue btn-sm" href="/kb/en/configuring-mariadb-for-optimal-performance/+translate/">
                Translate</a>
        

</div>
</div>





<div class="well well-small box node_info"><div>

    <dl>
        <dt>Created</dt>
        <dd>

<span class="datetime" title="2013-12-25 13:33">10 years, 2 months ago</span></dd>

        <dt>Modified</dt>
        <dd>

<span class="datetime" title="2023-08-18 08:21">6 months, 1 week ago</span></dd>

        <dt>Type</dt>
        <dd>article</dd>

        <dt>Status</dt>
        <dd>active</dd>

        <dt>License</dt>
        <dd>
            
                <a href="/kb/en/configuring-mariadb-for-optimal-performance/+license/">CC BY-SA / Gnu FDL</a>
            
        </dd>

        
    </dl>

    
    <ul class="rss_feeds">
        <li><a href="/kb/en/configuring-mariadb-for-optimal-performance/+history/feed/">
            History</a>
        </li>
        <li><a href="/kb/en/configuring-mariadb-for-optimal-performance/+comments/feed/">
            Comments</a>
        </li>
    </ul>
    

</div>
</div>





    
    
    

<div class="well well-small box attachments"><div><div class="edit_link pull-right"><a href="/kb/en/configuring-mariadb-for-optimal-performance/+edit/attachments/">Edit</a></div><h5>Attachments</h5></div><div>

        
            <div class="no_data">No attachments exist</div>
        
    
</div>
</div>

    



    
    
        

<div class="well well-small box"><div><h5>Localized Versions</h5></div><div>

        <ul>
            
            <li><a href="/kb/de/configuring-mariadb-for-optimal-performance/">Configuring MariaDB for Optimal Performance</a> [de]</li>
            
        </ul>
        
</div>
</div>

    






</div>


                    

































                </aside>
            
            
            
                
            
            
                
            
            <section id="content" class="limited_width col-md-8 clearfix">
                
                    <h1>Configuring MariaDB for Optimal Performance</h1>
                

                



                <div>
                    
    

    
    
    

    <div class="node creole">
        
        
        


    
    <div class="answer formatted">
        <div class="table_of_contents well well-small">
<h3>Contents</h3>
 <ol class="toc">

    <li class=""><a href="#configuring-mariadb-with-mycnfmycnf-files" title="my.cnf Files">my.cnf Files</a></li>

    <li class=""><a href="#innodbinnodb-storage-engine" title="InnoDB Storage Engine">InnoDB Storage Engine</a></li>

    <li class=""><a href="#aria-storage-enginearia-storage-engine" title="Aria Storage Engine">Aria Storage Engine</a></li>

    <li class=""><a href="#myisam" title="MyISAM">MyISAM</a></li>

    <li class=""><a href="#lots-of-connections" title="Lots of Connections">Lots of Connections</a>    <ol class="toc">

        <li class=""><a href="#a-lot-of-fast-connections-small-set-of-queries-disconnects" title="A Lot of Fast Connections + Small Set of Queries + Disconnects">A Lot of Fast Connections + Small Set of Queries + Disconnects</a></li>

        <li class=""><a href="#connecting-from-a-lot-of-different-machines" title="Connecting From a Lot of Different Machines">Connecting From a Lot of Different Machines</a>    </ol>
</li>

    <li class=""><a href="#see-also" title="See Also">See Also</a></li>

    <li class=""><a href="#external-links" title="External Links">External Links</a> </ol>
</li>
</div><p>
This article is to help you configure MariaDB for optimal performance.</p>
<p>Note that by default MariaDB is configured to work on a desktop system and should because of this not take a lot of resources. To get things to work for a dedicated server, you have to do a few minutes of work.</p>
<p>For this article we assume that you are going to run MariaDB on a dedicated server.</p>
<p>Feel free to update this article if you have more ideas.</p>
<h2 class="anchored_heading" id="configuring-mariadb-with-mycnfmycnf-files"><a href="/kb/en/configuring-mariadb-with-mycnf/">my.cnf</a> Files</h2>
<p>MariaDB is normally configured by editing the <a href="/kb/en/mysqld-configuration-files-and-groups/">my.cnf</a> file.</p>
<p>The following my.cnf example files were included with MariaDB until <a href="/kb/en/mariadb-1030-release-notes/">MariaDB 10.3.0</a>. If present, you can examine them to see more complete examples of some of the many ways to configure MariaDB and use the one that fits you best as a base. Note that these files are now quite outdated, so what was huge a few years ago may no longer be seen as such.</p>
<ul start="1"><li>my-small.cnf
</li><li>my-medium.cnf
</li><li>my-large.cnf
</li><li>my-huge.cnf
</li></ul>
<h2 class="anchored_heading" id="innodbinnodb-storage-engine"><a href="/kb/en/innodb/">InnoDB</a> Storage Engine</h2>
<p>InnoDB is normally the default storage engine with MariaDB.</p>
<ul start="1"><li>You should set <a href="/kb/en/innodb-system-variables/#innodb_buffer_pool_size">innodb_buffer_pool_size</a> to about 80% of your memory.  The goal is to ensure that 80 % of your working set is in memory.
</li></ul>
<p>The other most important InnoDB variables are:</p>
<ul start="1"><li><a href="/kb/en/innodb-system-variables/#innodb_log_file_size">innodb_log_file_size</a>
</li><li><a href="/kb/en/innodb-system-variables/#innodb_flush_method">innodb_flush_method</a>
</li><li><a href="/kb/en/innodb-system-variables/#innodb_thread_sleep_delay">innodb_thread_sleep_delay</a>
</li></ul>
<p>Some other important InnoDB variables:</p>
<ul start="1"><li><a href="/kb/en/innodb-system-variables/#innodb_max_dirty_pages_pct_lwm">innodb_max_dirty_pages_pct_lwm</a>
</li><li><a href="/kb/en/innodb-system-variables/#innodb_read_ahead_threshold">innodb_read_ahead_threshold</a>
</li><li><a href="/kb/en/innodb-system-variables/#innodb_buffer_pool_instances">innodb_buffer_pool_instances</a>. Deprecated and ignored from <a href="/kb/en/mariadb-1051-release-notes/">MariaDB 10.5.1</a>.
</li><li><a href="/kb/en/innodb-system-variables/#innodb_adaptive_max_sleep_delay">innodb_adaptive_max_sleep_delay</a>. Deprecated and ignored from <a href="/kb/en/mariadb-1055-release-notes/">MariaDB 10.5.5</a>. 
</li><li><a href="/kb/en/innodb-system-variables/#innodb_thread_concurrency">innodb_thread_concurrency</a>. Deprecated and ignored from <a href="/kb/en/mariadb-1055-release-notes/">MariaDB 10.5.5</a>. 
</li></ul>
<h2 class="anchored_heading" id="aria-storage-enginearia-storage-engine"><a href="/kb/en/aria-storage-engine/">Aria</a> Storage Engine</h2>
<ul start="1"><li>MariaDB uses by default the Aria storage engine for internal temporary files. If you have many temporary files, you should set <a href="/kb/en/aria-server-system-variables/#aria_pagecache_buffer_size">aria_pagecache_buffer_size</a> to a reasonably large value so that temporary overflow data is not flushed to disk. The default is 128M.
</li></ul>
<h2 class="anchored_heading" id="myisam"><a href="/kb/en/myisam/">MyISAM</a></h2>
<ul start="1"><li>If you don't use MyISAM tables explicitly (true for most <a href="/kb/en/what-is-mariadb-104/">MariaDB 10.4</a>+ users), you can set <a href="/kb/en/myisam-system-variables/#key_buffer_size">key_buffer_size</a> to a very low value, like 64K.
</li></ul>
<h2 class="anchored_heading" id="lots-of-connections">Lots of Connections</h2>
<h3 class="anchored_heading" id="a-lot-of-fast-connections-small-set-of-queries-disconnects">A Lot of Fast Connections + Small Set of Queries + Disconnects</h3>
<ul start="1"><li>If you are doing a lot of fast connections / disconnects, you should increase <a href="/kb/en/server-system-variables/#back_log">back_log</a> and if you are running <a href="/kb/en/what-is-mariadb-101/">MariaDB 10.1</a> or below <a href="/kb/en/server-system-variables/#thread_cache_size">thread_cache_size</a>.
</li><li>If you have a lot (&gt; 128) of simultaneous running fast queries, you should consider setting <a href="/kb/en/thread-pool-system-and-status-variables/#thread_handling">thread_handling</a> to <code class="highlight fixed" style="white-space:pre-wrap">pool_of_threads</code>.
</li></ul>
<h3 class="anchored_heading" id="connecting-from-a-lot-of-different-machines">Connecting From a Lot of Different Machines</h3>
<ul start="1"><li>If you are connecting from a lot of different machines you should increase <a href="/kb/en/server-system-variables/#host_cache_size">host_cache_size</a> to the max number of machines (default 128) to cache the resolving of hostnames.  If you don't connect from a lot of machines, you can set this to a very low value!
</li></ul>
<h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="/kb/en/mariadb-memory-allocation/">MariaDB Memory Allocation</a>
</li><li><a href="/kb/en/full-list-of-mariadb-options-system-and-status-variables/">Full List of MariaDB Options, System and Status Variables</a>
</li><li><a href="/kb/en/server-system-variables/">Server system variables</a>
</li><li><a href="/kb/en/mysqld-options-full-list/">mysqld options</a>
</li><li><a href="/kb/en/performance-schema/">Performance schema</a> helps you understand what is taking time and resources.
</li><li><a href="/kb/en/slow-query-log/">Slow query log</a> is used to find queries that are running slow.
</li><li><a href="/kb/en/optimize-table/">OPTIMIZE TABLE</a> helps you defragment tables.
</li></ul>
<h2 class="anchored_heading" id="external-links">External Links</h2>
<ul start="1"><li><a href="http://www.tocker.ca/2013/09/17/what-to-tune-in-mysql-56-after-installation.html">http://www.tocker.ca/2013/09/17/what-to-tune-in-mysql-56-after-installation.html</a>
</li><li><a href="http://www.percona.com/resources/technical-presentations/optimizing-mysql-configuration-percona-mysql-university-montevideo">http://www.percona.com/resources/technical-presentations/optimizing-mysql-configuration-percona-mysql-university-montevideo</a></li></ul>

    </div>


        
            <div id="subscribe" class="well well-small hide hidden-print"
                 data-subscribe-url="/kb/en/configuring-mariadb-for-optimal-performance/+subscriptions/add"
                 data-unsubscribe-url="/kb/en/configuring-mariadb-for-optimal-performance/+subscriptions/remove">
            </div>
        

        
        
    
        <div class="simple_section_nav">
            <ul class="nav nav-pills">
                
                    <li><a href="/kb/en/configuring-linux-for-mariadb/">
                        ← Configuring Linux for MariaDB
                    </a>
                    </li>
                
                
                    <li><a href="/kb/en/mariadb-performance-advanced-configurations/">
                        ↑ MariaDB Performance &amp; Advanced Configurations ↑
                    </a>
                    </li>
                
                
                    <li class="pull-right"><a href="/kb/en/configuring-swappiness/">
                        Configuring Swappiness →
                    </a>
                    </li>
                
            </ul>
        </div>
    

        

        
        <h2>Comments</h2>
        
    
    <div id="comments" data-node-id="4143" data-comments-url="/kb/en/configuring-mariadb-for-optimal-performance/+comments"
         data-reply-url="/kb/en/configuring-mariadb-for-optimal-performance/comments/post/">
        Comments loading...
    </div>

        

    </div>


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
                <div id="right_bar" class="col-md-2">
                    
    
        
        <ul class="section_navigation well well-small hidden-xs hidden-sm">
            
                <li class="parent"><a href="/kb/en/mariadb-performance-advanced-configurations/">
                    ↑ MariaDB Performance &amp; Advanced Configurations ↑
                </a>
                </li>
            
            
                
                    <li>
                        <a href="/kb/en/fusion-io/">
                            
                            Fusion-io
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/atomic-write-support/">
                            
                            Atomic Write Support
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/configuring-linux-for-mariadb/">
                            
                            Configuring Linux for MariaDB
                        </a>
                    </li>
                
            
                
                    <li class="active">
                        <span>Configuring MariaDB for Optimal Performance</span>
                        
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/configuring-swappiness/">
                            
                            Configuring Swappiness
                        </a>
                    </li>
                
            
        </ul>
    
    

                </div>
            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/services" title="Services">Services</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">About Us</a></h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/download" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2024 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.fed4ec768178.js" charset="utf-8"></script>

</html>