



<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>
Comments - Full Backup and Restore with Mariabackup
 - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.f7633538c846.css" rel="stylesheet" type="text/css" />

    

    
        <meta name="robots" content="noindex, nofollow" />
    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="
Comments - Full Backup and Restore with Mariabackup
" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/en/full-backup-and-restore-with-mariabackup/+comments" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="" />

    <meta name="description" content="" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes node_comments jqui" id="node_comments">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/full-backup-and-restore-with-mariabackup/+comments"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2024 MariaDB. All rights reserved.</p>
    </div>
</div>
<div class="violator-wrap d-none" id="top_violator">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12">
                <div class="violator-outer">
                    <div class="violator-inner">
                        <div class="row">
                            <div class="col-xs-12 col-sm-9 col-lg-7 col-lg-offset-2" id="top_violator_content">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="content-link" target="_blank" rel="nofollow noreferrer">
                                    <span>The Ultimate Guide to High Availability with MariaDB</span>
                                </a>
                            </div>
                            <div class="col-xs-12 col-sm-3" id="top_violator_cta">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="btn btn-mariadb" target="_blank" rel="nofollow noreferrer">Download Now</a>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn btn-link close-btn">
                        <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" width="15px" height="15px"><path d="M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/full-backup-and-restore-with-mariabackup/+comments" rel="nofollow">Login</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/en/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/en/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/services" title="Services">Services</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="About Us">About Us</a>
    </li>
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/en/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/en/documentation/">MariaDB Server Documentation</a>
    

    
    » <a class="crumb" href="/kb/en/mariadb-administration/">MariaDB Administration</a>
    

    
    » <a class="crumb" href="/kb/en/backing-up-and-restoring-databases/">Backing Up and Restoring Databases</a>
    

    
    » <a class="crumb" href="/kb/en/mariabackup/">Mariabackup</a>
    


    » <a class="node_link crumb" href="/kb/en/full-backup-and-restore-with-mariabackup/">Full Backup and Restore with Mariabackup</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
            
            
            
            <section id="content" class="limited_width col-md-12 clearfix">
                
                    <h1>
Comments - Full Backup and Restore with Mariabackup
</h1>
                

                



                <div>
                    
<div id="comments" data-node-id="7359" data-comments-url="/kb/en/full-backup-and-restore-with-mariabackup/+comments"
        data-reply-url="/kb/en/full-backup-and-restore-with-mariabackup/comments/post/">
<div class="comment_top_menu hidden-print">&nbsp;
            <div class="pull-right">
                <label>
                    Include Archived
                    <input id="include_archived" type="checkbox" name="include_archived" value="1"
                           />
                </label>
            </div>
        </div>
        <a name="comment_6085"></a>
        <div class="comment approved" style="margin-left: 0px">
            <div class="info">
                

<span class="datetime" title="2023-01-25 18:53">1 year, 5 months ago</span>
                
<span class="user" id="user-13235">
<a href="/kb/user/id/13235" title="Kenneth Sartre">Kenneth Sartre</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_6085">Re: Full Backup with Mariabackup and MariaDB 10.6</a>
                
            </div><div class="comment_text">
                <p>It should be noted that parent directory <strong>mariadb</strong> if not exists results in <strong>Error: cannot mkdir 2: /var/mariadb/backup/</strong>.
Therefore <strong>mkdir /var/mariadb</strong> command should be used before <strong>mariabackup --backup</strong>.</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/full-backup-and-restore-with-mariabackup/+comments/6085/flag"
                       data-flag-url="/kb/en/full-backup-and-restore-with-mariabackup/+comments/6085/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        
    

    
        <a name="comment_5606"></a>
        <div class="comment approved" style="margin-left: 0px">
            <div class="info">
                

<span class="datetime" title="2022-01-31 11:22">2 years, 5 months ago</span>
                
<span class="user" id="user-11879">
<a href="/kb/user/id/11879" title="Graeme Glenn">Graeme Glenn</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_5606">Re: Full Backup and Restore with Mariabackup - WIndows 11</a>
                
            </div><div class="comment_text">
                <p><a href="/kb/en/what-is-mariadb-103/">Mariadb 10.3</a> - Mariabackup fails on restore. Even taking ownership of all files with the SYSTEM account just does not work. But a complete system backup with Macrium Reflect and then stop the MySQL service, extract the data files from the backup and place in the data directory, and restart the MySQL service works a treat.
The set of files in the Macrium reflect backup abart from the various database directories are:
- aria_log.00000001
- 'machine name'.err
- aria_log_control
- ib_buffer_pool
- ib_logfile0
- ib_logfile1
- ibdata1
- ibtmp1
- multi-master.info
- my.ini
- 'machine name'.pid
This is not the same as what is produced by mariabackup.</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/full-backup-and-restore-with-mariabackup/+comments/5606/flag"
                       data-flag-url="/kb/en/full-backup-and-restore-with-mariabackup/+comments/5606/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        
    

    
        <a name="comment_5328"></a>
        <div class="comment approved" style="margin-left: 0px">
            <div class="info">
                

<span class="datetime" title="2021-07-06 02:42">3 years ago</span>
                
<span class="user" id="user-6613">
<a href="/kb/user/id/6613" title="Testing User A Test">Testing User A Test</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_5328">Re: Full Backup and Restore with Mariabackup between Differenct Version</a>
                
            </div><div class="comment_text">
                <p>If I made a db backup by 'mariabackup --backup' command, may I use the backup image to restore to another mariadb version using 'mariabackup --copy-back' command?</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/full-backup-and-restore-with-mariabackup/+comments/5328/flag"
                       data-flag-url="/kb/en/full-backup-and-restore-with-mariabackup/+comments/5328/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        
    

    
        <a name="comment_5259"></a>
        <div class="comment approved" style="margin-left: 0px">
            <div class="info">
                

<span class="datetime" title="2021-06-07 07:53">3 years, 1 month ago</span>
                
<span class="user" id="user-6613">
<a href="/kb/user/id/6613" title="Testing User A Test">Testing User A Test</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_5259">Re: Full Backup and Restore with Mariabackup</a>
                
            </div><div class="comment_text">
                <p>We should execute the command, 'mariabackup --prepare', after performing 'mariabackup --backup'.  Must the command 'mariabackup --prepare' be executed right after finishing 'mariabackup --backup'?   Or I may wait till the time of db restoration?</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/full-backup-and-restore-with-mariabackup/+comments/5259/flag"
                       data-flag-url="/kb/en/full-backup-and-restore-with-mariabackup/+comments/5259/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        <a name="comment_5260"></a>
        <div class="comment approved" style="margin-left: 10px">
            <div class="info">
                

<span class="datetime" title="2021-06-07 08:44">3 years, 1 month ago</span>
                
<span class="user" id="user-6810">
<a href="/kb/user/id/6810" title="Faustin Lammler">Faustin Lammler</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_5260">Re: Full Backup and Restore with Mariabackup</a>
                
            </div><div class="comment_text">
                <p>Hi!
This is a very good question.
I encourage you to verify the time needed in your setup to do the prepare step and based on your SLA decide when to do it (at backup step or at recovery step).</p>
<p>Please take a look at this presentation where Oli Sennhauser explain why he suggest to do the prepare step just after the backup step.
<a href="https://www.youtube.com/watch?v=dQRuK7y2zuc">https://www.youtube.com/watch?v=dQRuK7y2zuc</a></p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/full-backup-and-restore-with-mariabackup/+comments/5260/flag"
                       data-flag-url="/kb/en/full-backup-and-restore-with-mariabackup/+comments/5260/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        <a name="comment_5262"></a>
        <div class="comment approved" style="margin-left: 20px">
            <div class="info">
                

<span class="datetime" title="2021-06-07 08:54">3 years, 1 month ago</span>
                
<span class="user" id="user-6613">
<a href="/kb/user/id/6613" title="Testing User A Test">Testing User A Test</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_5262">Re: Full Backup and Restore with Mariabackup</a>
                
            </div><div class="comment_text">
                <p>Does the prepare step touch all the files inside the backup directory, not the files on /var/lib/mysql directory? If we perform 'prepare' right after backup, it helps to save the time to 'prepare' the backup files for restoration. Is it the reason why we should perform 'prepare' immediately right after the backup? If the 'prepare' time is insignificant, is it no difference whether we do the 'prepare' step right after the backup, or just before db restoration?</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/full-backup-and-restore-with-mariabackup/+comments/5262/flag"
                       data-flag-url="/kb/en/full-backup-and-restore-with-mariabackup/+comments/5262/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        <a name="comment_5264"></a>
        <div class="comment approved" style="margin-left: 30px">
            <div class="info">
                

<span class="datetime" title="2021-06-07 09:04">3 years, 1 month ago</span>
                
<span class="user" id="user-3528">
<a href="/kb/user/id/3528" title="Vladislav Vaintroub">Vladislav Vaintroub</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_5264">Re: Full Backup and Restore with Mariabackup</a>
                
            </div><div class="comment_text">
                <p>it ony touched the backup directory. Note, that you can't always do the prepare on the same machine, apparently when you do not backup into a directory. You can backup to "stream" , i.e stdout, and ship that stream to another box, or elsewhere, to a cloud. Second, maybe you do not want to run an IO and CPU-expensive "prepare", on the box where a server is running.</p>
<p>Having said that, yes, maybe it is more convenient to run prepare on the same box right after backup, if the points above are not a concern.</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/full-backup-and-restore-with-mariabackup/+comments/5264/flag"
                       data-flag-url="/kb/en/full-backup-and-restore-with-mariabackup/+comments/5264/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        
    

    
        <a name="comment_5263"></a>
        <div class="comment approved" style="margin-left: 30px">
            <div class="info">
                

<span class="datetime" title="2021-06-07 08:58">3 years, 1 month ago</span>
                
<span class="user" id="user-6810">
<a href="/kb/user/id/6810" title="Faustin Lammler">Faustin Lammler</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_5263">Re: Full Backup and Restore with Mariabackup</a>
                
            </div><div class="comment_text">
                <p>Please read carefully the documentation and take a moment to look the Oli's mariabackup presentation. You will find all the answer you are looking for.</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/full-backup-and-restore-with-mariabackup/+comments/5263/flag"
                       data-flag-url="/kb/en/full-backup-and-restore-with-mariabackup/+comments/5263/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        
    

    

    

    

    
        <a name="comment_5138"></a>
        <div class="comment approved" style="margin-left: 0px">
            <div class="info">
                

<span class="datetime" title="2021-03-22 13:28">3 years, 3 months ago</span>
                
<span class="user" id="user-10458">
<a href="/kb/user/id/10458" title="rafael te Boekhorst">rafael te Boekhorst</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_5138">Re: Full Backup and Restore with Mariabackup</a>
                
            </div><div class="comment_text">
                <p>hi there,
I get another error, namelly that some tables are not 'reachable' anymore:
&lt;pre&gt;
MariaDB [etst]&gt; select * from blablatable;
ERROR 1146 (42S02): Table 'test.blablatable' doesn't exist
&lt;/pre&gt;</p>
<p>These tables exist definitly on server1 (the one that is backed up).
Any idea what might be going op here?</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/full-backup-and-restore-with-mariabackup/+comments/5138/flag"
                       data-flag-url="/kb/en/full-backup-and-restore-with-mariabackup/+comments/5138/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        
    

    
        <a name="comment_4880"></a>
        <div class="comment approved" style="margin-left: 0px">
            <div class="info">
                

<span class="datetime" title="2020-11-03 22:47">3 years, 8 months ago</span>
                
<span class="user" id="user-9488">
<a href="/kb/user/id/9488" title="Bin Liu">Bin Liu</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_4880">Re: Full Backup and Restore with Mariabackup</a>
                
            </div><div class="comment_text">
                <p>mariadb-10.5.6-winx64, I try to restore db by mariabackup, but it doesn't work:
it restores all files/directories,  but the services 'mariadb' cannot be start..
then, I copy/pase backed files/Dirs to madiadb_dir\data and replace all, it works!
Maybe windows file explorer is better backup tool than mariabackup..</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/full-backup-and-restore-with-mariabackup/+comments/4880/flag"
                       data-flag-url="/kb/en/full-backup-and-restore-with-mariabackup/+comments/4880/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        
    

    
        <a name="comment_3819"></a>
        <div class="comment approved" style="margin-left: 0px">
            <div class="info">
                

<span class="datetime" title="2019-01-25 18:39">5 years, 5 months ago</span>
                
<span class="user" id="user-6821">
<a href="/kb/user/id/6821" title="William Wright">William Wright</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_3819">Re: Full Backup and Restore with Mariabackup</a>
                
            </div><div class="comment_text">
                <p>mysql Ver 15.1 Distrib 10.3.12-MariaDB, for debian-linux-gnu (x86_64) using readline 5.2
mariabackup based on MariaDB server 10.3.12-MariaDB debian-linux-gnu (x86_64)</p>
<p>Kept running into errors similar to the following: 
<a href="https://dba.stackexchange.com/questions/192742/os-error-13-when-running-mariabackup-as-non-mysql-user?rq=1">https://dba.stackexchange.com/questions/192742/os-error-13-when-running-mariabackup-as-non-mysql-user?rq=1</a></p>
<p>For me a "successful" backup required sudo -u mysql mariabackup .....</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/full-backup-and-restore-with-mariabackup/+comments/3819/flag"
                       data-flag-url="/kb/en/full-backup-and-restore-with-mariabackup/+comments/3819/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        <a name="comment_4715"></a>
        <div class="comment approved" style="margin-left: 10px">
            <div class="info">
                

<span class="datetime" title="2020-08-13 21:06">3 years, 11 months ago</span>
                
<span class="user" id="user-5532">
<a href="/kb/user/id/5532" title="Juan Vera">Juan Vera</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_4715">Re: Full Backup and Restore with Mariabackup</a>
                
            </div><div class="comment_text">
                <p>Hello William,</p>
<p>The OS user running MariaBackup needs to have permission to write to the target directory. For example any OS user can run it specifying the target directory as a directory under their home directory.</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/full-backup-and-restore-with-mariabackup/+comments/4715/flag"
                       data-flag-url="/kb/en/full-backup-and-restore-with-mariabackup/+comments/4715/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        
    

    

    
        <a name="comment_3420"></a>
        <div class="comment approved" style="margin-left: 0px">
            <div class="info">
                

<span class="datetime" title="2018-06-15 21:57">6 years, 1 month ago</span>
                
<span class="user" id="user-6257">
<a href="/kb/user/id/6257" title="Bill Border">Bill Border</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_3420">Re: Full Backup and Restore with MariaDB Backup</a>
                
            </div><div class="comment_text">
                <p>I have a question about restoring from a mariabackup backup into a mariadb instance running in a docker container. </p>
<p>You say that you have to stop the mariadb instance before doing the above restore commands. However, if you stop mariadb (mysqladmin shutdown), the docker container stops. Do you see the problem? If the container is stopped, then there is no place to run the mariabackup restore commands from above. </p>
<p>(Pardon my new-ness to all of this. I am an experienced DBA - the container / mariadb world is new to me).  Thanks.</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/full-backup-and-restore-with-mariabackup/+comments/3420/flag"
                       data-flag-url="/kb/en/full-backup-and-restore-with-mariabackup/+comments/3420/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        <a name="comment_3518"></a>
        <div class="comment approved" style="margin-left: 10px">
            <div class="info">
                

<span class="datetime" title="2018-08-13 11:43">5 years, 11 months ago</span>
                
<span class="user" id="user-7">
<a href="/kb/user/id/7" title="Michael Widenius">Michael Widenius</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_3518">Re: Full Backup and Restore with MariaDB Backup</a>
                
            </div><div class="comment_text">
                <p>Normally the database files itself are not in the container but instead somewhere else.</p>
<p>So the procedure would be:
- Stop the mariadb instance
- Run the above commands on the main machine or in another container that has access to the databases directory
- Restart the mariadb instance</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/full-backup-and-restore-with-mariabackup/+comments/3518/flag"
                       data-flag-url="/kb/en/full-backup-and-restore-with-mariabackup/+comments/3518/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        
    

    

    
        <a name="comment_3358"></a>
        <div class="comment approved" style="margin-left: 0px">
            <div class="info">
                

<span class="datetime" title="2018-04-24 10:34">6 years, 2 months ago</span>
                
<span class="user" id="user-6012">
<a href="/kb/user/id/6012" title="">ralph phiri-daudi</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_3358">Re: Full Backup and Restore with MariaDB Backup</a>
                
            </div><div class="comment_text">
                <p>Good Day,</p>
<p>Would like to know if and how I can restore the backup to a new database.
Original Database: DB1
New Database:      DB2</p>
<p>Also, the error "original data directory /var/lib/mysql is not empty", does this mean I must remove all the files in that directory or I should specify another directory to restore to.</p>
<p>Regards,</p>
<p>Ralph</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/full-backup-and-restore-with-mariabackup/+comments/3358/flag"
                       data-flag-url="/kb/en/full-backup-and-restore-with-mariabackup/+comments/3358/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        
    

    

</div>


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/services" title="Services">Services</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">About Us</a></h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/download" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2024 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.1587e3a666fc.js" charset="utf-8"></script>

</html>