<?xml version="1.0" encoding="utf-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>MariaDB Knowledge Base Comments for: Multi-Source Replication</title><link>https://mariadb.com/kb/en/multi-source-replication/+comments/feed/</link><description></description><atom:link href="https://mariadb.com/kb/en/multi-source-replication/+comments/feed/" rel="self"></atom:link><language>en-us</language><lastBuildDate>Mon, 07 Oct 2024 03:40:54 +0000</lastBuildDate><item><title>Re: What is the maximum number of master servers in a multi-source replication?</title><link>https://mariadb.com/kb/en/multi-source-replication/+comments/2996</link><description>&lt;p&gt;I checked the code and the initial allocation size for the array storing connections is 64, but it's automatically extended when needed, so there is no upper limit.
I have now updated the documentation to reflect that.&lt;/p&gt;
&lt;p&gt;When it comes to your replication problems, please file a bug report that describes your setup and the problem you are seeing so that we can try to help solve that!&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Michael Widenius</dc:creator><guid>https://mariadb.com/kb/en/multi-source-replication/+comments/2996</guid></item><item><title>What is the maximum number of master servers in a multi-source replication?</title><link>https://mariadb.com/kb/en/multi-source-replication/+comments/2918</link><description>&lt;p&gt;Hello Friends,&lt;/p&gt;
&lt;p&gt;Recently I deployed a multi-source replication scheme with over 100 master servers against a single slave. I had no problem with the setup despite, according to the documentation (&lt;a href="https://mariadb.com/kb/en/mariadb/multi-source-replication/"&gt;https://mariadb.com/kb/en/mariadb/multi-source-replication/&lt;/a&gt;) the maximum number of nodes was 64.&lt;/p&gt;
&lt;p&gt;I was wondering whether this limit was expanded in recent releases, but I could not find any further mention to it in the release notes.&lt;/p&gt;
&lt;p&gt;However, I am having some spurious replication issues. For example, there are missing rows in the slave database. These missing rows come from random master servers. I would like to confirm with you that the limit of 64 servers was in fact expanded in version 10.1.22 (or prior) of MariaDB, running on a 64-bit Centos, so I can discard this as a possible cause for the problem we are experiencing.&lt;/p&gt;
&lt;p&gt;I appreciate very much your time and help with this issue.&lt;/p&gt;
&lt;p&gt;Best,&lt;/p&gt;
&lt;p&gt;Carlos&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Carlos Pirez</dc:creator><guid>https://mariadb.com/kb/en/multi-source-replication/+comments/2918</guid></item><item><title>Re: Multi-source replication</title><link>https://mariadb.com/kb/en/multi-source-replication/+comments/536</link><description>&lt;p&gt;This was added to the 10.0 source last week. It will be in in &lt;a href="/kb/en/mariadb-1002-release-notes/"&gt;MariaDB 10.0.2&lt;/a&gt;&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Michael Widenius</dc:creator><guid>https://mariadb.com/kb/en/multi-source-replication/+comments/536</guid></item><item><title>CONFIG EXAMPLE</title><link>https://mariadb.com/kb/en/multi-source-replication/+comments/534</link><description>&lt;p&gt;HOW TO START A SINGLE MULTI SOURCE REPLICATION WITH WINDOWS + &lt;a href="/kb/en/mariadb-1000-release-notes/"&gt;MARIADB 10.0.0&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;1)Install MariaDB 10.x&lt;/p&gt;
&lt;p&gt;2)Open 3 MariaDB terminals&lt;/p&gt;
&lt;p&gt;3)Run 3 MariaDB instances, example:&lt;/p&gt;
&lt;p&gt;"C:/Program Files/&lt;a href="/kb/en/what-is-mariadb-100/"&gt;MariaDB 10.0&lt;/a&gt;/bin/mysqld" --datadir="C:/Program Files/&lt;a href="/kb/en/what-is-mariadb-100/"&gt;MariaDB 10.0&lt;/a&gt;/data1" --log-error="C:/Program Files/&lt;a href="/kb/en/what-is-mariadb-100/"&gt;MariaDB 10.0&lt;/a&gt;/log/1.log" --port=3306 --server-id=1 --relay_log_space_limit=1024000000 --log-bin=bin1 --binlog-do-db=t1&lt;/p&gt;
&lt;p&gt;"C:/Program Files/&lt;a href="/kb/en/what-is-mariadb-100/"&gt;MariaDB 10.0&lt;/a&gt;/bin/mysqld" --datadir="C:/Program Files/&lt;a href="/kb/en/what-is-mariadb-100/"&gt;MariaDB 10.0&lt;/a&gt;/data2" --log-error="C:/Program Files/&lt;a href="/kb/en/what-is-mariadb-100/"&gt;MariaDB 10.0&lt;/a&gt;/log/2.log" --port=3307 --server-id=2 --relay_log_space_limit=1024000000 --log-bin=bin2 --binlog-do-db=t2&lt;/p&gt;
&lt;p&gt;"C:/Program Files/&lt;a href="/kb/en/what-is-mariadb-100/"&gt;MariaDB 10.0&lt;/a&gt;/bin/mysqld" --datadir="C:/Program Files/&lt;a href="/kb/en/what-is-mariadb-100/"&gt;MariaDB 10.0&lt;/a&gt;/data3" --log-error="C:/Program Files/&lt;a href="/kb/en/what-is-mariadb-100/"&gt;MariaDB 10.0&lt;/a&gt;/log/3.log" --port=3308 --server-id=3&lt;/p&gt;
&lt;p&gt;Here server-id 1 and 2 are masters, and 3 is slave&lt;/p&gt;
&lt;p&gt;4)Create database t1 in server-id=1, and t2 in server-id=2, like:&lt;/p&gt;
&lt;p&gt;CREATE TABLE t1; CREATE TABLE t2;&lt;/p&gt;
&lt;p&gt;5)Check if t1 and t2 exists in server-id=3 (slave), if not create it&lt;/p&gt;
&lt;p&gt;6)Configure Masters in server-id=3:&lt;/p&gt;
&lt;p&gt;SET @@default_master_connection='t1';&lt;/p&gt;
&lt;p&gt;CHANGE MASTER 't1' TO MASTER_HOST = '127.0.0.1', MASTER_USER = 'user', MASTER_PASSWORD = 'password', MASTER_PORT = 3306;&lt;/p&gt;
&lt;p&gt;SET @@default_master_connection='t2';&lt;/p&gt;
&lt;p&gt;CHANGE MASTER 't2' TO MASTER_HOST = '127.0.0.1', MASTER_USER = 'user', MASTER_PASSWORD = 'password', MASTER_PORT = 3307;&lt;/p&gt;
&lt;p&gt;7)Here Slave is up, now let's check status: (at server-id=3) SHOW ALL SLAVES STATUS you will see two connection (if everything is ok)&lt;/p&gt;
&lt;p&gt;8)Check Masters: (at server-id=1 and 2)&lt;/p&gt;
&lt;p&gt;SHOW MASTER STATUS;&lt;/p&gt;
&lt;p&gt;you will see log files and positions&lt;/p&gt;
&lt;p&gt;9)Start replications: (at server-id=3)&lt;/p&gt;
&lt;p&gt;START ALL SLAVES;&lt;/p&gt;
&lt;p&gt;10)TEST IT! =D (open server-id=1)&lt;/p&gt;
&lt;p&gt;CREATE TABLE t (a int);&lt;/p&gt;
&lt;p&gt;INSERT INTO t VALUES (0),(1),(2),(3);&lt;/p&gt;
&lt;p&gt;11)CHECK REPLICATION (open server-id=3)&lt;/p&gt;
&lt;p&gt;USE t1;&lt;/p&gt;
&lt;p&gt;SELECT * FROM t;&lt;/p&gt;
&lt;p&gt;you will see 0,1,2,3 rows! :D&lt;/p&gt;
&lt;p&gt;12) BE HAPPY =D&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">roberto spadim</dc:creator><guid>https://mariadb.com/kb/en/multi-source-replication/+comments/534</guid></item></channel></rss>