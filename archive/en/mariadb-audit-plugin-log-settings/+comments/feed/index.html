<?xml version="1.0" encoding="utf-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>MariaDB Knowledge Base Comments for: MariaDB Audit Plugin - Log Settings</title><link>https://mariadb.com/kb/en/mariadb-audit-plugin-log-settings/+comments/feed/</link><description></description><atom:link href="https://mariadb.com/kb/en/mariadb-audit-plugin-log-settings/+comments/feed/" rel="self"></atom:link><language>en-us</language><lastBuildDate>Mon, 24 Feb 2025 05:01:12 +0000</lastBuildDate><item><title>Re: MariaDB Audit Plugin - Log Settings</title><link>https://mariadb.com/kb/en/mariadb-audit-plugin-log-settings/+comments/4467</link><description>&lt;p&gt;Is it possible to set the login for everything for a specific user and for the rest only selected?&lt;/p&gt;
&lt;p&gt;From what I see there is the option to set login for selected items, there is the option to login only for specific users, but I do not see the option to change login for specific users.&lt;/p&gt;
&lt;p&gt;Why do I need this option? I'd like to set the login for the "root" user to:QUERY_DML_NO_SELECT, QUERY_DDL, QUERY_DCL. For other users only QUERY_DDL, QUERY_DCL&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Bartlomiej Kida</dc:creator><guid>https://mariadb.com/kb/en/mariadb-audit-plugin-log-settings/+comments/4467</guid></item><item><title>Re: There is an error in this page</title><link>https://mariadb.com/kb/en/mariadb-audit-plugin-log-settings/+comments/1872</link><description>&lt;p&gt;Thanks, fixed.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Ian Gilfillan</dc:creator><guid>https://mariadb.com/kb/en/mariadb-audit-plugin-log-settings/+comments/1872</guid></item><item><title>Re: About the MariaDB Audit Plugin</title><link>https://mariadb.com/kb/en/mariadb-audit-plugin-log-settings/+comments/1690</link><description>&lt;p&gt;How do I get the server audit function to record triggers and functions?
This is what I have,:&lt;/p&gt;
&lt;pre class="fixed"&gt;CREATE TRIGGER `UpdateTransation` 
AFTER INSERT ON `Transactions` FOR EACH ROW 
BEGIN 
Declare vLastID int(10);
Declare vOrigQty int(10);
Declare vAmount int(10);
Declare vUpdateID int(10);
Select () into vLastID;
Select `Qty` From `Inventory`.`Transactions` Where `Transactions`.`idTransaction` = vLastID into vOrigQty;
Select `idInventory` From `Inventory`.`Transactions` Where `Transactions`.`idTransaction` = vLastID into vUpdateID;
Select `Qty` From `Inventory`.`Inventory` Where `idInventory` = vUpdateID into vAmount;
Update `Inventory`.`Inventory` Set `Inventory`.`Qty` = vOrigQty + vAmount Where `Inventory`.`idInventory` = vUpdateID;
End;
&lt;/pre&gt;&lt;p&gt;With this Insert statement:&lt;/p&gt;
&lt;pre class="fixed"&gt;Insert into `Inventory`.`Transactions` (`DTGofEntry`, `idAction`, `Qty`, `idUOM`, `Memo`, `User`, `Computer`, `idInventory`) Values (&amp;#34;2015-09-05 02:09:00&amp;#34;, &amp;#34;2&amp;#34;, &amp;#34;65&amp;#34;, &amp;#34;2&amp;#34;, &amp;#34;N/A&amp;#34;, &amp;#34;martinez&amp;#34;, &amp;#34;172.16.10.50&amp;#34;, &amp;#34;1&amp;#34;);
&lt;/pre&gt;&lt;p&gt;But I can not find out why it is not working, and that it is not being entered into the log.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Joseph Martinez</dc:creator><guid>https://mariadb.com/kb/en/mariadb-audit-plugin-log-settings/+comments/1690</guid></item><item><title>Re: About the MariaDB Audit Plugin</title><link>https://mariadb.com/kb/en/mariadb-audit-plugin-log-settings/+comments/1299</link><description>&lt;p&gt;Hi there,&lt;/p&gt;
&lt;p&gt;I've installed the MariaDB Audit Plugin version 1.1.7 and it's configured to log CONNECT and QUERY but it only seems to be logging Disconnect events and not the Connect, even if the Connect has failed.&lt;/p&gt;
&lt;p&gt;I've tried changing syslog and file outputs and changing the logging to only be Connect but this problem persists.&lt;/p&gt;
&lt;p&gt;Here's the settings I'm including in the my.cnf&lt;/p&gt;
&lt;pre class="fixed"&gt;plugin-load                             = server_audit=server_audit.so
server_audit_events                     = connect,query
server_audit_file_path                  = /var/lib/mysql-logs/audit.log
server_audit_file_rotate_size           = 10G
server_audit_logging                    = ON
server_audit_file_rotations             = 0
&lt;/pre&gt;&lt;p&gt;Here's the version I'm running it on:
Server version: 5.5.37-MariaDB-wsrep-log MariaDB Server, wsrep_25.10.r3980&lt;/p&gt;
&lt;p&gt;Thanks&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Andrew Jack</dc:creator><guid>https://mariadb.com/kb/en/mariadb-audit-plugin-log-settings/+comments/1299</guid></item><item><title>Re: About the MariaDB Audit Plugin</title><link>https://mariadb.com/kb/en/mariadb-audit-plugin-log-settings/+comments/1295</link><description>&lt;p&gt;Did you actually put the library in the plugin directory? It does not exist in the standard MySQL package produced by Oracle on reasons that seem obvious, you need to add it. &lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Elena Stepanova</dc:creator><guid>https://mariadb.com/kb/en/mariadb-audit-plugin-log-settings/+comments/1295</guid></item><item><title>Re: About the MariaDB Audit Plugin</title><link>https://mariadb.com/kb/en/mariadb-audit-plugin-log-settings/+comments/1272</link><description>&lt;p&gt;I'm exploring this plugin for standard security login trail; it is really very useful and handy; it would be great if you can provide SQL blocks to interpret the 'server_audit.log' file into table to do further analysis; i've tried that but the could not map all the columns w/ comma separation; btw, also i did configure  couple of users for server_audit_excl_users, but it is still being tracked in the log file. I'm using 5.5.33a-MariaDB-log on linux.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Jayakumar Athinarayanasamy</dc:creator><guid>https://mariadb.com/kb/en/mariadb-audit-plugin-log-settings/+comments/1272</guid></item><item><title>Re: About the MariaDB Audit Plugin</title><link>https://mariadb.com/kb/en/mariadb-audit-plugin-log-settings/+comments/1259</link><description>&lt;p&gt;With MySQL 5.5.37 and Windows x64 the engine produces an error and does not load the plug-in. I have attached the error messages below and the configuration used. Please let me know how to resolve this issue. Many thanks for your help.&lt;/p&gt;
&lt;p&gt;[ERROR]  Can't open shared library 'C:\Program Files\MySQL\MySQL Server 5.5\lib\plugin\server_audit.dll' (errno: 127 The specified procedure could not be found.)&lt;/p&gt;
&lt;p&gt;[ERROR]  Couldn't load plugin named 'server_audit' with soname 'server_audit.dll'.&lt;/p&gt;
&lt;p&gt;mysql&amp;gt; show global variables like '%version%';&lt;/p&gt;
&lt;table&gt;&lt;tr&gt;&lt;td&gt;innodb_version&lt;/td&gt;&lt;td&gt;5.5.37&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;protocol_version&lt;/td&gt;&lt;td&gt;10&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;slave_type_conversions&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;version&lt;/td&gt;&lt;td&gt;5.5.37-log&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;version_comment&lt;/td&gt;&lt;td&gt;MySQL Community Server (GPL)&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;version_compile_machine&lt;/td&gt;&lt;td&gt;x86&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;version_compile_os&lt;/td&gt;&lt;td&gt;Win64&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;
&lt;p&gt;[mysqld]&lt;/p&gt;
&lt;p&gt;port=3306&lt;/p&gt;
&lt;p&gt;basedir="C:\Program Files\MySQL\MySQL Server 5.5\"&lt;/p&gt;
&lt;p&gt;datadir="C:\ProgramData\MySQL\MySQL Server 5.5\data\"&lt;/p&gt;
&lt;p&gt;character-set-server=utf8&lt;/p&gt;
&lt;p&gt;default-storage-engine=INNODB&lt;/p&gt;
&lt;p&gt;plugin-load=server_audit=server_audit.dll&lt;/p&gt;
&lt;p&gt;server_audit=FORCE_PLUS_PERMANENT&lt;/p&gt;
&lt;p&gt;...&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">M Samarah</dc:creator><guid>https://mariadb.com/kb/en/mariadb-audit-plugin-log-settings/+comments/1259</guid></item><item><title>Re: About the MariaDB Audit Plugin</title><link>https://mariadb.com/kb/en/mariadb-audit-plugin-log-settings/+comments/1097</link><description>&lt;p&gt;On the skysql pdf documentation about Audit Plugin 1.1.5 is not mentioned the 'CHANGEUSER' connection event. &lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Massimo Disaro</dc:creator><guid>https://mariadb.com/kb/en/mariadb-audit-plugin-log-settings/+comments/1097</guid></item></channel></rss>