<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>INET6 - Source - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.f7633538c846.css" rel="stylesheet" type="text/css" />

    
        <meta name="robots" content="noindex, nofollow">
    

    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="INET6 - Source" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/en/inet6/+source/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="" />

    <meta name="description" content="" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes autoresize nodes_source jqui" id="nodes_source">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/inet6/+source/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2024 MariaDB. All rights reserved.</p>
    </div>
</div>
<div class="violator-wrap d-none" id="top_violator">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12">
                <div class="violator-outer">
                    <div class="violator-inner">
                        <div class="row">
                            <div class="col-xs-12 col-sm-9 col-lg-7 col-lg-offset-2" id="top_violator_content">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="content-link" target="_blank" rel="nofollow noreferrer">
                                    <span>The Ultimate Guide to High Availability with MariaDB</span>
                                </a>
                            </div>
                            <div class="col-xs-12 col-sm-3" id="top_violator_cta">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="btn btn-mariadb" target="_blank" rel="nofollow noreferrer">Download Now</a>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn btn-link close-btn">
                        <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" width="15px" height="15px"><path d="M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/inet6/+source/" rel="nofollow">Login</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/en/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/en/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/services" title="Services">Services</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="About Us">About Us</a>
    </li>
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/en/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/en/documentation/">MariaDB Server Documentation</a>
    

    
    » <a class="crumb" href="/kb/en/columns-storage-engines-and-plugins/">Columns, Storage Engines, and Plugins</a>
    

    
    » <a class="crumb" href="/kb/en/data-types/">Data Types</a>
    

    
    » <a class="crumb" href="/kb/en/string-data-types/">String Data Types</a>
    


    » <a class="node_link crumb" href="/kb/en/inet6/">INET6</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/en/">Home</a></li>
                            
                                
                                    <li><a href="/kb/en/+questions/">Open Questions</a></li>
                                
                                <li><a href="/kb/en/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/en/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/en/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/en/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
                        <div>
    

<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-small" href="/kb/en/inet6/">Return to article</a>
    
</div>
</div>

</div>
                    

                    

































                </aside>
            
            
            
                
            
            
            <section id="content" class="limited_width col-md-10 clearfix">
                
                    <h1>INET6 - Source</h1>
                

                



                <div>
                    

    

    
    <div class="revision_info">
        <dl class="table">
            <dt>Revision</dt>
            <dd><a href="/kb/en/inet6/+r/130373/">130373</a></dd>
            <dt>User</dt>
            <dd>
<span class="user" id="user-1368">
<a href="/kb/user/id/1368" title="Ian Gilfillan">Ian Gilfillan</a>
</span></dd>
            <dt>Date</dt>
            <dd>

<span class="datetime" title="2023-09-20 16:03">2023-09-20 16:03</span></dd>
        </dl>
    </div>
    


    

    
        
        <textarea id="answer_source" class="creole_source autogrow">&lt;&lt;product mariadb from=10.5.0&gt;&gt;
The INET6 data type was added in MariaDB 10.5.0
&lt;&lt;/product&gt;&gt;

== Syntax

&lt;&lt;code&gt;&gt;
INET6
&lt;&lt;/code&gt;&gt;
&lt;&lt;toc&gt;&gt;

== Description

The ##INET6## data type is intended for storage of IPv6 addresses, as well as IPv4 addresses assuming conventional mapping of IPv4 addresses into IPv6 addresses.

Both short and long IPv6 notation are permitted, according to RFC-5952.

* Values are stored as a 16-byte fixed length binary string, with most significant byte first.
* Storage engines see INET6 as BINARY(16).
* Clients see INET6 as CHAR(39) and get text representation on retrieval.

The IPv4-compatible notation is considered as deprecated. It is supported for compatibility with the [[inet6_aton|INET6_ATON]] function, which also understands this format. It&#39;s recommended to use the mapped format to store IPv4 addresses in INET6.

When an IPv4 mapped (or compatible) value is stored in INET6, it still occupies 16 bytes:

=== Retrieval
On retrieval, in the client-server text protocol, INET6 values are converted to the short text representation, according to RFC-5952, that is with all leading zeroes in each group removed and with consequent zero groups compressed.

Besides creating one&#39;s own [[stored-functions|stored function]], there is no a way to retrieve an INET6 value using long text representation.

=== Casting
* [[cast|CAST]] from a character string to INET6 understands addresses in short or long text notation (including IPv4 mapped and compatible addresses). NULL is returned if the format is not understood.
* CAST from a binary string to INET6 requires a 16-byte string as an argument. NULL is returned if the argument length is not equal to 16.
* CAST from other data types to INET6 first converts data to a character string, then CAST from character string to INET6 is applied.
* CAST from INET6 to [[char|CHAR]] returns short text address notation.
* CAST from INET6 to [[binary|BINARY]] returns its 16-byte binary string representation.
* CAST from INET6 to data types other than [[char|CHAR]] (e.g. SIGNED, UNSIGNED, TIME, etc) returns an error.

=== Comparisons
An INET6 expression can be compared to:
* another INET6 expression
* a character string expression with a text (short or long) address representation:
* a 16-byte binary string expression:

Attempting to compare INET6 to an expression of any other data type returns an error.

===Mixing INET6 Values for Result

An INET6 expression can be mixed for result (i.e. [[union|UNION]], [[case|CASE..THEN]], [[coalesce|COALESCE]] etc) with:

* another INET6 expression. The resulting data type is INET6.
* a character string in text (short or long) address representation. The result data type is INET6. The character string counterpart is automatically converted to INET6. If the string format is not understood, it&#39;s converted with a warning to either NULL or to &#39;::&#39;, depending on the NULL-ability of the result.
* a 16-byte binary string. The resulting data type is INET6. The binary string counterpart is automatically converted to INET6. If the length of the binary string is not equal to 16, it&#39;s converted with a warning to NULL or to &#39;::&#39; depending on the NULL-ability of the result.

Attempts to mix INET6 for result with other data types will return an error.

Mixing INET6 with other data types for [[least|LEAST]] and [[greatest|GREATEST]], when mixing for comparison and mixing for result are involved at the same time, uses the same rules with mixing for result, described in the previous paragraphs.

=== Functions and Operators
*  [[hex|HEX()]] with an INET6 argument returns a hexadecimal representation of the underlying 16-byte binary string
* Arithmetic operators (+,-,*,/,MOD,DIV) are not supported for INET6. This may change in the future.
* The [[inet6_aton|INET6_ATON]] function now understands INET6 values as an argument
* The prototypes of the [[is_ipv4_compat|IS_IPV4_COMPAT]] and I[[is_ipv4_mapped|S_IPV4_MAPPED]] functions have changed from ##a BINARY(16)## to ##a INET6##,
* When the argument for these two functions is not INET6, automatic implicit CAST to INET6 is applied. As a consequence, both functions now understand arguments in both text representation and binary(16) representation. Before MariaDB 10.5.0, these functions understood only binary(16) representation.

=== Prepared Statement Parameters
INET6 understands both [[text]] and [[binary|binary(16)]] address representation in [[prepared-statements|prepared statement]] parameters ([[prepare-statement|PREPARE]]..[[execute-statement|EXECUTE]] and [[execute-immediate|EXECUTE IMMEDIATE]] statements).

=== Migration between  BINARY(16) and INET6

Before MariaDB 10.5.0, you may have used [[binary|BINARY(16)]] as a storage for IPv6 internet addresses, in combination with [[inet6_aton|INET6_ATON]] and [[inet6_ntoa|INET6_NTOA]] to respectively insert and retrieve data.

From 10.5, you can [[alter-table|ALTER]] BINARY(16) columns storing IPv6 addresses to INET6. After such an alter, there is no a need to use INET6_ATON() and INET6_NTOA(). Addresses can be inserted and retrieved directly.

It is also possible to convert INET6 columns to BINARY(16) and continue using the data in combination with INET6_NTOA() and INET6_ATON().

== Examples
&lt;&lt;sql&gt;&gt;
CREATE TABLE t1 (a INET6);
&lt;&lt;/sql&gt;&gt;

Inserting using short text address notation:
&lt;&lt;sql&gt;&gt;
INSERT INTO t1 VALUES (&#39;2001:db8::ff00:42:8329&#39;);
&lt;&lt;/sql&gt;&gt;

Long text address notation:
&lt;&lt;sql&gt;&gt;
INSERT INTO t1 VALUES (&#39;2001:0db8:0000:0000:0000:ff00:0042:8329&#39;);
&lt;&lt;/sql&gt;&gt;

16-byte binary string notation:
&lt;&lt;sql&gt;&gt;
INSERT INTO t1 VALUES (0x20010DB8000000000000FF0000428329);
INSERT INTO t1 VALUES (UNHEX(&#39;20010DB8000000000000FF0000428329&#39;));
&lt;&lt;/sql&gt;&gt;

IPv4 addresses, using IPv4-mapped and IPv4-compatible notations:
&lt;&lt;sql&gt;&gt;
INSERT INTO t1 VALUES (&#39;::ffff:192.0.2.128&#39;); -- mapped
INSERT INTO t1 VALUES (&#39;::192.0.2.128&#39;); -- compatible
&lt;&lt;/sql&gt;&gt;

&lt;&lt;sql&gt;&gt;
SELECT * FROM t1;
+------------------------+
| a                      |
+------------------------+
| 2001:db8::ff00:42:8329 |
| 2001:db8::ff00:42:8329 |
| 2001:db8::ff00:42:8329 |
| 2001:db8::ff00:42:8329 |
| ::ffff:192.0.2.128     |
| ::192.0.2.128          |
+------------------------+
&lt;&lt;/sql&gt;&gt;

IPv4 mapped (or compatible) values still occupy 16 bytes:
&lt;&lt;sql&gt;&gt;
CREATE OR REPLACE TABLE t1 (a INET6);

INSERT INTO t1 VALUES (&#39;::ffff:192.0.2.128&#39;);

SELECT * FROM t1;
+--------------------+
| a                  |
+--------------------+
| ::ffff:192.0.2.128 |
+--------------------+

SELECT HEX(a) FROM t1;
+----------------------------------+
| HEX(a)                           |
+----------------------------------+
| 00000000000000000000FFFFC0000280 |
+----------------------------------+
&lt;&lt;/sql&gt;&gt;

Casting from INET6 to anything other than [[char|CHAR]] returns an error:
&lt;&lt;sql&gt;&gt;
SELECT CAST(a AS DECIMAL) FROM t1;

ERROR 4079 (HY000): Illegal parameter data type inet6 for operation &#39;decimal_typecast&#39;
&lt;&lt;/sql&gt;&gt;

===Comparison Examples
 Comparison with another INET6 expression:
&lt;&lt;sql&gt;&gt;
    CREATE OR REPLACE TABLE t1 (a INET6);
    CREATE OR REPLACE TABLE t2 (a INET6);

    INSERT INTO t1 VALUES (&#39;2001:db8::ff00:42:8328&#39;),(&#39;2001:db8::ff00:42:8329&#39;);
    INSERT INTO t2 VALUES (&#39;2001:db8::ff00:42:832a&#39;),(&#39;2001:db8::ff00:42:8329&#39;);

    SELECT t1.* FROM t1,t2 WHERE t1.a=t2.a;
    +------------------------+
    | a                      |
    +------------------------+
    | 2001:db8::ff00:42:8329 |
    +------------------------+
&lt;&lt;/sql&gt;&gt;

With a character string expression with a text (short or long) address representation:
&lt;&lt;sql&gt;&gt;
    CREATE OR REPLACE TABLE t1 (a INET6);

    INSERT INTO t1 VALUES (&#39;2001:db8::ff00:42:8329&#39;);

    SELECT * FROM t1 WHERE a=&#39;2001:db8::ff00:42:8329&#39;;
    +------------------------+
    | a                      |
    +------------------------+
    | 2001:db8::ff00:42:8329 |
    +------------------------+
&lt;&lt;/sql&gt;&gt;

With a 16-byte binary string expression:
&lt;&lt;sql&gt;&gt;
    CREATE OR REPLACE TABLE t1 (a INET6);

    INSERT INTO t1 VALUES (&#39;2001:db8::ff00:42:8329&#39;);

    SELECT * FROM t1 WHERE a=X&#39;20010DB8000000000000FF0000428329&#39;;
    +------------------------+
    | a                      |
    +------------------------+
    | 2001:db8::ff00:42:8329 |
    +------------------------+
&lt;&lt;/sql&gt;&gt;

With an expression of another data type:
&lt;&lt;sql&gt;&gt;
SELECT * FROM t1 WHERE a=1;
ERROR 4078 (HY000): Illegal parameter data types inet6 and int for operation &#39;=&#39;
&lt;&lt;/sql&gt;&gt;

=== Mixing for Result Examples

Mixed with another INET6 expression, returning an INET6 data type:
&lt;&lt;sql&gt;&gt;
    CREATE OR REPLACE TABLE t1 (a INET6, b INET6);

    INSERT INTO t1 VALUES (NULL,&#39;2001:db8::ff00:42:8329&#39;);

    SELECT a FROM t1 UNION SELECT b FROM t1;
    +------------------------+
    | a                      |
    +------------------------+
    | NULL                   |
    | 2001:db8::ff00:42:8329 |
    +------------------------+

    SELECT COALESCE(a, b) FROM t1;
    +------------------------+
    | COALESCE(a, b)         |
    +------------------------+
    | 2001:db8::ff00:42:8329 |
    +------------------------+
&lt;&lt;/sql&gt;&gt;

 Mixed with a character string in text (short or long) address representation:
&lt;&lt;sql&gt;&gt;
    CREATE OR REPLACE TABLE t1 (a INET6, b VARCHAR(64));

    INSERT INTO t1 VALUES (NULL,&#39;2001:db8::ff00:42:8328&#39;);

    INSERT INTO t1 VALUES (NULL,&#39;2001:db8::ff00:42:832a garbage&#39;);

    SELECT COALESCE(a,b) FROM t1;
    +------------------------+
    | COALESCE(a,b)          |
    +------------------------+
    | 2001:db8::ff00:42:8328 |
    | NULL                   |
    +------------------------+
    2 rows in set, 1 warning (0.001 sec)

    SHOW WARNINGS;
    +---------+------+---------------------------------------------------------+
    | Level   | Code | Message                                                 |
    +---------+------+---------------------------------------------------------+
    | Warning | 1292 | Incorrect inet6 value: &#39;2001:db8::ff00:42:832a garbage&#39; |
    +---------+------+---------------------------------------------------------+
&lt;&lt;/sql&gt;&gt;

Mixed with a 16-byte binary string:
&lt;&lt;sql&gt;&gt;
    CREATE OR REPLACE TABLE t1 (a INET6, b VARBINARY(16));

    INSERT INTO t1 VALUES (NULL,CONCAT(0xFFFF,REPEAT(0x0000,6),0xFFFF));

    INSERT INTO t1 VALUES (NULL,0x00/*garbage*/);

    SELECT COALESCE(a,b) FROM t1;
    +---------------+
    | COALESCE(a,b) |
    +---------------+
    | ffff::ffff    |
    | NULL          |
    +---------------+
    2 rows in set, 1 warning (0.001 sec)

    SHOW WARNINGS;
    +---------+------+-------------------------------+
    | Level   | Code | Message                       |
    +---------+------+-------------------------------+
    | Warning | 1292 | Incorrect inet6 value: &#39;\x00&#39; |
    +---------+------+-------------------------------+
&lt;&lt;/sql&gt;&gt;

Mixing with other data types:
&lt;&lt;sql&gt;&gt;
SELECT CAST(&#39;ffff::ffff&#39; AS INET6) UNION SELECT 1;
ERROR 4078 (HY000): Illegal parameter data types inet6 and int for operation &#39;UNION&#39;
&lt;&lt;/sql&gt;&gt;

=== Functions and Operators Examples
[[hex|HEX]] with an INET6 argument returning a hexadecimal representation:
&lt;&lt;sql&gt;&gt;
    SELECT HEX(CAST(&#39;2001:db8::ff00:42:8329&#39; AS INET6));
    +----------------------------------------------+
    | HEX(CAST(&#39;2001:db8::ff00:42:8329&#39; AS INET6)) |
    +----------------------------------------------+
    | 20010DB8000000000000FF0000428329             |
    +----------------------------------------------+
&lt;&lt;/sql&gt;&gt;

[[inet6_aton|INET6_ATON]] now understands INET6 values as an argument:
&lt;&lt;sql&gt;&gt;
    CREATE OR REPLACE TABLE t1 (a INET6);

    INSERT INTO t1 VALUES (&#39;2001:db8::ff00:42:8329&#39;);

    SELECT a, HEX(INET6_ATON(a)) FROM t1;
    +------------------------+----------------------------------+
    | a                      | HEX(INET6_ATON(a))               |
    +------------------------+----------------------------------+
    | 2001:db8::ff00:42:8329 | 20010DB8000000000000FF0000428329 |
    +------------------------+----------------------------------+
&lt;&lt;/sql&gt;&gt;

[[is_ipv4_compat|IS_IPV4_COMPAT]] and [[is_ipv4_mapped|IS_IPV4_MAPPED]] prototype now ##a BINARY(16))##:
&lt;&lt;sql&gt;&gt;
    CREATE OR REPLACE TABLE t1 (a INET6);

    INSERT INTO t1 VALUES (&#39;2001:db8::ff00:42:8329&#39;);
    INSERT INTO t1 VALUES (&#39;::ffff:192.168.0.1&#39;);
    INSERT INTO t1 VALUES (&#39;::192.168.0.1&#39;);

    SELECT a, IS_IPV4_MAPPED(a), IS_IPV4_COMPAT(a) FROM t1;
    +------------------------+-------------------+-------------------+
    | a                      | IS_IPV4_MAPPED(a) | IS_IPV4_COMPAT(a) |
    +------------------------+-------------------+-------------------+
    | 2001:db8::ff00:42:8329 |                 0 |                 0 |
    | ::ffff:192.168.0.1     |                 1 |                 0 |
    | ::192.168.0.1          |                 0 |                 1 |
    +------------------------+-------------------+-------------------+
&lt;&lt;/sql&gt;&gt;

Automatic implicit CAST to INET6:
&lt;&lt;sql&gt;&gt;
    CREATE OR REPLACE TABLE t1 (
      a INET6,
      b VARCHAR(39) DEFAULT a
    );

    INSERT INTO t1 (a) VALUES (&#39;ffff::ffff&#39;),(&#39;::ffff:192.168.0.1&#39;);

    SELECT a, IS_IPV4_MAPPED(a), b, IS_IPV4_MAPPED(b) FROM t1;
    +--------------------+-------------------+--------------------+-------------------+
    | a                  | IS_IPV4_MAPPED(a) | b                  | IS_IPV4_MAPPED(b) |
    +--------------------+-------------------+--------------------+-------------------+
    | ffff::ffff         |                 0 | ffff::ffff         |                 0 |
    | ::ffff:192.168.0.1 |                 1 | ::ffff:192.168.0.1 |                 1 |
    +--------------------+-------------------+--------------------+-------------------+

    CREATE OR REPLACE TABLE t1 (
      a INET6,
      b BINARY(16) DEFAULT UNHEX(HEX(a))
    );

    INSERT INTO t1 (a) VALUES (&#39;ffff::ffff&#39;),(&#39;::ffff:192.168.0.1&#39;);

    SELECT a, IS_IPV4_MAPPED(a), HEX(b), IS_IPV4_MAPPED(b) FROM t1;
    +--------------------+-------------------+----------------------------------+-------------------+
    | a                  | IS_IPV4_MAPPED(a) | HEX(b)                           | IS_IPV4_MAPPED(b) |
    +--------------------+-------------------+----------------------------------+-------------------+
    | ffff::ffff         |                 0 | FFFF000000000000000000000000FFFF |                 0 |
    | ::ffff:192.168.0.1 |                 1 | 00000000000000000000FFFFC0A80001 |                 1 |
    +--------------------+-------------------+----------------------------------+-------------------+
&lt;&lt;/sql&gt;&gt;

===Prepared Statement Parameters Examples
&lt;&lt;sql&gt;&gt;
CREATE OR REPLACE TABLE t1 (a INET6);

EXECUTE IMMEDIATE &#39;INSERT INTO t1 VALUES (?)&#39; USING &#39;ffff::fffe&#39;;
EXECUTE IMMEDIATE &#39;INSERT INTO t1 VALUES (?)&#39; USING X&#39;FFFF000000000000000000000000FFFF&#39;;

SELECT * FROM t1;
+------------+
| a          |
+------------+
| ffff::fffe |
| ffff::ffff |
+------------+

EXECUTE IMMEDIATE &#39;SELECT * FROM t1 WHERE a=?&#39; USING &#39;ffff::fffe&#39;;
+------------+
| a          |
+------------+
| ffff::fffe |
+------------+

EXECUTE IMMEDIATE &#39;SELECT * FROM t1 WHERE a=?&#39; USING X&#39;FFFF000000000000000000000000FFFF&#39;;
+------------+
| a          |
+------------+
| ffff::ffff |
+------------+
&lt;&lt;/sql&gt;&gt;

=== Migration between BINARY(16) and INET6 Examples

Before MariaDB 10.5:
&lt;&lt;sql&gt;&gt;
CREATE OR REPLACE TABLE t1 (a BINARY(16));

INSERT INTO t1 VALUES (INET6_ATON(&#39;ffff::ffff&#39;));

SELECT INET6_NTOA(a) FROM t1;
+---------------+
| INET6_NTOA(a) |
+---------------+
| ffff::ffff    |
+---------------+
&lt;&lt;/sql&gt;&gt;

Migrating to INET6, from MariaDB 10.5:
&lt;&lt;sql&gt;&gt;
ALTER TABLE t1 MODIFY a INET6;

INSERT INTO t1 VALUES (&#39;ffff::fffe&#39;);

SELECT * FROM t1;
+------------+
| a          |
+------------+
| ffff::ffff |
| ffff::fffe |
+------------+
&lt;&lt;/sql&gt;&gt;

Migration from INET6 to BINARY(16):
&lt;&lt;sql&gt;&gt;
CREATE OR REPLACE TABLE t1 (a INET6);

INSERT INTO t1 VALUES (&#39;2001:db8::ff00:42:8329&#39;);
INSERT INTO t1 VALUES (&#39;::ffff:192.168.0.1&#39;);
INSERT INTO t1 VALUES (&#39;::192.168.0.1&#39;);

ALTER TABLE t1 MODIFY a BINARY(16);

SELECT INET6_NTOA(a) FROM t1;
+------------------------+
| INET6_NTOA(a)          |
+------------------------+
| 2001:db8::ff00:42:8329 |
| ::ffff:192.168.0.1     |
| ::192.168.0.1          |
+------------------------+
&lt;&lt;/sql&gt;&gt;

=== Casting from INET4 to INET6
From MariaDB 11.3.0, casting from [[inet4|INET4]] data types to INET6 is permitted, allowing INET4 values to be inserted into INET6 columns.

Before MariaDB 11.3:
&lt;&lt;sql&gt;&gt;
CREATE TABLE t1 (a INET6);

INSERT INTO t1 VALUES(&#39;0.0.0.0&#39;), (&#39;255.10.0.0&#39;), (&#39;255.255.255.255&#39;);
ERROR 1292 (22007): Incorrect inet6 value: &#39;0.0.0.0&#39; for column `test`.`t1`.`a` at row 1
&lt;&lt;/sql&gt;&gt;

From MariaDB 11.3:
&lt;&lt;sql&gt;&gt;
CREATE TABLE t1 (a INET6);

INSERT INTO t1 VALUES(&#39;0.0.0.0&#39;), (&#39;255.10.0.0&#39;), (&#39;255.255.255.255&#39;);
Query OK, 3 rows affected (0.027 sec)
&lt;&lt;/sql&gt;&gt;

== See Also
* [[is_ipv6|IS_IPV6]]
* [[inet6_aton|INET6_ATON]]
* [[inet6_ntoa|INET6_NTOA]]
* [[https://www.youtube.com/watch?v=1zNOGGgUnlQ|Working with IPv6 in MariaDB - the INET6 datatype]] (video)</textarea>
    


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/services" title="Services">Services</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">About Us</a></h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/download" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2024 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.1587e3a666fc.js" charset="utf-8"></script>

</html>