<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>Configuring MariaDB for Remote Client Access - Source - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.f7633538c846.css" rel="stylesheet" type="text/css" />

    
        <meta name="robots" content="noindex, nofollow">
    

    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="Configuring MariaDB for Remote Client Access - Source" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/en/configuring-mariadb-for-remote-client-access/+source/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="" />

    <meta name="description" content="" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes autoresize nodes_source jqui" id="nodes_source">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/configuring-mariadb-for-remote-client-access/+source/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2024 MariaDB. All rights reserved.</p>
    </div>
</div>
<div class="violator-wrap d-none" id="top_violator">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12">
                <div class="violator-outer">
                    <div class="violator-inner">
                        <div class="row">
                            <div class="col-xs-12 col-sm-9 col-lg-7 col-lg-offset-2" id="top_violator_content">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="content-link" target="_blank" rel="nofollow noreferrer">
                                    <span>The Ultimate Guide to High Availability with MariaDB</span>
                                </a>
                            </div>
                            <div class="col-xs-12 col-sm-3" id="top_violator_cta">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="btn btn-mariadb" target="_blank" rel="nofollow noreferrer">Download Now</a>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn btn-link close-btn">
                        <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" width="15px" height="15px"><path d="M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/configuring-mariadb-for-remote-client-access/+source/" rel="nofollow">Login</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/en/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/en/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/services" title="Services">Services</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="About Us">About Us</a>
    </li>
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/en/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/en/training-tutorials/">Training &amp; Tutorials</a>
    

    
    » <a class="crumb" href="/kb/en/basic-mariadb-articles/">Basic MariaDB Articles</a>
    


    » <a class="node_link crumb" href="/kb/en/configuring-mariadb-for-remote-client-access/">Configuring MariaDB for Remote Client Access</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/en/">Home</a></li>
                            
                                
                                <li><a href="/kb/en/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/en/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/en/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/en/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
                        <div>
    

<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-small" href="/kb/en/configuring-mariadb-for-remote-client-access/">Return to article</a>
    
</div>
</div>

</div>
                    

                    

































                </aside>
            
            
            
                
            
            
            <section id="content" class="limited_width col-md-10 clearfix">
                
                    <h1>Configuring MariaDB for Remote Client Access - Source</h1>
                

                



                <div>
                    

    

    
    <div class="revision_info">
        <dl class="table">
            <dt>Revision</dt>
            <dd><a href="/kb/en/configuring-mariadb-for-remote-client-access/+r/132638/">132638</a></dd>
            <dt>User</dt>
            <dd>
<span class="user" id="user-2">
<a href="/kb/user/id/2" title="Daniel Bartholomew">Daniel Bartholomew</a>
</span></dd>
            <dt>Date</dt>
            <dd>

<span class="datetime" title="2023-11-21 22:05">2023-11-21 22:05</span></dd>
        </dl>
    </div>
    


    

    
        
        <textarea id="answer_source" class="creole_source autogrow">&lt;&lt;toc&gt;&gt;
Some MariaDB packages bind MariaDB to 127.0.0.1 (the loopback IP address) by default
as a security measure using the [[server-system-variables#bind_address|bind-address]] configuration directive. Old MySQL packages sometimes disabled TCP/IP networking altogether using the [[server-system-variables#skip_networking|skip-networking]] directive. Before going in to how to configure these, let&#39;s
explain what each of them actually does:

* [[server-system-variables#skip_networking|skip-networking]] is fairly simple. It just tells MariaDB to run without any of the TCP/IP networking options.

* [[server-system-variables/#bind_address|bind-address]] requires a little bit of background information. A given
  server usually has at least two networking interfaces (although this is not
  required) and can easily have more. The two most common are a //Loopback//
  network device and a physical //Network Interface Card// (NIC) which allows
  you to communicate with the network. MariaDB is bound to the loopback
  interface by default because it makes it impossible to connect to the TCP
  port on the server from a remote host (the bind-address must refer to a local
  IP address, or you will receive a fatal error and MariaDB will not start).
  This of course is not desirable if you want to use the TCP port from a remote
  host, so you must remove this bind-address directive or replace it either 0.0.0.0 
  to listen on all interfaces, or the address of a specific public interface.
  &lt;&lt;product mariadb from=10.11&gt;&gt;
  Multiple comma-separated addresses can now be given to ##bind_address## to allow the server to listen on more than one specific interface while not listening on others.
  &lt;&lt;/product&gt;&gt;


If [[server-system-variables/#bind_address|bind-address]] is bound to 127.0.0.1 (localhost), one can&#39;t connect to the MariaDB server from other hosts or from the same host over TCP/IP on a different interface than the loopback (127.0.0.1). This for example will not work (connecting with a hostname that points to a local IP of the host):

&lt;&lt;code&gt;&gt;
(/my/maria-10.11) ./client/mariadb --host=myhost --protocol=tcp --port=3306 test
ERROR 2002 (HY000): Can&#39;t connect to MySQL server on &#39;myhost&#39; (115)
(/my/maria-10.11) telnet myhost 3306
Trying 192.168.0.11...
telnet: connect to address 192.168.0.11: Connection refused
&lt;&lt;/code&gt;&gt;

Using &#39;localhost&#39; works when binding with ##bind_address##:
&lt;&lt;code&gt;&gt;
(my/maria-10.11) ./client/mariadb --host=localhost --protocol=tcp --port=3306 test
Reading table information for completion of table and column names
You can turn off this feature to get a quicker startup with -A

Welcome to the MariaDB monitor.  Commands end with ; or \g.
...
&lt;&lt;/code&gt;&gt;

== Finding the Defaults File

To enable MariaDB to listen to remote connections, you need to edit your defaults
file. See [[configuring-mariadb-with-mycnf|Configuring MariaDB with my.cnf]] for more detail.

Common locations for defaults files:

&lt;&lt;code&gt;&gt;
  * /etc/my.cnf                              (*nix/BSD)
  * $MYSQL_HOME/my.cnf                       (*nix/BSD) *Most Notably /etc/mysql/my.cnf
  * SYSCONFDIR/my.cnf                        (*nix/BSD)
  * DATADIR\my.ini                           (Windows)
&lt;&lt;/code&gt;&gt;

You can see which defaults files are read and in which order by executing:
&lt;&lt;code&gt;&gt;
shell&gt; mariadbd --help --verbose
mariadbd  Ver 10.11.5-MariaDB for linux-systemd on x86_64 (MariaDB Server)
Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.

Starts the MariaDB database server.

Usage: ./mariadbd [OPTIONS]

Default options are read from the following files in the given order:
/etc/my.cnf /etc/mysql/my.cnf ~/.my.cnf
&lt;&lt;/code&gt;&gt;

The last line shows which defaults files are read.

== Editing the Defaults File

Once you have located the defaults file, use a text editor to open the file and
try to find lines like this under the [mysqld] section:

&lt;&lt;code&gt;&gt;
 [mysqld]
    ...
    skip-networking
    ...
    bind-address = &lt;some ip-address&gt;
    ...
&lt;&lt;/code&gt;&gt;

(The lines may not be in this order, and the order doesn&#39;t matter.)

If you are able to locate these lines, make sure they are both commented out
(prefaced with hash (#) characters), so that they look like this:

&lt;&lt;code&gt;&gt;
 [mysqld]
    ...
    #skip-networking
    ...
    #bind-address = &lt;some ip-address&gt;
    ...
&lt;&lt;/code&gt;&gt;

(Again, the order of these lines don&#39;t matter)

Alternatively, just add the following lines **at the end** of your .my.cnf (notice that the file name starts with a dot) file in your home directory or alternative **last** in your /etc/my.cnf file.

&lt;&lt;code&gt;&gt;
[mysqld]
skip-networking=0
skip-bind-address
&lt;&lt;/code&gt;&gt;

This works as one can have any number of [mysqld] sections.

Save the file and restart the mariadbd daemon or service (see [[starting-and-stopping-mariadb| Starting and Stopping MariaDB]]).

You can check the options mariadbd is using by executing:
&lt;&lt;code&gt;&gt;
shell&gt; ./sql/mariadbd --print-defaults
./sql/mariadbd would have been started with the following arguments:
--bind-address=127.0.0.1 --innodb_file_per_table=ON --server-id=1 --skip-bind-address ...
&lt;&lt;/code&gt;&gt;

It doesn&#39;t matter if you have the original --bind-address left as the later --skip-bind-address will overwrite it.

== Granting User Connections From Remote Hosts

Now that your MariaDB server installation is setup to accept connections from
remote hosts, we have to add a user that is allowed to connect from something
other than &#39;localhost&#39; (Users in MariaDB are defined as &#39;user&#39;@&#39;host&#39;, so
&#39;chadmaynard&#39;@&#39;localhost&#39; and &#39;chadmaynard&#39;@&#39;1.1.1.1&#39; (or
&#39;chadmaynard&#39;@&#39;server.domain.local&#39;) are different users that can have
completely different permissions and/or passwords.

To create a new user:

* log into the [[mariadb-command-line-client/|mariadb command line client]] (or your favorite graphical client if you wish)

&lt;&lt;code indent=1&gt;&gt;
Welcome to the MariaDB monitor.  Commands end with ; or \g.
Your MariaDB connection id is 36
Server version: 5.5.28-MariaDB-mariadb1~lucid mariadb.org binary distribution

Copyright (c) 2000, 2012, Oracle, Monty Program Ab and others.

Type &#39;help;&#39; or &#39;\h&#39; for help. Type &#39;\c&#39; to clear the current input statement.

MariaDB [(none)]&gt; 
&lt;&lt;/code&gt;&gt;

* if you are interested in viewing any existing remote users, issue the following SQL statement on the [[mysqluser-table|mysql.user]] table:

&lt;&lt;code indent=1&gt;&gt;
SELECT User, Host FROM mysql.user WHERE Host &lt;&gt; &#39;localhost&#39;;
+--------+-----------+
| User   | Host      |
+--------+-----------+
| daniel | %         |
| root   | 127.0.0.1 |
| root   | ::1       |
| root   | gandalf   |
+--------+-----------+
4 rows in set (0.00 sec)
&lt;&lt;/code&gt;&gt;

(If you have a fresh install, it is normal for no rows to be returned)

Now you have some decisions to make. At the heart of every grant statement you have these things:
* list of allowed privileges
* what database/tables these privileges apply to
* username
* host this user can connect from
* and optionally a password

It is common for people to want to create a &#34;root&#34; user that can connect from anywhere, so as an example, we&#39;ll do just that, but to improve on it we&#39;ll create
a root user that can connect from anywhere on my local area network (LAN), which
has addresses in the subnet 192.168.100.0/24. This is an improvement because
opening a MariaDB server up to the Internet and granting access to all
hosts is bad practice.

&lt;&lt;code&gt;&gt;
GRANT ALL PRIVILEGES ON *.* TO &#39;root&#39;@&#39;192.168.100.%&#39; 
  IDENTIFIED BY &#39;my-new-password&#39; WITH GRANT OPTION;
&lt;&lt;/code&gt;&gt;

(% is a wildcard)

For more information about how to use GRANT, please see the [[grant|GRANT]]
page.

At this point we have accomplished our goal and we have a user &#39;root&#39; that can
connect from anywhere on the 192.168.100.0/24 LAN.

== Port 3306 is Configured in Firewall

One more point to consider whether the firewall is configured to allow incoming request from remote clients:

On RHEL and CentOS 7, it may be necessary to configure the firewall to allow TCP access to MariaDB from remote hosts. To do so, execute both of these commands:

&lt;&lt;code&gt;&gt;
firewall-cmd --add-port=3306/tcp 
firewall-cmd --permanent --add-port=3306/tcp
&lt;&lt;/code&gt;&gt;

== Caveats

* If your system is running a software firewall (or behind a hardware firewall
  or NAT) you must allow connections destined to TCP port that MariaDB runs on (by
  default and almost always 3306).
* To undo this change and not allow remote access anymore, simply remove the ##skip-bind-address## line or uncomment the [[server-system-variables/#bind_address|bind-address]] line in your defaults file.  The end result should be that you should have in the output from &lt;&lt;code&gt;&gt;./sql/mariadbd --print-defaults&lt;&lt;/code&gt;&gt; the option ##--bind-address=127.0.0.1## and no ##--skip-bind-address##.

&lt;&lt;style class=&#34;bluebox&#34; style=&#34;font-size:0.6em;font-family:&#39;Droid Sans&#39;;&#34;&gt;&gt;
//The initial version of this article was copied, with permission, from http://hashmysql.org/wiki/Remote_Clients_Cannot_Connect on 2012-10-30.//
&lt;&lt;/style&gt;&gt;</textarea>
    


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/services" title="Services">Services</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">About Us</a></h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/download" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2024 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.1587e3a666fc.js" charset="utf-8"></script>

</html>