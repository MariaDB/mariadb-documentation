<?xml version="1.0" encoding="utf-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>MariaDB Knowledge Base Comments for: The table have issue. select is empty but can't insert more data</title><link>https://mariadb.com/kb/en/storage-engines-the-table-have-issue-select-is-empty-but-cant-insert-more-d/+comments/feed/</link><description></description><atom:link href="https://mariadb.com/kb/en/storage-engines-the-table-have-issue-select-is-empty-but-cant-insert-more-d/+comments/feed/" rel="self"></atom:link><language>en-us</language><lastBuildDate>Mon, 09 Sep 2024 11:46:21 +0000</lastBuildDate><item><title>Re: The table have issue. select is empty but can't insert more data</title><link>https://mariadb.com/kb/en/storage-engines-the-table-have-issue-select-is-empty-but-cant-insert-more-d/+comments/4652</link><description>&lt;p&gt;Hi lan Gilfillan,
Can you share the status of this ticket?&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Hoang Bang</dc:creator><guid>https://mariadb.com/kb/en/storage-engines-the-table-have-issue-select-is-empty-but-cant-insert-more-d/+comments/4652</guid></item><item><title>Re: The table have issue. select is empty but can't insert more data</title><link>https://mariadb.com/kb/en/storage-engines-the-table-have-issue-select-is-empty-but-cant-insert-more-d/+comments/4635</link><description>&lt;p&gt;I have run the query:
TRUNCATE TABLE table2;&lt;/p&gt;
&lt;p&gt;Then, immediately run the insert statement with another session:
INSERT INTO UniversalDatasetTable (DSID, Enabled, PollingPeriod, MinPeriod, SnmpVersionNumber) VALUES (10300, 1, 900, 60, 0);
The message returned is DUP PRIMARY KEY.&lt;/p&gt;
&lt;p&gt;My mariaDB is:  mysql  Ver 15.1 Distrib 10.1.22-MariaDB, for Linux (x86_64) using readline 5.1&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Hoang Bang</dc:creator><guid>https://mariadb.com/kb/en/storage-engines-the-table-have-issue-select-is-empty-but-cant-insert-more-d/+comments/4635</guid></item><item><title>Re: The table have issue. select is empty but can't insert more data</title><link>https://mariadb.com/kb/en/storage-engines-the-table-have-issue-select-is-empty-but-cant-insert-more-d/+comments/4633</link><description>&lt;p&gt;I still can't repeat this issue. Do you have sample SQL that will repeat the problem, as well as version information?&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Ian Gilfillan</dc:creator><guid>https://mariadb.com/kb/en/storage-engines-the-table-have-issue-select-is-empty-but-cant-insert-more-d/+comments/4633</guid></item><item><title>Re: The table have issue. select is empty but can't insert more data</title><link>https://mariadb.com/kb/en/storage-engines-the-table-have-issue-select-is-empty-but-cant-insert-more-d/+comments/4632</link><description>&lt;p&gt;Hi Gilfillan, I have 2 table:&lt;/p&gt;
&lt;p&gt;CREATE TABLE `table2` ( `DSID` INT(11) NOT NULL, `PollingPeriod` INT(11) NOT NULL, `MinPeriod` INT(11) NOT NULL DEFAULT '120', `Enabled` TINYINT(4) NOT NULL DEFAULT '1', `Version` INT(11) NOT NULL DEFAULT '0', PRIMARY KEY (`DSID`), CONSTRAINT `FK_Table2Table1DSID` FOREIGN KEY (`DSID`) REFERENCES `table1` (`DSID`) ON DELETE CASCADE ) COLLATE='latin1_swedish_ci' ENGINE=InnoDB&lt;/p&gt;
&lt;p&gt;CREATE TABLE "table1" ( "DSID" INT NOT NULL, "Dataset" VARCHAR(8) NOT NULL, "Collector" VARCHAR(32) NULL DEFAULT NULL, "resType" INT NOT NULL, "StatTablePrefix" VARCHAR(8) NULL DEFAULT NULL, "datasetDescription" VARCHAR(80) NULL DEFAULT NULL, "datasetWeight" INT NOT NULL DEFAULT '0', "typeGroupID" INT NULL DEFAULT NULL, "summarySectionTitle" VARCHAR(128) NULL DEFAULT ' ', "DatasetType" TINYINT NULL DEFAULT NULL, "NoAutoInsert" BIT NOT NULL DEFAULT b'0', "NoAutoName" BIT NOT NULL DEFAULT b'0', "SpeedUnit" VARCHAR(8) NULL DEFAULT NULL, "AggrOrder" INT NULL DEFAULT '2', "PrimaryTrend" VARCHAR(32) NULL DEFAULT NULL, "ShortDescription" VARCHAR(16) NULL DEFAULT NULL, "QueryViewFlag" BIT NOT NULL DEFAULT b'0', "ResourceDSID" INT NULL DEFAULT NULL, "ConfigData" BIT NOT NULL DEFAULT b'0', "devAddrType" INT NOT NULL DEFAULT '0', PRIMARY KEY ("DSID") )&lt;/p&gt;
&lt;p&gt;    - The table1 storage some configuration information - After TRUNCATE TABLE the table2. I immediately inserted additional data for this table. but the DUP PRIMARY KEY error is reported. although when I SELECT TABLE and the result returns no lines. But I think somewhere in the database still caches the data cache of this table&lt;/p&gt;
&lt;p&gt;I want to ask what is the problem with table2? Can we check what is happening in table2? And how to solve the problem?&lt;/p&gt;
&lt;p&gt;Thanks, Bang Hoang&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Hoang Bang</dc:creator><guid>https://mariadb.com/kb/en/storage-engines-the-table-have-issue-select-is-empty-but-cant-insert-more-d/+comments/4632</guid></item><item><title>Re: The table have issue. select is empty but can't insert more data</title><link>https://mariadb.com/kb/en/storage-engines-the-table-have-issue-select-is-empty-but-cant-insert-more-d/+comments/4538</link><description>&lt;p&gt;Hi Gilfillan,
Do you know why it happened? Can you explain the root cause ?
Thanks advance !&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Hoang Bang</dc:creator><guid>https://mariadb.com/kb/en/storage-engines-the-table-have-issue-select-is-empty-but-cant-insert-more-d/+comments/4538</guid></item><item><title>Re: The table have issue. select is empty but can't insert more data</title><link>https://mariadb.com/kb/en/storage-engines-the-table-have-issue-select-is-empty-but-cant-insert-more-d/+comments/4527</link><description>&lt;p&gt;After TRUNCATE TABLE. I immediately inserted additional data for this table. but the DUP PRIMARY KEY error is reported. although when I SELECT TABLE and the result returns no lines. But I think somewhere in the database still caches the data cache of this table.
Please help to explain the root cause.
Thanks&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Hoang Bang</dc:creator><guid>https://mariadb.com/kb/en/storage-engines-the-table-have-issue-select-is-empty-but-cant-insert-more-d/+comments/4527</guid></item><item><title>Re: The table have issue. select is empty but can't insert more data</title><link>https://mariadb.com/kb/en/storage-engines-the-table-have-issue-select-is-empty-but-cant-insert-more-d/+comments/4526</link><description>&lt;p&gt;Please provide more information - table structure, sample of failing insert, selects etc.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Ian Gilfillan</dc:creator><guid>https://mariadb.com/kb/en/storage-engines-the-table-have-issue-select-is-empty-but-cant-insert-more-d/+comments/4526</guid></item></channel></rss>