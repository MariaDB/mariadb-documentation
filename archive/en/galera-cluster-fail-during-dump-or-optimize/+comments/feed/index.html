<?xml version="1.0" encoding="utf-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>MariaDB Knowledge Base Comments for: Galera cluster fail during dump or optimize</title><link>https://mariadb.com/kb/en/galera-cluster-fail-during-dump-or-optimize/+comments/feed/</link><description></description><atom:link href="https://mariadb.com/kb/en/galera-cluster-fail-during-dump-or-optimize/+comments/feed/" rel="self"></atom:link><language>en-us</language><lastBuildDate>Tue, 30 Jan 2024 01:10:25 +0000</lastBuildDate><item><title>Re: Galera cluster fail during dump or optimize</title><link>https://mariadb.com/kb/en/galera-cluster-fail-during-dump-or-optimize/+comments/1914</link><description>&lt;p&gt;Yes, that was the issue. Thank you very much :)&lt;/p&gt;
&lt;p&gt;I've added the suggested wsrep_provider_options from blog of Jay Janssen: gcs.fc_limit=500; gcs.fc_master_slave=YES; gcs.fc_factor=1.0";&lt;/p&gt;
&lt;p&gt;Which resolved the problem. However it also created a new problem, the job now finishes correctly but after that the cluster still go's down.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">gijs van der velden</dc:creator><guid>https://mariadb.com/kb/en/galera-cluster-fail-during-dump-or-optimize/+comments/1914</guid></item><item><title>Re: Galera cluster fail during dump or optimize</title><link>https://mariadb.com/kb/en/galera-cluster-fail-during-dump-or-optimize/+comments/1910</link><description>&lt;p&gt;Sounds like flow control. Jay Janssen has a couple of good articles on the Percona blog.&lt;/p&gt;
&lt;p&gt;Short form: if activity in one node causes it to fall behind on applying replicated transactions received from the others, its receive queue builds up and when it reaches a threshold it signals the other nodes to stop sending, which they do by halting new transactions.&lt;/p&gt;
&lt;p&gt;You may be able to alleviate this by adjusting the threshold and/or disabling flow control (donor desync) for the duration of the slow task. Jay Janssen has the details.&lt;/p&gt;
&lt;p&gt;I've noticed that things happening in mysqld or in other processes can have enough impact to lead to flow control.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Tom Worster Worster</dc:creator><guid>https://mariadb.com/kb/en/galera-cluster-fail-during-dump-or-optimize/+comments/1910</guid></item></channel></rss>