<?xml version="1.0" encoding="utf-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>MariaDB Knowledge Base Comments for: Using environment variables to create user@localhost</title><link>https://mariadb.com/kb/en/using-environment-variables-to-create-userlocalhost/+comments/feed/</link><description></description><atom:link href="https://mariadb.com/kb/en/using-environment-variables-to-create-userlocalhost/+comments/feed/" rel="self"></atom:link><language>en-us</language><lastBuildDate>Mon, 09 Dec 2024 13:07:14 +0000</lastBuildDate><item><title>Re: Using environment variables to create user@localhost</title><link>https://mariadb.com/kb/en/using-environment-variables-to-create-userlocalhost/+comments/5830</link><description>&lt;pre class="fixed"&gt;$ podman run --rm --env MARIADB_DATABASE=bob --env MARIADB_USER=roger --env MARIADB_PASSWORD=rabbit --env MARIADB_ROOT_PASSWORD=sudo -d --name m102 mariadb:10.2
81a43a5a4b317cd887b8b926b784e18147b3c3eee5d59fbca66915d6087a1beb

$ podman exec -ti m102 mysql -u roger -prabbit bob 
Welcome to the MariaDB monitor.  Commands end with ; or \g.
Your MariaDB connection id is 8
Server version: 10.2.44-MariaDB-1:10.2.44+maria~bionic mariadb.org binary distribution

Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

MariaDB [bob]&amp;gt; \s
--------------
mysql  Ver 15.1 Distrib 10.2.44-MariaDB, for debian-linux-gnu (x86_64) using readline 5.2

Connection id:		8
Current database:	bob
Current user:		roger@localhost
SSL:			Not in use
Current pager:		stdout
Using outfile:		''
Using delimiter:	;
Server:			MariaDB
Server version:		10.2.44-MariaDB-1:10.2.44+maria~bionic mariadb.org binary distribution
Protocol version:	10
Connection:		Localhost via UNIX socket
Server characterset:	latin1
Db     characterset:	latin1
Client characterset:	latin1
Conn.  characterset:	latin1
UNIX socket:		/var/run/mysqld/mysqld.sock
Uptime:			24 sec

Threads: 6  Questions: 6  Slow queries: 0  Opens: 18  Flush tables: 1  Open tables: 11  Queries per second avg: 0.250
--------------

MariaDB [bob]&amp;gt; select current_user();
+----------------+
| current_user() |
+----------------+
| roger@%        |
+----------------+
1 row in set (0.00 sec)
&lt;/pre&gt;&lt;p&gt;I'm not sure what you are missing out without a user@localhost as shown above a user @% user can log in on the unix socket.&lt;/p&gt;
&lt;p&gt;The only way is to create other users is with SQL in /docker-entrypoint-initdb.d during startup like you suggested.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Daniel Black</dc:creator><guid>https://mariadb.com/kb/en/using-environment-variables-to-create-userlocalhost/+comments/5830</guid></item></channel></rss>