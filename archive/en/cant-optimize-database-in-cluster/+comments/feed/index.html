<?xml version="1.0" encoding="utf-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>MariaDB Knowledge Base Comments for: Can't optimize database in cluster?</title><link>https://mariadb.com/kb/en/cant-optimize-database-in-cluster/+comments/feed/</link><description></description><atom:link href="https://mariadb.com/kb/en/cant-optimize-database-in-cluster/+comments/feed/" rel="self"></atom:link><language>en-us</language><lastBuildDate>Mon, 04 Sep 2023 22:57:50 +0000</lastBuildDate><item><title>Re: Can't optimize database in cluster?</title><link>https://mariadb.com/kb/en/cant-optimize-database-in-cluster/+comments/1938</link><description>&lt;p&gt;It is probably a very bad practice to let the application take care of database maintenance, so if I were you I would disable this, assuming you have control of the source.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Guillaume Lefranc</dc:creator><guid>https://mariadb.com/kb/en/cant-optimize-database-in-cluster/+comments/1938</guid></item><item><title>Re: Can't optimize database in cluster?</title><link>https://mariadb.com/kb/en/cant-optimize-database-in-cluster/+comments/1937</link><description>&lt;p&gt;That's more of a work around than a solution to the problem, unfortunately it won't help since some of the applications also run a optimize job by themself. Which means I can't set the OSU method before the optimization is executed.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">gijs van der velden</dc:creator><guid>https://mariadb.com/kb/en/cant-optimize-database-in-cluster/+comments/1937</guid></item><item><title>Re: Can't optimize database in cluster?</title><link>https://mariadb.com/kb/en/cant-optimize-database-in-cluster/+comments/1935</link><description>&lt;p&gt;Another solution is to use pt-online-schema-change:&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.percona.com/doc/percona-toolkit/2.1/pt-online-schema-change.html"&gt;https://www.percona.com/doc/percona-toolkit/2.1/pt-online-schema-change.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;For mysqldump, make sure you use the --single-transaction option. Omitting this option will use table locks.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Guillaume Lefranc</dc:creator><guid>https://mariadb.com/kb/en/cant-optimize-database-in-cluster/+comments/1935</guid></item><item><title>Re: Can't optimize database in cluster?</title><link>https://mariadb.com/kb/en/cant-optimize-database-in-cluster/+comments/1934</link><description>&lt;p&gt;I would recommend setting wsrep_OSU_method to "RSU" before executing the command, so the OPTIMIZE TABLE command does not get replicated to the other nodes. That would help prevent all nodes from being overloaded at the same time. If you want the table to be optimized on all nodes, just execute OPTIMIZE TABLE on each node, one node at a time.&lt;/p&gt;
&lt;p&gt;&lt;a href="http://galeracluster.com/documentation-webpages/schemaupgrades.html"&gt;http://galeracluster.com/documentation-webpages/schemaupgrades.html&lt;/a&gt;&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Geoff Montee</dc:creator><guid>https://mariadb.com/kb/en/cant-optimize-database-in-cluster/+comments/1934</guid></item></channel></rss>