<?xml version="1.0" encoding="utf-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>MariaDB Knowledge Base Comments for: Building MariaDB on CentOS</title><link>https://mariadb.com/kb/en/source-building-mariadb-on-centos/+comments/feed/</link><description></description><atom:link href="https://mariadb.com/kb/en/source-building-mariadb-on-centos/+comments/feed/" rel="self"></atom:link><language>en-us</language><lastBuildDate>Mon, 16 Dec 2024 03:50:24 +0000</lastBuildDate><item><title>Re: Building MariaDB on CentOS</title><link>https://mariadb.com/kb/en/source-building-mariadb-on-centos/+comments/3841</link><description>&lt;p&gt;I got issue at this step:
sudo yum-builddep mariadb-server
Loaded plugins: fastestmirror
Loading mirror speeds from cached hostfile
No such package(s): mariadb-server&lt;/p&gt;
&lt;p&gt;Note:
1. I already installed yum-utils
yum list |grep yum-utils
yum-utils.noarch                         1.1.30-42.el6_10              @updates&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Henry Dang</dc:creator><guid>https://mariadb.com/kb/en/source-building-mariadb-on-centos/+comments/3841</guid></item><item><title>Re: Building MariaDB on CentOS (LZ4)</title><link>https://mariadb.com/kb/en/source-building-mariadb-on-centos/+comments/2494</link><description>&lt;p&gt;I wanted LZ4, Snappy, etc.. but centos packages still don't include that.  So I followed this guide and now have bleeding edge mariadb with full compression support.  I took notes on how to do it for CentOS 7 64bit here: &lt;a href="http://www.askapache.com/linux/mariadb-lz4-compression-howto-centos.html"&gt;http://www.askapache.com/linux/mariadb-lz4-compression-howto-centos.html&lt;/a&gt;&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Domain Admin</dc:creator><guid>https://mariadb.com/kb/en/source-building-mariadb-on-centos/+comments/2494</guid></item><item><title>Re: Building MariaDB on CentOS</title><link>https://mariadb.com/kb/en/source-building-mariadb-on-centos/+comments/1907</link><description>&lt;p&gt;Thanks for reporting it as a bug â€” &lt;a href="https://jira.mariadb.org/browse/MDEV-9385"&gt;MDEV-9385&lt;/a&gt;!&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Sergei Golubchik</dc:creator><guid>https://mariadb.com/kb/en/source-building-mariadb-on-centos/+comments/1907</guid></item><item><title>Re: Building MariaDB on CentOS</title><link>https://mariadb.com/kb/en/source-building-mariadb-on-centos/+comments/1330</link><description>&lt;p&gt;Same as for the non-galera package, but using the mariadb-galera source tree.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Sergei Golubchik</dc:creator><guid>https://mariadb.com/kb/en/source-building-mariadb-on-centos/+comments/1330</guid></item><item><title>Re: Building MariaDB on CentOS</title><link>https://mariadb.com/kb/en/source-building-mariadb-on-centos/+comments/1329</link><description>&lt;p&gt;So, if one wanted to go about building the MariaDB-Galera package how would they go about it?&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Adam Murphy</dc:creator><guid>https://mariadb.com/kb/en/source-building-mariadb-on-centos/+comments/1329</guid></item><item><title>Re: Building MariaDB on CentOS</title><link>https://mariadb.com/kb/en/source-building-mariadb-on-centos/+comments/577</link><description>&lt;p&gt;Still up to date. Note, that you can always see in buildbot the complete build log and actual commands that we're using to build the release.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Sergei Golubchik</dc:creator><guid>https://mariadb.com/kb/en/source-building-mariadb-on-centos/+comments/577</guid></item><item><title>Re: Building MariaDB on CentOS</title><link>https://mariadb.com/kb/en/source-building-mariadb-on-centos/+comments/576</link><description>&lt;p&gt;How up to date are these instructions to come close to what &lt;a href="/kb/en/mariadb-5530-release-notes/"&gt;MariaDB 5.5.30&lt;/a&gt; YUM repository is providing ? &lt;/p&gt;
&lt;p&gt;I am asking as it seems &lt;a href="/kb/en/mariadb-5530-release-notes/"&gt;MariaDB 5.5.30&lt;/a&gt; YUM RPM no longer works with MyDumper &lt;a href="https://mariadb.atlassian.net/browse/MDEV-4554"&gt;https://mariadb.atlassian.net/browse/MDEV-4554&lt;/a&gt; so I will need to build my own &lt;a href="/kb/en/mariadb-5530-release-notes/"&gt;MariaDB 5.5.30&lt;/a&gt; RPMs it seems.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/"> </dc:creator><guid>https://mariadb.com/kb/en/source-building-mariadb-on-centos/+comments/576</guid></item><item><title>Re: Building MariaDB on CentOS</title><link>https://mariadb.com/kb/en/source-building-mariadb-on-centos/+comments/458</link><description>&lt;p&gt;Great info found on this page which makes the RPMs generation process very easy. However I have some additional remarks to make.&lt;/p&gt;
&lt;p&gt;1) cmake 2.8 or higher required and is not available on CentOS 5.9 nor 6.3 (2.6 version only). So it has to be retrieved from www.cmake.org as tarball and installed under /usr/local/bin using ./configure l make install. The make sure to put /usr/local/bin first in your path&lt;/p&gt;
&lt;p&gt;2) to comply with rpm naming rules I had to change the following lines in cmake/cpack_rpm.cmake
(bzr diff output)&lt;/p&gt;
&lt;p&gt;-SET(CPACK_PACKAGE_FILE_NAME "${CPACK_RPM_PACKAGE_NAME}-${VERSION}-${RPM}-${CMAKE_SYSTEM_PROCESSOR}")
+SET(CPACK_PACKAGE_FILE_NAME "${CPACK_RPM_PACKAGE_NAME}")&lt;/p&gt;
&lt;p&gt;-SET(CPACK_RPM_PACKAGE_RELEASE 1)
+SET(CPACK_RPM_PACKAGE_RELEASE 1.${RPM})&lt;/p&gt;
&lt;p&gt;and run&lt;/p&gt;
&lt;p&gt;cmake -DRPM=el5
on CentOS 5.x
and 
cmake -DRPM=el6
on CentOS 6.x&lt;/p&gt;
&lt;p&gt;3) My guess would also be that version should be 10.0 and patch rev 0 and 5.5 and patch rev 29 for &lt;a href="/kb/en/what-is-mariadb-55/"&gt;MariaDB 5.5&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;4) the generated package file name are also wrong
because they should match the RPM infos that they contain&lt;/p&gt;
&lt;p&gt;rpm -qp --qf '%{NAME}-%{VERSION}-%{RELEASE}.%{ARCH}.rpm\n' MariaDB-X.rpm
gives what MariaDB-X.rpm should really be
namingly
MariaDB-X-5.5.29-0.el5.x86_64.rpm&lt;/p&gt;
&lt;p&gt;I could not figure out how to change this as the .spec.in and .spec files seems to be automatically generated and I could not easily find what info to change in which file&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Olivier Bourdon</dc:creator><guid>https://mariadb.com/kb/en/source-building-mariadb-on-centos/+comments/458</guid></item><item><title>Re: Building MariaDB on CentOS</title><link>https://mariadb.com/kb/en/source-building-mariadb-on-centos/+comments/322</link><description>&lt;p&gt;I see, thanks for the explanation :)&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/"> </dc:creator><guid>https://mariadb.com/kb/en/source-building-mariadb-on-centos/+comments/322</guid></item><item><title>Re: Building MariaDB on CentOS</title><link>https://mariadb.com/kb/en/source-building-mariadb-on-centos/+comments/321</link><description>&lt;p&gt;See above. There is no .spec file. cmake generates it automatically when needed.&lt;/p&gt;
&lt;p&gt;If you want a .spec file - get the &lt;a href="/kb/en/what-is-mariadb-55/"&gt;MariaDB 5.5&lt;/a&gt; source tree, run cmake and make as above, then you'll find .spec files in the tree.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Sergei Golubchik</dc:creator><guid>https://mariadb.com/kb/en/source-building-mariadb-on-centos/+comments/321</guid></item><item><title>Re: Building MariaDB on CentOS</title><link>https://mariadb.com/kb/en/source-building-mariadb-on-centos/+comments/159</link><description>&lt;p&gt;After doing:&lt;/p&gt;
&lt;p&gt;bakery/tarbake51.sh last:1 $MARIA_WORK&lt;/p&gt;
&lt;p&gt;You will get a tarball in the directory&lt;/p&gt;
&lt;p&gt;Run:
bakery/autobake51-centos.sh mariadb-[TAB] (because it is probably something like mariadb-5.3.2-beta.tar.g)&lt;/p&gt;
&lt;p&gt;You'll get an error message:&lt;/p&gt;
&lt;p&gt;cp: cannot stat `/srv/shared/rpmsign/home-dot-rpmmacros': No such file or directory&lt;/p&gt;
&lt;p&gt;This is due to signing related foo&lt;/p&gt;
&lt;p&gt;Also note this later:
[colin@rhel6-amd64 bakery-102]$ bakery/autobake51-centos.sh mariadb-5.3.2-beta.tar.gz 
cp: cannot create regular file `/usr/src/redhat/SOURCES/mariadb-5.3.2-beta.tar.gz': Permission denied
cp: cannot create regular file `/usr/src/redhat/SOURCES/MySQL-OurDelta-shared-5.0.87.d10-65.el6.x86_64.rpm': Permission denied&lt;/p&gt;
&lt;p&gt;Permission errors. You should not be building as root...&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">colin charles</dc:creator><guid>https://mariadb.com/kb/en/source-building-mariadb-on-centos/+comments/159</guid></item></channel></rss>