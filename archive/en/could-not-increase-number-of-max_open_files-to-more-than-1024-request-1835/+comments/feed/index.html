<?xml version="1.0" encoding="utf-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>MariaDB Knowledge Base Comments for: Could not increase number of max_open_files to more than 1024 (request: 1835)</title><link>https://mariadb.com/kb/en/could-not-increase-number-of-max_open_files-to-more-than-1024-request-1835/+comments/feed/</link><description></description><atom:link href="https://mariadb.com/kb/en/could-not-increase-number-of-max_open_files-to-more-than-1024-request-1835/+comments/feed/" rel="self"></atom:link><language>en-us</language><lastBuildDate>Mon, 07 Aug 2023 23:21:49 +0000</lastBuildDate><item><title>Re: Could not increase number of max_open_files to more than 1024 (request: 1835)</title><link>https://mariadb.com/kb/en/could-not-increase-number-of-max_open_files-to-more-than-1024-request-1835/+comments/1315</link><description>&lt;p&gt;From the &lt;a href="https://launchpad.net/~maria-discuss"&gt;mailing list&lt;/a&gt;:&lt;/p&gt;
&lt;p&gt;with systemd you can just set "LimitNOFILE=infinity"&lt;/p&gt;
&lt;pre class="fixed"&gt;[root@srv-rhsoft:~]$ cat /usr/lib/systemd/system/mysqld.service
[Unit]
Description=MariaDB Database
Before=postfix.service dovecot.service dbmail-imapd.service dbmail-lmtpd.service dbmail-pop3d.service

[Service]
Type=simple
User=mysql
Group=mysql
NoNewPrivileges=yes
ExecStart=/usr/libexec/mysqld --defaults-file=/etc/my.cnf --pid-file=/run/mysqld/mysqld.pid
ExecStartPost=/usr/libexec/mysqld-wait-ready $MAINPID
Environment=&amp;#34;LANG=en_GB.UTF-8&amp;#34;
Restart=always
RestartSec=1
TimeoutSec=300
LimitNOFILE=infinity
LimitMEMLOCK=infinity
OOMScoreAdjust=-1000
SysVStartPriority=64
PrivateTmp=true
CapabilityBoundingSet=~CAP_AUDIT_CONTROL CAP_AUDIT_WRITE CAP_DAC_OVERRIDE CAP_NET_ADMIN CAP_NET_BIND_SERVICE
CAP_SETGID CAP_SETUID CAP_SYS_ADMIN CAP_SYS_BOOT CAP_SYS_MODULE CAP_SYS_PTRACE
ReadOnlyDirectories=/etc
ReadOnlyDirectories=/usr
ReadOnlyDirectories=/proc
ReadOnlyDirectories=/sys
ReadOnlyDirectories=/var/lib
ReadWriteDirectories=/var/lib/mysql
InaccessibleDirectories=/boot

InaccessibleDirectories=/home

InaccessibleDirectories=/root

InaccessibleDirectories=/media

[Install]
WantedBy=multi-user.target
&lt;/pre&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Ian Gilfillan</dc:creator><guid>https://mariadb.com/kb/en/could-not-increase-number-of-max_open_files-to-more-than-1024-request-1835/+comments/1315</guid></item></channel></rss>