<?xml version="1.0" encoding="utf-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>MariaDB Knowledge Base Comments for: Is Aria a good choice in environments where power often fails?</title><link>https://mariadb.com/kb/en/is-aria-a-good-choice-in-environments-where-power-often-fails/+comments/feed/</link><description></description><atom:link href="https://mariadb.com/kb/en/is-aria-a-good-choice-in-environments-where-power-often-fails/+comments/feed/" rel="self"></atom:link><language>en-us</language><lastBuildDate>Mon, 02 Sep 2024 12:14:37 +0000</lastBuildDate><item><title>Re: Is Aria a good choice in environments where power often fails?</title><link>https://mariadb.com/kb/en/is-aria-a-good-choice-in-environments-where-power-often-fails/+comments/2151</link><description>&lt;p&gt;Yes, &lt;a href="/kb/en/xtradbinnodb-doublewrite-buffer/"&gt;InnoDB's doublewrite buffer&lt;/a&gt; probably makes it a better choice, as the recovery is automated.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Ian Gilfillan</dc:creator><guid>https://mariadb.com/kb/en/is-aria-a-good-choice-in-environments-where-power-often-fails/+comments/2151</guid></item><item><title>Re: Is Aria a good choice in environments where power often fails?</title><link>https://mariadb.com/kb/en/is-aria-a-good-choice-in-environments-where-power-often-fails/+comments/2144</link><description>&lt;p&gt;Thanks for the comprehensive answer!&lt;/p&gt;
&lt;p&gt;You mention InnoDB. Is InnoDB even more crah safe then Aria?
Would you rather recommend to use InnoDB instead of Aria when crash-safety is the main issue?&lt;/p&gt;
&lt;p&gt;Regards
Thomas&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Thomas Gawehn</dc:creator><guid>https://mariadb.com/kb/en/is-aria-a-good-choice-in-environments-where-power-often-fails/+comments/2144</guid></item><item><title>Re: Is Aria a good choice in environments where power often fails?</title><link>https://mariadb.com/kb/en/is-aria-a-good-choice-in-environments-where-power-often-fails/+comments/2142</link><description>&lt;p&gt;Aria is designed to be crash safe.
- All changes are first written to log and synced
- A background process are moving out changed pages and write them the data files.
- A block is not written to a datafile until after the change is recorded in the log.
- If MariaDB crashes, the recovery routines will update all not changed pages and then roll back the running statements. All of this is logged and can be redone.&lt;/p&gt;
&lt;p&gt;From the above point of view, things should good, at least as good as with most other databases.  There is however one thing missing (which is the case also for most other storage engines and databases, except InnoDB)&lt;/p&gt;
&lt;p&gt;If you get a half write on a data page (not log page), then the recovery will not be able to recover that page and you will lose the information on that page. When run with page checksums this will be noticed, but the table has to be repaired before it can be used again.  InnoDB fixes this with it's double write buffer, but Aria doesn't have that.&lt;/p&gt;
&lt;p&gt;To summarize:  If your system supports atomic writes for up to 8K blocks you are fine.  If not, then you may loose something from one data page that is written at exactly the same time you have a total power failure.
This is not something that is not very likely to happen, but possible.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Michael Widenius</dc:creator><guid>https://mariadb.com/kb/en/is-aria-a-good-choice-in-environments-where-power-often-fails/+comments/2142</guid></item></channel></rss>