<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>User Statistics - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.f7633538c846.css" rel="stylesheet" type="text/css" />

    

    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="User Statistics" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/en/user-statistics/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="User Statistics." />

    <meta name="description" content="User Statistics." />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes products nodes_view jqui" id="nodes_view">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/user-statistics/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2024 MariaDB. All rights reserved.</p>
    </div>
</div>
<div class="violator-wrap d-none" id="top_violator">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12">
                <div class="violator-outer">
                    <div class="violator-inner">
                        <div class="row">
                            <div class="col-xs-12 col-sm-9 col-lg-7 col-lg-offset-2" id="top_violator_content">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="content-link" target="_blank" rel="nofollow noreferrer">
                                    <span>The Ultimate Guide to High Availability with MariaDB</span>
                                </a>
                            </div>
                            <div class="col-xs-12 col-sm-3" id="top_violator_cta">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="btn btn-mariadb" target="_blank" rel="nofollow noreferrer">Download Now</a>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn btn-link close-btn">
                        <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" width="15px" height="15px"><path d="M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/user-statistics/" rel="nofollow">Login</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/en/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/en/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/services" title="Services">Services</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="About Us">About Us</a>
    </li>
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/en/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/en/documentation/">MariaDB Server Documentation</a>
    

    
    » <a class="crumb" href="/kb/en/replication-cluster-multi-master/">High Availability &amp; Performance Tuning</a>
    

    
    » <a class="crumb" href="/kb/en/optimization-and-tuning/">Optimization and Tuning</a>
    

    
    » <a class="crumb" href="/kb/en/query-optimizations/">Query Optimizations</a>
    

    
    » <a class="crumb" href="/kb/en/statistics-for-optimizing-queries/">Statistics for Optimizing Queries</a>
    


    » <a class="node_link crumb" href="/kb/en/user-statistics/">User Statistics</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/en/">Home</a></li>
                            
                                
                                    <li><a href="/kb/en/+questions/">Open Questions</a></li>
                                
                                <li><a href="/kb/en/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/en/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/en/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/en/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
<div>



<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-blue btn-sm" href="/kb/en/user-statistics/+history" rel="nofollow">History</a>
        
        
        
        <a class="btn btn-block btn-blue btn-sm" href="/kb/en/user-statistics/+source/">Source</a>
        
        <a class="btn btn-block btn-blue btn-sm flag" href="/kb/en/user-statistics/+flag"
                data-flag-url="/kb/en/user-statistics/+flag" rel="nofollow">
                Flag as Spam / Inappropriate</a>
        
        <a class="btn btn-block btn-blue btn-sm" href="/kb/en/user-statistics/+translate/">
                Translate</a>
        

</div>
</div>





<div class="well well-small box node_info"><div>

    <dl>
        <dt>Created</dt>
        <dd>

<span class="datetime" title="2010-08-14 14:21">14 years, 3 months ago</span></dd>

        <dt>Modified</dt>
        <dd>

<span class="datetime" title="2024-06-05 19:53">5 months, 3 weeks ago</span></dd>

        <dt>Type</dt>
        <dd>article</dd>

        <dt>Status</dt>
        <dd>active</dd>

        <dt>License</dt>
        <dd>
            
                <a href="/kb/en/user-statistics/+license/">CC BY-SA / Gnu FDL</a>
            
        </dd>

        
    </dl>

    
    <ul class="rss_feeds">
        <li><a href="/kb/en/user-statistics/+history/feed/">
            History</a>
        </li>
        <li><a href="/kb/en/user-statistics/+comments/feed/">
            Comments</a>
        </li>
    </ul>
    

</div>
</div>





    
    
    

<div class="well well-small box attachments"><div><div class="edit_link pull-right"><a href="/kb/en/user-statistics/+edit/attachments/">Edit</a></div><h5>Attachments</h5></div><div>

        
            <div class="no_data">No attachments exist</div>
        
    
</div>
</div>

    



    
    
        

<div class="well well-small box"><div><h5>Localized Versions</h5></div><div>

        <ul>
            
            <li><a href="/kb/it/user-statistics/">Statistiche Utente</a> [it]</li>
            
        </ul>
        
</div>
</div>

    





    

<div class="well well-small box"><div><h5>Parents</h5></div><div>

        <ul>
            
                <li><a href="/kb/en/statistics-for-optimizing-queries/">Statistics for Optimizing Queries</a></li>
            
                <li><a href="/kb/en/other-plugins/">Other Plugins</a></li>
            
        </ul>
    
</div>
</div>



</div>


                    

































                </aside>
            
            
            
                
            
            
                
            
            <section id="content" class="limited_width col-md-8 clearfix">
                
                    <h1>User Statistics</h1>
                

                



                <div>
                    
    

    
    
    

    <div class="node creole">
        
        
        


    
    <div class="answer formatted">
        <p>The User Statistics (userstat) plugin creates the <a href="/kb/en/information-schema-user_statistics-table/">USER_STATISTICS</a>, <a href="/kb/en/information-schema-client_statistics-table/">CLIENT_STATISTICS</a>, the <a href="/kb/en/information-schema-index_statistics-table/">INDEX_STATISTICS</a>, and the <a href="/kb/en/information-schema-table_statistics-table/">TABLE_STATISTICS</a> tables in the <a href="/kb/en/information-schema/">INFORMATION_SCHEMA</a> database. As an alternative to these tables, the plugin also adds the <a href="/kb/en/show-user-statistics/">SHOW USER_STATISTICS</a>, the <a href="/kb/en/show-client-statistics/">SHOW CLIENT_STATISTICS</a>, the <a href="/kb/en/show-index-statistics/">SHOW INDEX_STATISTICS</a>, and the <a href="/kb/en/show-table-statistics/">SHOW TABLE_STATISTICS</a> statements.</p>
<p>These tables and commands can be used to understand the server activity better and to identify the sources of your database's load.</p>
<p>The plugin also adds the <a href="/kb/en/flush/">FLUSH USER_STATISTICS</a>, <a href="/kb/en/flush/">FLUSH CLIENT_STATISTICS</a>, <a href="/kb/en/flush/">FLUSH INDEX_STATISTICS</a>, and <a href="/kb/en/flush/">FLUSH TABLE_STATISTICS</a> statements.</p>
<p>The MariaDB implementation of this plugin is based on the <a href="http://www.percona.com/docs/wiki/patches:userstatv2">userstatv2 patch</a> from Percona and Ourdelta. The original code comes from Google (Mark Callaghan's team) with additional work from Percona, Ourdelta, and Weldon Whipple. The MariaDB implementation provides the same functionality as the userstatv2 patch but a lot of changes have been made to make it faster and to better fit the MariaDB infrastructure.</p>
<div class="table_of_contents well well-small">
<h3>Contents</h3>
 <ol class="toc">

    <li class=""><a href="#how-it-works" title="How it Works">How it Works</a></li>

    <li class=""><a href="#enabling-the-plugin" title="Enabling the Plugin">Enabling the Plugin</a></li>

    <li class=""><a href="#using-the-plugin" title="Using the Plugin">Using the Plugin</a>    <ol class="toc">

        <li class=""><a href="#using-the-information-schema-table" title="Using the Information Schema Table">Using the Information Schema Table</a></li>

        <li class=""><a href="#using-the-show-statements" title="Using the SHOW Statements">Using the SHOW Statements</a></li>

        <li class=""><a href="#flushing-plugin-data" title="Flushing Plugin Data">Flushing Plugin Data</a>    </ol>
</li>

    <li class=""><a href="#versions" title="Versions">Versions</a>    <ol class="toc">

        <li class=""><a href="#user_statistics" title="USER_STATISTICS">USER_STATISTICS</a></li>

        <li class=""><a href="#client_statistics" title="CLIENT_STATISTICS">CLIENT_STATISTICS</a></li>

        <li class=""><a href="#index_statistics" title="INDEX_STATISTICS">INDEX_STATISTICS</a></li>

        <li class=""><a href="#table_statistics" title="TABLE_STATISTICS">TABLE_STATISTICS</a>    </ol>
</li>

    <li class=""><a href="#system-variables" title="System Variables">System Variables</a>    <ol class="toc">

        <li class=""><a href="#userstat" title="userstat">userstat</a>    </ol>
</li>

    <li class=""><a href="#status-variables" title="Status Variables">Status Variables</a> </ol>
</li>
</div>
<h2 class="anchored_heading" id="how-it-works">How it Works</h2>
<p>The <code>userstat</code> plugin works by keeping several hash tables in memory.  All variables are incremented while the query is running. At the end of each statement the global values are updated.</p>
<h2 class="anchored_heading" id="enabling-the-plugin">Enabling the Plugin</h2>
<p>By default statistics are not collected. This is to ensure that statistics collection does not cause any extra load on the server unless desired.</p>
<p>Set the <a href="#userstat">userstat=ON</a> system variable in a relevant server <a href="/kb/en/configuring-mariadb-with-option-files/#option-groups">option group</a> in an <a href="/kb/en/configuring-mariadb-with-option-files/">option file</a> to enable the plugin. For example:</p>
<pre class="fixed">[mariadb]
...
userstat = 1
</pre><p>The value can also be changed dynamically. For example:</p>
<pre class="fixed">SET GLOBAL userstat=1;
</pre><h2 class="anchored_heading" id="using-the-plugin">Using the Plugin</h2>
<h3 class="anchored_heading" id="using-the-information-schema-table">Using the Information Schema Table</h3>
<p>The <code>userstat</code> plugin creates the <a href="/kb/en/information-schema-user_statistics-table/">USER_STATISTICS</a>, <a href="/kb/en/information-schema-client_statistics-table/">CLIENT_STATISTICS</a>, the <a href="/kb/en/information-schema-index_statistics-table/">INDEX_STATISTICS</a>, and the <a href="/kb/en/information-schema-table_statistics-table/">TABLE_STATISTICS</a> tables in the <a href="/kb/en/information-schema/">INFORMATION_SCHEMA</a> database. </p>
<pre class="fixed"><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">INFORMATION_SCHEMA</span><span class="p">.</span><span class="n">USER_STATISTICS</span><span class="err">\</span><span class="k">G</span>
<span class="o">***************************</span> <span class="mi">1</span><span class="p">.</span> <span class="k">row</span> <span class="o">***************************</span>
                  <span class="k">USER</span><span class="p">:</span> <span class="n">root</span>
     <span class="n">TOTAL_CONNECTIONS</span><span class="p">:</span> <span class="mi">1</span>
<span class="n">CONCURRENT_CONNECTIONS</span><span class="p">:</span> <span class="mi">0</span>
        <span class="n">CONNECTED_TIME</span><span class="p">:</span> <span class="mi">297</span>
             <span class="n">BUSY_TIME</span><span class="p">:</span> <span class="mi">0</span><span class="p">.</span><span class="mi">001725</span>
              <span class="n">CPU_TIME</span><span class="p">:</span> <span class="mi">0</span><span class="p">.</span><span class="mi">001982</span>
        <span class="n">BYTES_RECEIVED</span><span class="p">:</span> <span class="mi">388</span>
            <span class="n">BYTES_SENT</span><span class="p">:</span> <span class="mi">2327</span>
  <span class="n">BINLOG_BYTES_WRITTEN</span><span class="p">:</span> <span class="mi">0</span>
             <span class="n">ROWS_READ</span><span class="p">:</span> <span class="mi">0</span>
             <span class="n">ROWS_SENT</span><span class="p">:</span> <span class="mi">12</span>
          <span class="n">ROWS_DELETED</span><span class="p">:</span> <span class="mi">0</span>
         <span class="n">ROWS_INSERTED</span><span class="p">:</span> <span class="mi">13</span>
          <span class="n">ROWS_UPDATED</span><span class="p">:</span> <span class="mi">0</span>
       <span class="n">SELECT_COMMANDS</span><span class="p">:</span> <span class="mi">4</span>
       <span class="n">UPDATE_COMMANDS</span><span class="p">:</span> <span class="mi">0</span>
        <span class="n">OTHER_COMMANDS</span><span class="p">:</span> <span class="mi">3</span>
   <span class="n">COMMIT_TRANSACTIONS</span><span class="p">:</span> <span class="mi">0</span>
 <span class="n">ROLLBACK_TRANSACTIONS</span><span class="p">:</span> <span class="mi">0</span>
    <span class="n">DENIED_CONNECTIONS</span><span class="p">:</span> <span class="mi">0</span>
      <span class="n">LOST_CONNECTIONS</span><span class="p">:</span> <span class="mi">0</span>
         <span class="n">ACCESS_DENIED</span><span class="p">:</span> <span class="mi">0</span>
         <span class="n">EMPTY_QUERIES</span><span class="p">:</span> <span class="mi">1</span>
</pre><pre class="fixed"><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">INFORMATION_SCHEMA</span><span class="p">.</span><span class="n">CLIENT_STATISTICS</span><span class="err">\</span><span class="k">G</span>
<span class="o">***************************</span> <span class="mi">1</span><span class="p">.</span> <span class="k">row</span> <span class="o">***************************</span>
                <span class="n">CLIENT</span><span class="p">:</span> <span class="n">localhost</span>
     <span class="n">TOTAL_CONNECTIONS</span><span class="p">:</span> <span class="mi">3</span>
<span class="n">CONCURRENT_CONNECTIONS</span><span class="p">:</span> <span class="mi">0</span>
        <span class="n">CONNECTED_TIME</span><span class="p">:</span> <span class="mi">4883</span>
             <span class="n">BUSY_TIME</span><span class="p">:</span> <span class="mi">0</span><span class="p">.</span><span class="mi">009722</span>
              <span class="n">CPU_TIME</span><span class="p">:</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0102131</span>
        <span class="n">BYTES_RECEIVED</span><span class="p">:</span> <span class="mi">841</span>
            <span class="n">BYTES_SENT</span><span class="p">:</span> <span class="mi">13897</span>
  <span class="n">BINLOG_BYTES_WRITTEN</span><span class="p">:</span> <span class="mi">0</span>
             <span class="n">ROWS_READ</span><span class="p">:</span> <span class="mi">0</span>
             <span class="n">ROWS_SENT</span><span class="p">:</span> <span class="mi">214</span>
          <span class="n">ROWS_DELETED</span><span class="p">:</span> <span class="mi">0</span>
         <span class="n">ROWS_INSERTED</span><span class="p">:</span> <span class="mi">207</span>
          <span class="n">ROWS_UPDATED</span><span class="p">:</span> <span class="mi">0</span>
       <span class="n">SELECT_COMMANDS</span><span class="p">:</span> <span class="mi">10</span>
       <span class="n">UPDATE_COMMANDS</span><span class="p">:</span> <span class="mi">0</span>
        <span class="n">OTHER_COMMANDS</span><span class="p">:</span> <span class="mi">13</span>
   <span class="n">COMMIT_TRANSACTIONS</span><span class="p">:</span> <span class="mi">0</span>
 <span class="n">ROLLBACK_TRANSACTIONS</span><span class="p">:</span> <span class="mi">0</span>
    <span class="n">DENIED_CONNECTIONS</span><span class="p">:</span> <span class="mi">0</span>
      <span class="n">LOST_CONNECTIONS</span><span class="p">:</span> <span class="mi">0</span>
         <span class="n">ACCESS_DENIED</span><span class="p">:</span> <span class="mi">0</span>
         <span class="n">EMPTY_QUERIES</span><span class="p">:</span> <span class="mi">1</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</pre><pre class="fixed"><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">INFORMATION_SCHEMA</span><span class="p">.</span><span class="n">INDEX_STATISTICS</span> <span class="k">WHERE</span> <span class="k">TABLE_NAME</span> <span class="o">=</span> <span class="ss">&quot;author&quot;</span><span class="p">;</span>
<span class="o">+</span><span class="c1">--------------+------------+------------+-----------+</span>
<span class="o">|</span> <span class="n">TABLE_SCHEMA</span> <span class="o">|</span> <span class="k">TABLE_NAME</span> <span class="o">|</span> <span class="n">INDEX_NAME</span> <span class="o">|</span> <span class="n">ROWS_READ</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+------------+------------+-----------+</span>
<span class="o">|</span> <span class="n">books</span>        <span class="o">|</span> <span class="n">author</span>     <span class="o">|</span> <span class="n">by_name</span>    <span class="o">|</span>        <span class="mi">15</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+------------+------------+-----------+</span>
</pre><pre class="fixed"><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">INFORMATION_SCHEMA</span><span class="p">.</span><span class="n">TABLE_STATISTICS</span> <span class="k">WHERE</span> <span class="k">TABLE_NAME</span><span class="o">=</span><span class="s1">&#39;user&#39;</span><span class="p">;</span>
<span class="o">+</span><span class="c1">--------------+------------+-----------+--------------+------------------------+</span>
<span class="o">|</span> <span class="n">TABLE_SCHEMA</span> <span class="o">|</span> <span class="k">TABLE_NAME</span> <span class="o">|</span> <span class="n">ROWS_READ</span> <span class="o">|</span> <span class="n">ROWS_CHANGED</span> <span class="o">|</span> <span class="n">ROWS_CHANGED_X_INDEXES</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+------------+-----------+--------------+------------------------+</span>
<span class="o">|</span> <span class="n">mysql</span>        <span class="o">|</span> <span class="k">user</span>       <span class="o">|</span>         <span class="mi">5</span> <span class="o">|</span>            <span class="mi">2</span> <span class="o">|</span>                      <span class="mi">2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+------------+-----------+--------------+------------------------+</span>
</pre><h3 class="anchored_heading" id="using-the-show-statements">Using the SHOW Statements</h3>
<p>As an alternative to the <a href="/kb/en/information_schema/">INFORMATION_SCHEMA</a> tables, the <code>userstat</code> plugin also adds the <a href="/kb/en/show-user-statistics/">SHOW USER_STATISTICS</a>, the <a href="/kb/en/show-client-statistics/">SHOW CLIENT_STATISTICS</a>, the <a href="/kb/en/show-index-statistics/">SHOW INDEX_STATISTICS</a>, and the <a href="/kb/en/show-table-statistics/">SHOW TABLE_STATISTICS</a> statements.</p>
<p>These commands are another way to display the information stored in the information schema tables. WHERE clauses are accepted. LIKE clauses are accepted but ignored.</p>
<pre class="fixed"><span class="k">SHOW</span> <span class="n">USER_STATISTICS</span>
<span class="k">SHOW</span> <span class="n">CLIENT_STATISTICS</span>
<span class="k">SHOW</span> <span class="n">INDEX_STATISTICS</span>
<span class="k">SHOW</span> <span class="n">TABLE_STATISTICS</span>
</pre><h3 class="anchored_heading" id="flushing-plugin-data">Flushing Plugin Data</h3>
<p>The <code>userstat</code> plugin also adds the <a href="/kb/en/flush/">FLUSH USER_STATISTICS</a>, <a href="/kb/en/flush/">FLUSH CLIENT_STATISTICS</a>, <a href="/kb/en/flush/">FLUSH INDEX_STATISTICS</a>, and <a href="/kb/en/flush/">FLUSH TABLE_STATISTICS</a> statements, which discard the information stored in the specified information schema table.</p>
<pre class="fixed"><span class="n">FLUSH</span> <span class="n">USER_STATISTICS</span>
<span class="n">FLUSH</span> <span class="n">CLIENT_STATISTICS</span>
<span class="n">FLUSH</span> <span class="n">INDEX_STATISTICS</span>
<span class="n">FLUSH</span> <span class="n">TABLE_STATISTICS</span>
</pre><h2 class="anchored_heading" id="versions">Versions</h2>
<h3 class="anchored_heading" id="user_statistics">USER_STATISTICS</h3>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Version</th><th>Status</th><th>Introduced</th></tr>
<tr><td>2.0</td><td>Stable</td><td><a href="/kb/en/mariadb-10118-release-notes/">MariaDB 10.1.18</a></td></tr>
<tr><td>2.0</td><td>Gamma</td><td><a href="/kb/en/mariadb-1011-release-notes/">MariaDB 10.1.1</a></td></tr>
</table>
</div><h3 class="anchored_heading" id="client_statistics">CLIENT_STATISTICS</h3>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Version</th><th>Status</th><th>Introduced</th></tr>
<tr><td>2.0</td><td>Stable</td><td><a href="/kb/en/mariadb-10113-release-notes/">MariaDB 10.1.13</a></td></tr>
<tr><td>2.0</td><td>Gamma</td><td><a href="/kb/en/mariadb-1011-release-notes/">MariaDB 10.1.1</a></td></tr>
</table>
</div><h3 class="anchored_heading" id="index_statistics">INDEX_STATISTICS</h3>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Version</th><th>Status</th><th>Introduced</th></tr>
<tr><td>2.0</td><td>Stable</td><td><a href="/kb/en/mariadb-10113-release-notes/">MariaDB 10.1.13</a></td></tr>
<tr><td>2.0</td><td>Gamma</td><td><a href="/kb/en/mariadb-1011-release-notes/">MariaDB 10.1.1</a></td></tr>
</table>
</div><h3 class="anchored_heading" id="table_statistics">TABLE_STATISTICS</h3>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Version</th><th>Status</th><th>Introduced</th></tr>
<tr><td>2.0</td><td>Stable</td><td><a href="/kb/en/mariadb-10118-release-notes/">MariaDB 10.1.18</a></td></tr>
<tr><td>2.0</td><td>Gamma</td><td><a href="/kb/en/mariadb-1011-release-notes/">MariaDB 10.1.1</a></td></tr>
</table>
</div><h2 class="anchored_heading" id="system-variables">System Variables</h2>
<h3 class="anchored_heading" id="userstat"><code>userstat</code></h3>
<ul start="1"><li><strong>Description:</strong> If set to <code>1</code>, user statistics will be activated.
</li><li><strong>Commandline:</strong> <code class="fixed" style="white-space:pre-wrap">--userstat=1</code>
</li><li><strong>Scope:</strong> Global
</li><li><strong>Dynamic:</strong> Yes
</li><li><strong>Data Type:</strong> <code>boolean</code>
</li><li><strong>Default Value:</strong> <code>OFF</code>
</li></ul>
<hr>
<h2 class="anchored_heading" id="status-variables">Status Variables</h2>
<p>User Statistics introduced a number of new status variables:</p>
<ul start="1"><li><a href="/kb/en/server-status-variables/#access_denied_errors">access_denied_errors</a>
</li><li><a href="/kb/en/server-status-variables/#binlog_bytes_written">binlog_bytes_written</a>
</li><li><a href="/kb/en/server-status-variables/#busy_time">busy_time</a> (requires <a href="#userstat">userstat</a> to be set to be recorded)
</li><li><a href="/kb/en/server-status-variables/#cpu_time">cpu_time</a> (requires <a href="#userstat">userstat</a> to be set to be recorded)
</li><li><a href="/kb/en/server-status-variables/#empty_queries">empty_queries</a>
</li><li><a href="/kb/en/server-status-variables/#rows_read">rows_read</a>
</li><li><a href="/kb/en/server-status-variables/#rows_sent">rows_sent</a></li></ul>

    </div>


        
            <div id="subscribe" class="well well-small hide hidden-print"
                 data-subscribe-url="/kb/en/user-statistics/+subscriptions/add"
                 data-unsubscribe-url="/kb/en/user-statistics/+subscriptions/remove">
            </div>
        

        
        
    
        <div class="simple_section_nav">
            <ul class="nav nav-pills">
                
                    <li><a href="/kb/en/slow-query-log-extended-statistics/">
                        ← Slow Query Log Extended Statistics
                    </a>
                    </li>
                
                
                    <li><a href="/kb/en/statistics-for-optimizing-queries/">
                        ↑ Statistics for Optimizing Queries ↑
                    </a>
                    </li>
                
                
            </ul>
        </div>
    

        

        
        <h2>Comments</h2>
        
    
    <div id="comments" data-node-id="667" data-comments-url="/kb/en/user-statistics/+comments"
         data-reply-url="/kb/en/user-statistics/comments/post/">
        Comments loading...
    </div>

        

    </div>


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
                <div id="right_bar" class="col-md-2">
                    
    
        
        <ul class="section_navigation well well-small hidden-xs hidden-sm">
            
                <li class="parent"><a href="/kb/en/statistics-for-optimizing-queries/">
                    ↑ Statistics for Optimizing Queries ↑
                </a>
                </li>
            
            
                
                    <li>
                        <a href="/kb/en/engine-independent-table-statistics/">
                            
                            Engine-Independent Table Statistics
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/histogram-based-statistics/">
                            
                            Histogram-Based Statistics
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/index-statistics/">
                            <span class="pull-right not_primary"></span>
                            Index Statistics
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/innodb-persistent-statistics/">
                            
                            InnoDB Persistent Statistics
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/slow-query-log-extended-statistics/">
                            
                            Slow Query Log Extended Statistics
                        </a>
                    </li>
                
            
                
                    <li class="active">
                        <span>User Statistics</span>
                        
                    </li>
                
            
        </ul>
    
    

                </div>
            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/services" title="Services">Services</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">About Us</a></h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/download" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2024 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.1587e3a666fc.js" charset="utf-8"></script>

</html>