<?xml version="1.0" encoding="utf-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>MariaDB Knowledge Base Comments for: Aria System Variables: aria_block_size</title><link>https://mariadb.com/kb/en/aria-system-variables-aria_block_size/+comments/feed/</link><description></description><atom:link href="https://mariadb.com/kb/en/aria-system-variables-aria_block_size/+comments/feed/" rel="self"></atom:link><language>en-us</language><lastBuildDate>Mon, 12 Aug 2024 13:47:11 +0000</lastBuildDate><item><title>Re: Aria System Variables: aria_block_size</title><link>https://mariadb.com/kb/en/aria-system-variables-aria_block_size/+comments/2099</link><description>&lt;p&gt;Yes, only PAGE format tables (with TRANSACTIONAL=1, which is not the default) are crash safe. There's not much activity with Aria development at the moment, so I'm not sure when full scan performance will be looked at.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Ian Gilfillan</dc:creator><guid>https://mariadb.com/kb/en/aria-system-variables-aria_block_size/+comments/2099</guid></item><item><title>Re: Aria System Variables: aria_block_size</title><link>https://mariadb.com/kb/en/aria-system-variables-aria_block_size/+comments/2096</link><description>&lt;p&gt;I tried reducing aria_block_size to 2048 but performance improvements were negligible. So I guess that using PAGE format, as Ian said, explains the very noticeable drop in performance compared to MyISAM.&lt;/p&gt;
&lt;p&gt;Just for the fun of it, I'll give it a try with DYNAMIC format, but that does mean that the tables won't be crash free.&lt;/p&gt;
&lt;p&gt;I read that Aria 2.5 will focus on performance improvements. Any chance that full tables scans will be addressed, if that's even possible? &lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Paul Pech</dc:creator><guid>https://mariadb.com/kb/en/aria-system-variables-aria_block_size/+comments/2096</guid></item><item><title>Re: Aria System Variables: aria_block_size</title><link>https://mariadb.com/kb/en/aria-system-variables-aria_block_size/+comments/2089</link><description>&lt;p&gt;For full table scans, the default PAGE format is slower than the DYNAMIC and FIXED formats. Perhaps this explains the difference in your case. See the &lt;a href="/kb/en/aria-faq/#what-are-the-advantagesdisadvantages-of-the-new-page-format-compared-to-the-old-myisam-like-row-formats-dynamic-and-fixed"&gt;Aria FAQ&lt;/a&gt;.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Ian Gilfillan</dc:creator><guid>https://mariadb.com/kb/en/aria-system-variables-aria_block_size/+comments/2089</guid></item><item><title>Re: Aria System Variables: aria_block_size</title><link>https://mariadb.com/kb/en/aria-system-variables-aria_block_size/+comments/2077</link><description>&lt;p&gt;When reducing aria_block_size the maximum index key length is being reduced as well. It seems that aria_block_sizes greater than or equal to 4096 allow for a maximum key length of 1000 bytes (this is the maximum key length for the default myisam_block_size of 1024), while for aria_block_size 2048 max. key length is 552 bytes (for 1024 it's 210).&lt;/p&gt;
&lt;p&gt;In our tests reducing aria_block_size  from 8192 (default) to 4096 did only lead to a minor performance improvement. I'll try to reduce to 2048, but I'll have to adapt some indexes first :-)&lt;/p&gt;
&lt;p&gt;When using aria_block_size 4096 performance still is reduced by more than 30% compared to MyISAM (same server, same databases, same indexes; many full table scans). Is this to be expected or must there be something I'm doing wrong? (Server is 10.0.22, openSuSE Leap 42.1 default package)&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Paul Pech</dc:creator><guid>https://mariadb.com/kb/en/aria-system-variables-aria_block_size/+comments/2077</guid></item><item><title>Re: Aria System Variables: aria_block_size</title><link>https://mariadb.com/kb/en/aria-system-variables-aria_block_size/+comments/2076</link><description>&lt;p&gt;Yes, a smaller setting may help with quicker key lookups. myisam_block_size's default is 1024, while the aria_block_size default is 8096. Note that you have to rebuild the indexes if this value is changed (dump, delete and restore).&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Ian Gilfillan</dc:creator><guid>https://mariadb.com/kb/en/aria-system-variables-aria_block_size/+comments/2076</guid></item></channel></rss>