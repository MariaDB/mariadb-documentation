<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>Sequence Overview - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.f7633538c846.css" rel="stylesheet" type="text/css" />

    

    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="Sequence Overview" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/en/sequence-overview/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="Object that generates a sequence of numeric values." />

    <meta name="description" content="Object that generates a sequence of numeric values." />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes products nodes_view jqui" id="nodes_view">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/sequence-overview/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2024 MariaDB. All rights reserved.</p>
    </div>
</div>
<div class="violator-wrap d-none" id="top_violator">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12">
                <div class="violator-outer">
                    <div class="violator-inner">
                        <div class="row">
                            <div class="col-xs-12 col-sm-9 col-lg-7 col-lg-offset-2" id="top_violator_content">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="content-link" target="_blank" rel="nofollow noreferrer">
                                    <span>The Ultimate Guide to High Availability with MariaDB</span>
                                </a>
                            </div>
                            <div class="col-xs-12 col-sm-3" id="top_violator_cta">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="btn btn-mariadb" target="_blank" rel="nofollow noreferrer">Download Now</a>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn btn-link close-btn">
                        <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" width="15px" height="15px"><path d="M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/sequence-overview/" rel="nofollow">Login</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/en/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/en/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/services" title="Services">Services</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="About Us">About Us</a>
    </li>
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/en/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/en/documentation/">MariaDB Server Documentation</a>
    

    
    » <a class="crumb" href="/kb/en/using-mariadb-server/">Using MariaDB Server</a>
    

    
    » <a class="crumb" href="/kb/en/sql-statements-structure/">SQL Statements &amp; Structure</a>
    

    
    » <a class="crumb" href="/kb/en/sequences/">Sequences</a>
    


    » <a class="node_link crumb" href="/kb/en/sequence-overview/">Sequence Overview</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/en/">Home</a></li>
                            
                                
                                    <li><a href="/kb/en/+questions/">Open Questions</a></li>
                                
                                <li><a href="/kb/en/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/en/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/en/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/en/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
<div>



<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-blue btn-sm" href="/kb/en/sequence-overview/+history" rel="nofollow">History</a>
        
        
        
        <a class="btn btn-block btn-blue btn-sm" href="/kb/en/sequence-overview/+source/">Source</a>
        
        <a class="btn btn-block btn-blue btn-sm flag" href="/kb/en/sequence-overview/+flag"
                data-flag-url="/kb/en/sequence-overview/+flag" rel="nofollow">
                Flag as Spam / Inappropriate</a>
        
        <a class="btn btn-block btn-blue btn-sm" href="/kb/en/sequence-overview/+translate/">
                Translate</a>
        

</div>
</div>





<div class="well well-small box node_info"><div>

    <dl>
        <dt>Created</dt>
        <dd>

<span class="datetime" title="2017-06-29 11:40">7 years, 3 months ago</span></dd>

        <dt>Modified</dt>
        <dd>

<span class="datetime" title="2024-05-22 12:24">4 months, 2 weeks ago</span></dd>

        <dt>Type</dt>
        <dd>article</dd>

        <dt>Status</dt>
        <dd>active</dd>

        <dt>License</dt>
        <dd>
            
                <a href="/kb/en/sequence-overview/+license/">CC BY-SA / Gnu FDL</a>
            
        </dd>

        
    </dl>

    
    <ul class="rss_feeds">
        <li><a href="/kb/en/sequence-overview/+history/feed/">
            History</a>
        </li>
        <li><a href="/kb/en/sequence-overview/+comments/feed/">
            Comments</a>
        </li>
    </ul>
    

</div>
</div>





    
    
    

<div class="well well-small box attachments"><div><div class="edit_link pull-right"><a href="/kb/en/sequence-overview/+edit/attachments/">Edit</a></div><h5>Attachments</h5></div><div>

        
            <div class="no_data">No attachments exist</div>
        
    
</div>
</div>

    



    
    
        

<div class="well well-small box"><div><h5>Localized Versions</h5></div><div>

        <ul>
            
            <li><a href="/kb/ko/sequence-overview/">Sequence Overview</a> [ko]</li>
            
        </ul>
        
</div>
</div>

    






</div>


                    

































                </aside>
            
            
            
                
            
            
                
            
            <section id="content" class="limited_width col-md-8 clearfix">
                
                    <h1>Sequence Overview</h1>
                

                



                <div>
                    
    

    
    
    

    <div class="node creole">
        
        
        


    
    <div class="answer formatted">
        <div class="cstm-style greenbox"><p>This page is about sequence objects. For details about the storage engine, see <a href="/kb/en/sequence-storage-engine/">Sequence Storage Engine</a>.</p>
</div><h2 class="anchored_heading" id="introduction">Introduction</h2>
<p>A sequence is an object that generates a sequence of numeric values, as specified by the <a href="/kb/en/create-sequence/">CREATE SEQUENCE</a> statement. </p>
<p>CREATE SEQUENCE will create a sequence that generates new values when called with NEXT VALUE FOR sequence_name. It's an alternative to <a href="/kb/en/auto_increment/">AUTO INCREMENT</a> when one wants to have more control of how the numbers are generated. As the SEQUENCE caches values (up to the CACHE value in the <a href="/kb/en/create-sequence/">CREATE SEQUENCE</a> statement, by default 1000) it can in some cases be much faster than AUTO INCREMENT. Another benefit is that one can access the last value generated by all used sequences, which solves one of the limitations with <a href="/kb/en/last_insert_id/">LAST_INSERT_ID()</a>.</p>
<h2 class="anchored_heading" id="creating-a-sequence">Creating a Sequence</h2>
<p>The <a href="/kb/en/create-sequence/">CREATE SEQUENCE</a> statement is used to create a sequence. Here is an example of a sequence starting at 100, incrementing by 10 each time:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="n">SEQUENCE</span> <span class="n">s</span> <span class="k">START</span> <span class="k">WITH</span> <span class="mi">100</span> <span class="k">INCREMENT</span> <span class="k">BY</span> <span class="mi">10</span><span class="p">;</span>
</pre><p>The CREATE SEQUENCE statement, along with defaults, can be viewd with the <a href="/kb/en/show-create-sequence/">SHOW CREATE SEQUENCE STATEMENT</a>, for example:</p>
<pre class="fixed">SHOW CREATE SEQUENCE s\G
*************************** 1. row ***************************
       Table: s
Create Table: CREATE SEQUENCE `s` start with 100 minvalue 1 maxvalue 9223372036854775806 
  increment by 10 cache 1000 nocycle ENGINE=InnoDB
</pre><h2 class="anchored_heading" id="using-sequence-objects">Using Sequence Objects</h2>
<p>To get the  <a href="/kb/en/next-value-for-sequence_name/">next value from a sequence</a>, use</p>
<pre class="fixed">NEXT VALUE FOR sequence_name
</pre><p>or</p>
<pre class="fixed">NEXTVAL(sequence_name)
</pre><p>or in Oracle mode (<a href="/kb/en/sql-mode/">SQL_MODE=ORACLE</a>)</p>
<pre class="fixed">sequence_name.nextval
</pre><p>For <a href="/kb/en/previous-value-for-sequence_name/">retrieving the last value</a> used by the current connection from a sequence
use:</p>
<pre class="fixed">PREVIOUS VALUE FOR sequence_name
</pre><p>or</p>
<pre class="fixed">LASTVAL(sequence_name)
</pre><p>or in Oracle mode (<a href="/kb/en/sql-mode/">SQL_MODE=ORACLE</a>)</p>
<pre class="fixed">sequence_name.currval
</pre><p>For example:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">NEXTVAL</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="n">NEXTVAL</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span>        <span class="mi">100</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>

<span class="k">SELECT</span> <span class="n">NEXTVAL</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="n">NEXTVAL</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span>        <span class="mi">110</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>

<span class="k">SELECT</span> <span class="n">LASTVAL</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="n">LASTVAL</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span>        <span class="mi">110</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
</pre><h3 class="anchored_heading" id="using-sequences-in-default">Using Sequences in DEFAULT</h3>
<p>Sequences can be used in DEFAULT:</p>
<pre class="fixed"><span class="k">create</span> <span class="n">sequence</span> <span class="n">s1</span><span class="p">;</span>
<span class="k">create</span> <span class="k">table</span> <span class="n">t1</span> <span class="p">(</span><span class="n">a</span> <span class="nb">int</span> <span class="k">primary</span> <span class="k">key</span> <span class="k">default</span> <span class="p">(</span><span class="k">next</span> <span class="n">value</span> <span class="k">for</span> <span class="n">s1</span><span class="p">),</span> <span class="n">b</span> <span class="nb">int</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="n">t1</span> <span class="p">(</span><span class="n">b</span><span class="p">)</span> <span class="k">values</span> <span class="p">(</span><span class="mi">1</span><span class="p">),(</span><span class="mi">2</span><span class="p">);</span>
<span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">t1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---+------+</span>
<span class="o">|</span> <span class="n">a</span> <span class="o">|</span> <span class="n">b</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">---+------+</span>
<span class="o">|</span> <span class="mi">1</span> <span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">2</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---+------+</span>
</pre><h2 class="anchored_heading" id="changing-a-sequence">Changing a Sequence</h2>
<p>The <a href="/kb/en/alter-sequence/">ALTER SEQUENCE</a> statement is used for changing sequences. For example, to restart the sequence at another value:</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="n">SEQUENCE</span> <span class="n">s</span> <span class="k">RESTART</span> <span class="mi">50</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="n">NEXTVAL</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="n">NEXTVAL</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span>         <span class="mi">50</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
</pre><p>The <a href="/kb/en/setval/">SETVAL function</a> can also be used to set the next value to be returned for a SEQUENCE, for example:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">SETVAL</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------+</span>
<span class="o">|</span> <span class="n">SETVAL</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+</span>
<span class="o">|</span>            <span class="mi">100</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+</span>
</pre><p><code>SETVAL</code> can only be used to increase the sequence value. Attempting to set a lower value will fail, returning NULL:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">SETVAL</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="mi">50</span><span class="p">);</span>
<span class="o">+</span><span class="c1">---------------+</span>
<span class="o">|</span> <span class="n">SETVAL</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------+</span>
<span class="o">|</span>          <span class="k">NULL</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------+</span>
</pre><h2 class="anchored_heading" id="dropping-a-sequence">Dropping a Sequence</h2>
<p>The <a href="/kb/en/drop-sequence/">DROP SEQUENCE</a> statement is used to drop a sequence, for example:</p>
<pre class="fixed"><span class="k">DROP</span> <span class="n">SEQUENCE</span> <span class="n">s</span><span class="p">;</span>
</pre><h2 class="anchored_heading" id="replication">Replication</h2>
<p>If one wants to use Sequences in a master-master setup or with Galera one
should use <code>INCREMENT=0</code>.  This will tell the Sequence to use <a href="/kb/en/replication-and-binary-log-server-system-variables/#auto_increment_increment">auto_increment_increment</a> and <a href="/kb/en/replication-and-binary-log-server-system-variables/#auto_increment_offset">auto_increment_offset</a> to generate unique values for each server.</p>
<h2 class="anchored_heading" id="standards-compliance">Standards Compliance</h2>
<p>MariaDB supports both ANSI SQL and Oracle syntax for sequences.</p>
<p>However as <code>SEQUENCE</code> is implemented as a special kind of table, it uses the same namespace as tables. The benefits are that sequences show up in <a href="/kb/en/show-tables/">SHOW TABLES</a>, and one can also create a sequence with <a href="/kb/en/create-table/">CREATE TABLE</a> and drop it with <a href="/kb/en/drop-table/">DROP TABLE</a>. One can <a href="/kb/en/select/">SELECT</a> from it as from any other table. This ensures that all old tools that work with tables should work with sequences.</p>
<p>Since sequence objects act as regular tables in many contexts, they will be affected by <a href="/kb/en/lock-tables/">LOCK TABLES</a>. This is not the case in other DBMS, such as Oracle, where LOCK TABLE does not affect sequences.</p>
<h2 class="anchored_heading" id="notes">Notes</h2>
<p>One of the goals with the Sequence implementation is that all old
tools, such as <a href="/kb/en/mariadb-dump/">mariadb-dump</a> (previously mysqldump), should work unchanged, while still keeping the
normal usage of sequence standard compatibly.</p>
<p>To make this possible, <code>sequence</code> is currently implemented as a table with a few exclusive properties.</p>
<p>The special properties for sequence tables are:</p>
<ul start="1"><li>A sequence table has always one row.
</li><li>When one creates a sequence, either with <a href="/kb/en/create-table/">CREATE TABLE</a> or <a href="/kb/en/create-sequence/">CREATE SEQUENCE</a>, one row will be inserted.
</li><li>If one tries to insert into a sequence table, the single row will be updated.  This allows <a href="/kb/en/mariadb-dump/">mariadb-dump</a> to work but also gives the additional benefit that one can change all properties of a sequence with a single insert. New applications should of course also use <code>ALTER SEQUENCE</code>.
</li><li><a href="/kb/en/update/">UPDATE</a> or <a href="/kb/en/delete/">DELETE</a> can't be performed on Sequence objects.
</li><li>Doing a select on the sequence shows the current state of the sequence, except the values that are reserved in the cache.  The <code>next_value</code> column shows the next value not reserved by the cache.
</li><li><a href="/kb/en/flush/">FLUSH TABLES</a> will close the sequence and the next sequence number generated will be according to what's stored in the Sequence object. In effect, this will discard the cached values.
</li><li>A number of normal table operations work on Sequence tables. See next section.
</li></ul>
<h2 class="anchored_heading" id="table-operations-that-work-with-sequences">Table Operations that Work with Sequences</h2>
<ul start="1"><li><a href="/kb/en/show-create-table/">SHOW CREATE TABLE sequence_name</a>. This shows the table structure that is behind the <code>SEQUENCE</code> including the field names that can be used with <a href="/kb/en/select/">SELECT</a> or even <a href="/kb/en/create-table/">CREATE TABLE</a>.
</li><li><a href="/kb/en/create-table/">CREATE TABLE sequence-structure ... SEQUENCE=1</a>
</li><li><a href="/kb/en/alter-table/">ALTER TABLE sequence RENAME TO sequence2</a>
</li><li><a href="/kb/en/rename-table/">RENAME TABLE sequence_name TO new_sequence_name</a>
</li><li><a href="/kb/en/drop-table/">DROP TABLE sequence_name</a>. This is allowed mainly to get old tools like <a href="/kb/en/mariadb-dump/">mariadb-dump</a> to work with sequence tables.
</li><li><a href="/kb/en/show-tables/">SHOW TABLES</a>
</li></ul>
<h2 class="anchored_heading" id="implementation">Implementation</h2>
<p>Internally, sequence tables are created as a normal table without
rollback (the <a href="/kb/en/innodb/">InnoDB</a>, <a href="/kb/en/aria/">Aria</a> and <a href="/kb/en/myisam/">MySAM</a> engines support this), wrapped by a
sequence engine object. This allowed us to create sequences with
almost no performance impact for normal tables. (The cost is one 'if'
per insert if the <a href="/kb/en/binary-log/">binary log</a> is enabled).</p>
<h2 class="anchored_heading" id="underlying-table-structure">Underlying Table Structure</h2>
<p>The following example shows the table structure of sequences and how it
can be used as a table.
(Output of results are slightly edited to make them easier to read)</p>
<div class="cstm-style" style="font-size:0.8em;"><pre class="fixed wrap">create sequence t1;
show create sequence t1\G
*************************** 1. row ***************************
  CREATE SEQUENCE `t1` start with 1 minvalue 1 maxvalue 9223372036854775806
  increment by 1 cache 1000 nocycle ENGINE=InnoDB

show create table t1\G
*************************** 1. row ***************************
Create Table: CREATE TABLE `t1` (
  `next_not_cached_value` bigint(21) NOT NULL,
  `minimum_value` bigint(21) NOT NULL,
  `maximum_value` bigint(21) NOT NULL,
  `start_value` bigint(21) NOT NULL COMMENT 'start value when sequences is created or value if RESTART is used',
  `increment` bigint(21) NOT NULL COMMENT 'increment value',
  `cache_size` bigint(21) unsigned NOT NULL,
  `cycle_option` tinyint(1) unsigned NOT NULL COMMENT '0 if no cycles are allowed, 1 if the sequence should begin a new cycle when maximum_value is passed',
  `cycle_count` bigint(21) NOT NULL COMMENT 'How many cycles have been done'
) ENGINE=InnoDB SEQUENCE=1


select * from t1\G
next_not_cached_value: 1
 minimum_value: 1
 maximum_value: 9223372036854775806
  start_value: 1
  increment: 1
  cache_size: 1000
  cycle_option: 0
  cycle_count: 0
</pre></div><p>The <code>cycle_count</code> column is incremented every time the sequence wraps around.</p>
<h2 class="anchored_heading" id="credits">Credits</h2>
<ul start="1"><li>Thanks to Jianwe Zhao from Aliyun for his work on SEQUENCE in AliSQL, which gave ideas and inspiration for this work.
</li><li>Thanks to Peter Gulutzan,who helped test and gave useful comments about the implementation.
</li></ul>
<h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="/kb/en/create-sequence/">CREATE SEQUENCE</a>
</li><li><a href="/kb/en/alter-sequence/">ALTER SEQUENCE</a>
</li><li><a href="/kb/en/drop-sequence/">DROP SEQUENCE</a>
</li><li><a href="/kb/en/next-value-for-sequence_name/">NEXT VALUE FOR</a>
</li><li><a href="/kb/en/previous-value-for-sequence_name/">PREVIOUS VALUE FOR</a>
</li><li><a href="/kb/en/setval/">SETVAL()</a>.  Set next value for the sequence.
</li><li><a href="/kb/en/auto_increment/">AUTO INCREMENT</a>
</li><li><a href="/kb/en/sequence-storage-engine/">Sequence Storage Engine</a>
</li><li><a href="/kb/en/information-schema-sequences-table/">Information Schema SEQUENCES Table</a>
</li><li><a href="/kb/en/e4084/">Error 4084: Sequence has run out</a></li></ul>

    </div>


        
            <div id="subscribe" class="well well-small hide hidden-print"
                 data-subscribe-url="/kb/en/sequence-overview/+subscriptions/add"
                 data-unsubscribe-url="/kb/en/sequence-overview/+subscriptions/remove">
            </div>
        

        
        
    
        <div class="simple_section_nav">
            <ul class="nav nav-pills">
                
                
                    <li><a href="/kb/en/sequences/">
                        ↑ Sequences ↑
                    </a>
                    </li>
                
                
                    <li class="pull-right"><a href="/kb/en/create-sequence/">
                        CREATE SEQUENCE →
                    </a>
                    </li>
                
            </ul>
        </div>
    

        

        
        <h2>Comments</h2>
        
    
    <div id="comments" data-node-id="6682" data-comments-url="/kb/en/sequence-overview/+comments"
         data-reply-url="/kb/en/sequence-overview/comments/post/">
        Comments loading...
    </div>

        

    </div>


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
                <div id="right_bar" class="col-md-2">
                    
    
        
        <ul class="section_navigation well well-small hidden-xs hidden-sm">
            
                <li class="parent"><a href="/kb/en/sequences/">
                    ↑ Sequences ↑
                </a>
                </li>
            
            
                
                    <li class="active">
                        <span>Sequence Overview</span>
                        
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/create-sequence/">
                            
                            CREATE SEQUENCE
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/show-create-sequence/">
                            <span class="pull-right not_primary"></span>
                            SHOW CREATE SEQUENCE
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/alter-sequence/">
                            
                            ALTER SEQUENCE
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/drop-sequence/">
                            
                            DROP SEQUENCE
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/sequence-functions/">
                            
                            SEQUENCE Functions
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/information-schema-sequences-table/">
                            <span class="pull-right not_primary"></span>
                            Information Schema SEQUENCES Table
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/show-tables/">
                            <span class="pull-right not_primary"></span>
                            SHOW TABLES
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/e4084/">
                            <span class="pull-right not_primary"></span>
                            Error 4084: Sequence has run out
                        </a>
                    </li>
                
            
        </ul>
    
    

                </div>
            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/services" title="Services">Services</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">About Us</a></h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/download" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2024 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.1587e3a666fc.js" charset="utf-8"></script>

</html>