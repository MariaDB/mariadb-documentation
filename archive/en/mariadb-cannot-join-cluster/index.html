<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>mariadb - cannot join cluster - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.b9e1e104f007.css" rel="stylesheet" type="text/css" />

    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="mariadb - cannot join cluster" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/en/mariadb-cannot-join-cluster/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="Hi,
I have a 3 nodes mariadb-galera that was working on linux, firewall was stopped but not disabled.
After a power failure, firewall was started and all nodes were with safe_..." />

    <meta name="description" content="Hi,
I have a 3 nodes mariadb-galera that was working on linux, firewall was stopped but not disabled.
After a power failure, firewall was started and all nodes were with safe_..." />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes products nodes_view jqui" id="nodes_view">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/mariadb-cannot-join-cluster/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2024 MariaDB. All rights reserved.</p>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/mariadb-cannot-join-cluster/" rel="nofollow">Login</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/en/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/en/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/services" title="Services">Services</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="About Us">About Us</a>
    </li>
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/en/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/en/community/">The Community</a>
    


    » <a class="node_link crumb" href="/kb/en/mariadb-cannot-join-cluster/">mariadb - cannot join cluster</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/en/">Home</a></li>
                            
                                
                                    <li><a href="/kb/en/+questions/">Open Questions</a></li>
                                
                                <li><a href="/kb/en/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/en/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/en/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/en/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
<div>



<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-blue btn-sm" href="/kb/en/mariadb-cannot-join-cluster/+history" rel="nofollow">History</a>
        
        
        
        <a class="btn btn-block btn-blue btn-sm" href="/kb/en/mariadb-cannot-join-cluster/+source/">Source</a>
        
        <a class="btn btn-block btn-blue btn-sm flag" href="/kb/en/mariadb-cannot-join-cluster/+flag"
                data-flag-url="/kb/en/mariadb-cannot-join-cluster/+flag" rel="nofollow">
                Flag as Spam / Inappropriate</a>
        

</div>
</div>





<div class="well well-small box node_info"><div>

    <dl>
        <dt>Created</dt>
        <dd>

<span class="datetime" title="2020-01-27 14:02">4 years, 1 month ago</span></dd>

        <dt>Modified</dt>
        <dd>

<span class="datetime" title="2020-01-27 14:10">4 years, 1 month ago</span></dd>

        <dt>Type</dt>
        <dd>question</dd>

        <dt>Status</dt>
        <dd>active</dd>

        <dt>License</dt>
        <dd>
            
                <a href="/kb/en/mariadb-cannot-join-cluster/+license/">CC BY-SA / Gnu FDL</a>
            
        </dd>

        
    </dl>

    
    <ul class="rss_feeds">
        <li><a href="/kb/en/mariadb-cannot-join-cluster/+history/feed/">
            History</a>
        </li>
        <li><a href="/kb/en/mariadb-cannot-join-cluster/+comments/feed/">
            Comments</a>
        </li>
    </ul>
    

</div>
</div>





    
    
    

<div class="well well-small box attachments"><div><div class="edit_link pull-right"><a href="/kb/en/mariadb-cannot-join-cluster/+edit/attachments/">Edit</a></div><h5>Attachments</h5></div><div>

        
            <div class="no_data">No attachments exist</div>
        
    
</div>
</div>

    



    
    






</div>


                    

































                </aside>
            
            
            
                
            
            
                
            
            <section id="content" class="limited_width col-md-8 clearfix">
                
                    <h1>mariadb - cannot join cluster</h1>
                

                



                <div>
                    
    

    
    
    

    <div class="node creole">
        
        
        
    <div class="question formatted">
        <p>Hi,</p>
<p>I have a 3 nodes mariadb-galera that was working on linux, firewall was stopped but not disabled.
After a power failure, firewall was started and all nodes were with safe_to_bootstrap: 0 at the same scn.</p>
<p>I changed safe_to_bootstrap to 1 on one node: this one started.</p>
<p>The other ones didn't start because of firewall. So I stopped all firewalls, re-stopped everything and made a restart:
galera_new_cluster on 1st node.</p>
<p>systemctl start mariadb on other nodes... but 2nd and 3rd node don't start.</p>
<p>on 1st node (ip ending with .140), I have (logical) timeouts as other nodes don't start. On 2nd node (ip ending with .141):</p>
<p>---</p>
<p>[root@eidlot2-database-1 ]# systemctl status mariadb</p>
<p>● mariadb.service - <a href="/kb/en/mariadb-1049-release-notes/">MariaDB 10.4.9</a> database server</p>
<p>   Loaded: loaded (/usr/lib/systemd/system/mariadb.service; disabled; vendor preset: disabled)</p>
<p>  Drop-In: /etc/systemd/system/mariadb.service.d</p>
<p>           └─migrated-from-my.cnf-settings.conf</p>
<p>   Active: active (running) since Mon 2020-01-27 14:23:34 CET; 32min ago</p>
<p>     Docs: man:mysqld(8)</p>
<p>           <a href="https://mariadb.com/kb/en/library/systemd/">https://mariadb.com/kb/en/library/systemd/</a></p>
<p>  Process: 15194 ExecStartPost=/bin/sh -c systemctl unset-environment _WSREP_START_POSITION (code=exited, status=0/SUCCESS)</p>
<p>  Process: 15068 ExecStartPre=/bin/sh -c [ ! -e /usr/bin/galera_recovery ] &amp;&amp; VAR= ||   VAR=`/usr/bin/galera_recovery`; [ $? -eq 0 ]   &amp;&amp; systemctl set-environment _WSREP_START_POSITION=$VAR || exit 1 (code=exited, status=0/SUCCESS)</p>
<p>  Process: 15066 ExecStartPre=/bin/sh -c systemctl unset-environment _WSREP_START_POSITION (code=exited, status=0/SUCCESS)</p>
<p> Main PID: 15154 (mysqld)</p>
<p>   Status: "Taking your SQL requests now..."</p>
<p>   CGroup: /system.slice/mariadb.service</p>
<p>           └─15154 /usr/sbin/mysqld --wsrep-new-cluster --wsrep_start_position=81e2e742-0016-11ea-ae1f-
221166a346b3:38024</p>
<p>Jan 27 14:55:44 eidlot2-database-1.pass.lan mysqld[15154]: 2020-01-27 14:55:44 0 [Note] WSREP: (37ab1fde, 'tcp:<em>0.0.0.0:4567') connection to peer 00000000 with addr tcp:</em>172.16.57.141:4567 timed out, no messages seen in PT3S</p>
<p>Jan 27 14:55:46 eidlot2-database-1.pass.lan mysqld[15154]: 2020-01-27 14:55:46 0 [Note] WSREP: (37ab1fde, 'tcp:<em>0.0.0.0:4567') connection to peer 00000000 with addr tcp:</em>172.16.57.144:4567 timed out, no messages seen in PT3S</p>
<p>Jan 27 14:55:48 eidlot2-database-1.pass.lan mysqld[15154]: 2020-01-27 14:55:48 0 [Note] WSREP: (37ab1fde, 'tcp:<em>0.0.0.0:4567') connection to peer 00000000 with addr tcp:</em>172.16.57.141:4567 timed out, no messages seen in PT3S</p>
<p>Jan 27 14:55:50 eidlot2-database-1.pass.lan mysqld[15154]: 2020-01-27 14:55:50 0 [Note] WSREP: (37ab1fde, 'tcp:<em>0.0.0.0:4567') connection to peer 00000000 with addr tcp:</em>172.16.57.144:4567 timed out, no messages seen in PT3S</p>
<p>Jan 27 14:55:52 eidlot2-database-1.pass.lan mysqld[15154]: 2020-01-27 14:55:52 0 [Note] WSREP: (37ab1fde, 'tcp:<em>0.0.0.0:4567') connection to peer 00000000 with addr tcp:</em>172.16.57.141:4567 timed out, no messages seen in PT3S</p>
<p>Jan 27 14:55:54 eidlot2-database-1.pass.lan mysqld[15154]: 2020-01-27 14:55:54 0 [Note] WSREP: (37ab1fde, 'tcp:<em>0.0.0.0:4567') connection to peer 00000000 with addr tcp:</em>172.16.57.144:4567 timed out, no messages seen in PT3S</p>
<p>Jan 27 14:55:56 eidlot2-database-1.pass.lan mysqld[15154]: 2020-01-27 14:55:56 0 [Note] WSREP: (37ab1fde, 'tcp:<em>0.0.0.0:4567') connection to peer 00000000 with addr tcp:</em>172.16.57.141:4567 timed out, no messages seen in PT3S</p>
<p>Jan 27 14:55:58 eidlot2-database-1.pass.lan mysqld[15154]: 2020-01-27 14:55:58 0 [Note] WSREP: (37ab1fde, 'tcp:<em>0.0.0.0:4567') connection to peer 00000000 with addr tcp:</em>172.16.57.144:4567 timed out, no messages seen in PT3S</p>
<p>Jan 27 14:56:00 eidlot2-database-1.pass.lan mysqld[15154]: 2020-01-27 14:56:00 0 [Note] WSREP: (37ab1fde, 'tcp:<em>0.0.0.0:4567') connection to peer 00000000 with addr tcp:</em>172.16.57.141:4567 timed out, no messages seen in PT3S</p>
<p>Jan 27 14:56:02 eidlot2-database-1.pass.lan mysqld[15154]: 2020-01-27 14:56:02 0 [Note] WSREP: (37ab1fde, 'tcp:<em>0.0.0.0:4567') connection to peer 00000000 with addr tcp:</em>172.16.57.144:4567 timed out, no messages seen in PT3S</p>
<hr>
<p>On node 2: </p>
<p>[root@eidlot2-database-2 ]# systemctl status mariadb</p>
<p>● mariadb.service - <a href="/kb/en/mariadb-1049-release-notes/">MariaDB 10.4.9</a> database server</p>
<p>   Loaded: loaded (/usr/lib/systemd/system/mariadb.service; disabled; vendor preset: disabled)</p>
<p>  Drop-In: /etc/systemd/system/mariadb.service.d</p>
<p>           └─migrated-from-my.cnf-settings.conf</p>
<p>   Active: failed (Result: exit-code) since Mon 2020-01-27 14:24:55 CET; 33min ago</p>
<p>     Docs: man:mysqld(8)</p>
<p>           <a href="https://mariadb.com/kb/en/library/systemd/">https://mariadb.com/kb/en/library/systemd/</a></p>
<p>  Process: 20219 ExecStart=/usr/sbin/mysqld $MYSQLD_OPTS $_WSREP_NEW_CLUSTER $_WSREP_START_POSITION (code=exited, status=1/FAILURE)</p>
<p>  Process: 20133 ExecStartPre=/bin/sh -c [ ! -e /usr/bin/galera_recovery ] &amp;&amp; VAR= ||   VAR=`/usr/bin/galera_recovery`; [ $? -eq 0 ]   &amp;&amp; systemctl set-environment _WSREP_START_POSITION=$VAR || exit 1 (code=exited, status=0/SUCCESS)</p>
<p>  Process: 20131 ExecStartPre=/bin/sh -c systemctl unset-environment _WSREP_START_POSITION (code=exited, status=0/SUCCESS)</p>
<p> Main PID: 20219 (code=exited, status=1/FAILURE)</p>
<p>   Status: "MariaDB server is down"</p>
<p>Jan 27 14:24:54 eidlot2-database-2.pass.lan mysqld[20219]: at gcomm/src/pc.cpp:connect():158</p>
<p>Jan 27 14:24:54 eidlot2-database-2.pass.lan mysqld[20219]: 2020-01-27 14:24:54 0 [ERROR] WSREP: gcs/src/gcs_core.cpp:gcs_core_open():220: Failed to open backend connection: -110 (Connection timed out)</p>
<p>Jan 27 14:24:54 eidlot2-database-2.pass.lan mysqld[20219]: 2020-01-27 14:24:54 0 [ERROR] WSREP: gcs/src/gcs.cpp:gcs_open():1608: Failed to open channel 'galeratest' at 'gcomm:<em>172.16.57.140,172.16.57.141,172.16.57.144'...tion timed out)</em></p>
<p>Jan 27 14:24:54 eidlot2-database-2.pass.lan mysqld[20219]: 2020-01-27 14:24:54 0 [ERROR] WSREP: gcs connect failed: Connection timed out</p>
<p>Jan 27 14:24:54 eidlot2-database-2.pass.lan mysqld[20219]: 2020-01-27 14:24:54 0 [ERROR] WSREP: wsrep::connect(gcomm:<em>172.16.57.140,172.16.57.141,172.16.57.144) failed: 7</em></p>
<p>Jan 27 14:24:54 eidlot2-database-2.pass.lan mysqld[20219]: 2020-01-27 14:24:54 0 [ERROR] Aborting</p>
<p>Jan 27 14:24:55 eidlot2-database-2.pass.lan systemd[1]: mariadb.service: main process exited, code=exited, status=1/FAILURE</p>
<p>Jan 27 14:24:55 eidlot2-database-2.pass.lan systemd[1]: Failed to start <a href="/kb/en/mariadb-1049-release-notes/">MariaDB 10.4.9</a> database server.</p>
<p>Jan 27 14:24:55 eidlot2-database-2.pass.lan systemd[1]: Unit mariadb.service entered failed state.</p>
<p>Jan 27 14:24:55 eidlot2-database-2.pass.lan systemd[1]: mariadb.service failed.
Hint: Some lines were ellipsized, use -l to show in full.</p>
<p>[root@eidlot2-database-2 ]# journalctl -xe</p>
<p>Jan 27 14:24:24 eidlot2-database-2.pass.lan mysqld[20219]: 2020-01-27 14:24:24 0 [Note] WSREP: GCache::RingBuffer initial scan...  0.0% (        0/314572824 bytes) complete.</p>
<p>Jan 27 14:24:24 eidlot2-database-2.pass.lan mysqld[20219]: 2020-01-27 14:24:24 0 [Note] WSREP: GCache::RingBuffer initial scan...100.0% (314572824/314572824 bytes) complete.</p>
<p>Jan 27 14:24:24 eidlot2-database-2.pass.lan mysqld[20219]: 2020-01-27 14:24:24 0 [Note] WSREP: Recovering GCache ring buffer: found gapless sequence 209-37984</p>
<p>Jan 27 14:24:24 eidlot2-database-2.pass.lan mysqld[20219]: 2020-01-27 14:24:24 0 [Note] WSREP: GCache::RingBuffer unused buffers scan...  0.0% (       0/61980600 bytes) complete.</p>
<p>Jan 27 14:24:24 eidlot2-database-2.pass.lan mysqld[20219]: 2020-01-27 14:24:24 0 [Note] WSREP: GCache::RingBuffer unused buffers scan...100.0% (61980600/61980600 bytes) complete.</p>
<p>Jan 27 14:24:24 eidlot2-database-2.pass.lan mysqld[20219]: 2020-01-27 14:24:24 0 [Note] WSREP: GCache DEBUG: RingBuffer::recover(): found 1/37778 locked buffers</p>
<p>Jan 27 14:24:24 eidlot2-database-2.pass.lan mysqld[20219]: 2020-01-27 14:24:24 0 [Note] WSREP: GCache DEBUG: RingBuffer::recover(): used space: 61980600/314572800</p>
<p>Jan 27 14:24:24 eidlot2-database-2.pass.lan mysqld[20219]: 2020-01-27 14:24:24 0 [Note] WSREP: Passing config to GCS: base_dir = /var/lib/mysql/; base_host = 172.16.57.141; base_port = 4567; cert.log_conflicts = no; cert.optimistic_pa =</p>
<p>Jan 27 14:24:24 eidlot2-database-2.pass.lan mysqld[20219]: 2020-01-27 14:24:24 0 [Note] WSREP: Service thread queue flushed.</p>
<p>Jan 27 14:24:24 eidlot2-database-2.pass.lan mysqld[20219]: 2020-01-27 14:24:24 0 [Note] WSREP: <code>#</code><code> Assign initial position for certification: 81e2e742-0016-11ea-ae1f-221166a346b3:37984, protocol version: -1</code></p>
<p>Jan 27 14:24:24 eidlot2-database-2.pass.lan mysqld[20219]: 2020-01-27 14:24:24 0 [Note] WSREP: Start replication</p>
<p>Jan 27 14:24:24 eidlot2-database-2.pass.lan mysqld[20219]: 2020-01-27 14:24:24 0 [Note] WSREP: Connecting with bootstrap option: 0</p>
<p>Jan 27 14:24:24 eidlot2-database-2.pass.lan mysqld[20219]: 2020-01-27 14:24:24 0 [Note] WSREP: Setting GCS initial position to 81e2e742-0016-11ea-ae1f-221166a346b3:37984</p>
<p>Jan 27 14:24:24 eidlot2-database-2.pass.lan mysqld[20219]: 2020-01-27 14:24:24 0 [Note] WSREP: protonet asio version 0</p>
<p>Jan 27 14:24:24 eidlot2-database-2.pass.lan mysqld[20219]: 2020-01-27 14:24:24 0 [Note] WSREP: Using CRC-32C for message checksums.</p>
<p>Jan 27 14:24:24 eidlot2-database-2.pass.lan mysqld[20219]: 2020-01-27 14:24:24 0 [Note] WSREP: backend: asio</p>
<p>Jan 27 14:24:24 eidlot2-database-2.pass.lan mysqld[20219]: 2020-01-27 14:24:24 0 [Note] WSREP: gcomm thread scheduling priority set to other:0</p>
<p>Jan 27 14:24:24 eidlot2-database-2.pass.lan mysqld[20219]: 2020-01-27 14:24:24 0 [Warning] WSREP: access file(/var/lib/mysql<em>gvwstate.dat) failed(No such file or directory)</em></p>
<p>Jan 27 14:24:24 eidlot2-database-2.pass.lan mysqld[20219]: 2020-01-27 14:24:24 0 [Note] WSREP: restore pc from disk failed</p>
<p>Jan 27 14:24:24 eidlot2-database-2.pass.lan mysqld[20219]: 2020-01-27 14:24:24 0 [Note] WSREP: GMCast version 0</p>
<p>Jan 27 14:24:24 eidlot2-database-2.pass.lan mysqld[20219]: 2020-01-27 14:24:24 0 [Note] WSREP: (55e1b535, 'tcp:<em>0.0.0.0:4567') listening at tcp:</em>0.0.0.0:4567</p>
<p>Jan 27 14:24:24 eidlot2-database-2.pass.lan mysqld[20219]: 2020-01-27 14:24:24 0 [Note] WSREP: (55e1b535, 'tcp:<em>0.0.0.0:4567') multicast: , ttl: 1</em></p>
<p>Jan 27 14:24:24 eidlot2-database-2.pass.lan mysqld[20219]: 2020-01-27 14:24:24 0 [Note] WSREP: EVS version 1</p>
<p>Jan 27 14:24:24 eidlot2-database-2.pass.lan mysqld[20219]: 2020-01-27 14:24:24 0 [Note] WSREP: gcomm: connecting to group 'galeratest', peer '172.16.57.140:,172.16.57.141:,172.16.57.144:'</p>
<p>Jan 27 14:24:24 eidlot2-database-2.pass.lan mysqld[20219]: 2020-01-27 14:24:24 0 [Note] WSREP: (55e1b535, 'tcp:<em>0.0.0.0:4567') Found matching local endpoint for a connection, blacklisting address tcp:</em>172.16.57.141:4567</p>
<p>Jan 27 14:24:24 eidlot2-database-2.pass.lan mysqld[20219]: 2020-01-27 14:24:24 0 [Note] WSREP: (55e1b535, 'tcp:<em>0.0.0.0:4567') connection established to 55d53448 tcp:</em>172.16.57.144:4567</p>
<p>Jan 27 14:24:24 eidlot2-database-2.pass.lan mysqld[20219]: 2020-01-27 14:24:24 0 [Note] WSREP: (55e1b535, 'tcp:<em>0.0.0.0:4567') turning message relay requesting on, nonlive peers:</em></p>
<p>Jan 27 14:24:24 eidlot2-database-2.pass.lan mysqld[20219]: 2020-01-27 14:24:24 0 [Note] WSREP: (55e1b535, 'tcp:<em>0.0.0.0:4567') connection established to 37ab1fde tcp:</em>172.16.57.140:4567</p>
<p>Jan 27 14:24:24 eidlot2-database-2.pass.lan mysqld[20219]: 2020-01-27 14:24:24 0 [Note] WSREP: EVS version upgrade 0 -&gt; 1</p>
<p>Jan 27 14:24:24 eidlot2-database-2.pass.lan mysqld[20219]: 2020-01-27 14:24:24 0 [Note] WSREP: declaring 37ab1fde at tcp:<em>172.16.57.140:4567 stable</em></p>
<p>Jan 27 14:24:24 eidlot2-database-2.pass.lan mysqld[20219]: 2020-01-27 14:24:24 0 [Note] WSREP: declaring 55d53448 at tcp:<em>172.16.57.144:4567 stable</em></p>
<p>Jan 27 14:24:24 eidlot2-database-2.pass.lan mysqld[20219]: 2020-01-27 14:24:24 0 [Note] WSREP: PC protocol upgrade 0 -&gt; 1</p>
<p>Jan 27 14:24:24 eidlot2-database-2.pass.lan mysqld[20219]: 2020-01-27 14:24:24 0 [Note] WSREP: view(view_id(NON_PRIM,37ab1fde,12) memb {</p>
<p>Jan 27 14:24:24 eidlot2-database-2.pass.lan mysqld[20219]: 37ab1fde,0</p>
<p>Jan 27 14:24:24 eidlot2-database-2.pass.lan mysqld[20219]: 55d53448,0</p>
<p>Jan 27 14:24:24 eidlot2-database-2.pass.lan mysqld[20219]: 55e1b535,0</p>
<p>Jan 27 14:24:24 eidlot2-database-2.pass.lan mysqld[20219]: } joined {</p>
<p>Jan 27 14:24:24 eidlot2-database-2.pass.lan mysqld[20219]: } left {</p>
<p>Jan 27 14:24:24 eidlot2-database-2.pass.lan mysqld[20219]: } partitioned {</p>
<p>Jan 27 14:24:24 eidlot2-database-2.pass.lan mysqld[20219]: 48b83e85,0</p>
<p>Jan 27 14:24:24 eidlot2-database-2.pass.lan mysqld[20219]: 4d71f4d4,0</p>
<p>Jan 27 14:24:24 eidlot2-database-2.pass.lan mysqld[20219]: })</p>
<p>Jan 27 14:24:25 eidlot2-database-2.pass.lan mysqld[20219]: 2020-01-27 14:24:25 0 [Note] WSREP: (55e1b535, 'tcp:<em>0.0.0.0:4567') connection established to 55d53448 tcp:</em>172.16.57.144:4567</p>
<p>Jan 27 14:24:28 eidlot2-database-2.pass.lan mysqld[20219]: 2020-01-27 14:24:28 0 [Note] WSREP: (55e1b535, 'tcp:<em>0.0.0.0:4567') turning message relay requesting off</em></p>
<p>Jan 27 14:24:54 eidlot2-database-2.pass.lan mysqld[20219]: 2020-01-27 14:24:54 0 [Note] WSREP: (55e1b535, 'tcp:<em>0.0.0.0:4567') turning message relay requesting on, nonlive peers: tcp:</em>172.16.57.144:4567</p>
<p>Jan 27 14:24:54 eidlot2-database-2.pass.lan mysqld[20219]: 2020-01-27 14:24:54 0 [ERROR] WSREP: failed to open gcomm backend connection: 110: failed to reach primary view: 110 (Connection timed out)</p>
<p>Jan 27 14:24:54 eidlot2-database-2.pass.lan mysqld[20219]: at gcomm/src/pc.cpp:connect():158</p>
<p>Jan 27 14:24:54 eidlot2-database-2.pass.lan mysqld[20219]: 2020-01-27 14:24:54 0 [ERROR] WSREP: gcs/src/gcs_core.cpp:gcs_core_open():220: Failed to open backend connection: -110 (Connection timed out)</p>
<p>Jan 27 14:24:54 eidlot2-database-2.pass.lan mysqld[20219]: 2020-01-27 14:24:54 0 [ERROR] WSREP: gcs/src/gcs.cpp:gcs_open():1608: Failed to open channel 'galeratest' at 'gcomm:<em>172.16.57.140,172.16.57.141,172.16.57.144': -110 (Connection</em></p>
<p>Jan 27 14:24:54 eidlot2-database-2.pass.lan mysqld[20219]: 2020-01-27 14:24:54 0 [ERROR] WSREP: gcs connect failed: Connection timed out</p>
<p>Jan 27 14:24:54 eidlot2-database-2.pass.lan mysqld[20219]: 2020-01-27 14:24:54 0 [ERROR] WSREP: wsrep::connect(gcomm:<em>172.16.57.140,172.16.57.141,172.16.57.144) failed: 7</em></p>
<p>Jan 27 14:24:54 eidlot2-database-2.pass.lan mysqld[20219]: 2020-01-27 14:24:54 0 [ERROR] Aborting</p>
<p>Jan 27 14:24:55 eidlot2-database-2.pass.lan systemd[1]: mariadb.service: main process exited, code=exited, status=1/FAILURE</p>
<p>Jan 27 14:24:55 eidlot2-database-2.pass.lan systemd[1]: Failed to start <a href="/kb/en/mariadb-1049-release-notes/">MariaDB 10.4.9</a> database server.</p>
<p>-- Subject: Unit mariadb.service has failed</p>
<p>-- Defined-By: systemd</p>
<p>-- Support: <a href="http://lists.freedesktop.org/mailman/listinfo/systemd-devel">http://lists.freedesktop.org/mailman/listinfo/systemd-devel</a>
--
-- Unit mariadb.service has failed.
--
-- The result is failed.</p>
<p>Jan 27 14:24:55 eidlot2-database-2.pass.lan systemd[1]: Unit mariadb.service entered failed state.</p>
<p>Jan 27 14:24:55 eidlot2-database-2.pass.lan systemd[1]: mariadb.service failed.</p>
<p>-------------------------------------------------------</p>
<p>(ip .144 is 3rd node, still down, not yet started, so it is normal it gives a timeout -110).</p>
<p>My question: why does node 2 go to failed state? If he joins node 1 they have the majority. Should I also set safe_to_bootstrap to 1 on 2nd node????</p>
<p>Thanks.</p>

    </div>




        
            <div id="subscribe" class="well well-small hide hidden-print"
                 data-subscribe-url="/kb/en/mariadb-cannot-join-cluster/+subscriptions/add"
                 data-unsubscribe-url="/kb/en/mariadb-cannot-join-cluster/+subscriptions/remove">
            </div>
        

        
        
    
        <div class="simple_section_nav">
            <ul class="nav nav-pills">
                
                
                    <li><a href="/kb/en/the-community/">
                        ↑ The Community ↑
                    </a>
                    </li>
                
                
            </ul>
        </div>
    

        

        
        <h2>Comments</h2>
        
    
    <div id="comments" data-node-id="9537" data-comments-url="/kb/en/mariadb-cannot-join-cluster/+comments"
         data-reply-url="/kb/en/mariadb-cannot-join-cluster/comments/post/">
        Comments loading...
    </div>

        

    </div>


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
                <div id="right_bar" class="col-md-2">
                    
    
        
        <ul class="section_navigation well well-small hidden-xs hidden-sm">
            
                <li class="parent"><a href="/kb/en/the-community/">
                    ↑ The Community ↑
                </a>
                </li>
            
            
                
                    <li>
                        <a href="/kb/en/the-table-have-issue-select-is-empty-but-cant-insert-more-data/">
                            
                            News &amp; Information
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/bug-tracking/">
                            <span class="pull-right not_primary"></span>
                            Bug Tracking
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/contributing-participating/">
                            
                            Contributing &amp; Participating
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/friends-of-mariadb/">
                            
                            Friends of MariaDB
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/legal-documents/">
                            
                            Legal Documents
                        </a>
                    </li>
                
            
        </ul>
    
    

                </div>
            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/services" title="Services">Services</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">About Us</a></h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/download" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2024 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.fed4ec768178.js" charset="utf-8"></script>

</html>