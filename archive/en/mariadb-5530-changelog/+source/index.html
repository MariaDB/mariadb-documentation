<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>MariaDB 5.5.30 Changelog - Source - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.9a0d7dcebefd.css" rel="stylesheet" type="text/css" />

    
        <meta name="robots" content="noindex, nofollow">
    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="MariaDB 5.5.30 Changelog - Source" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/en/mariadb-5530-changelog/+source/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="" />

    <meta name="description" content="" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes autoresize nodes_source jqui" id="nodes_source">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/mariadb-5530-changelog/+source/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2023 MariaDB. All rights reserved.</p>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/mariadb-5530-changelog/+source/" rel="nofollow">Login</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/en/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/en/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/services" title="Services">Services</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="About Us">About Us</a>
    </li>
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/en/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/en/mariadb-server-release-dates/">MariaDB Server Releases</a>
    

    
    » <a class="crumb" href="/kb/en/changelogs/">Changelogs</a>
    

    
    » <a class="crumb" href="/kb/en/changelogs-mariadb-55-series/">Changelogs - MariaDB 5.5 Series</a>
    


    » <a class="node_link crumb" href="/kb/en/mariadb-5530-changelog/">MariaDB 5.5.30 Changelog</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/en/">Home</a></li>
                            
                                
                                    <li><a href="/kb/en/+questions/">Open Questions</a></li>
                                
                                <li><a href="/kb/en/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/en/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/en/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/en/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
                        <div>
    

<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-small" href="/kb/en/mariadb-5530-changelog/">Return to article</a>
    
</div>
</div>

</div>
                    

                    

































                </aside>
            
            
            
                
            
            
            <section id="content" class="limited_width col-md-10 clearfix">
                
                    <h1>MariaDB 5.5.30 Changelog - Source</h1>
                

                



                <div>
                    

    

    
    <div class="revision_info">
        <dl class="table">
            <dt>Revision</dt>
            <dd><a href="/kb/en/mariadb-5530-changelog/+r/25296/">25296</a></dd>
            <dt>User</dt>
            <dd>
<span class="user" id="user-2">
<a href="/kb/user/id/2" title="Daniel Bartholomew">Daniel Bartholomew</a>
</span></dd>
            <dt>Date</dt>
            <dd>

<span class="datetime" title="2022-11-18 02:29">2022-11-18 02:29</span></dd>
        </dl>
    </div>
    


    

    
        
        <textarea id="answer_source" class="creole_source autogrow">&lt;&lt;include slug=&#34;latest-55&#34;&gt;&gt;
[[http://downloads.mariadb.org/mariadb/5.5.30|Download]] | [[mariadb-5530-release-notes|Release Notes]] | **Changelog** |
[[what-is-mariadb-55|Overview of 5.5]]

**Release date:** 12 Mar 2013

For the highlights of this release, see the [[mariadb-5530-release-notes|release notes]].

The revision number links will take you to the revision&#39;s page on Launchpad. On Launchpad you can view more details of the revision and view diffs of the code modified in that revision.

* maria55rev:3690
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Mon 2013-03-11 13:50:17 +0400&lt;&lt;/style&gt;&gt;
** The i386 specific code improving character set conversion on the ASCII range was not enabled on x86_64 machines. Enabling it. Gives up to 18 times conversion performance improvement.
** modified:   sql/sql_string.cc
* maria55rev:3689 [merge]
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Sun 2013-03-10 12:46:56 +0100&lt;&lt;/style&gt;&gt;
** 5.3-&gt;5.5 merge
** maria55rev:2502.567.79
   &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Fri 2013-03-08 00:25:26 -0800&lt;&lt;/style&gt;&gt;
*** Fixed bug mdev-4250. This is a bug in the legacy code. It did not manifest itself because it was masked by other bugs that were fixed by the patches for mdev-4172 and mdev-4177.
** maria55rev:2502.567.78
   &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Wed 2013-03-06 22:22:24 +0100&lt;&lt;/style&gt;&gt;
*** Fix typo (clang issued warning that =+ was used where += was intended)
** maria55rev:2502.567.77
   &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Wed 2013-03-06 21:10:58 +0200&lt;&lt;/style&gt;&gt;
*** MDEV-4241 fix.
*** Field_enum incorrectly inherited decimals() from Field_string. Field_enum should be always integer in numeric context.
* maria55rev:3688
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Fri 2013-03-08 19:09:45 +0100&lt;&lt;/style&gt;&gt;
** MDEV-4186 Test case main.myisampack fails on ppc32 (only)
** fix the declaration to use the correct type for st_handler_check_param::sort_buffer_length. remove redundant casts.
* maria55rev:3687
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Fri 2013-03-08 19:09:15 +0100&lt;&lt;/style&gt;&gt;
** MDEV-4175 auth_socket to build on OpenBSD / Bitrig
* maria55rev:3686 [merge]
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Fri 2013-03-08 19:08:45 +0100&lt;&lt;/style&gt;&gt;
** merge with XtraDB as of Percona-Server-5.5.30-rel30.1
** maria55rev:0.12.61
   &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Fri 2013-03-08 13:13:46 +0100&lt;&lt;/style&gt;&gt;
*** Percona-Server-5.5.30-rel30.1.tar.gz
* maria55rev:3685
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Wed 2013-03-06 09:38:08 +0100&lt;&lt;/style&gt;&gt;
** hack in dependencies to imitate mysql-*.rpm even better
* maria55rev:3684
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Wed 2013-03-06 09:32:13 +0100&lt;&lt;/style&gt;&gt;
** MDEV-4068 rpm scriptlet chown command dangerous
** add &lt;&lt;code&gt;&gt;--mysqld&lt;&lt;/code&gt;&gt; option to my_print_defaults change server-postin script to use that
* maria55rev:3683
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Tue 2013-03-05 17:49:37 +0100&lt;&lt;/style&gt;&gt;
** MDEV-4066 semisync_master + temporary tables causes memory leaks
** close (and auto-drop) temporary tables before rolling back the last transaction in the connection.
* maria55rev:3682
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Wed 2013-03-06 01:45:25 +0400&lt;&lt;/style&gt;&gt;
** TODO-424 geometry query crashes server.         The bug was found by Alyssa Milburn.         If the number of points of a geometry feature read from         binary representation is greater than 0x10000000, then         the (uint32) (num_points * 16) will cut the higher byte,         which leads to various errors.         Fixed by additional check if (num_points &gt; max_n_points).
* maria55rev:3681
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Tue 2013-03-05 20:15:36 +0200&lt;&lt;/style&gt;&gt;
** Fix for assert found by mysql-test-run
* maria55rev:3680
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Tue 2013-03-05 00:53:18 +0200&lt;&lt;/style&gt;&gt;
** Fixed issue with LOCK TABLE + ALTER TABLE ENABLE KEYS + SHOW commands.
* maria55rev:3679
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Mon 2013-03-04 12:49:35 +0100&lt;&lt;/style&gt;&gt;
** Fix wrong install location for DEB supportfiles.
* maria55rev:3678 [merge]
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Sat 2013-03-02 14:04:11 -0800&lt;&lt;/style&gt;&gt;
** Merge
** maria55rev:3672.1.1
   &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Sat 2013-03-02 12:36:32 -0800&lt;&lt;/style&gt;&gt;
*** Fixed bug mdev-4220. This bug is a regression bug. The regression was introduced by the patch for mdev-3851, that tried to weaken the condition when a ref access with an extended key can be converted to an eq_ref access. The patch incorrectly formed this condition. As a result, while improving performance for some queries, the patch caused  worse performance for another queries.
* maria55rev:3677
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Fri 2013-03-01 20:58:19 +0100&lt;&lt;/style&gt;&gt;
** MDEV-4216 : export additional functions  mysql_get_timeout_value(),mysql_get_timeout_value_ms(),  mysql_get_socket() from shared client library. They are documented as part of async API.
** Also, remove  functions mysql_close_slow_part_start() and mysql_close_slow_part_cont() from exports - they are not documented anywhere.
* maria55rev:3676
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Fri 2013-03-01 11:36:15 -0500&lt;&lt;/style&gt;&gt;
** Removed the obsolete instructions from the MySQL 5.1 manual. Instead provide a link to https://kb.askmonty.org/en/compiling-mariadb-from-source/
* maria55rev:3675 [merge]
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Fri 2013-03-01 18:09:06 +0200&lt;&lt;/style&gt;&gt;
** Automatic merge
** maria55rev:3667.1.3
   &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Fri 2013-03-01 18:01:44 +0200&lt;&lt;/style&gt;&gt;
*** Fixed bug MPDEV-628 / LP:989055 - Querying myisam table metadata may corrupt the table.
*** The issue was that there was that SHOW commands could open the table in the store engine, even in cases where it should not be allowed to do that (ie, the storage engines meta data for that table was under big changes).
*** The cases where this should not be allowed are: - ALTER TABLE DISABLE KEYS - ALTER TABLE ENABLE KEYS - REPAIR TABLE - OPTIMIZE TABLE - DROP TABLE
*** This patch adds a new mode, protected_against_usage(). If this is used then the SHOW command will wait until the table is accessable. This is implemented by re-using the already exising &#39;version&#39; flag for TABLE_SHARE. It also added functions to be used to change TABLE_SHARE-&gt;version instead of changing it directly.
** maria55rev:3667.1.2
   &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Thu 2013-02-28 16:47:03 +0200&lt;&lt;/style&gt;&gt;
*** Added test case for bug in replace with replication that existed in MySQL 5.1: Replace with an auto_increment primary key and another unique key didn&#39;t replicate correctly with REPLACE
** maria55rev:3667.1.1
   &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Thu 2013-02-28 08:42:05 +0200&lt;&lt;/style&gt;&gt;
*** Added support for &lt;&lt;code&gt;&gt;--crash-script&lt;&lt;/code&gt;&gt; in mysqld_safe. Trivial cleanup
* maria55rev:3674
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Fri 2013-03-01 14:58:19 +0100&lt;&lt;/style&gt;&gt;
** Fix compile error when building with DBUG, but without DEBUG_SYNC.
* maria55rev:3673 [merge]
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Fri 2013-03-01 11:44:10 +0400&lt;&lt;/style&gt;&gt;
** Merge 5.3-&gt;5.5
** maria55rev:2502.567.76
   &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Fri 2013-03-01 08:23:35 +0400&lt;&lt;/style&gt;&gt;
*** Fix compile error on windows in fix for mdev-4177.
** maria55rev:2502.567.75 [merge]
   &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Thu 2013-02-28 17:09:56 -0800&lt;&lt;/style&gt;&gt;
*** Merge
*** maria55rev:2502.574.1
    &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Thu 2013-02-28 14:35:46 -0800&lt;&lt;/style&gt;&gt;
**** Fixed bug mdev-4209 Do not include BLOB fields into the key to access the temporary table created for a materialized view/derived table. BLOB components are not allowed in keys.
* maria55rev:3672 [merge]
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Thu 2013-02-28 23:56:17 +0100&lt;&lt;/style&gt;&gt;
** merge with XtraDB as of Percona-Server-5.5.29-rel30.0
** maria55rev:0.12.60
   &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Thu 2013-02-28 22:23:45 +0100&lt;&lt;/style&gt;&gt;
*** Percona-Server-5.5.29-rel30.0.tar.gz
* maria55rev:3671 [merge]
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Thu 2013-02-28 22:47:29 +0100&lt;&lt;/style&gt;&gt;
** 5.3-&gt;5.5 merge
** maria55rev:2502.567.74 [merge]
   &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Thu 2013-02-28 21:48:47 +0100&lt;&lt;/style&gt;&gt;
*** 5.2 -&gt; 5.3
*** maria55rev:2502.566.43 [merge]
    &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Thu 2013-02-28 19:00:58 +0100&lt;&lt;/style&gt;&gt;
**** 5.1 -&gt; 5.2 merge
**** maria55rev:2502.565.36
     &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Thu 2013-02-28 11:46:35 +0100&lt;&lt;/style&gt;&gt;
***** a simpler fix for MySQL Bug #12408412: GROUP_CONCAT + ORDER BY + INPUT/OUTPUT SAME USER VARIABLE = CRASH and MySQL Bug#14664077 SEVERE PERFORMANCE DEGRADATION IN SOME CASES WHEN USER VARIABLES ARE USED
**** maria55rev:2502.565.35
     &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Thu 2013-02-28 10:00:07 +0100&lt;&lt;/style&gt;&gt;
***** Fixed BUG#51763 Can&#39;t delete rows from MEMORY table with HASH key
**** maria55rev:2502.565.34 [merge]
     &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Thu 2013-02-28 09:58:39 +0100&lt;&lt;/style&gt;&gt;
***** mysql-5.1 merge
**** maria55rev:2502.565.33
     &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Tue 2013-02-26 21:20:15 +0100&lt;&lt;/style&gt;&gt;
***** MDEV-4203 : fix maria SE repair functions (wrong operator precedence)
**** maria55rev:2502.565.32
     &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Thu 2013-02-21 23:20:26 +0100&lt;&lt;/style&gt;&gt;
***** MDEV-4194: Fix typo (missing comma) in mysys error messages
**** maria55rev:2502.565.31
     &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Thu 2013-02-14 16:27:55 +0400&lt;&lt;/style&gt;&gt;
***** MDEV-4169: mysql-test-run doesn&#39;t strip expected warnings (setrlimit)
**** maria55rev:2502.565.30
     &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Fri 2013-02-01 00:09:36 +0200&lt;&lt;/style&gt;&gt;
***** Fix bug MDEV-641
***** Analysis: Range analysis discoveres that the query can be executed via loose index scan for GROUP BY. Later, GROUP BY analysis fails to confirm that the GROUP operation can be computed via an index because there is no logic to handle duplicate field references in the GROUP clause. As a result the optimizer produces an inconsistent plan. It constructs a temporary table, but on the other hand the group fields are not set to point there.
***** Solution: Make loose scan analysis work in sync with order by analysis. In the case of duplicate columns loose scan will not be applicable. This limitation will be lifted in 10.0 by removing duplicate columns.
** maria55rev:2502.567.73
   &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Thu 2013-02-28 09:55:35 -0800&lt;&lt;/style&gt;&gt;
*** Fixed a compile error for some platform.
** maria55rev:2502.567.72
   &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Sun 2013-02-24 19:16:11 -0800&lt;&lt;/style&gt;&gt;
*** Fixed bug mdev-4177 The function remove_eq_cond removes the parts of a disjunction for which it has been proved that they are always true. In the result of this removal the disjunction may be converted into a  formula without OR that must be merged into the the AND formula that contains the disjunction. The merging of two AND conditions must take into account the multiple equalities that may be part of each of them. These multiple equality must be merged and become part of the and object built as the result of the merge of the AND conditions. Erroneously the function remove_eq_cond lacked the code that  would merge multiple equalities of the merged AND conditions. This could lead to confusing situations when at the same AND  level there were two multiple equalities with common members and the list of equal items contained only some of these  multiple equalities. This, in its turn, could lead to an incorrect work of the function substitute_for_best_equal_field when it tried to optimize ref accesses. This resulted in forming invalid TABLE_REF objects that were used to build look-up keys when materialized subqueries were exploited.
** maria55rev:2502.567.71
   &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Thu 2013-02-21 17:13:12 -0800&lt;&lt;/style&gt;&gt;
*** Fixed bug mdev-4172. This bug in the legacy code could manifest itself in queries with semi-join materialized subqueries. When a subquery is materialized all conditions that are imposed only on the columns belonging to the tables from the subquery  are taken into account.The code responsible for subquery optimizations that employes subquery materialization  makes sure to remove these conditions from the WHERE conditions of the query obtained after it has transformed the original query into a query with a semi-join. If the condition to be removed is an equality condition it could be added to ON expressions and/or conditions from disjunctive branches (parts of OR conditions) in an attempt to generate better access keys to the tables of the query. Such equalities are supposed to be removed later from all the formulas where they have been added to. However, erroneously, this was not done in some cases when an ON expression and/or a disjunctive part of the OR condition could be converted into one multiple equality. As a result some equality predicates over columns belonging to the tables of the materialized subquery remained in the ON condition and/or the a disjunctive  part of the OR condition, and the excuter later, when trying to evaluate them, returned wrong answers as the values of the fields from these equalities were not valid.   This happened because any standalone multiple equality (a multiple equality that are not ANDed with any other predicates) lacked the information about equality predicates inherited from upper levels (in particular, inherited from the WHERE condition). The fix adds a reference to such information to any standalone multiple equality.
** maria55rev:2502.567.70 [merge]
   &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Wed 2013-02-20 19:22:02 -0800&lt;&lt;/style&gt;&gt;
*** Merge.
*** maria55rev:2502.573.1
    &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Wed 2013-02-20 18:01:36 -0800&lt;&lt;/style&gt;&gt;
**** Fixed bug mdev-3913. The wrong result set returned by the left join query  from the bug test case happened due to several inconsistencies  and bugs of the legacy mysql code.
**** The bug test case uses an execution plan that employs a scan of a materialized IN subquery from the WHERE condition. When materializing such an IN- subquery the optimizer injects additional equalities  into the WHERE clause. These equalities express the constraints imposed by the subquery predicate. The injected equality of the query in the  test case happens to belong to the same equality class, and a new equality  imposing a condition on the rows of the materialized subquery is inferred from this class. Simultaneously the multiple equality is added to the ON expression of the LEFT JOIN used in the main query.
**** The inferred equality of the form f1=f2 is taken into account when optimizing the scan of  the rows the temporary table  that is the result of the subquery materialization: only the  values of the field f1 are read from the table into the record  buffer. Meanwhile the inferred equality is removed from the WHERE conditions altogether as a constraint on the fields of the temporary table that has been used when filling this table.  This equality is supposed to be removed from the ON expression when the multiple equalities of the ON expression are converted into an optimal set of equality predicates. It supposed to be removed from the ON expression as an equality inferred from only equalities of the WHERE condition. Yet, it did not happened due to the following bug in the code.
**** Erroneously the code tried to build multiple equality for ON expression twice: the first time, when it called optimize_cond() for the WHERE condition, the second time, when it called this function for the HAVING condition. When executing optimize_con() for the WHERE condition  a reference to the multiple equality of the WHERE condition is set in the multiple equality of the  ON expression. This reference would allow later to convert multiple equalities of the ON expression into equality predicates. However the  the second call of build_equal_items() for the ON expression that happened when optimize_cond() was called for the HAVING condition reset this reference to NULL.
**** This bug fix blocks calling build_equal_items() for ON expressions for the second time. In general, it will be beneficial for many queries as it removes from ON  expressions any equalities that are to be checked for the WHERE condition. The patch also fixes two bugs in the list manipulation operations and a bug in the function   substitute_for_best_equal_field() that resulted in passing wrong reference to the multiple equalities of where conditions when processing multiple equalities  of ON expressions.
**** The code of substitute_for_best_equal_field() and the code the helper function eliminate_item_equal() were also streamlined and cleaned up. Now the conversion of the multiple equalities into an optimal set of equality predicates first produces the sequence of the all equalities processing multiple equalities one by one, and, only after this, it inserts the equalities at the beginning of the other conditions.
**** The multiple changes in the output of EXPLAIN EXTENDED are mainly the result of this streamlining, but in some cases is the result of the removal of unneeded equalities from ON expressions. In some test cases this removal were reflected in the output of EXPLAIN resulted in disappearance of  “Using where” in some rows of the execution plans.
** maria55rev:2502.567.69
   &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Wed 2013-02-13 11:58:16 +0200&lt;&lt;/style&gt;&gt;
*** Fix for MDEV-4140
*** Analysis: Range analysis detects that the subquery is expensive and doesn&#39;t build a range access method. Later, the applicability test for loose scan doesn&#39;t take that into account, and builds a loose scan method without a range scan on the min/max column. As a result loose scan fetches the first key in each group, rather than the first key that satisfies the condition on the min/max column.
*** Solution: Since there is no SEL_ARG tree to be used for the min/max column, it is not possible to use loose scan if the min/max column is compared with an expensive scalar subquery. Make the test for loose scan applicability to be in sync with the range analysis code by testing if the min/max argument is compared with an expensive predicate.
** maria55rev:2502.567.68 [merge]
   &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Tue 2013-02-12 11:49:46 -0800&lt;&lt;/style&gt;&gt;
*** Merge.
*** maria55rev:2502.572.1
    &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Thu 2013-02-07 21:46:02 -0800&lt;&lt;/style&gt;&gt;
**** Fixed bug mdev-3995. This bug happened because the executor tried to use a wrong TABLE REF object when building access keys. It constructed keys from fields of a materialized table from a ref object created to construct keys from the fields of the underlying base table. This could happen only when materialized table was created for a non-correlated IN subquery and only when the materialized table used for lookups. In this case we are guaranteed to be able to construct the keys from the fields of tables that would be outer tables for the tables of the IN subquery. The patch makes sure that no ref objects constructed from fields of materialized lookup tables are to be used.
** maria55rev:2502.567.67
   &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Mon 2013-02-11 10:55:58 +0200&lt;&lt;/style&gt;&gt;
*** MDEV-4123 fix.
*** Missed update_used_tables() call for multi-update values.
** maria55rev:2502.567.66
   &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Mon 2013-02-04 17:35:48 +0200&lt;&lt;/style&gt;&gt;
*** Fix for bug MDEV-765 (LP:825075)
*** Analys: The cause for the wrong result was that the optimizer incorrectly chose min/max loose scan when it is not applicable. The applicability test missed the case when a condition on the MIN/MAX argument was OR-ed with a condition on some other field. In this case, the MIN/MAX condition cannot be used for loose scan.
*** Solution: Extend the test check_group_min_max_predicates() to check that the WHERE clause is of the form: &#34;cond1 AND cond2&#34; where    cond1 - does not use min_max_column at all.   cond2 - is an AND/OR tree with leaves in form &#34;min_max_column $CMP$ const&#34;           or $CMP$ is one of the functions between, is [not] null
* maria55rev:3670
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Thu 2013-02-28 20:19:53 +0100&lt;&lt;/style&gt;&gt;
** revert
**   revid:georgi.kodinov@oracle.com-20120309130449-82e3bs5v3et1x0ef   committer: Georgi Kodinov &lt;Georgi.Kodinov@Oracle.com&gt;   timestamp: Fri 2012-03-09 15:04:49 +0200   message:     Bug #12408412: GROUP_CONCAT + ORDER BY + INPUT/OUTPUT SAME      USER VARIABLE = CRASH     Moved the preparation of the variables that receive the output from      SELECT INTO from execution time (JOIN:execute) to compile time      (JOIN::prepare). This ensures that if the same variable is used in the     SELECT part of SELECT INTO it will be properly marked as non-const     for this query.     Test case added.     Used proper fast iterator.
** a better fix (much smaller and without regressions) is coming from 5.1
* maria55rev:3669 [merge]
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Thu 2013-02-28 18:42:49 +0100&lt;&lt;/style&gt;&gt;
** merge with mysql-5.5.30 minus few incorrect or not applicable changesets
** maria55rev:3077.175.83
   &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Mon 2012-12-17 23:13:46 +0800&lt;&lt;/style&gt;&gt;
*** Approved by Jimmy and Inaam. rb#1576
* maria55rev:3668
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Wed 2013-02-27 10:43:07 +0400&lt;&lt;/style&gt;&gt;
** MDEV-4208: Test rpl.rpl_rotate_purge_deadlock has incorrect preamble
* maria55rev:3667
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Sun 2013-02-24 20:05:26 +0100&lt;&lt;/style&gt;&gt;
** Compilation : fix oqgraph&#39;s system check, in case where boost header aren&#39;t in standard include directory.
* maria55rev:3666
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Thu 2013-02-21 22:59:54 +0100&lt;&lt;/style&gt;&gt;
** MDEV-4190 : Fix system checks for OpenBSD
* maria55rev:3665
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Thu 2013-02-21 21:46:24 +0100&lt;&lt;/style&gt;&gt;
** MDEV-4021 : Enable Ctrl-C handler when reading password, on Windows.
** Prior to this patch, _getch() was used to read password input from console. getch() has a property that it reads Ctrl-C as character with ASCII code 0x03, and disregards Ctrl-C handler for  current process.  The fix is to use ReadConsole() API instead of getch() , after setting console mode to ENABLE_PROCESSED_INPUT - this mode allows current process to handle Ctrl-C events.
* maria55rev:3664
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Wed 2013-02-20 14:52:43 +0100&lt;&lt;/style&gt;&gt;
** MDEV-4181 : ensure mysql client&#39;s beep works on all Windows systems. Use MessageBeep, which employs sound card, rather than system speaker. The secondary benefit is that one can use volume control for this sound (see MySQL&#39;s Bug #17088)
* maria55rev:3663
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Thu 2013-02-21 01:03:45 +0400&lt;&lt;/style&gt;&gt;
** MDEV-3819 missing constraints for spatial column types.     Checks added to return and error when inappropriate     geometry type is stored in a field.
* maria55rev:3662
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Tue 2013-02-19 23:46:52 +0100&lt;&lt;/style&gt;&gt;
** MDEV-4174 - Use kqueue for threadpool implementation on more BSD variants than just FreeBSD  or OSX - i.e NetBSD, OpenBSD, DragonFly, etc.
* maria55rev:3661
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Mon 2013-02-18 20:51:36 +0100&lt;&lt;/style&gt;&gt;
** fix typo
* maria55rev:3660
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Mon 2013-02-18 20:35:11 +0100&lt;&lt;/style&gt;&gt;
** MDEV-4183: Export additional symbols from RPMs , compatibly to distribution RPMs. -Ensure that symbols listed in CLIENT_API_EXTRA are not thrown away by the linker. -Add THR_KEY_mysys to this list, because Fedora18 exports it.
* maria55rev:3659
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Fri 2013-02-08 22:24:06 +0100&lt;&lt;/style&gt;&gt;
** MDEV-4156 Test cases query_cache and query_cache_size_basic fail on 32 bit ppc and s390
* maria55rev:3658
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Fri 2013-02-08 12:59:54 +0100&lt;&lt;/style&gt;&gt;
** make rpm packages to respect CMAKE_INSTALL_PREFIX
* maria55rev:3657
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Mon 2013-02-04 15:43:26 +0100&lt;&lt;/style&gt;&gt;
** MDEV-4127 :  Export additional symbols when building RPM, to enable both recompiling mysqli or odbc from sources in addition to drop-in replacement functionality.
** The case in question is compiling mysqli from sources, that needs client_errors via ER() macro.
** Previously, we exported it as mysql_client_errors (compatibly to Fedora&#39;s style symbol renaming, see MDEV-3842). However, if MariaDB header files are used when compiling mysqli, client_errors needs to be exported with its original name.
* maria55rev:3656
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Sun 2013-02-03 02:53:57 +0400&lt;&lt;/style&gt;&gt;
** MDEV-4028 - Converted rdiff files to uniform MDEV-11 - Modifed tests and result files to use explicit column lists           in INSERT and SELECT statements
* maria55rev:3655
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Wed 2013-01-30 17:25:02 +0100&lt;&lt;/style&gt;&gt;
** MDEV-4113: Assertion (group-&gt;connection_count &gt; 0) fails with Percona server in replication test.
** Assertion happens in replication thread during THD destruction, when thread calls my_sync(), which in turn calls  thd_wait_begin() callback. Connection count can be 0, because the counter was decremented before THD destructor.  This assertion currently reproducible only in Percona server  and not in MariaDB, due to differences in replication code.
** Fixed by moving  code to decrement connection counter after the THD destructor.</textarea>
    


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row row-10">
                <div class="col-md-2 col-xs-4 item">
                    <h5>
                        <a href="/products" title="Products">Products</a>
                    </h5>
                    <ul>
                        <li id="menu-item-7816" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7816"><a href="https://mariadb.com/products/mariadb-platform/">MariaDB Platform</a></li>
                        <li id="menu-item-7815" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7815"><a href="https://mariadb.com/products/skysql/">MariaDB SkySQL</a></li>
                        <li id="menu-item-4172" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4172"><a href="https://mariadb.com/pricing/">Pricing</a></li>
                        <li id="menu-item-4163" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4163"><a href="https://mariadb.com/downloads/">Download MariaDB</a></li>
                    </ul>
                </div>
                <div class="col-md-2 col-xs-4 item">
                    <h5>
                        <a href="/services" title="Services">Services</a>
                    </h5>
                    <ul>
                        <li id="menu-item-4169" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4169"><a href="https://mariadb.com/services/remote-dba/">Remote DBA</a></li>
                        <li id="menu-item-41691" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4169"><a href="https://mariadb.com/services/skydba/">SkyDBA</a></li>
                        <li id="menu-item-4167" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4167"><a href="https://mariadb.com/services/enterprise-architect/">Enterprise Architect</a></li>
                        <li id="menu-item-4170" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4170"><a href="https://mariadb.com/services/technical-support-services/">Technical Support</a></li>
                        <li id="menu-item-4168" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4168"><a href="https://mariadb.com/services/migration-practice/">Migration Practice</a></li>
                        <li id="menu-item-4166" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4166"><a href="https://mariadb.com/services/consulting/">Consulting</a></li>
                        <li id="menu-item-4171" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4171"><a href="https://mariadb.com/services/training/">Training</a></li>
                    </ul>
                </div>
                <div class="col-md-2 col-xs-4 item">
                    <h5>
                        <a href="/resources" title="Resources">Resources</a>
                    </h5>
                    <ul>
                        <li id="menu-item-41751" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4175"><a href="https://mariadb.com/docs/">Documentation</a></li>
                        <li id="menu-item-41752" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4175"><a href="https://mariadb.com/developers/">Developers</a></li>
                        <li id="menu-item-4175" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4175"><a href="https://mariadb.com/resources/blog/">Blog</a></li>
                        <li id="menu-item-5462" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5462"><a href="https://support.mariadb.com">Support</a></li>
                        <li id="menu-item-6004" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6004"><a href="https://mariadb.com/openworks/">OpenWorks</a></li>
                        <li id="menu-item-60041" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6004"><a href="https://mariadb.com/resources/customer-stories/">Customer Stories</a></li>
                        <li id="menu-item-7817" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-7817"><a href="https://mariadb.com/resources/events/">Events</a></li>
                        <li id="menu-item-4177" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4177"><a href="https://mariadb.com/roadshow/">MariaDB Roadshow</a></li>
                    </ul>
                </div>
                <div class="visible-xs visible-sm clear"></div>
                <div class="col-md-2 col-xs-5 item">
                    <h5>
                        <a href="/about-us" title="About MariaDB">About</a>
                    </h5>
                    <ul>
                        <li id="menu-item-4173" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4173"><a href="https://mariadb.com/contact/">Contact</a></li>
                        <li id="menu-item-4161" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4161"><a href="https://mariadb.com/about-us/leadership/">Leadership</a></li>
                        <li id="menu-item-4162" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4162"><a href="https://mariadb.com/about-us/partners/">Partners</a></li>
                        <li id="menu-item-4174" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4174"><a href="https://mariadb.com/newsroom/">Newsroom</a></li>
                        <li id="menu-item-4160" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4160"><a href="https://mariadb.com/about-us/investors/">Investors</a></li>
                        <li id="menu-item-4159" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4159"><a href="https://mariadb.com/about-us/careers/">Careers</a></li>
                        <li id="menu-item-41591" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4159"><a href="https://mariadb.com/trust/">Trust Center</a></li>
                        <li id="menu-item-41592" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4159"><a href="https://mariadb.com/vulnerability-reporting/">Vulnerability Reporting</a></li>
                    </ul>
                </div>
                <div class="col-md-4 col-xs-7 item">
                    <div id="block-footercontact" class="block block-block-content block-block-content22b3af28-0754-44ec-a5c6-4466568f37e3">
                        <h5><a href="/contact" title="Contact">Contact</a></h5>
                    </div>
                    <div class="social">
                        <ul class="list-inline">
                            <li>
                                <a target="_blank" href="https://www.facebook.com/MariaDB.dbms/" title="Facebook">
                                    <i class="fa fa-facebook" aria-hidden="true"></i>
                                </a>
                            </li>
                            <li>
                                <a target="_blank" href="https://twitter.com/mariadb" title="Twitter">
                                    <i class="fa fa-twitter" aria-hidden="true"></i>
                                </a>
                            </li>
                            <li>
                                <a target="_blank" href="https://www.linkedin.com/company/mariadb-corporation?trk=company_logo " title="LinkedIn">
                                    <i class="fa fa-linkedin" aria-hidden="true"></i>
                                </a>
                            </li>
                        </ul>
                    </div>
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <p>Subscribe to our newsletter!</p>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="footer-copyright">
        <div class="container text-center">
            <ul class="list-inline no-margin">
                <li>
                    <a href="/legal" title="Legal">Legal</a>
                </li>
                <li>
                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                </li>
                <li>
                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                </li>
            </ul>
            <p>Copyright &copy; 2023 MariaDB. All rights reserved.</p>
        </div>
    </div>
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.fed4ec768178.js" charset="utf-8"></script>

</html>