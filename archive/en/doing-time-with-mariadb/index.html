<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>Doing Time with MariaDB - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.9a0d7dcebefd.css" rel="stylesheet" type="text/css" />

    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="Doing Time with MariaDB" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/en/doing-time-with-mariadb/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="Tutorial about temporal data types and functions." />

    <meta name="description" content="Tutorial about temporal data types and functions." />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes products nodes_view jqui" id="nodes_view">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/doing-time-with-mariadb/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2023 MariaDB. All rights reserved.</p>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/doing-time-with-mariadb/" rel="nofollow">Login</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/en/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/en/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/services" title="Services">Services</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="About Us">About Us</a>
    </li>
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/en/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/en/training-tutorials/">Training &amp; Tutorials</a>
    

    
    » <a class="crumb" href="/kb/en/beginner-mariadb-articles/">Beginner MariaDB Articles</a>
    


    » <a class="node_link crumb" href="/kb/en/doing-time-with-mariadb/">Doing Time with MariaDB</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/en/">Home</a></li>
                            
                                
                                    <li><a href="/kb/en/+questions/">Open Questions</a></li>
                                
                                <li><a href="/kb/en/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/en/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/en/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/en/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
<div>



<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-blue btn-sm" href="/kb/en/doing-time-with-mariadb/+history" rel="nofollow">History</a>
        
        
        
        <a class="btn btn-block btn-blue btn-sm" href="/kb/en/doing-time-with-mariadb/+source/">Source</a>
        
        <a class="btn btn-block btn-blue btn-sm flag" href="/kb/en/doing-time-with-mariadb/+flag"
                data-flag-url="/kb/en/doing-time-with-mariadb/+flag" rel="nofollow">
                Flag as Spam / Inappropriate</a>
        
        <a class="btn btn-block btn-blue btn-sm" href="/kb/en/doing-time-with-mariadb/+translate/">
                Translate</a>
        

</div>
</div>





<div class="well well-small box node_info"><div>

    <dl>
        <dt>Created</dt>
        <dd>

<span class="datetime" title="2017-08-23 08:53">6 years ago</span></dd>

        <dt>Modified</dt>
        <dd>

<span class="datetime" title="2023-06-27 20:13">2 months ago</span></dd>

        <dt>Type</dt>
        <dd>article</dd>

        <dt>Status</dt>
        <dd>active</dd>

        <dt>License</dt>
        <dd>
            
                <a href="/kb/en/doing-time-with-mariadb/+license/">CC BY-SA / Gnu FDL</a>
            
        </dd>

        
    </dl>

    
    <ul class="rss_feeds">
        <li><a href="/kb/en/doing-time-with-mariadb/+history/feed/">
            History</a>
        </li>
        <li><a href="/kb/en/doing-time-with-mariadb/+comments/feed/">
            Comments</a>
        </li>
    </ul>
    

</div>
</div>





    
    
    

<div class="well well-small box attachments"><div><div class="edit_link pull-right"><a href="/kb/en/doing-time-with-mariadb/+edit/attachments/">Edit</a></div><h5>Attachments</h5></div><div>

        
            <div class="no_data">No attachments exist</div>
        
    
</div>
</div>

    



    
    






</div>


                    

































                </aside>
            
            
            
                
            
            
                
            
            <section id="content" class="limited_width col-md-8 clearfix">
                
                    <h1>Doing Time with MariaDB</h1>
                

                



                <div>
                    
    

    
    
    

    <div class="node creole">
        
        
        


    
    <div class="answer formatted">
        <div class="table_of_contents well well-small">
<h3>Contents</h3>
        <ol class="toc">

            <li class=""><a href="#about-time" title="About Time">About Time</a></li>

            <li class=""><a href="#telling-time" title="Telling Time">Telling Time</a></li>

            <li class=""><a href="#how-to-get-a-date" title="How to get a Date">How to get a Date</a></li>

            <li class=""><a href="#what-is-the-time" title="What is the Time?">What is the Time?</a></li>

            <li class=""><a href="#date-time-combined" title="Date &amp; Time Combined">Date &amp; Time Combined</a></li>

            <li class=""><a href="#fine-time-pieces" title="Fine Time Pieces">Fine Time Pieces</a></li>

            <li class=""><a href="#clean-up-time" title="Clean up Time">Clean up Time</a></li>

            <li class=""><a href="#time-to-end" title="Time to End">Time to End</a>        </ol>
    </ol>
 </ol>
</li>
</div><p>
The recording of date and time in a MariaDB database is a very common requirement. For gathering temporal data, one needs to know which type of columns to use in a table. More importantly is knowing how to record chronological data and how to retrieve it in various formats. Although this is a seemingly basic topic, there are many built-in time functions that can be used for more accurate SQL statements and better formatting of data. In this article we will explore these various aspects of how to do time with MariaDB.</p>
<h4 class="anchored_heading" id="about-time">About Time</h4>
<p>Since date and time are only numeric strings, they can be stored in a regular character column. However, by using temporal data type columns, you can make use of several built-in functions offered by MariaDB. Currently, there are five temporal data types available: <code>DATE</code>, <code>TIME</code>, <code>DATETIME</code>, <code>TIMESTAMP</code>, and <code>YEAR</code>. The <code>DATE</code> column type is for recording the date only and is basically in this format: <code>yyyy-mm-dd</code>. The <code>TIME</code> column type is for recording time in this format: <code>hhh:mm:ss</code>. To record a combination of date and time, there is the <code>DATETIME</code> column type: <code>yyyy-mm-dd hh:mm:ss</code>. The <code>TIMESTAMP</code> column is similar to <code>DATETIME</code>, but it's a little limited in its range of allowable time. It starts at the Unix epoc time (i.e., 1970-01-01) and ends at the end of 2037. Finally, the <code>YEAR</code> data type is for recording only the year in a column: <code>yy</code> or <code>yyyy</code>. For the examples in this article, <code>DATE</code>, <code>TIME</code>, and <code>DATETIME</code> columns will be used. The database that will be referenced is for a fictitious psychiatry practice that keeps track of its patients and billable hours in MariaDB.</p>
<h4 class="anchored_heading" id="telling-time">Telling Time</h4>
<p>To record the current date and time in a MariaDB table, there are a few built-in functions that may be used. First, to record the date there are the functions <a href="/kb/en/current_date/">CURRENT_DATE</a> and <a href="/kb/en/curdate/">CURDATE( )</a> (depending on your style), which both produce the same results (e.g., 2017-08-01). Notice that <a href="/kb/en/curdate/">CURDATE( )</a> requires parentheses and the other does not. With many functions a column name or other variables are placed inside of the parentheses to get a result. With functions like <a href="/kb/en/curdate/">CURDATE( )</a>, there is nothing that may go inside the parenthesis. Since these two functions retrieve the current date in the format of the <code>DATE</code> column type, they can be used to fill in a <code>DATE</code> column when inserting a row:</p>
<pre class="fixed"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">billable_work</span>
<span class="p">(</span><span class="n">doctor_id</span><span class="p">,</span> <span class="n">patient_id</span><span class="p">,</span> <span class="n">session_date</span><span class="p">)</span>
<span class="k">VALUES</span><span class="p">(</span><span class="s1">&#39;1021&#39;</span><span class="p">,</span> <span class="s1">&#39;1256&#39;</span><span class="p">,</span> <span class="k">CURRENT_DATE</span><span class="p">);</span>
</pre><p>The column <em>session_date</em> is a <code>DATE</code> column. Notice that there are no quotes around the date function. If there were it would be taken as a literal value rather than a function. Incidentally, I've skipped discussing how the table was set up. If you're not familiar with how to set up a table, you may want to read the <a href="/kb/en/mariadb-basics/">MariaDB Basics</a> article. To see what was just recorded by the <a href="/kb/en/insert/">INSERT</a> statement above, the following may be entered (results follow):</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">rec_id</span><span class="p">,</span> <span class="n">doctor_id</span><span class="p">,</span> 
<span class="n">patient_id</span><span class="p">,</span> <span class="n">session_date</span>
<span class="k">FROM</span> <span class="n">billable_work</span>
<span class="k">WHERE</span> <span class="n">rec_id</span><span class="o">=</span><span class="n">LAST_INSERT_ID</span><span class="p">();</span>

<span class="o">+</span><span class="c1">--------+-----------+------------+--------------+</span>
<span class="o">|</span> <span class="n">rec_id</span> <span class="o">|</span> <span class="n">doctor_id</span> <span class="o">|</span> <span class="n">patient_id</span> <span class="o">|</span> <span class="n">session_date</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------+-----------+------------+--------------+</span>
<span class="o">|</span>   <span class="mi">2462</span> <span class="o">|</span> <span class="mi">1021</span>      <span class="o">|</span> <span class="mi">1256</span>       <span class="o">|</span> <span class="mi">2017</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">23</span>   <span class="o">|</span>
<span class="o">+</span><span class="c1">--------+-----------+------------+--------------+</span>
</pre><p>Notice in the billable_work table that the primary key column (i.e., <code>rec_id</code>) is an automatically generated and incremental number column (i.e., <code>AUTO_INCREMENT</code>). As long as another record is not created or the user does not exit from the mariadb client or otherwise end the session, the <a href="/kb/en/last_insert_id/">LAST_INSERT_ID( )</a> function will retrieve the value of the <code>rec_id</code> for the last record entered by the user.</p>
<p>To record the time of an appointment for a patient in a time data type column, <a href="/kb/en/current_time/">CURRENT_TIME</a> or <a href="/kb/en/curtime/">CURTIME( )</a> are used in the same way to insert the time. The following is entered to update the row created above to mark the starting time of the appointment<span>&mdash;</span>another <a href="/kb/en/select/">SELECT</a> statement follows with the results:</p>
<pre class="fixed"><span class="k">UPDATE</span> <span class="n">billable_work</span>
<span class="k">SET</span> <span class="n">session_time</span><span class="o">=</span><span class="n">CURTIME</span><span class="p">()</span>
<span class="k">WHERE</span> <span class="n">rec_id</span><span class="o">=</span><span class="s1">&#39;2462&#39;</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="n">patient_id</span><span class="p">,</span> <span class="n">session_date</span><span class="p">,</span> <span class="n">session_time</span>
<span class="k">FROM</span> <span class="n">billable_work</span>
<span class="k">WHERE</span> <span class="n">rec_id</span><span class="o">=</span><span class="s1">&#39;2462&#39;</span><span class="p">;</span>

<span class="o">+</span><span class="c1">------------+--------------+--------------+</span>
<span class="o">|</span> <span class="n">patient_id</span> <span class="o">|</span> <span class="n">session_date</span> <span class="o">|</span> <span class="n">session_time</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+--------------+--------------+</span>
<span class="o">|</span> <span class="mi">1256</span>       <span class="o">|</span> <span class="mi">2017</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">23</span>   <span class="o">|</span> <span class="mi">10</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">23</span>     <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+--------------+--------------+</span>
</pre><p>The column session_time is a time column. To record the date and time together in the same column, <a href="/kb/en/current_timestamp/">CURRENT_TIMESTAMP</a> or <a href="/kb/en/sysdate/">SYSDATE( )</a> or <a href="/kb/en/now/">NOW( )</a> can be used. All three functions produce the same time format: <code>yyyy-mm-dd hh:mm:ss</code>. Therefore, the column's data type would have to be <code>DATETIME</code> to use them.</p>
<h4 class="anchored_heading" id="how-to-get-a-date">How to get a Date</h4>
<p>Although MariaDB records the date in a fairly agreeable format, you may want to present the date when it's retrieved in a different format. Or, you may want to extract part of the date, such as only the day of the month. There are many functions for reformatting and selectively retrieving date and time information. To start off with, let's select a column with a data type of <code>DATE</code> and look at the functions available for retrieving each component. To extract the year, there's the <a href="/kb/en/year/">YEAR( )</a> function. For extracting just the month, the <a href="/kb/en/month/">MONTH( )</a> function could be called upon. And to grab the day of the month, <a href="/kb/en/dayofmonth/">DAYOFMONTH( )</a> will work. Using the record entered above, here's what an SQL statement and its results would look like in which the session date is broken up into separate parts, but in a different order:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="k">MONTH</span><span class="p">(</span><span class="n">session_date</span><span class="p">)</span> <span class="k">AS</span> <span class="k">Month</span><span class="p">,</span>
<span class="n">DAYOFMONTH</span><span class="p">(</span><span class="n">session_date</span><span class="p">)</span> <span class="k">AS</span> <span class="k">Day</span><span class="p">,</span>
<span class="k">YEAR</span><span class="p">(</span><span class="n">session_date</span><span class="p">)</span> <span class="k">AS</span> <span class="k">Year</span>
<span class="k">FROM</span> <span class="n">billable_work</span>
<span class="k">WHERE</span> <span class="n">rec_id</span><span class="o">=</span><span class="s1">&#39;2462&#39;</span><span class="p">;</span>

<span class="o">+</span><span class="c1">-------+------+------+</span>
<span class="o">|</span> <span class="k">Month</span> <span class="o">|</span> <span class="k">Day</span>  <span class="o">|</span> <span class="k">Year</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+------+------+</span>
<span class="o">|</span>     <span class="mi">8</span> <span class="o">|</span>   <span class="mi">23</span> <span class="o">|</span> <span class="mi">2017</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+------+------+</span>
</pre><p>For those who aren't familiar with the keyword <code>AS</code>, it's used to label a column's output and may be referenced within an SQL statement. Splitting up the elements of a date can be useful in analyzing a particular element. If the bookkeeper of the fictitious psychiatry office needed to determine if the day of the week of each session was on a Saturday because the billing rate would be higher (time and a half), the <a href="/kb/en/dayofweek/">DAYOFWEEK( )</a> function could be used. To spice up the examples, let's wrap the date function up in an <a href="/kb/en/if-function/">IF( )</a> function that tests for the day of the week and sets the billing rate accordingly.</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">patient_id</span> <span class="k">AS</span> <span class="s1">&#39;Patient ID&#39;</span><span class="p">,</span>
<span class="n">session_date</span> <span class="k">AS</span> <span class="s1">&#39;Date of Session&#39;</span><span class="p">,</span>
<span class="k">IF</span><span class="p">(</span><span class="n">DAYOFWEEK</span><span class="p">(</span><span class="n">session_date</span><span class="p">)</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">.</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">)</span>
  <span class="k">AS</span> <span class="s1">&#39;Billing Rate&#39;</span> 
<span class="k">FROM</span> <span class="n">billable_work</span>
<span class="k">WHERE</span> <span class="n">rec_id</span><span class="o">=</span><span class="s1">&#39;2462&#39;</span><span class="p">;</span>

<span class="o">+</span><span class="c1">-------------+-----------------+--------------+</span>
<span class="o">|</span> <span class="n">Patient</span> <span class="n">ID</span>  <span class="o">|</span> <span class="nb">Date</span> <span class="k">of</span> <span class="k">Session</span> <span class="o">|</span> <span class="n">Billing</span> <span class="n">Rate</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+-----------------+--------------+</span>
<span class="o">|</span>        <span class="mi">1256</span> <span class="o">|</span>    <span class="mi">2017</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">23</span>   <span class="o">|</span>          <span class="mi">1</span><span class="p">.</span><span class="mi">5</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------+-----------------+--------------+</span>
</pre><p>Since we've slipped in the <a href="/kb/en/if-function/">IF( )</a> function, we should explain it's format. The test condition is listed first within the parentheses. In this case, the test is checking if the session date is the sixth day of the week. Then, what MariaDB should display is given if the test passes, followed by the result if it fails.</p>
<p>Similar to the <a href="/kb/en/dayofweek/">DAYOFWEEK( )</a> function, there's also <a href="/kb/en/weekday/">WEEKDAY( )</a>. The only difference is that for <a href="/kb/en/dayofweek/">DAYOFWEEK( )</a> the first day of the week is Sunday<span>&mdash;</span>with <a href="/kb/en/weekday/">WEEKDAY( )</a> the first day is Monday. Both functions represent the first day with 0 and the last with <code>6</code>. Having <em>Saturday</em> and <em>Sunday</em> symbolized by <code>5</code> and <code>6</code> can be handy in constructing an IF statement that has a test component like "<code>WEEKDAY(<em>session_date</em>) &gt; 4</code>" to determine if a date is a weekend day. This is cleaner than testing for values of <code>0</code> and <code>6</code>.</p>
<p>There is a function for determining the day of the year: <a href="/kb/en/dayofyear/">DAYOFYEAR( )</a>. It's not used often, but it is available if you ever need it. Occasionally, though, knowing the quarter of a year for a date can be useful for financial accounting. Rather than set up a formula in a script to determine the quarter, the <a href="/kb/en/quarter/">QUARTER( )</a> function can do this easily. For instance, suppose an accountant wants a list of a doctor's sessions for each patient for the previous quarter. These three SQL statements could be entered in sequence to achieve the results that follow:</p>
<pre class="fixed"><span class="k">SET</span> <span class="o">@</span><span class="n">LASTQTR</span><span class="p">:</span><span class="o">=</span><span class="k">IF</span><span class="p">((</span><span class="n">QUARTER</span><span class="p">(</span><span class="n">CURDATE</span><span class="p">())</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> 
<span class="mi">4</span><span class="p">,</span> <span class="n">QUARTER</span><span class="p">(</span><span class="n">CURDATE</span><span class="p">())</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>

<span class="k">SET</span> <span class="o">@</span><span class="n">YR</span><span class="p">:</span><span class="o">=</span><span class="k">IF</span><span class="p">(</span><span class="o">@</span><span class="n">LASTQTR</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> 
<span class="k">YEAR</span><span class="p">(</span><span class="n">NOW</span><span class="p">())</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="k">YEAR</span><span class="p">(</span><span class="n">NOW</span><span class="p">()));</span>

<span class="k">SELECT</span> <span class="n">patient_id</span> <span class="k">AS</span> <span class="s1">&#39;Patient ID&#39;</span><span class="p">,</span> 
<span class="k">COUNT</span><span class="p">(</span><span class="n">session_time</span><span class="p">)</span> 
  <span class="k">AS</span> <span class="s1">&#39;Number of Sessions&#39;</span>
<span class="k">FROM</span> <span class="n">billable_work</span>
<span class="k">WHERE</span> <span class="n">QUARTER</span><span class="p">(</span><span class="n">session_date</span><span class="p">)</span> <span class="o">=</span> <span class="o">@</span><span class="n">LASTQTR</span>
  <span class="k">AND</span> <span class="k">YEAR</span><span class="p">(</span><span class="n">session_date</span><span class="p">)</span> <span class="o">=</span> <span class="o">@</span><span class="n">YR</span>
  <span class="k">AND</span> <span class="n">doctor_id</span><span class="o">=</span><span class="s1">&#39;1021&#39;</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">patient_id</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">patient_id</span> <span class="k">LIMIT</span> <span class="mi">5</span><span class="p">;</span>

<span class="o">+</span><span class="c1">------------+--------------------+</span>
<span class="o">|</span> <span class="n">Patient</span> <span class="n">ID</span> <span class="o">|</span> <span class="nb">Number</span> <span class="k">of</span> <span class="n">Sessions</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+--------------------+</span>
<span class="o">|</span> <span class="mi">1104</span>       <span class="o">|</span>                 <span class="mi">10</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">1142</span>       <span class="o">|</span>                  <span class="mi">7</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">1203</span>       <span class="o">|</span>                 <span class="mi">18</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">1244</span>       <span class="o">|</span>                  <span class="mi">6</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">1256</span>       <span class="o">|</span>                 <span class="mi">12</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+--------------------+</span>
</pre><p>This example is the most complicated so far. But it's not too difficult to understand if we pull it apart. The first SQL statement sets up a user variable containing the previous quarter (i.e., 1, 2, 3, or 4). This variable will be needed in the other two statements. The <a href="/kb/en/if-function/">IF( )</a> clause in the first statement checks if the quarter of the current date minus one is zero. It will equal zero when it's run during the first quarter of a year. During a first quarter, of course, the previous quarter is the fourth quarter of the previous year. So, if the equation equals zero, then the variable <code>@LASTQTR</code> is set to <code>4</code>. Otherwise, <code>@LASTQTR</code> is set to the value of the current quarter minus one. The second statement is necessary to ensure that the records for the correct year are selected. So, if <code>@LASTQTR</code> equals four, then <code>@YR</code> needs to equal last year. If not, <code>@YR</code> is set to the current year. With the user variables set to the correct quarter and year, the <a href="/kb/en/select/">SELECT</a> statement can be entered. The <a href="/kb/en/count/">COUNT( )</a> function counts the number of appointments that match the <code>WHERE</code> clause for each patient based on the <a href="/kb/en/select/#group-by">GROUP BY</a> clause. The <code>WHERE</code> clause looks for sessions with a quarter that equals <code>@LASTQTR</code> and a year that equals <code>@YR</code>, as well as the doctor's identification number. In summary, what we end up with is a set of SQL statements that retrieve the desired information regardless of which quarter or year it's entered.</p>
<h4 class="anchored_heading" id="what-is-the-time">What is the Time?</h4>
<p>The last section covered how to retrieve pieces of a date column. Now let's look at how to do the same with a time column. To extract just the hour of a time saved in MariaDB, the <a href="/kb/en/hour/">HOUR( )</a> function could be used. For the minute and second, there's <a href="/kb/en/minute/">MINUTE( )</a> and <a href="/kb/en/second/">SECOND( )</a>. Let's put them all together in one straightforward <a href="/kb/en/select/">SELECT</a> statement:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">HOUR</span><span class="p">(</span><span class="n">session_time</span><span class="p">)</span> <span class="k">AS</span> <span class="n">Hour</span><span class="p">,</span> 
<span class="k">MINUTE</span><span class="p">(</span><span class="n">session_time</span><span class="p">)</span> <span class="k">AS</span> <span class="k">Minute</span><span class="p">,</span> 
<span class="k">SECOND</span><span class="p">(</span><span class="n">session_time</span><span class="p">)</span> <span class="k">AS</span> <span class="k">Second</span>
<span class="k">FROM</span> <span class="n">billable_work</span>
<span class="k">WHERE</span> <span class="n">rec_id</span><span class="o">=</span><span class="s1">&#39;2462&#39;</span><span class="p">;</span>

<span class="o">+</span><span class="c1">------+--------+--------+</span>
<span class="o">|</span> <span class="n">Hour</span> <span class="o">|</span> <span class="k">Minute</span> <span class="o">|</span> <span class="k">Second</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+--------+--------+</span>
<span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span>     <span class="mi">30</span> <span class="o">|</span>     <span class="mi">00</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+--------+--------+</span>
</pre><h4 class="anchored_heading" id="date-time-combined">Date &amp; Time Combined</h4>
<p>All of the examples given so far have involved separate columns for date and time. The <a href="/kb/en/extract/">EXTRACT( )</a> function, however, will allow a particular component to be extracted from a combined column type (i.e., <code>DATETIME</code> or <code>TIMESTAMP</code>). The format is <code>EXTRACT(<em>date_type</em> FROM <em>date_column</em>)</code> where <em>date_type</em> is the component to retrieve and <em>date_column</em> is the name of the column from which to extract data. To extract the year, the <em>date_type</em> would be <code>YEAR</code>; for month, <code>MONTH</code> is used; and for day, there's <code>DAY</code>. To extract time elements, <code>HOUR</code> is used for hour, <code>MINUTE</code> for minute, and <code>SECOND</code> for second. Although that's all pretty simple, let's look at an example. Suppose the table billable_work has a column called <code>appointment</code> (a <code>datetime</code> column) that contains the date and time for which the appointment was scheduled (as opposed to the time it actually started in <code>session_time</code>). To get the hour and minute for a particular date, the following SQL statement will suffice:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">patient_name</span> <span class="k">AS</span> <span class="n">Patient</span><span class="p">,</span> 
<span class="k">EXTRACT</span><span class="p">(</span><span class="n">HOUR</span> <span class="k">FROM</span> <span class="n">appointment</span><span class="p">)</span> <span class="k">AS</span> <span class="n">Hour</span><span class="p">,</span> 
<span class="k">EXTRACT</span><span class="p">(</span><span class="k">MINUTE</span> <span class="k">FROM</span> <span class="n">appointment</span><span class="p">)</span> <span class="k">AS</span> <span class="k">Minute</span>
<span class="k">FROM</span> <span class="n">billable_work</span><span class="p">,</span> <span class="n">patients</span>
<span class="k">WHERE</span> <span class="n">doctor_id</span><span class="o">=</span><span class="s1">&#39;1021&#39;</span> 
  <span class="k">AND</span> <span class="k">EXTRACT</span><span class="p">(</span><span class="k">MONTH</span> <span class="k">FROM</span> <span class="n">appointment</span><span class="p">)</span><span class="o">=</span><span class="s1">&#39;8&#39;</span> 
  <span class="k">AND</span> <span class="k">EXTRACT</span><span class="p">(</span><span class="k">DAY</span> <span class="k">FROM</span> <span class="n">appointment</span><span class="p">)</span><span class="o">=</span><span class="s1">&#39;30&#39;</span>
  <span class="k">AND</span> <span class="n">billable_work</span><span class="p">.</span><span class="n">patient_id</span> <span class="o">=</span>
    <span class="n">patients</span><span class="p">.</span><span class="n">patient_id</span><span class="p">;</span>
</pre><p>This statement calls upon another table (<code>patients</code>) which holds patient information such as their names. It requires a connecting point between the tables (i.e., the <code>patient_id</code> from each table). If you're confused on how to form relationships between tables in a <a href="/kb/en/select/">SELECT</a> statement, you may want to go back and read the <a href="/kb/en/getting-data-from-mariadb/">Getting Data from MariaDB</a> article. The SQL statement above would be used to retrieve the appointments for one doctor for one day, giving results like this:</p>
<pre class="fixed"><span class="o">+</span><span class="c1">-------------------+------+--------+</span>
<span class="o">|</span> <span class="n">Patient</span>           <span class="o">|</span> <span class="n">Hour</span> <span class="o">|</span> <span class="k">Minute</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+------+--------+</span>
<span class="o">|</span> <span class="n">Michael</span> <span class="n">Zabalaoui</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span>     <span class="mi">00</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Jerry</span> <span class="n">Neumeyer</span>    <span class="o">|</span>   <span class="mi">11</span> <span class="o">|</span>     <span class="mi">00</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Richard</span> <span class="n">Stringer</span>  <span class="o">|</span>   <span class="mi">13</span> <span class="o">|</span>     <span class="mi">30</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Janice</span> <span class="n">Sogard</span>     <span class="o">|</span>   <span class="mi">14</span> <span class="o">|</span>     <span class="mi">30</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+------+--------+</span>
</pre><p>In this example, the time elements are separated and they don't include the date. With the <a href="/kb/en/extract/">EXTRACT( )</a> function, however, you can also return combined date and time elements. There is <code>DAY_HOUR</code> for the day and hour; there's <code>DAY_MINUTE</code> for the day, hour, and minute; <code>DAY_SECOND</code> for day, hour, minute, and second; and <code>YEAR_MONTH</code> for year and month. There are also some time only combinations: <code>HOUR_MINUTE</code> for hour and minute; <code>HOUR_SECOND</code> for hour, minute, and second; and <code>MINUTE_SECOND</code> for minute and second. However, there's not a <code>MONTH_DAY</code> to allow the combining of the two extracts in the <code>WHERE</code> clause of the last <a href="/kb/en/select/">SELECT</a> statement above. Nevertheless, we'll modify the example above and use the <code>HOUR_MINUTE</code> date_type to retrieve the hour and minute in one resulting column. It would only require the second and third lines to be deleted and replaced with this:</p>
<pre class="fixed"><span class="p">...</span>
<span class="k">EXTRACT</span><span class="p">(</span><span class="n">HOUR_MINUTE</span> <span class="k">FROM</span> <span class="n">appointment</span><span class="p">)</span> 
  <span class="k">AS</span> <span class="n">Appointment</span> 
<span class="p">...</span>

<span class="o">+</span><span class="c1">-------------------+-------------+</span>
<span class="o">|</span> <span class="n">Patient</span>           <span class="o">|</span> <span class="n">Appointment</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+-------------+</span>
<span class="o">|</span> <span class="n">Michael</span> <span class="n">Zabalaoui</span> <span class="o">|</span>        <span class="mi">1000</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Jerry</span> <span class="n">Neumeyer</span>    <span class="o">|</span>        <span class="mi">1100</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Richard</span> <span class="n">Stringer</span>  <span class="o">|</span>        <span class="mi">1330</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Janice</span> <span class="n">Sogard</span>     <span class="o">|</span>        <span class="mi">1430</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+-------------+</span>
</pre><p>The problem with this output, though, is that the times aren't very pleasing looking. For more natural date and time displays, there are a few simple date formatting functions available and there are the <a href="/kb/en/date_format/">DATE_FORMAT( )</a> and <a href="/kb/en/time_format/">TIME_FORMAT( )</a> functions.</p>
<h4 class="anchored_heading" id="fine-time-pieces">Fine Time Pieces</h4>
<p>The simple functions that we mentioned are used for reformatting the output of days and months. To get the date of patient sessions for August, but in a more wordier format, <a href="/kb/en/monthname/">MONTHNAME( )</a> and <a href="/kb/en/dayname/">DAYNAME( )</a> could be used:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">patient_name</span> <span class="k">AS</span> <span class="n">Patient</span><span class="p">,</span> 
<span class="n">CONCAT</span><span class="p">(</span><span class="n">DAYNAME</span><span class="p">(</span><span class="n">appointment</span><span class="p">),</span> <span class="s1">&#39; - &#39;</span><span class="p">,</span> 
  <span class="n">MONTHNAME</span><span class="p">(</span><span class="n">appointment</span><span class="p">),</span> <span class="s1">&#39; &#39;</span><span class="p">,</span> 
  <span class="n">DAYOFMONTH</span><span class="p">(</span><span class="n">appointment</span><span class="p">),</span> <span class="s1">&#39;, &#39;</span><span class="p">,</span> 
  <span class="k">YEAR</span><span class="p">(</span><span class="n">appointment</span><span class="p">))</span> <span class="k">AS</span> <span class="n">Appointment</span>
<span class="k">FROM</span> <span class="n">billable_work</span><span class="p">,</span> <span class="n">patients</span>
<span class="k">WHERE</span> <span class="n">doctor_id</span><span class="o">=</span><span class="s1">&#39;1021&#39;</span>
  <span class="k">AND</span> <span class="n">billable_work</span><span class="p">.</span><span class="n">patient_id</span> <span class="o">=</span>
    <span class="n">patients</span><span class="p">.</span><span class="n">patient_id</span>
  <span class="k">AND</span> <span class="n">appointment</span><span class="o">&gt;</span><span class="s1">&#39;2017-08-01&#39;</span> 
  <span class="k">AND</span> <span class="n">appointment</span><span class="o">&lt;</span><span class="s1">&#39;2017-08-31&#39;</span> 
<span class="k">LIMIT</span> <span class="mi">1</span><span class="p">;</span>

<span class="o">+</span><span class="c1">-------------------+-----------------------------+</span>
<span class="o">|</span> <span class="n">Patient</span>           <span class="o">|</span> <span class="n">Appointment</span>                 <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+-----------------------------+</span>
<span class="o">|</span> <span class="n">Michael</span> <span class="n">Zabalaoui</span> <span class="o">|</span> <span class="n">Wednesday</span> <span class="o">-</span> <span class="n">August</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">2017</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+-----------------------------+</span>
</pre><p>In this statement the <a href="/kb/en/concat/">CONCAT( )</a> splices together the results of several date functions along with spaces and other characters. The <a href="/kb/en/extract/">EXTRACT( )</a> function was eliminated from the <code>WHERE</code> clause and instead a simple numeric test for sessions in August was given. Although <a href="/kb/en/extract/">EXTRACT( )</a> is fairly straightforward, this all can be accomplished with less typing by using the <a href="/kb/en/date_format/">DATE_FORMAT( )</a> function.</p>
<p>The <a href="/kb/en/date_format/">DATE_FORMAT( )</a> function has over thirty options for formatting the date to your liking. Plus, you can combine the options and add your own separators and other text. The syntax is <code>DATE_FORMAT(date_column, 'options &amp; characters')</code>. As an example, let's reproduce the last SQL statement by using the <a href="/kb/en/date_format/">DATE_FORMAT( )</a> function for formatting the date of the appointment and for scanning for appointments in July only:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">patient_name</span> <span class="k">AS</span> <span class="n">Patient</span><span class="p">,</span> 
<span class="n">DATE_FORMAT</span><span class="p">(</span><span class="n">appointment</span><span class="p">,</span> <span class="s1">&#39;%W - %M %e, %Y&#39;</span><span class="p">)</span> 
  <span class="k">AS</span> <span class="n">Appointment</span>
<span class="k">FROM</span> <span class="n">billable_work</span><span class="p">,</span> <span class="n">patients</span>
<span class="k">WHERE</span> <span class="n">doctor_id</span><span class="o">=</span><span class="s1">&#39;1021&#39;</span>
  <span class="k">AND</span> <span class="n">billable_work</span><span class="p">.</span><span class="n">patient_id</span> <span class="o">=</span> 
    <span class="n">patients</span><span class="p">.</span><span class="n">patient_id</span>
  <span class="k">AND</span> <span class="n">DATE_FORMAT</span><span class="p">(</span><span class="n">appointment</span><span class="p">,</span> <span class="s1">&#39;%c&#39;</span><span class="p">)</span> <span class="o">=</span> <span class="mi">8</span>
<span class="k">LIMIT</span> <span class="mi">1</span><span class="p">;</span>
</pre><p>This produces the exact same output as above, but with a more succinct statement. The option <code>%W</code> gives the name of the day of the week. The option <code>%M</code> provides the month's name. The option <code>%e</code> displays the day of the month (<code>%d</code> would work, but it left-pads single-digit dates with zeros). Finally, <code>%Y</code> is for the four character year. All other elements within the quotes (i.e., the spaces, the dash, and the comma) are literal characters for a nicer display.</p>
<p>With <a href="/kb/en/date_format/">DATE_FORMAT( )</a>, time elements of a field also can be formatted. For instance, suppose we also wanted the hour and minute of the appointment. We would only need to change the second line of the SQL statement above (to save space, patient_name was eliminated):</p>
<pre class="fixed"><span class="k">SELECT</span> 
<span class="n">DATE_FORMAT</span><span class="p">(</span><span class="n">appointment</span><span class="p">,</span> <span class="s1">&#39;%W - %M %e, %Y at %r&#39;</span><span class="p">)</span> 
  <span class="k">AS</span> <span class="n">Appointment</span>
<span class="p">...</span>

<span class="o">+</span><span class="c1">--------------------------------------------+</span>
<span class="o">|</span> <span class="n">Appointment</span>                                <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------------+</span>
<span class="o">|</span> <span class="n">Wednesday</span> <span class="o">-</span> <span class="n">August</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">2017</span> <span class="k">at</span> <span class="mi">02</span><span class="p">:</span><span class="mi">11</span><span class="p">:</span><span class="mi">19</span> <span class="n">AM</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------------+</span>
</pre><p>The word at was added along with the formatting option <code>%r</code> which gives the time with AM or PM at the end.</p>
<p>Although it may be a little confusing at first, once you've learned some of the common formatting options, <a href="/kb/en/date_format/">DATE_FORMAT( )</a> is much easier to use than <a href="/kb/en/extract/">EXTRACT( )</a>. There are many more options to <a href="/kb/en/date_format/">DATE_FORMAT( )</a> that we haven't mentioned. For a complete list of the options available, see the <a href="/kb/en/date_format/">DATE_FORMAT( ) documentation page</a>.</p>
<h4 class="anchored_heading" id="clean-up-time">Clean up Time</h4>
<p>In addition to <a href="/kb/en/date_format/">DATE_FORMAT( )</a>, MariaDB has a comparable built-in function for formating only time: <a href="/kb/en/time_format/">TIME_FORMAT( )</a>. The syntax is the same and uses the same options as <a href="/kb/en/date_format/">DATE_FORMAT( )</a>, except only the time related formatting options apply. As an example, here's an SQL statement that a doctor might use at the beginning of each day to get a list of her appointments for the day:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="n">patient_name</span> <span class="k">AS</span> <span class="n">Patient</span><span class="p">,</span> 
<span class="n">TIME_FORMAT</span><span class="p">(</span><span class="n">appointment</span><span class="p">,</span> <span class="s1">&#39;%l:%i %p&#39;</span><span class="p">)</span> 
  <span class="k">AS</span> <span class="n">Appointment</span>
<span class="k">FROM</span> <span class="n">billable_work</span><span class="p">,</span> <span class="n">patients</span>
<span class="k">WHERE</span> <span class="n">doctor_id</span><span class="o">=</span><span class="s1">&#39;1021&#39;</span>
  <span class="k">AND</span> <span class="n">billable_work</span><span class="p">.</span><span class="n">patient_id</span> <span class="o">=</span> 
    <span class="n">patients</span><span class="p">.</span><span class="n">patient_id</span>
  <span class="k">AND</span> <span class="n">DATE_FORMAT</span><span class="p">(</span><span class="n">appointment</span><span class="p">,</span> <span class="s1">&#39;%Y-%m-%d&#39;</span><span class="p">)</span> <span class="o">=</span>
    <span class="n">CURDATE</span><span class="p">();</span>

<span class="o">+</span><span class="c1">-------------------+-------------+</span>
<span class="o">|</span> <span class="n">Patient</span>           <span class="o">|</span> <span class="n">Appointment</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+-------------+</span>
<span class="o">|</span> <span class="n">Michael</span> <span class="n">Zabalaoui</span> <span class="o">|</span>    <span class="mi">10</span><span class="p">:</span><span class="mi">00</span> <span class="n">AM</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Jerry</span> <span class="n">Neumeyer</span>    <span class="o">|</span>    <span class="mi">11</span><span class="p">:</span><span class="mi">00</span> <span class="n">AM</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Richard</span> <span class="n">Stringer</span>  <span class="o">|</span>    <span class="mi">01</span><span class="p">:</span><span class="mi">30</span> <span class="n">PM</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">Janice</span> <span class="n">Sogard</span>     <span class="o">|</span>    <span class="mi">02</span><span class="p">:</span><span class="mi">30</span> <span class="n">PM</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+-------------+</span>
</pre><p>The option <code>%l</code> provides the hours 01 through 12. The <code>%p</code> at the end indicates (with the AM or PM) whether the time is before or after noon. The <code>%i</code> option gives the minute. The colon and the space are for additional display appeal. Of course, all of this can be done exactly the same way with the <a href="/kb/en/date_format/">DATE_FORMAT( )</a> function. As for the <a href="/kb/en/date_format/">DATE_FORMAT( )</a> component in the WHERE clause here, the date is formatted exactly as it will be with <a href="/kb/en/curdate/">CURDATE( )</a> (i.e., 2017-08-30) so that they may be compared properly.</p>
<h4 class="anchored_heading" id="time-to-end">Time to End</h4>
<p>Many developers use PHP, Perl, or some other scripting language with MariaDB. Sometimes developers will solve retrieval problems with longer scripts rather than learn precisely how to extract temporal data with MariaDB. As you can see in several of the examples here (particularly the one using the <a href="/kb/en/quarter/">QUARTER( )</a> function), you can accomplish a great deal within MariaDB. When faced with a potentially complicated SQL statement, try creating it in the mariadb client first. Once you get what you need (under various conditions) and in the format desired, then copy the statement into your script. This practice can greatly help you improve your MariaDB statements and scripting code.</p>

    </div>


        
            <div id="subscribe" class="well well-small hide hidden-print"
                 data-subscribe-url="/kb/en/doing-time-with-mariadb/+subscriptions/add"
                 data-unsubscribe-url="/kb/en/doing-time-with-mariadb/+subscriptions/remove">
            </div>
        

        
        
    
        <div class="simple_section_nav">
            <ul class="nav nav-pills">
                
                    <li><a href="/kb/en/changing-times-in-mariadb/">
                        ← Changing Times in MariaDB
                    </a>
                    </li>
                
                
                    <li><a href="/kb/en/beginner-mariadb-articles/">
                        ↑ Beginner MariaDB Articles ↑
                    </a>
                    </li>
                
                
                    <li class="pull-right"><a href="/kb/en/importing-data-into-mariadb/">
                        Importing Data into MariaDB →
                    </a>
                    </li>
                
            </ul>
        </div>
    

        

        
        <h2>Comments</h2>
        
    
    <div id="comments" data-node-id="6879" data-comments-url="/kb/en/doing-time-with-mariadb/+comments"
         data-reply-url="/kb/en/doing-time-with-mariadb/comments/post/">
        Comments loading...
    </div>

        

    </div>


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
                <div id="right_bar" class="col-md-2">
                    
    
        
        <ul class="section_navigation well well-small hidden-xs hidden-sm">
            
                <li class="parent"><a href="/kb/en/beginner-mariadb-articles/">
                    ↑ Beginner MariaDB Articles ↑
                </a>
                </li>
            
            
                
                    <li>
                        <a href="/kb/en/a-mariadb-primer/">
                            
                            A MariaDB Primer
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/mariadb-basics/">
                            
                            MariaDB Basics
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/getting-data-from-mariadb/">
                            
                            Getting Data from MariaDB
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/adding-and-changing-data-in-mariadb/">
                            
                            Adding and Changing Data in MariaDB
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/altering-tables-in-mariadb/">
                            
                            Altering Tables in MariaDB
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/changing-times-in-mariadb/">
                            
                            Changing Times in MariaDB
                        </a>
                    </li>
                
            
                
                    <li class="active">
                        <span>Doing Time with MariaDB</span>
                        
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/importing-data-into-mariadb/">
                            
                            Importing Data into MariaDB
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/making-backups-with-mariadb-dump/">
                            
                            Making Backups with mariadb-dump
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/mariadb-string-functions/">
                            
                            MariaDB String Functions
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/restoring-data-from-dump-files/">
                            
                            Restoring Data from Dump Files
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/basic-sql-statements/">
                            
                            Basic SQL Statements
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/connecting-to-mariadb/">
                            
                            Connecting to MariaDB
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/external-tutorials/">
                            
                            External Tutorials
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/useful-mariadb-queries/">
                            
                            Useful MariaDB Queries
                        </a>
                    </li>
                
            
        </ul>
    
    

                </div>
            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row row-10">
                <div class="col-md-2 col-xs-4 item">
                    <h5>
                        <a href="/products" title="Products">Products</a>
                    </h5>
                    <ul>
                        <li id="menu-item-7816" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7816"><a href="https://mariadb.com/products/mariadb-platform/">MariaDB Platform</a></li>
                        <li id="menu-item-7815" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7815"><a href="https://mariadb.com/products/skysql/">MariaDB SkySQL</a></li>
                        <li id="menu-item-4172" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4172"><a href="https://mariadb.com/pricing/">Pricing</a></li>
                        <li id="menu-item-4163" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4163"><a href="https://mariadb.com/downloads/">Download MariaDB</a></li>
                    </ul>
                </div>
                <div class="col-md-2 col-xs-4 item">
                    <h5>
                        <a href="/services" title="Services">Services</a>
                    </h5>
                    <ul>
                        <li id="menu-item-4169" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4169"><a href="https://mariadb.com/services/remote-dba/">Remote DBA</a></li>
                        <li id="menu-item-41691" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4169"><a href="https://mariadb.com/services/skydba/">SkyDBA</a></li>
                        <li id="menu-item-4167" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4167"><a href="https://mariadb.com/services/enterprise-architect/">Enterprise Architect</a></li>
                        <li id="menu-item-4170" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4170"><a href="https://mariadb.com/services/technical-support-services/">Technical Support</a></li>
                        <li id="menu-item-4168" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4168"><a href="https://mariadb.com/services/migration-practice/">Migration Practice</a></li>
                        <li id="menu-item-4166" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4166"><a href="https://mariadb.com/services/consulting/">Consulting</a></li>
                        <li id="menu-item-4171" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4171"><a href="https://mariadb.com/services/training/">Training</a></li>
                    </ul>
                </div>
                <div class="col-md-2 col-xs-4 item">
                    <h5>
                        <a href="/resources" title="Resources">Resources</a>
                    </h5>
                    <ul>
                        <li id="menu-item-41751" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4175"><a href="https://mariadb.com/docs/">Documentation</a></li>
                        <li id="menu-item-41752" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4175"><a href="https://mariadb.com/developers/">Developers</a></li>
                        <li id="menu-item-4175" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4175"><a href="https://mariadb.com/resources/blog/">Blog</a></li>
                        <li id="menu-item-5462" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5462"><a href="https://support.mariadb.com">Support</a></li>
                        <li id="menu-item-6004" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6004"><a href="https://mariadb.com/openworks/">OpenWorks</a></li>
                        <li id="menu-item-60041" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6004"><a href="https://mariadb.com/resources/customer-stories/">Customer Stories</a></li>
                        <li id="menu-item-7817" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-7817"><a href="https://mariadb.com/resources/events/">Events</a></li>
                        <li id="menu-item-4177" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4177"><a href="https://mariadb.com/roadshow/">MariaDB Roadshow</a></li>
                    </ul>
                </div>
                <div class="visible-xs visible-sm clear"></div>
                <div class="col-md-2 col-xs-5 item">
                    <h5>
                        <a href="/about-us" title="About MariaDB">About</a>
                    </h5>
                    <ul>
                        <li id="menu-item-4173" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4173"><a href="https://mariadb.com/contact/">Contact</a></li>
                        <li id="menu-item-4161" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4161"><a href="https://mariadb.com/about-us/leadership/">Leadership</a></li>
                        <li id="menu-item-4162" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4162"><a href="https://mariadb.com/about-us/partners/">Partners</a></li>
                        <li id="menu-item-4174" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4174"><a href="https://mariadb.com/newsroom/">Newsroom</a></li>
                        <li id="menu-item-4160" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4160"><a href="https://mariadb.com/about-us/investors/">Investors</a></li>
                        <li id="menu-item-4159" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4159"><a href="https://mariadb.com/about-us/careers/">Careers</a></li>
                        <li id="menu-item-41591" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4159"><a href="https://mariadb.com/trust/">Trust Center</a></li>
                        <li id="menu-item-41592" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4159"><a href="https://mariadb.com/vulnerability-reporting/">Vulnerability Reporting</a></li>
                    </ul>
                </div>
                <div class="col-md-4 col-xs-7 item">
                    <div id="block-footercontact" class="block block-block-content block-block-content22b3af28-0754-44ec-a5c6-4466568f37e3">
                        <h5><a href="/contact" title="Contact">Contact</a></h5>
                    </div>
                    <div class="social">
                        <ul class="list-inline">
                            <li>
                                <a target="_blank" href="https://www.facebook.com/MariaDB.dbms/" title="Facebook">
                                    <i class="fa fa-facebook" aria-hidden="true"></i>
                                </a>
                            </li>
                            <li>
                                <a target="_blank" href="https://twitter.com/mariadb" title="Twitter">
                                    <i class="fa fa-twitter" aria-hidden="true"></i>
                                </a>
                            </li>
                            <li>
                                <a target="_blank" href="https://www.linkedin.com/company/mariadb-corporation?trk=company_logo " title="LinkedIn">
                                    <i class="fa fa-linkedin" aria-hidden="true"></i>
                                </a>
                            </li>
                        </ul>
                    </div>
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <p>Subscribe to our newsletter!</p>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="footer-copyright">
        <div class="container text-center">
            <ul class="list-inline no-margin">
                <li>
                    <a href="/legal" title="Legal">Legal</a>
                </li>
                <li>
                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                </li>
                <li>
                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                </li>
            </ul>
            <p>Copyright &copy; 2023 MariaDB. All rights reserved.</p>
        </div>
    </div>
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.fed4ec768178.js" charset="utf-8"></script>

</html>