<?xml version="1.0" encoding="utf-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>MariaDB Knowledge Base Comments for: High CPU usage when TDE is enabled</title><link>https://mariadb.com/kb/en/high-cpu-usage-when-tde-is-enabled/+comments/feed/</link><description></description><atom:link href="https://mariadb.com/kb/en/high-cpu-usage-when-tde-is-enabled/+comments/feed/" rel="self"></atom:link><language>en-us</language><lastBuildDate>Mon, 07 Oct 2024 11:51:08 +0000</lastBuildDate><item><title>Re: High CPU usage when TDE is enabled</title><link>https://mariadb.com/kb/en/high-cpu-usage-when-tde-is-enabled/+comments/5711</link><description>&lt;p&gt;Hi Daniel,&lt;/p&gt;
&lt;p&gt;I really couldn't determine the what is a normal amount of IOPS, from my findings the InnoDB buffer pool seems to be in a normal state, the disk usage isn't that high but there is a lot of writing while the application has almost no users on it. All these writings are being made by the application in a 'idle' state. &lt;/p&gt;
&lt;p&gt;I've attached an updated on the changes that I've made, and also attached all the screenshots that you might find useful. &lt;/p&gt;
&lt;p&gt;Really appreciate your help :)&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Jovan Radoja</dc:creator><guid>https://mariadb.com/kb/en/high-cpu-usage-when-tde-is-enabled/+comments/5711</guid></item><item><title>Re: High CPU usage when TDE is enabled</title><link>https://mariadb.com/kb/en/high-cpu-usage-when-tde-is-enabled/+comments/5710</link><description>&lt;p&gt;Hello Ian,&lt;/p&gt;
&lt;p&gt;I've tried setting it to 0 but nothing really changed. Thanks for the suggestion.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Jovan Radoja</dc:creator><guid>https://mariadb.com/kb/en/high-cpu-usage-when-tde-is-enabled/+comments/5710</guid></item><item><title>Re: High CPU usage when TDE is enabled</title><link>https://mariadb.com/kb/en/high-cpu-usage-when-tde-is-enabled/+comments/5709</link><description>&lt;p&gt;&lt;a href="/kb/en/innodb-system-variables/#innodb_encryption_rotation_iops"&gt;innodb_encryption_rotation_iops&lt;/a&gt; is the number of IOPs of the storage allocated to the encryption threads. If you don't have 2000 IOPs available then this can cause excess CPU use.&lt;/p&gt;
&lt;p&gt;Also if you don't have sufficient innodb_buffer_pool_size for your active working set of data then a lot of CPU will be used decrypting the recently read data from disk.&lt;/p&gt;
&lt;p&gt;Look at the &lt;strong&gt;SHOW GLOBAL STATUS LIKE 'innodb_buffer_pool%'&lt;/strong&gt; status variables and others related to encryption and also calculate the number of IOPs available on your storage.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Daniel Black</dc:creator><guid>https://mariadb.com/kb/en/high-cpu-usage-when-tde-is-enabled/+comments/5709</guid></item><item><title>Re: High CPU usage when TDE is enabled</title><link>https://mariadb.com/kb/en/high-cpu-usage-when-tde-is-enabled/+comments/5706</link><description>&lt;p&gt;Does the suggestion to &lt;a href="/kb/en/innodb-encryption-keys/#disabling-background-key-rotation-operations"&gt;reduce the background key rotation operations to zero&lt;/a&gt; help?&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Ian Gilfillan</dc:creator><guid>https://mariadb.com/kb/en/high-cpu-usage-when-tde-is-enabled/+comments/5706</guid></item></channel></rss>