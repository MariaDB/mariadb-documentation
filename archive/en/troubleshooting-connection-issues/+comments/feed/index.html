<?xml version="1.0" encoding="utf-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>MariaDB Knowledge Base Comments for: Troubleshooting Connection Issues</title><link>https://mariadb.com/kb/en/troubleshooting-connection-issues/+comments/feed/</link><description></description><atom:link href="https://mariadb.com/kb/en/troubleshooting-connection-issues/+comments/feed/" rel="self"></atom:link><language>en-us</language><lastBuildDate>Tue, 26 Mar 2024 17:10:19 +0000</lastBuildDate><item><title>Re: Troubleshooting Connection Issues</title><link>https://mariadb.com/kb/en/troubleshooting-connection-issues/+comments/5813</link><description>&lt;p&gt;You could edit /etc/mysql/debian-start to not run the function "upgrade_system_tables_if_necessary" (or edit the packages mysql.service unit file in /etc/systemd/system/ to not run the script by removing the line "ExecStartPost=/etc/mysql/debian-start" but this will stop two other checks from running as well...)&lt;/p&gt;
&lt;p&gt;It means on upgrading the Mysql service to a newer version you may need to manually run an upgrade command to get functions etc working again. Not sure what else it may impact but I assume thats it.
Its like this in the upstream mariaDB supplied .deb package&lt;/p&gt;
&lt;p&gt;Annoying that it looks like an error on every start of the database but I think I will just leave it how it is&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Stephen Fletcher</dc:creator><guid>https://mariadb.com/kb/en/troubleshooting-connection-issues/+comments/5813</guid></item><item><title>Re: Troubleshooting Connection Issues</title><link>https://mariadb.com/kb/en/troubleshooting-connection-issues/+comments/5674</link><description>&lt;p&gt;Sorry, I can't figure out where to post this question and this seems as good as anywhere...&lt;/p&gt;
&lt;p&gt;There appears to be an error with MariaDB when installed on Ubuntu 18.04 and 20.04. It does not happen with AlmaLinux. With a fresh install of either and apt install mariadb, if you run systemctl status mariadb, it says the following:&lt;/p&gt;
&lt;pre class="fixed"&gt;Mar 17 17:41:13 guest /etc/mysql/debian-start[45645]: Upgrading MySQL tables if necessary. 
Mar 17 17:41:13 guest /etc/mysql/debian-start[45649]: Looking for 'mysql' as: /usr/bin/mysql 
Mar 17 17:41:13 guest /etc/mysql/debian-start[45649]: Looking for 'mysqlcheck' as: /usr/bin/mysqlcheck 
Mar 17 17:41:13 guest /etc/mysql/debian-start[45649]: This installation of MariaDB is already upgraded to 10.3.34-MariaDB. 
Mar 17 17:41:13 guest /etc/mysql/debian-start[45649]: There is no need to run mysql_upgrade again for 10.3.34-MariaDB. 
Mar 17 17:41:13 guest /etc/mysql/debian-start[45649]: You can use --force if you still want to run mysql_upgrade
&lt;/pre&gt;&lt;p&gt;This implies that it is trying to run mysql_upgrade when it shouldn't be. This issue is further compounded when I install CyberPanel, which seems to change something such that it tries to run mysql_upgrade without the root password. That results in these messages&lt;/p&gt;
&lt;pre class="fixed"&gt;Mar 17 15:47:53 intel-high-freq systemd[1]: Starting MariaDB 10.3.34 database server... 
Mar 17 15:47:54 intel-high-freq mysqld[1037]: 2022-03-17 15:47:54 0 [Note] /usr/sbin/mysqld (mysqld 10.3.34-MariaDB-0ubuntu0.20.04.1) starting as process 1037 ... 
Mar 17 15:47:55 intel-high-freq systemd[1]: Started MariaDB 10.3.34 database server. 
Mar 17 15:47:55 intel-high-freq /etc/mysql/debian-start[1213]: Upgrading MySQL tables if necessary. 
Mar 17 15:47:55 intel-high-freq /etc/mysql/debian-start[1221]: Looking for 'mysql' as: /usr/bin/mysql 
Mar 17 15:47:55 intel-high-freq /etc/mysql/debian-start[1221]: Reading datadir from the MariaDB server failed. Got the following error when executing the 'mysql' command line client 
Mar 17 15:47:55 intel-high-freq /etc/mysql/debian-start[1221]: ERROR 1045 (28000): Access denied for user 'root'@'localhost' (using password: NO) 
Mar 17 15:47:55 intel-high-freq /etc/mysql/debian-start[1221]: FATAL ERROR: Upgrade failed 
Mar 17 15:47:55 intel-high-freq /etc/mysql/debian-start[1263]: Checking for insecure root accounts. 
Mar 17 15:47:55 intel-high-freq debian-start[1268]: ERROR 1045 (28000): Access denied for user 'root'@'localhost' (using password: NO)
&lt;/pre&gt;&lt;p&gt;Websites work on the server, so MariaDB is working fine. So perhaps this is just an issue with systemctl status mariadb...&lt;/p&gt;
&lt;p&gt;You can see more about all of this in the CyberPanel forum here: &lt;a href="https://community.cyberpanel.net/t/mariadb-errors-on-ubuntu-20-04-only-when-using-cyberpanel/20345"&gt;https://community.cyberpanel.net/t/mariadb-errors-on-ubuntu-20-04-only-when-using-cyberpanel/20345&lt;/a&gt;&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Nick Chomey</dc:creator><guid>https://mariadb.com/kb/en/troubleshooting-connection-issues/+comments/5674</guid></item><item><title>Re: Troubleshooting Connection Issues</title><link>https://mariadb.com/kb/en/troubleshooting-connection-issues/+comments/4842</link><description>&lt;p&gt;I m using &lt;a href="/kb/en/mariadb-1055-release-notes/"&gt;mariadb 10.5.5&lt;/a&gt; on freebsd 12.1 with NGINX 1.19.3 and PHP7.4
I m trying to install a codeignitor application and i get an error "No such file or directory"&lt;/p&gt;
&lt;p&gt;I tried to install Wordpress Application and it gives me "error establishing connection".&lt;/p&gt;
&lt;p&gt;how to check mariadb connection on freebsd&lt;/p&gt;
&lt;p&gt;I cannot use the Pipe keys on the server&lt;/p&gt;
&lt;p&gt;Please assist&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Abel B</dc:creator><guid>https://mariadb.com/kb/en/troubleshooting-connection-issues/+comments/4842</guid></item><item><title>Database error log shows "*****" instead of username on connection error</title><link>https://mariadb.com/kb/en/troubleshooting-connection-issues/+comments/4511</link><description>&lt;p&gt;Hi,&lt;/p&gt;
&lt;p&gt;I get a very strange message for a failed connection to a &lt;a href="/kb/en/mariadb-10231-release-notes/"&gt;MariaDB 10.2.31&lt;/a&gt; database.
The connection comes from an application (Manticore) using libmysqlclient.so.18&lt;/p&gt;
&lt;p&gt;This is the error message:
2020-04-27 15:54:24 139657574090496 [Warning] Access denied for user '&lt;strong&gt;*&lt;/strong&gt;&lt;strong&gt;*&lt;/strong&gt;'@'localhost' (using password: YES)&lt;/p&gt;
&lt;p&gt;I tried with using the same credentials from a terminal with mysql and all is good.&lt;/p&gt;
&lt;p&gt;I tried using a wrong password from a terminal and the error message shows the user name correctly.&lt;/p&gt;
&lt;p&gt;Now the question is: what would trigger the error reporting to displaying "&lt;strong&gt;*&lt;/strong&gt;*" instead of the user name ?&lt;/p&gt;
&lt;p&gt;Or is it exactly this string that is passed on the connection DSN by the client ?&lt;/p&gt;
&lt;p&gt;Is there any way to debug this ?&lt;/p&gt;
&lt;p&gt;Thanks
Roberto&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Roberto Lattuada</dc:creator><guid>https://mariadb.com/kb/en/troubleshooting-connection-issues/+comments/4511</guid></item><item><title>Re: Troubleshooting Connection Issues</title><link>https://mariadb.com/kb/en/troubleshooting-connection-issues/+comments/1865</link><description>&lt;p&gt;For debugging purposes, try connect directly with just the client first. If that works, you can try get it working in PHP. If not, it's a connection issue. Also note that mysql_connect has been deprecated since PHP 5.5.0, so really shouldn't be used anymore.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Ian Gilfillan</dc:creator><guid>https://mariadb.com/kb/en/troubleshooting-connection-issues/+comments/1865</guid></item><item><title>Re: Troubleshooting Connection Issues</title><link>https://mariadb.com/kb/en/troubleshooting-connection-issues/+comments/1864</link><description>&lt;p&gt;Mmm, I'm having trouble pulling the IPv6 addresses as a resource using mysql_connect() - is that a php (ver 5.6.16) problem or DB (&lt;a href="/kb/en/mariadb-5544-release-notes/"&gt;mariaDB 5.5.44&lt;/a&gt;) problem? The error I get is:&lt;/p&gt;
&lt;p&gt;mysql_connect(): Unknown MySQL server host&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Wei Yang </dc:creator><guid>https://mariadb.com/kb/en/troubleshooting-connection-issues/+comments/1864</guid></item><item><title>Re: Troubleshooting Connection Issues</title><link>https://mariadb.com/kb/en/troubleshooting-connection-issues/+comments/1862</link><description>&lt;p&gt;Also see &lt;a href="/kb/en/does-mariadb-support-ipv6/"&gt;Does MariaDB support IPV6?&lt;/a&gt;&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Ian Gilfillan</dc:creator><guid>https://mariadb.com/kb/en/troubleshooting-connection-issues/+comments/1862</guid></item><item><title>Re: Troubleshooting Connection Issues</title><link>https://mariadb.com/kb/en/troubleshooting-connection-issues/+comments/1860</link><description>&lt;p&gt;Yes, it does.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Ian Gilfillan</dc:creator><guid>https://mariadb.com/kb/en/troubleshooting-connection-issues/+comments/1860</guid></item><item><title>Re: Troubleshooting Connection Issues</title><link>https://mariadb.com/kb/en/troubleshooting-connection-issues/+comments/1859</link><description>&lt;p&gt;Does &lt;a href="/kb/en/what-is-mariadb-55/"&gt;MariaDB 5.5&lt;/a&gt;.X allow IPv6 connections? I can't seem to find this information anywhere.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Wei Yang </dc:creator><guid>https://mariadb.com/kb/en/troubleshooting-connection-issues/+comments/1859</guid></item></channel></rss>