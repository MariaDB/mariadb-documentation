<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>Troubleshooting Connection Issues - Source - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.f7633538c846.css" rel="stylesheet" type="text/css" />

    
        <meta name="robots" content="noindex, nofollow">
    

    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="Troubleshooting Connection Issues - Source" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/en/troubleshooting-connection-issues/+source/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="" />

    <meta name="description" content="" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes autoresize nodes_source jqui" id="nodes_source">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/troubleshooting-connection-issues/+source/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2025 MariaDB. All rights reserved.</p>
    </div>
</div>
<div class="violator-wrap d-none" id="top_violator">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12">
                <div class="violator-outer">
                    <div class="violator-inner">
                        <div class="row">
                            <div class="col-xs-12 col-sm-9 col-lg-7 col-lg-offset-2" id="top_violator_content">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="content-link" target="_blank" rel="nofollow noreferrer">
                                    <span>The Ultimate Guide to High Availability with MariaDB</span>
                                </a>
                            </div>
                            <div class="col-xs-12 col-sm-3" id="top_violator_cta">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="btn btn-mariadb" target="_blank" rel="nofollow noreferrer">Download Now</a>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn btn-link close-btn">
                        <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" width="15px" height="15px"><path d="M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/troubleshooting-connection-issues/+source/" rel="nofollow">Login</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/en/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/en/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/solutions" title="Solutions">Solutions</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="Company">Company</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/en/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/en/training-tutorials/">Training &amp; Tutorials</a>
    

    
    » <a class="crumb" href="/kb/en/basic-mariadb-articles/">Basic MariaDB Articles</a>
    


    » <a class="node_link crumb" href="/kb/en/troubleshooting-connection-issues/">Troubleshooting Connection Issues</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/en/">Home</a></li>
                            
                                
                                    <li><a href="/kb/en/+questions/">Open Questions</a></li>
                                
                                <li><a href="/kb/en/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/en/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/en/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/en/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
                        <div>
    

<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-small" href="/kb/en/troubleshooting-connection-issues/">Return to article</a>
    
</div>
</div>

</div>
                    

                    

































                </aside>
            
            
            
                
            
            
            <section id="content" class="limited_width col-md-10 clearfix">
                
                    <h1>Troubleshooting Connection Issues - Source</h1>
                

                



                <div>
                    

    

    
    <div class="revision_info">
        <dl class="table">
            <dt>Revision</dt>
            <dd><a href="/kb/en/troubleshooting-connection-issues/+r/141214/">141214</a></dd>
            <dt>User</dt>
            <dd>
<span class="user" id="user-1368">
<a href="/kb/user/id/1368" title="Ian Gilfillan">Ian Gilfillan</a>
</span></dd>
            <dt>Date</dt>
            <dd>

<span class="datetime" title="2024-07-08 11:59">2024-07-08 11:59</span></dd>
        </dl>
    </div>
    


    

    
        
        <textarea id="answer_source" class="creole_source autogrow">&lt;&lt;toc&gt;&gt;
\\\\\\
If you are completely new to MariaDB and relational databases, you may want to start with the [[a-mariadb-primer|MariaDB Primer]]. Also, make sure you understand the connection parameters discussed in the [[connecting-to-mariadb|Connecting to MariaDB]] article.
\\\\\\
There are a number of common problems that can occur when connecting to MariaDB.
\\\\\\
=== Server Not Running in Specified Location
If the error you get is something like:
&lt;&lt;code&gt;&gt;
mariadb -uname -p -uname -p
ERROR 2002 (HY000): Can&#39;t connect to local MySQL server through 
  socket &#39;/var/run/mysqld/mysqld.sock&#39; (2 &#34;No such file or directory&#34;)
&lt;&lt;/code&gt;&gt;
or
&lt;&lt;code&gt;&gt;
mariadb -uname -p --port=3307 --protocol=tcp
ERROR 2003 (HY000): Can&#39;t connect to MySQL server on  &#39;localhost&#39; 
  (111 &#34;Connection refused&#34;)
&lt;&lt;/code&gt;&gt;
the server is either not running, or not running on the specified port, socket or pipe. Make sure you are using the correct [[connecting-to-mariadb#host|host]], [[connecting-to-mariadb#port|port]], [[connecting-to-mariadb#pipe|pipe]], [[connecting-to-mariadb#socket|socket]] and [[connecting-to-mariadb#protocol|protocol]] options, or alternatively, see [[getting-installing-and-upgrading-mariadb|Getting, Installing and Upgrading MariaDB]], [[starting-and-stopping-mariadb|Starting and Stopping MariaDB]] or [[troubleshooting-installation-issues|Troubleshooting Installation Issues]].

The socket file can be in a non-standard path. In this case, the ##socket## option is probably written in the my.cnf file. Check that its value is identical in the [mysqld] and [client] sections; if not, the client will look for a socket in a wrong place.

If unsure where the Unix socket file is running, it&#39;s possible to find this out, for example:
&lt;&lt;code&gt;&gt;
netstat -ln | grep mysqld
unix  2      [ ACC ]     STREAM     LISTENING     33209505 /var/run/mysqld/mysqld.sock
&lt;&lt;/code&gt;&gt;

=== Unable to Connect from a Remote Location
Usually, the MariaDB server does not by default accept connections from a remote client or connecting with tcp and a hostname and has to be configured to permit these.

&lt;&lt;code&gt;&gt;
(/my/maria-10.4) ./client/mysql --host=myhost --protocol=tcp --port=3306 test
ERROR 2002 (HY000): Can&#39;t connect to MySQL server on &#39;myhost&#39; (115)
(/my/maria-10.4) telnet myhost 3306
Trying 192.168.0.11...
telnet: connect to address 192.168.0.11: Connection refused
(/my/maria-10.4) perror 115
OS error code 115:  Operation now in progress
&lt;&lt;/code&gt;&gt;

To solve this, see [[configuring-mariadb-for-remote-client-access|Configuring MariaDB for Remote Client Access]]

=== Authentication Problems
Note that from MariaDB 10.4.3, the [[authentication-plugin-unix-socket|unix_socket authentication plugin]] is enabled by default on Unix-like systems. This uses operating system credentials when connecting to MariaDB via the local Unix socket file. See [[authentication-plugin-unix-socket|unix_socket authentication plugin]] for instructions on connecting and on switching to password-based authentication as well as [[authentication-from-mariadb-104|Authentication from MariaDB 10.4]] for an overview of the MariaDB 10.4 changes..

Authentication is granted to a particular username/host combination. ##user1&#39;@&#39;localhost&#39;##, for example, is not the same as ##user1&#39;@&#39;166.78.144.191&#39;##. See the [[grant|GRANT]] article for details on granting permissions.

Passwords are hashed with [[password|PASSWORD]] function. If you have set a password with the [[set-password|SET PASSWORD]] statement, the [[password|PASSWORD]] function must be used at the same time. For example, ##SET PASSWORD FOR &#39;bob&#39;@&#39;%.loc.gov&#39; = PASSWORD(&#39;newpass&#39;)## rather than just ##SET PASSWORD FOR &#39;bob&#39;@&#39;%.loc.gov&#39; = &#39;newpass&#39;##;

==== Problems Exporting Query Results
If you can run regular queries, but get an authentication error when running the [[select-into-outfile|SELECT ... INTO OUTFILE]], [[select-into-dumpfile|SELECT ... INTO DUMPFILE]] or [[load-data-infile|LOAD DATA INFILE]] statements, you do not have permission to write files to the server. This requires the FILE privilege. See the [[grant|GRANT]] article.

==== Access to the Server, but not to a Database
If you can connect to the server, but not to a database, for example:
&lt;&lt;code&gt;&gt;
USE test;
ERROR 1044 (42000): Access denied for user &#39;ian&#39;@&#39;localhost&#39; to database &#39;test&#39;
&lt;&lt;/code&gt;&gt;
or can connect to a particular database, but not another, for example
##mariadb -uname -p -u name db1## works but not ##mariadb -uname -p -u name db2##, you have not been granted permission for the particular database. See the [[grant|GRANT]] article.

==== Option Files and Environment Variables
It&#39;s possible that option files or environment variables may be providing incorrect connection parameters. Check the values provided in any option files read by the client you are using (see [[configuring-mariadb-with-option-files/|mariadbd Configuration Files and Groups]] and the documentation for the particular client you&#39;re using - see [[clients-and-utilities|Clients and Utilities]]).

Option files can usually be suppressed with ##no-defaults## option, for example:
&lt;&lt;code&gt;&gt;
mariadb-import --no-defaults ...
&lt;&lt;/code&gt;&gt;

==== Unable to Connect to a Running Server / Lost root Password
If you are unable to connect to a server, for example because you have lost the root password, you can start the server without using the privilege tables by running the [[mariadb-options/#-skip-grant-tables|--skip-grant-tables]] option, which gives users full access to all tables. You can then run [[flush|FLUSH PRIVILEGES]] to resume using the grant tables, followed by [[set-password|SET PASSWORD]] to change the password for an account.

==== localhost and %
You may have created a user with something like:
&lt;&lt;sql&gt;&gt;
CREATE USER melisa identified by &#39;password&#39;;
&lt;&lt;/sql&gt;&gt;
This creates a user with the &#39;%&#39; wildcard host. 
&lt;&lt;sql&gt;&gt;
select user,host from mysql.user where user=&#39;melisa&#39;;
+--------+------+
| user   | host |
+--------+------+
| melisa | %    |
+--------+------+
&lt;&lt;/sql&gt;&gt;
However, you may still be failing to login from localhost. Some setups create anonymous users, including localhost. So the following records exist in the user table:
&lt;&lt;sql&gt;&gt;
select user,host from mysql.user where user=&#39;melisa&#39; or user=&#39;&#39;;
+--------+-----------+
| user   | host      |
+--------+-----------+
| melisa | %         |
|        | localhost |
+--------+-----------+
&lt;&lt;/sql&gt;&gt;
Since you are connecting from localhost, the anonymous credentials, rather than those for the &#39;melisa&#39; user, are used. The solution is either to add a new user specific to localhost, or to remove the anonymous localhost user.

=== See Also

* [[create-user|CREATE USER]]
* [[grant|GRANT]]
* [[authentication-from-mariadb-104|Authentication from MariaDB 10.4]]
* [[https://www.youtube.com/watch?v=aWFG4uLbimM|Authentication from MariaDB 10 4 video tutorial]]
* [[e1698|Error 1698: Access denied for user]]</textarea>
    


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/solutions" title="Solutions">Solutions</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">Company</a></h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        
                        
                        <li>
                            <h5><a href="https://mariadb.com/downloads" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2025 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.1587e3a666fc.js" charset="utf-8"></script>

</html>