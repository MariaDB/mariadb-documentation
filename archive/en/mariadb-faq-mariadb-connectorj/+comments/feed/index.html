<?xml version="1.0" encoding="utf-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>MariaDB Knowledge Base Comments for: MariaDB Connector/J</title><link>https://mariadb.com/kb/en/mariadb-faq-mariadb-connectorj/+comments/feed/</link><description></description><atom:link href="https://mariadb.com/kb/en/mariadb-faq-mariadb-connectorj/+comments/feed/" rel="self"></atom:link><language>en-us</language><lastBuildDate>Tue, 31 Oct 2023 02:14:37 +0000</lastBuildDate><item><title>Re: MariaDB Connector/J</title><link>https://mariadb.com/kb/en/mariadb-faq-mariadb-connectorj/+comments/4512</link><description>&lt;p&gt;We do get socket timeout issues for queries that take longer to execute though. Like just queries that have a larger result set or ones that operate on large tables with TEXT columns with wildcard searches or CREATE INDEX statements.&lt;/p&gt;
&lt;p&gt;Our understanding was also that socketTimeout should only impact the time for establishing the connection as opposed to the time it takes to execute a statement. Is this perhaps a bug in connectorj? Is there another connection parameter we can set along with socketTimeout to allow for longer queries?&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Gazal Gafoor</dc:creator><guid>https://mariadb.com/kb/en/mariadb-faq-mariadb-connectorj/+comments/4512</guid></item><item><title>Re: MariaDB Connector/J</title><link>https://mariadb.com/kb/en/mariadb-faq-mariadb-connectorj/+comments/2150</link><description>&lt;p&gt;Thanks for your answer! &lt;/p&gt;
&lt;p&gt;We do have long running queries running around 3040 seconds. So we ended up overwriting default behavior with socketTimeout param to jdbc url.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Kyungseg Oh</dc:creator><guid>https://mariadb.com/kb/en/mariadb-faq-mariadb-connectorj/+comments/2150</guid></item><item><title>Re: MariaDB Connector/J</title><link>https://mariadb.com/kb/en/mariadb-faq-mariadb-connectorj/+comments/2145</link><description>&lt;p&gt;Good question !&lt;/p&gt;
&lt;p&gt;The value of the timeout socket option does not have to be related to the max time of a transaction.&lt;/p&gt;
&lt;p&gt;The connector connects to the database with a socket. The socketTimeout option defined the Socket.setSoTimeout value. A read on that socket that take more time than this value will result as an exception, and kill the socket.
This is an error that will be catched by the failover implementation.&lt;/p&gt;
&lt;p&gt;Since aurora is design by default to be use as master / slave,  socketTimeout has been set to 10s by default to permit failover.
10 seconds is already a lot, and to have an efficient failover, it is necessary that this value be as low as possible.&lt;/p&gt;
&lt;p&gt;To be effective, the failover implementation need to detect the problem quickly. If not, new problem will arise : Assuming you are using a connection pool, it implies that the affected connections will not be released until the value of socketTimout .
The appplication will not stop during that time, so the connection pool will create many new connections to meet the demands .
This will cause a significant increase in resources used in your server and depending of the kind of problem possibly affect the database server. That may cause a lot more problems.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Diego Dupin</dc:creator><guid>https://mariadb.com/kb/en/mariadb-faq-mariadb-connectorj/+comments/2145</guid></item></channel></rss>