<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>ALTER USER - Source - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.f7633538c846.css" rel="stylesheet" type="text/css" />

    
        <meta name="robots" content="noindex, nofollow">
    

    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="ALTER USER - Source" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/en/alter-user/+source/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="" />

    <meta name="description" content="" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes autoresize nodes_source jqui" id="nodes_source">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/alter-user/+source/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2025 MariaDB. All rights reserved.</p>
    </div>
</div>
<div class="violator-wrap d-none" id="top_violator">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12">
                <div class="violator-outer">
                    <div class="violator-inner">
                        <div class="row">
                            <div class="col-xs-12 col-sm-9 col-lg-7 col-lg-offset-2" id="top_violator_content">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="content-link" target="_blank" rel="nofollow noreferrer">
                                    <span>The Ultimate Guide to High Availability with MariaDB</span>
                                </a>
                            </div>
                            <div class="col-xs-12 col-sm-3" id="top_violator_cta">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="btn btn-mariadb" target="_blank" rel="nofollow noreferrer">Download Now</a>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn btn-link close-btn">
                        <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" width="15px" height="15px"><path d="M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/alter-user/+source/" rel="nofollow">Login</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/en/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/en/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/services" title="Services">Services</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="About Us">About Us</a>
    </li>
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/en/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/en/documentation/">MariaDB Server Documentation</a>
    

    
    » <a class="crumb" href="/kb/en/using-mariadb-server/">Using MariaDB Server</a>
    

    
    » <a class="crumb" href="/kb/en/sql-statements-structure/">SQL Statements &amp; Structure</a>
    

    
    » <a class="crumb" href="/kb/en/sql-statements/">SQL Statements</a>
    

    
    » <a class="crumb" href="/kb/en/account-management-sql-commands/">Account Management SQL Commands</a>
    


    » <a class="node_link crumb" href="/kb/en/alter-user/">ALTER USER</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/en/">Home</a></li>
                            
                                
                                    <li><a href="/kb/en/+questions/">Open Questions</a></li>
                                
                                <li><a href="/kb/en/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/en/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/en/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/en/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
                        <div>
    

<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-small" href="/kb/en/alter-user/">Return to article</a>
    
</div>
</div>

</div>
                    

                    

































                </aside>
            
            
            
                
            
            
            <section id="content" class="limited_width col-md-10 clearfix">
                
                    <h1>ALTER USER - Source</h1>
                

                



                <div>
                    

    

    
    <div class="revision_info">
        <dl class="table">
            <dt>Revision</dt>
            <dd><a href="/kb/en/alter-user/+r/141017/">141017</a></dd>
            <dt>User</dt>
            <dd>
<span class="user" id="user-1368">
<a href="/kb/user/id/1368" title="Ian Gilfillan">Ian Gilfillan</a>
</span></dd>
            <dt>Date</dt>
            <dd>

<span class="datetime" title="2024-06-26 12:41">2024-06-26 12:41</span></dd>
        </dl>
    </div>
    


    

    
        
        <textarea id="answer_source" class="creole_source autogrow">== Syntax
&lt;&lt;code&gt;&gt;
ALTER USER [IF EXISTS] 
 &lt;&lt;creole&gt;&gt;//user_specification// [,//user_specification//] ...&lt;&lt;/creole&gt;&gt;
  &lt;&lt;creole&gt;&gt;[REQUIRE {NONE | //tls_option// [[AND] //tls_option//] ...}]&lt;&lt;/creole&gt;&gt;
 &lt;&lt;creole&gt;&gt; [WITH //resource_option// [//resource_option//] ...]&lt;&lt;/creole&gt;&gt;
 &lt;&lt;creole&gt;&gt; [//lock_option//] [//password_option//] &lt;&lt;/creole&gt;&gt;

&lt;&lt;creole&gt;&gt;//user_specification//:&lt;&lt;/creole&gt;&gt;
  &lt;&lt;creole&gt;&gt;username [//authentication_option//]&lt;&lt;/creole&gt;&gt;

&lt;&lt;creole&gt;&gt;//authentication_option//:&lt;&lt;/creole&gt;&gt;
  IDENTIFIED BY &#39;password&#39; 
  | IDENTIFIED BY PASSWORD &#39;password_hash&#39;
  | IDENTIFIED {VIA|WITH} &lt;&lt;creole&gt;&gt;//authentication_rule// [OR //authentication_rule//] ...&lt;&lt;/creole&gt;&gt; 
 
&lt;&lt;creole&gt;&gt;//authentication_rule//:&lt;&lt;/creole&gt;&gt;
  authentication_plugin
  | authentication_plugin {USING|AS} &#39;authentication_string&#39;
  | authentication_plugin {USING|AS} PASSWORD(&#39;password&#39;)

&lt;&lt;creole&gt;&gt;//tls_option//&lt;&lt;/creole&gt;&gt;
  SSL 
  | X509
  | CIPHER &#39;cipher&#39;
  | ISSUER &#39;issuer&#39;
  | SUBJECT &#39;subject&#39;

&lt;&lt;creole&gt;&gt;//resource_option//&lt;&lt;/creole&gt;&gt;
  MAX_QUERIES_PER_HOUR count
  | MAX_UPDATES_PER_HOUR count
  | MAX_CONNECTIONS_PER_HOUR count
  | MAX_USER_CONNECTIONS count
  | MAX_STATEMENT_TIME time

&lt;&lt;creole&gt;&gt;//password_option//:&lt;&lt;/creole&gt;&gt;
  PASSWORD EXPIRE
  | PASSWORD EXPIRE DEFAULT
  | PASSWORD EXPIRE NEVER
  | PASSWORD EXPIRE INTERVAL N DAY

&lt;&lt;creole&gt;&gt;//lock_option//:&lt;&lt;/creole&gt;&gt;
    ACCOUNT LOCK
  | ACCOUNT UNLOCK
}
&lt;&lt;/code&gt;&gt;

&lt;&lt;toc&gt;&gt;

== Description

The ##ALTER USER## statement modifies existing MariaDB accounts. To use it, you must have the global [[grant#global-privileges|CREATE USER]] privilege or the [[grant#table-privileges|UPDATE]] privilege for the [[the-mysql-database-tables|mysql]] database. The global [[grant#global-privileges|SUPER]] privilege is also required if the [[server-system-variables#read_only|read_only]] system variable is enabled.

If any of the specified user accounts do not yet exist, an error results. If an error occurs, ##ALTER USER## will still modify the accounts that do not result in an error. Only one error is produced for all users which have not been modified.

For renaming an existing account (user name and/or host), see [[rename-user|RENAME USER]].

== IF EXISTS
When the ##IF EXISTS## clause is used, MariaDB will return a warning instead of an error for each specified user that does not exist.

== Account Names

For ##ALTER USER## statements, account names are specified as the ##username## argument in the same way as they are for [[create-user|CREATE USER]] statements. See [[create-user/#account-names|account names]] from the ##CREATE USER## page for details on how account names are specified.

[[current_user|CURRENT_USER]] or ##CURRENT_USER()## can also be used to alter the account logged into the current session. For example, to change the current user&#39;s password to ##mariadb##:

&lt;&lt;sql&gt;&gt;
ALTER USER CURRENT_USER() IDENTIFIED BY &#39;mariadb&#39;;
&lt;&lt;/sql&gt;&gt;

== Authentication Options

From MariaDB 10.4, it is possible to use more than one authentication plugin for each user account. For example, this can be useful to slowly migrate users to the more secure ed25519 authentication plugin over time, while allowing the old mysql_native_password authentication plugin as an alternative for the transitional period. See [[authentication-from-mariadb-104|Authentication from MariaDB 10.4]] for more.

When running ##ALTER USER##, not specifying an authentication option in the IDENTIFIED VIA clause will remove that authentication method. (However this was not the case before MariaDB 10.4.13, see MDEV-21928)

For example, a user is created with the ability to authenticate via both a password and unix_socket:
&lt;&lt;code&gt;&gt;
CREATE USER &#39;bob&#39;@&#39;localhost&#39; 
  IDENTIFIED VIA mysql_native_password USING PASSWORD(&#39;pwd&#39;) 
  OR unix_socket;

SHOW CREATE USER &#39;bob&#39;@&#39;localhost&#39;\G
*************************** 1. row ***************************
CREATE USER for bob@localhost: CREATE USER `bob`@`localhost` 
  IDENTIFIED VIA mysql_native_password 
  USING &#39;*975B2CD4FF9AE554FE8AD33168FBFC326D2021DD&#39; 
  OR unix_socket
&lt;&lt;/code&gt;&gt;
If the user&#39;s password is updated, but unix_socket authentication is not specified in the ##IDENTIFIED VIA## clause, unix_socket authentication will no longer be permitted.
&lt;&lt;code&gt;&gt;
ALTER USER &#39;bob&#39;@&#39;localhost&#39; IDENTIFIED VIA mysql_native_password 
  USING PASSWORD(&#39;pwd2&#39;);

SHOW CREATE USER &#39;bob&#39;@&#39;localhost&#39;\G
*************************** 1. row ***************************
CREATE USER for bob@localhost: CREATE USER `bob`@`localhost` 
  IDENTIFIED BY PASSWORD &#39;*38366FDA01695B6A5A9DD4E428D9FB8F7EB75512&#39;
&lt;&lt;/code&gt;&gt;

=== IDENTIFIED BY &#39;password&#39;

The optional ##IDENTIFIED BY## clause can be used to provide an account with a password. The password should be specified in plain text. It will be hashed by the [[password|PASSWORD]] function prior to being stored to the [[mysqluser-table|mysql.user]] table.

For example, if our password is ##mariadb##, then we can set the account&#39;s password with:

&lt;&lt;sql&gt;&gt;
ALTER USER foo2@test IDENTIFIED BY &#39;mariadb&#39;;
&lt;&lt;/sql&gt;&gt;

If you do not specify a password with the ##IDENTIFIED BY## clause, the user
will be able to connect without a password. A blank password is not a wildcard
to match any password. The user must connect without providing a password if no
password is set.

The only [[authentication-plugins|authentication plugins]] that this clause supports are [[authentication-plugin-mysql_native_password|mysql_native_password]] and [[authentication-plugin-mysql_old_password|mysql_old_password]].

=== IDENTIFIED BY PASSWORD &#39;password_hash&#39;

The optional ##IDENTIFIED BY PASSWORD## clause can be used to provide an account with a password that has already been hashed. The password should be specified as a hash that was provided by the [[password|PASSWORD]]#function. It will be stored to the [[mysqluser-table|mysql.user]] table as-is.

For example, if our password is ##mariadb##, then we can find the hash with:

&lt;&lt;sql&gt;&gt;
SELECT PASSWORD(&#39;mariadb&#39;);
+-------------------------------------------+
| PASSWORD(&#39;mariadb&#39;)                       |
+-------------------------------------------+
| *54958E764CE10E50764C2EECBB71D01F08549980 |
+-------------------------------------------+
&lt;&lt;/sql&gt;&gt;

And then we can set an account&#39;s password with the hash:

&lt;&lt;sql&gt;&gt;
ALTER USER foo2@test 
  IDENTIFIED BY PASSWORD &#39;*54958E764CE10E50764C2EECBB71D01F08549980&#39;;
&lt;&lt;/sql&gt;&gt;

If you do not specify a password with the ##IDENTIFIED BY## clause, the user
will be able to connect without a password. A blank password is not a wildcard
to match any password. The user must connect without providing a password if no
password is set.

The only [[authentication-plugins|authentication plugins]] that this clause supports are [[authentication-plugin-mysql_native_password|mysql_native_password]] and [[authentication-plugin-mysql_old_password|mysql_old_password]].

=== IDENTIFIED {VIA|WITH} authentication_plugin

The optional ##IDENTIFIED VIA authentication_plugin## allows you to specify that the account should be authenticated by a specific [[authentication-plugins|authentication plugin]]. The plugin name must be an active authentication plugin as per [[show-plugins|SHOW PLUGINS]]. If it doesn&#39;t show up in that output, then you will need to install it with [[install-plugin|INSTALL PLUGIN]] or [[install-soname|INSTALL SONAME]].

For example, this could be used with the [[authentication-plugin-pam|PAM authentication plugin]]:

&lt;&lt;sql&gt;&gt;
ALTER USER foo2@test IDENTIFIED VIA pam;
&lt;&lt;/sql&gt;&gt;

Some authentication plugins allow additional arguments to be specified after a ##USING## or ##AS## keyword. For example, the [[authentication-plugin-pam|PAM authentication plugin]] accepts a [[authentication-plugin-pam/#configuring-the-pam-service|service name]]:

&lt;&lt;sql&gt;&gt;
ALTER USER foo2@test IDENTIFIED VIA pam USING &#39;mariadb&#39;;
&lt;&lt;/sql&gt;&gt;

The exact meaning of the additional argument would depend on the specific authentication plugin.

From MariaDB 10.4, the ##USING## or ##AS## keyword can also be used to provide a plain-text password to a plugin if it&#39;s provided as an argument to the [[password|PASSWORD()]] function. This is only valid for [[authentication-plugins|authentication plugins]] that have implemented a hook for the [[password|PASSWORD()]] function. For example, the [[authentication-plugin-ed25519|ed25519]] authentication plugin supports this:

&lt;&lt;sql&gt;&gt;
ALTER USER safe@&#39;%&#39; IDENTIFIED VIA ed25519 USING PASSWORD(&#39;secret&#39;);
&lt;&lt;/sql&gt;&gt;

== TLS Options

By default, MariaDB transmits data between the server and clients without encrypting it. This is generally acceptable when the server and client run on the same host or in networks where security is guaranteed through other means. However, in cases where the server and client exist on separate networks or they are in a high-risk network, the lack of encryption does introduce security concerns as a malicious actor could potentially eavesdrop on the traffic as it is sent over the network between them.

To mitigate this concern, MariaDB allows you to encrypt data in transit between the server and clients using the Transport Layer Security (TLS) protocol. TLS was formerly known as Secure Socket Layer (SSL), but strictly speaking the SSL protocol is a predecessor to TLS and, that version of the protocol is now considered insecure. The documentation still uses the term SSL often and for compatibility reasons TLS-related server system and status variables still use the prefix ssl_, but internally, MariaDB only supports its secure successors.

See [[secure-connections-overview|Secure Connections Overview]] for more information about how to determine whether your MariaDB server has TLS support.

You can set certain TLS-related restrictions for specific user accounts. For instance, you might use this with user accounts that require access to sensitive data while sending it across networks that you do not control. These restrictions can be enabled for a user account with the [[create-user|CREATE USER]], [[alter-user|ALTER USER]], or [[grant|GRANT]] statements. The following options are available:

&lt;&lt;style class=&#34;darkheader-nospace-borders&#34;&gt;&gt;
|= Option |= Description
| ##REQUIRE NONE## | TLS is not required for this account, but can still be used.
| ##REQUIRE SSL## | The account must use TLS, but no valid X509 certificate is required. This option cannot be combined with other TLS options.
| ##REQUIRE X509## | The account must use TLS and must have a valid X509 certificate. This option implies ##REQUIRE SSL##. This option cannot be combined with other TLS options.
| ##REQUIRE ISSUER &#39;issuer&#39; | The account must use TLS and must have a valid X509 certificate. Also, the Certificate Authority must be the one specified via the string ##issuer##. This option implies ##REQUIRE X509##. This option can be combined with the ##SUBJECT##, and ##CIPHER## options in any order.
| ##REQUIRE SUBJECT &#39;subject&#39; | The account must use TLS and must have a valid X509 certificate. Also, the certificate&#39;s Subject must be the one specified via the string ##subject##. This option implies ##REQUIRE X509##. This option can be combined with the ##ISSUER##, and ##CIPHER## options in any order.
| ##REQUIRE CIPHER &#39;cipher&#39; | The account must use TLS, but no valid X509 certificate is required. Also, the encryption used for the connection must use a specific cipher method specified in the string ##cipher##. This option implies ##REQUIRE SSL##. This option can be combined with the ##ISSUER##, and ##SUBJECT## options in any order.
&lt;&lt;/style&gt;&gt;

The ##REQUIRE## keyword must be used only once for all specified options, and the ##AND## keyword can be used to separate individual options, but it is not required.

For example, you can alter a user account to require these TLS options with the following:

&lt;&lt;sql&gt;&gt;
ALTER USER &#39;alice&#39;@&#39;%&#39;
 REQUIRE SUBJECT &#39;/CN=alice/O=My Dom, Inc./C=US/ST=Oregon/L=Portland&#39; AND
 ISSUER &#39;/C=FI/ST=Somewhere/L=City/ O=Some Company/CN=Peter Parker/emailAddress=p.parker@marvel.com&#39;
 AND CIPHER &#39;SHA-DES-CBC3-EDH-RSA&#39;;
&lt;&lt;/sql&gt;&gt;

If any of these options are set for a specific user account, then any client who tries to connect with that user account will have to be configured to connect with TLS.

See [[securing-connections-for-client-and-server|Securing Connections for Client and Server]] for information on how to enable TLS on the client and server.

== Resource Limit Options

It is possible to set per-account limits for certain server resources. The following table shows the values that can be set per account:

&lt;&lt;style class=&#34;darkheader-nospace-borders&#34;&gt;&gt;
|= Limit Type |= Description
| ##MAX_QUERIES_PER_HOUR## | Number of statements that the account can issue per hour (including updates)
| ##MAX_UPDATES_PER_HOUR## | Number of updates (not queries) that the account can issue per hour
| ##MAX_CONNECTIONS_PER_HOUR## | Number of connections that the account can start per hour
| ##MAX_USER_CONNECTIONS## | Number of simultaneous connections that can be accepted from the same account; if it is 0, ##max_connections## will be used instead; if ##max_connections## is 0, there is no limit for this account&#39;s simultaneous connections.
| ##MAX_STATEMENT_TIME## | Timeout, in seconds, for statements executed by the user. See also [[aborting-statements|Aborting Statements that Exceed a Certain Time to Execute]].
&lt;&lt;/style&gt;&gt;

If any of these limits are set to ##0##, then there is no limit for that resource for that user.

Here is an example showing how to set an account&#39;s resource limits:

&lt;&lt;sql&gt;&gt;
ALTER USER &#39;someone&#39;@&#39;localhost&#39; WITH
    MAX_USER_CONNECTIONS 10
    MAX_QUERIES_PER_HOUR 200;
&lt;&lt;/sql&gt;&gt;

The resources are tracked per account, which means ##&#39;user&#39;@&#39;server&#39;##; not per user name or per connection.

The count can be reset for all users using [[flush|FLUSH USER_RESOURCES]], [[flush|FLUSH PRIVILEGES]] or [[mysqladmin|mysqladmin reload]].

Per account resource limits are stored in the [[mysqluser-table|user]] table, in the [[the-mysql-database-tables|mysql]] database. Columns used for resources limits are named ##max_questions##, ##max_updates##, ##max_connections## (for ##MAX_CONNECTIONS_PER_HOUR##), and ##max_user_connections## (for ##MAX_USER_CONNECTIONS##).


== Password Expiry
Besides automatic password expiry, as determined by [[server-system-variables/#default_password_lifetime|default_password_lifetime]], password expiry times can be set on an individual user basis, overriding the global setting, for example:
&lt;&lt;sql&gt;&gt;
ALTER USER &#39;monty&#39;@&#39;localhost&#39; PASSWORD EXPIRE INTERVAL 120 DAY;
ALTER USER &#39;monty&#39;@&#39;localhost&#39; PASSWORD EXPIRE NEVER;
ALTER USER &#39;monty&#39;@&#39;localhost&#39; PASSWORD EXPIRE DEFAULT;
&lt;&lt;/sql&gt;&gt;

See [[user-password-expiry|User Password Expiry]] for more details.

== Account Locking
Account locking permits privileged administrators to lock/unlock user accounts. No new client connections will be permitted if an account is locked (existing connections are not affected). For example:
&lt;&lt;sql&gt;&gt;
ALTER USER &#39;marijn&#39;@&#39;localhost&#39; ACCOUNT LOCK;
&lt;&lt;/sql&gt;&gt;

See [[account-locking|Account Locking]] for more details.

From MariaDB 10.4.7 and MariaDB 10.5.8, the //lock_option// and //password_option// clauses can occur in either order.

== See Also
* [[authentication-from-mariadb-104|Authentication from MariaDB 10.4]]
* [[grant|GRANT]]
* [[create-user|CREATE USER]]
* [[drop-user|DROP USER]]
* [[set-password|SET PASSWORD]]
* [[show-create-user|SHOW CREATE USER]]
* [[mysqluser-table|mysql.user table]]
* [[password-validation-plugins|Password Validation Plugins]] - permits the setting of basic criteria for passwords
* [[authentication-plugins|Authentication Plugins]] - allow various authentication methods to be used, and new ones to be developed.</textarea>
    


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/services" title="Services">Services</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">About Us</a></h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/download" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2025 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.1587e3a666fc.js" charset="utf-8"></script>

</html>