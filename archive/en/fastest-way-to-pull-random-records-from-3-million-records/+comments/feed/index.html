<?xml version="1.0" encoding="utf-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>MariaDB Knowledge Base Comments for: Fastest way to pull random records from 3 million records</title><link>https://mariadb.com/kb/en/fastest-way-to-pull-random-records-from-3-million-records/+comments/feed/</link><description></description><atom:link href="https://mariadb.com/kb/en/fastest-way-to-pull-random-records-from-3-million-records/+comments/feed/" rel="self"></atom:link><language>en-us</language><lastBuildDate>Mon, 17 Feb 2025 14:42:25 +0000</lastBuildDate><item><title>Re: Fastest way to pull random records from 3 million records</title><link>https://mariadb.com/kb/en/fastest-way-to-pull-random-records-from-3-million-records/+comments/7022</link><description>&lt;p&gt;The problem is that you are filtering out records that have barcodeIDUsing set and records where barcodeStatus is not available; and if there are "holes" in the sequence of barcodeID that is a similar problem. Any such filtered record or hole will increase the likelihood that your query selects the next record.&lt;/p&gt;
&lt;p&gt;You can try instead in a loop to pick a random rnd_id ( CEIL(RAND() * ( SELECT MAX(`barcodeID`) FROM `BarcodesAvailable` )) ). And then lookup that single record SELECT * FROM BarcodesAvailable WHERE barcodeID = &amp;lt;rnd_id&amp;gt; AND barcode1.barcodeIDUsing IS NULL AND barcode1.barcodeStatus = 'Available' . Repeat until you get a record back and it should be a uniformly distributed random record.&lt;/p&gt;
&lt;p&gt;How fast this will be depends on the how many records are filtered out, and how many holes in the ID sequence - the more, the slower.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Kristian Nielsen</dc:creator><guid>https://mariadb.com/kb/en/fastest-way-to-pull-random-records-from-3-million-records/+comments/7022</guid></item></channel></rss>