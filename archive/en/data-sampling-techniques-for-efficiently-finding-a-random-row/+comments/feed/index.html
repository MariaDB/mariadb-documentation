<?xml version="1.0" encoding="utf-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>MariaDB Knowledge Base Comments for: Data Sampling: Techniques for Efficiently Finding a Random Row</title><link>https://mariadb.com/kb/en/data-sampling-techniques-for-efficiently-finding-a-random-row/+comments/feed/</link><description></description><atom:link href="https://mariadb.com/kb/en/data-sampling-techniques-for-efficiently-finding-a-random-row/+comments/feed/" rel="self"></atom:link><language>en-us</language><lastBuildDate>Mon, 29 Jul 2024 04:08:32 +0000</lastBuildDate><item><title>Re: Data Sampling: Techniques for Efficiently Finding a Random Row</title><link>https://mariadb.com/kb/en/data-sampling-techniques-for-efficiently-finding-a-random-row/+comments/4980</link><description>&lt;p&gt;1. Get no' of rows in table
2. Gen rand number(s) between 1 and no of rows (no duplicates)
3. Return row(s)&lt;/p&gt;
&lt;p&gt;No sorting should be required, why would that even be an idea? Amazing that these are still the solutions in use... Should have been internal feature long ago.&lt;/p&gt;
&lt;p&gt;Just add SELECTRAND * FROM xyz WHERE x = y LIMIT 10
etc&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Darcey Lloyd</dc:creator><guid>https://mariadb.com/kb/en/data-sampling-techniques-for-efficiently-finding-a-random-row/+comments/4980</guid></item><item><title>Re: Techniques for Efficiently Finding a Random Row</title><link>https://mariadb.com/kb/en/data-sampling-techniques-for-efficiently-finding-a-random-row/+comments/2560</link><description>&lt;p&gt;There is no hidden "row number".  A UDF can't do better than use the PRIMARY KEY.  For MyISAM, the location of a row is the byte offset into the .MYD; there is no list of these to probe.  For InnoDB, one should provide a PK; if you don't there is an inaccessible 6-byte number that acts sort of like AUTO_INCREMENT; again, not practical.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Rick James</dc:creator><guid>https://mariadb.com/kb/en/data-sampling-techniques-for-efficiently-finding-a-random-row/+comments/2560</guid></item><item><title>Re: Techniques for Efficiently Finding a Random Row</title><link>https://mariadb.com/kb/en/data-sampling-techniques-for-efficiently-finding-a-random-row/+comments/2311</link><description>&lt;p&gt;This has long bugged me about SQL.&lt;/p&gt;
&lt;p&gt;Could one write a UDF that would use an RNG to select rows by their internal row number to avoid a full table scan?&lt;/p&gt;
&lt;p&gt;I've also noticed that RAND() appears to be biased. It will often return from within a small subset of records over and over, which seems to change every day, leading me to suspect they're using a Linear Congruential RNG seeded with the date.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Jan Steinman</dc:creator><guid>https://mariadb.com/kb/en/data-sampling-techniques-for-efficiently-finding-a-random-row/+comments/2311</guid></item></channel></rss>