<?xml version="1.0" encoding="utf-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>MariaDB Knowledge Base Comments for: Using UPDATE with a recursive query - not working (error #1241)</title><link>https://mariadb.com/kb/en/using-update-with-a-recursive-query-not-working-error-1241/+comments/feed/</link><description></description><atom:link href="https://mariadb.com/kb/en/using-update-with-a-recursive-query-not-working-error-1241/+comments/feed/" rel="self"></atom:link><language>en-us</language><lastBuildDate>Mon, 21 Oct 2024 14:31:15 +0000</lastBuildDate><item><title>Re: Using UPDATE with a recursive query - not working (error #1241)</title><link>https://mariadb.com/kb/en/using-update-with-a-recursive-query-not-working-error-1241/+comments/5515</link><description>&lt;p&gt;While I was told UPDATE is not supported, I did manage to get a recursive UPDATE to work. The solution to this problem is posted below. My mistake was too many columns in the final SELECT statement. This works:&lt;/p&gt;
&lt;p&gt;UPDATE positions SET bu_div = 'Customer Services' WHERE jobholder_uid IN
(
WITH RECURSIVE mgmt_levels AS ( SELECT jobholder_uid, positionmgr_uid, position_level, bu_div FROM positions WHERE positionmgr_uid = 'fname.lname@examplecompany.com'
UNION ALL
SELECT p.jobholder_uid, p.positionmgr_uid, p.position_level, p.bu_div FROM positions p INNER JOIN mgmt_levels ml ON ml.jobholder_uid = p.positionmgr_uid )
SELECT jobholder_uid
FROM mgmt_levels ml
);&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Neil Dempster</dc:creator><guid>https://mariadb.com/kb/en/using-update-with-a-recursive-query-not-working-error-1241/+comments/5515</guid></item><item><title>Re: Using UPDATE with a recursive query - not working (error #1241)</title><link>https://mariadb.com/kb/en/using-update-with-a-recursive-query-not-working-error-1241/+comments/5512</link><description>&lt;p&gt;Currently only SELECT recursive CTEs are supported. DELETE and UPDATE are planned per &lt;a href="https://jira.mariadb.org/browse/MDEV-18511"&gt;MDEV-18511&lt;/a&gt;&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Daniel Black</dc:creator><guid>https://mariadb.com/kb/en/using-update-with-a-recursive-query-not-working-error-1241/+comments/5512</guid></item></channel></rss>