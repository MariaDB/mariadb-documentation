<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>MariaDB Single Standalone Server (Community) - Source - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.f7633538c846.css" rel="stylesheet" type="text/css" />

    
        <meta name="robots" content="noindex, nofollow">
    

    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="MariaDB Single Standalone Server (Community) - Source" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/en/mariadb-single-standalone-server-community/+source/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="" />

    <meta name="description" content="" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes autoresize nodes_source jqui" id="nodes_source">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/mariadb-single-standalone-server-community/+source/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2025 MariaDB. All rights reserved.</p>
    </div>
</div>
<div class="violator-wrap d-none" id="top_violator">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12">
                <div class="violator-outer">
                    <div class="violator-inner">
                        <div class="row">
                            <div class="col-xs-12 col-sm-9 col-lg-7 col-lg-offset-2" id="top_violator_content">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="content-link" target="_blank" rel="nofollow noreferrer">
                                    <span>The Ultimate Guide to High Availability with MariaDB</span>
                                </a>
                            </div>
                            <div class="col-xs-12 col-sm-3" id="top_violator_cta">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="btn btn-mariadb" target="_blank" rel="nofollow noreferrer">Download Now</a>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn btn-link close-btn">
                        <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" width="15px" height="15px"><path d="M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/mariadb-single-standalone-server-community/+source/" rel="nofollow">Login</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/en/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/en/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/solutions" title="Solutions">Solutions</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="Company">Company</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/en/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/en/topologies/">Topologies</a>
    

    
    » <a class="crumb" href="/kb/en/single-node/">Single-Node</a>
    


    » <a class="node_link crumb" href="/kb/en/mariadb-single-standalone-server-community/">MariaDB Single Standalone Server (Community)</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/en/">Home</a></li>
                            
                                
                                    <li><a href="/kb/en/+questions/">Open Questions</a></li>
                                
                                <li><a href="/kb/en/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/en/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/en/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/en/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
                        <div>
    

<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-small" href="/kb/en/mariadb-single-standalone-server-community/">Return to article</a>
    
</div>
</div>

</div>
                    

                    

































                </aside>
            
            
            
                
            
            
            <section id="content" class="limited_width col-md-10 clearfix">
                
                    <h1>MariaDB Single Standalone Server (Community) - Source</h1>
                

                



                <div>
                    

    

    
    <div class="revision_info">
        <dl class="table">
            <dt>Revision</dt>
            <dd><a href="/kb/en/mariadb-single-standalone-server-community/+r/151080/">151080</a></dd>
            <dt>User</dt>
            <dd>
<span class="user" id="user-16293">
<a href="/kb/user/id/16293" title="Shwetha CM">Shwetha CM</a>
</span></dd>
            <dt>Date</dt>
            <dd>

<span class="datetime" title="2025-04-30 08:53">2025-04-30 08:53</span></dd>
        </dl>
    </div>
    


    

    
        
        <textarea id="answer_source" class="creole_source autogrow">&lt;&lt;toc&gt;&gt;

= Overview
These instructions detail the deployment of MariaDB ColumnStore 6 with MariaDB Community Server 10.6 in a Single-node ColumnStore Deployment configuration on a range of supported Operating Systems.

These instructions detail how to deploy a single-node columnar database, which is suited for an analytical or OLAP workload that does not require high availability (HA). This deployment type is generally for non-production use cases, such as for development and testing.

= Community Server Components
These instructions detail the deployment of the following MariaDB Community Server components:

&lt;&lt;style class=&#34;darkheader-nospace-borders left&#34;&gt;&gt;
|= Component |= Description|
| MariaDB ColumnStore 6  | • It is a columnar storage engine that provides distributed, columnar storage for scalable analytical processing and smart transactions. \\ • It is the analytical component of MariaDB&#39;s single stack [[htap|Hybrid Transactional/Analytical Processing (HTAP)]] solution. |
&lt;&lt;/style&gt;&gt;


= Term Definitions
&lt;&lt;style class=&#34;darkheader-nospace-borders left&#34;&gt;&gt;
|= Term |= Definition |
| columnar database  | • A database where the columns of each row are stored separately. \\ • Best suited for analytical and OLAP workloads. \\ • Also known as a &#34;column-oriented database&#34;. |
|row database |  • A database where all columns of each row are stored together. \\ • Best suited for transactional and OLTP workloads. \\ • Also known as a &#34;row-oriented database&#34;. |
&lt;&lt;/style&gt;&gt;


= High Availability
Single-node ColumnStore 6 does not support high availability.

For high availability and scalability, instead see &#34;[[deploy-columnstore-object-storage-topology-with-mariadb-server|ColumnStore Object Storage Topology]]&#34; or &#34;[[columnstore-shared-local-storage|ColumnStore Shared Local Storage Topology]]&#34;.

= System Preparation

Systems hosting a ColumnStore deployment requires some additional configuration prior to installation:

1. Optimize Linux kernel parameters.

2. Configure the Linux security module to support installation.

3. Configure the character encoding.

4. Optionally configure S3-compatible storage.

= Optimize Linux Kernel Parameters
MariaDB ColumnStore performs best when certain Linux kernel parameters are optimized.

1. Set the relevant kernel parameters in a sysctl configuration file. For proper change management, we recommend setting them in a ColumnStore-specific configuration file.

For example, create a /etc/sysctl.d/90-mariadb-columnstore.conf file with the following contents:

&lt;&lt;code&gt;&gt;
# minimize swapping
vm.swappiness = 1

# Increase the TCP max buffer size
net.core.rmem_max = 16777216
net.core.wmem_max = 16777216

# Increase the TCP buffer limits
# min, default, and max number of bytes to use
net.ipv4.tcp_rmem = 4096 87380 16777216
net.ipv4.tcp_wmem = 4096 65536 16777216

# don&#39;t cache ssthresh from previous connection
net.ipv4.tcp_no_metrics_save = 1

# for 1 GigE, increase this to 2500
# for 10 GigE, increase this to 30000
net.core.netdev_max_backlog = 2500
&lt;&lt;/code&gt;&gt;

2. Set the same kernel parameters at runtime using the sysctl command:

&lt;&lt;code&gt;&gt;
$ sudo sysctl --load=/etc/sysctl.d/90-mariadb-columnstore.conf
&lt;&lt;/code&gt;


= LSM Configuration for Install
To avoid confusion and potential problems, we recommend configuring the system&#39;s Linux Security Module (LSM) during installation. The specific steps to configure the security module will depend on the platform.

In the Configure the Linux Security Module section, we will configure the security module and restart it.

== SELinux (RHEL, CentOS)
SELinux must be set to permissive mode before installing MariaDB ColumnStore.

1. Set SELinux to permissive mode by setting SELINUX=permissive in /etc/selinux/config.

For example, the file will usually look like this after the change:

&lt;&lt;code&gt;&gt;
# This file controls the state of SELinux on the system.
# SELINUX= can take one of these three values:
#     enforcing - SELinux security policy is enforced.
#     permissive - SELinux prints warnings instead of enforcing.
#     disabled - No SELinux policy is loaded.
SELINUX=permissive
# SELINUXTYPE= can take one of three values:
#     targeted - Targeted processes are protected,
#     minimum - Modification of targeted policy. Only selected processes are protected.
#     mls - Multi Level Security protection.
SELINUXTYPE=targeted
&lt;&lt;/code&gt;

2. Reboot the system.

3. Confirm that SELinux is in permissive mode using getenforce:

&lt;&lt;code&gt;
$ sudo getenforce
Permissive
&lt;&lt;/code&gt;

&lt;&lt;style class=&#34;bluebox&#34;&gt;&gt;
**Note:** Remember to configure and re-enable SELinux after the installation is complete.
&lt;&lt;/style&gt;&gt;


== AppArmor (Debian, Ubuntu)
AppArmor must be disabled before installing MariaDB ColumnStore.

1. Disable AppArmor:

&lt;&lt;code&gt;&gt;
$ sudo systemctl disable apparmor
&lt;&lt;/code&gt;

2. Reboot the system.

3. Confirm that no AppArmor profiles are loaded using aa-status:

&lt;&lt;code&gt;&gt;
$ sudo aa-status
&lt;&lt;/code&gt;

Example output:

&lt;&lt;code&gt;&gt;
apparmor module is loaded.
0 profiles are loaded.
0 profiles are in enforce mode.
0 profiles are in complain mode.
0 processes have profiles defined.
0 processes are in enforce mode.
0 processes are in complain mode.
0 processes are unconfined but have a profile defined.
&lt;&lt;/code&gt;

&lt;&lt;style class=&#34;bluebox&#34;&gt;&gt;
**Note:** Remember to configure and re-enable AppArmor after the installation is complete.
&lt;&lt;/style&gt;&gt;

= Configure the Character Encoding
When using MariaDB ColumnStore, it is recommended to set the system&#39;s locale to UTF-8.

1. On RHEL 8, install additional dependencies.

&lt;&lt;code&gt;&gt;
$ sudo yum install glibc-locale-source glibc-langpack-en
&lt;&lt;/code&gt;&gt;

2. Set the system&#39;s locale to en_US.UTF-8 by executing localedef:

&lt;&lt;code&gt;&gt;
$ sudo localedef -i en_US -f UTF-8 en_US.UTF-8
&lt;&lt;/code&gt;&gt;


= S3-Compatible Storage

MariaDB ColumnStore supports S3-compatible object storage. S3-compatible object storage is optional, but highly recommended.

S3-compatible object storage is:

* **Compatible**: Many object storage services are compatible with the Amazon S3 API.
* **Economical**: S3-compatible object storage is often very low cost.
* **Flexible**: S3-compatible object storage is available for both cloud and on-premises deployments.
* **Limitless**: S3-compatible object storage is often virtually limitless.
* **Resilient**: S3-compatible object storage is often low maintenance and highly available, since many services use resilient cloud infrastructure.
* **Scalable**: S3-compatible object storage is often highly optimized for read and write scaling.
* **Secure**: S3-compatible object storage is often encrypted-at-rest.

Many S3-compatible object storage services exist. MariaDB Corporation cannot make guarantees about all S3-compatible object storage services, because different services provide different functionality.

If you have any questions about using specific S3-compatible object storage with MariaDB ColumnStore, contact us.

== Create an S3 Bucket
If you want to use S3-compatible storage, it is important to create the S3 bucket before you start ColumnStore.

If you already have an S3 bucket, confirm that the bucket is empty.

We will configure ColumnStore to use the S3 bucket later in the Configure the S3 Storage Manager section.

&lt;&lt;style class=&#34;bluebox&#34;&gt;&gt;
**Note:** The specific steps to create the S3 bucket will depend on what S3-compatible storage you are using.
&lt;&lt;/style&gt;&gt;

= ColumnStore Installation
MariaDB Corporation provides package repositories for YUM (RHEL, CentOS) and APT (Debian, Ubuntu).

MariaDB ColumnStore ships as a storage engine plugin for MariaDB Community Server and a platform engine to handle back-end storage processes. MariaDB Community Server 10.6 does not require any additional software to operate as a single-node analytics database.

== Install ColumnStore via YUM (RHEL, CentOS)

1. Configure the YUM package repository.
MariaDB ColumnStore 6 is available on MariaDB Community Server 10.6.

To configure YUM package repositories:

&lt;&lt;code&gt;&gt;
$ sudo yum install curl

$ curl -LsSO https://r.mariadb.com/downloads/mariadb_repo_setup

$ echo &#34;c4a0f3dade02c51a6a28ca3609a13d7a0f8910cccbb90935a2f218454d3a914a mariadb_repo_setup&#34; \
    | sha256sum -c -

$ chmod +x mariadb_repo_setup

$ sudo ./mariadb_repo_setup \
   --mariadb-server-version=&#34;mariadb-10.6&#34;
&lt;&lt;/code&gt;&gt;

2. Install the EPEL repository:

&lt;&lt;code&gt;&gt;
$ sudo yum install epel-release
&lt;&lt;/code&gt;&gt;

3. Install some additional dependencies for ColumnStore:

&lt;&lt;code&gt;&gt;
$ sudo yum install jemalloc
&lt;&lt;/code&gt;&gt;

4. Install MariaDB ColumnStore and package dependencies:

&lt;&lt;code&gt;&gt;
$ sudo yum install MariaDB-server MariaDB-backup \
   MariaDB-shared MariaDB-client \
   MariaDB-columnstore-engine
&lt;&lt;/code&gt;&gt;

5. Configure MariaDB ColumnStore.
Installation only loads MariaDB ColumnStore to the system. MariaDB ColumnStore requires configuration and additional post-installation steps before the database server is ready for use.

See ColumnStore Configuration.

== Install ColumnStore via APT (Debian, Ubuntu)

1. Configure the APT package repository.

MariaDB ColumnStore 6 is available on MariaDB Community Server 10.6.

To configure APT package repositories:

&lt;&lt;code&gt;&gt;
$ sudo apt install curl

$ curl -LsSO https://r.mariadb.com/downloads/mariadb_repo_setup

$ echo &#34;c4a0f3dade02c51a6a28ca3609a13d7a0f8910cccbb90935a2f218454d3a914a mariadb_repo_setup&#34; \
    | sha256sum -c -

$ chmod +x mariadb_repo_setup

$ sudo ./mariadb_repo_setup \
   --mariadb-server-version=&#34;mariadb-10.6&#34;

$ sudo apt update
&lt;&lt;/code&gt;&gt;

2. Install some additional dependencies for ColumnStore.

On Debian 10 and Ubuntu 20.04, install the following:

&lt;&lt;code&gt;&gt;
$ sudo apt install libjemalloc2
&lt;&lt;/code&gt;&gt;
On Debian 9 and Ubuntu 18.04, install the following:

&lt;&lt;code&gt;&gt;
$ sudo apt install libjemalloc1
&lt;&lt;/code&gt;&gt;

3. Install MariaDB ColumnStore and package dependencies:

&lt;&lt;code&gt;&gt;
$ sudo apt install mariadb-server mariadb-backup \
   libmariadb3 mariadb-client \
   mariadb-plugin-columnstore
&lt;&lt;/code&gt;&gt;

4. Configure MariaDB ColumnStore.
Installation only loads MariaDB ColumnStore to the system. MariaDB ColumnStore requires configuration and additional post-installation steps before the database server is ready for use.

See ColumnStore Configuration.

= ColumnStore Configuration
MariaDB ColumnStore requires configuration after it is installed. The configuration file location depends on your operating system.

== Community Server Configuration
MariaDB Community Server can be configured in the following ways:

* [[system-variables|System variables]] and [[mariadbd-options|options]] can be set in a configuration file (such as /etc/my.cnf). MariaDB Community Server must be restarted to apply changes made to the configuration file.
* [[system-variables|System variables]] and [[mariadbd-options|options]] can be set on the command-line.
* If a [[system-variables|System variables]] supports dynamic changes, then it can be set on-the-fly using the [[set|SET]] statement.

== Configuration Files
MariaDB&#39;s packages include several bundled configuration files. It is also possible to create custom configuration files.

On RHEL and CentOS, MariaDB&#39;s packages bundle the following configuration files:

* ##/etc/my.cnf##
* ##/etc/my.cnf.d/client.cnf##
* ##/etc/my.cnf.d/mysql-clients.cnf##
* ##/etc/my.cnf.d/server.cnf##

And on RHEL and CentOS, custom configuration files from the following directories are read by default:

* ##/etc/my.cnf.d/##

On Debian and Ubuntu, MariaDB&#39;s packages bundle the following configuration files:

* ##/etc/mysql/my.cnf##
* ##/etc/mysql/mariadb.cnf##
* ##/etc/mysql/mariadb.conf.d/50-client.cnf##
* ##/etc/mysql/mariadb.conf.d/50-mysql-clients.cnf##
* ##/etc/mysql/mariadb.conf.d/50-mysqld_safe.cnf##
* ##/etc/mysql/mariadb.conf.d/50-server.cnf##
* ##/etc/mysql/mariadb.conf.d/60-galera.cnf##

And on Debian and Ubuntu, custom configuration files from the following directories are read by default:

* ##/etc/mysql/conf.d/##
* ##/etc/mysql/mariadb.conf.d/##

== Configuring MariaDB for ColumnStore

1. Determine which [[system-variables|system variables]] and [[mariadbd-options|options]] you need to configure.
Mandatory system variables and options for single-node MariaDB ColumnStore include:


&lt;&lt;style class=&#34;darkheader-nospace-borders left&#34;&gt;&gt;
|= System Variable/Option |= Description |
| [[server-system-variables/#character_set_server|character_set_server]]  | Set this system variable to utf8 |
| [[server-system-variables/#collation_server|collation_server]] |Set this system variable to utf8_general_ci |
| columnstore_use_import_for_batchinsert |Set this system variable to ALWAYS to always use [[mariadb-enterprise-columnstore-data-loading-with-cpimport|cpimport]] for [[mariadb-enterprise-columnstore-data-loading-with-load-data-infile|LOAD DATA INFILE]] and [[mariadb-enterprise-columnstore-data-loading-with-insert-select|INSERT...SELECT]] statements. |
&lt;&lt;/style&gt;&gt;

2. Choose a configuration file in which to configure your system variables and options.
We recommend not making custom changes to one of the bundled configuration files. Instead, create a custom configuration file in one of the included directories. Configuration files in included directories are read in alphabetical order. If you want your custom configuration file to override the bundled configuration files, it is a good idea to prefix the custom configuration file&#39;s name with a string that will be sorted last, such as z-.

* On RHEL and CentOS, a good custom configuration file would be: /etc/my.cnf.d/z-custom-my.cnf
* On Debian and Ubuntu, a good custom configuration file would be: /etc/mysql/mariadb.conf.d/z-custom-my.cnf

3. Set your system variables and options in the configuration file.

They need to be set in a group that will be read by mariadbd, such as [mariadb] or [server].

For example:

&lt;&lt;code&gt;&gt;
[mariadb]
log_error                              = mariadbd.err
character_set_server                   = utf8
collation_server                       = utf8_general_ci
&lt;&lt;/code&gt;&gt;

== Configure Cross Engine Joins
When a cross engine join is executed, the ##ExeMgr## process connects to the server using the root user with no password by default. MariaDB Community Server 10.6 will reject this login attempt by default. If you plan to use Cross Engine Joins, you need to configure ColumnStore to use a different user account and password. These directions are for configuring the cross engine join user. Directions for creating the cross engine join user are in the Create the Cross Engine Join User section.

To configure cross engine joins, perform the following steps, use the ##mcsSetConfig## command.

For example, to configure ColumnStore to use the ##cross_engine## user account to connect to the server at 127.0.0.1:

&lt;&lt;code&gt;&gt;
$ sudo mcsSetConfig CrossEngineSupport Host 127.0.0.1
$ sudo mcsSetConfig CrossEngineSupport Port 3306
$ sudo mcsSetConfig CrossEngineSupport User cross_engine
$ sudo mcsSetConfig CrossEngineSupport Password cross_engine_passwd
&lt;&lt;/code&gt;&gt;

&lt;&lt;style class=&#34;bluebox&#34;&gt;&gt;
**Note:**  Please choose a password that meets your organization&#39;s password policies. If your MariaDB Community Server instance has a password validation plugin installed, then the password should also meet the configured requirements.
&lt;&lt;/style&gt;&gt;


== Configure the S3 Storage Manager
MariaDB ColumnStore can use S3-compatible storage, but it is not required. S3-compatible storage must be configured before it can be used.

To configure ColumnStore to use S3-compatible storage, edit ##/etc/columnstore/storagemanager.cnf##:

&lt;&lt;code&gt;&gt;
[ObjectStorage]
…
service = S3
…
[S3]
bucket = your_columnstore_bucket_name
endpoint = your_s3_endpoint
aws_access_key_id = your_s3_access_key_id
aws_secret_access_key = your_s3_secret_key
# iam_role_name = your_iam_role
# sts_region = your_sts_region
# sts_endpoint = your_sts_endpoint

[Cache]
cache_size = your_local_cache_size
path = your_local_cache_path
&lt;&lt;/code&gt;&gt;

* The default local cache size is 2 GB.
* The default local cache path is ##/var/lib/columnstore/storagemanager/cache##.
* Ensure that the local cache path has sufficient store space to store the local cache.
* The bucket option must be set to the name of the bucket that you created in the Create an S3 Bucket step.
* To use an ##IAM role##, you must also uncomment and set ##iam_role_name, sts_region, and sts_endpoint##.

== Start the ColumnStore Processes
The Community Server and ColumnStore processes can be started using the ##systemctl## command. In case the processes were started during the installation process, use the restart command to ensure that the processes pick up the new configuration. 

Perform the following procedure.

1. Start the MariaDB Community Server process and configure it to start automatically:

&lt;&lt;code&gt;&gt;
$ sudo systemctl restart mariadb

$ sudo systemctl enable mariadb
&lt;&lt;/code&gt;&gt;

2. Start the MariaDB ColumnStore processes and configure them to start automatically:

&lt;&lt;code&gt;&gt;
$ sudo systemctl restart mariadb-columnstore

$ sudo systemctl enable mariadb-columnstore

&lt;&lt;/code&gt;&gt;

= Create User Accounts
For single-node ColumnStore deployments, only a single user account needs to be created.

== Create the Cross Engine Join User

The credentials for cross engine joins were previously configured in the Cross Engine Joins section. The user account must also be created and granted the necessary privileges to access data.

1. Connect to the server using MariaDB Client using the ##root@localhost## user account:

&lt;&lt;code&gt;&gt;

$ sudo mariadb
&lt;&lt;/code&gt;&gt;

2. Create the user account with the [[create-user|CREATE USER]] statement:

&lt;&lt;code&gt;&gt;
CREATE USER &#39;cross_engine&#39;@&#39;127.0.0.1&#39;
   IDENTIFIED BY &#34;cross_engine_passwd&#34;;

CREATE USER &#39;cross_engine&#39;@&#39;localhost&#39;
   IDENTIFIED BY &#34;cross_engine_passwd&#34;;
&lt;&lt;/code&gt;&gt;


&lt;&lt;style class=&#34;bluebox&#34;&gt;&gt;
**Note:** Please choose the same user name and password that was configured in the Cross Engine Joins section.
&lt;&lt;/style&gt;&gt;

3. Grant the user account [[select|SELECT]] privileges on all databases with the [[grant|GRANT]] statement:

&lt;&lt;code&gt;&gt;
GRANT SELECT, PROCESS ON *.*
   TO &#39;cross_engine&#39;@&#39;127.0.0.1&#39;;

GRANT SELECT, PROCESS ON *.*
   TO &#39;cross_engine&#39;@&#39;localhost&#39;;
&lt;&lt;/code&gt;&gt;

= Bulk Import Data
Now that the ColumnStore system is running, you can bulk import your data.

== Import the Schema
Before data can be imported into the tables, the schema needs to be created.

1. Connect to the server using MariaDB Client using the ##root@localhost## user account:

&lt;&lt;code&gt;&gt;
$ sudo mariadb
&lt;&lt;/code&gt;&gt;
For each database that you are importing, create the database with the [[create-database|CREATE DATABASE]] statement:

&lt;&lt;code&gt;&gt;
CREATE DATABASE inventory;
&lt;&lt;/code&gt;&gt;

For each table that you are importing, create the table with the [[create-table|CREATE TABLE]] statement:

&lt;&lt;code&gt;&gt;
CREATE TABLE inventory.products (
   product_name varchar(11) NOT NULL DEFAULT &#39;&#39;,
   supplier varchar(128) NOT NULL DEFAULT &#39;&#39;,
   quantity varchar(128) NOT NULL DEFAULT &#39;&#39;,
   unit_cost varchar(128) NOT NULL DEFAULT &#39;&#39;
) ENGINE=Columnstore DEFAULT CHARSET=utf8;

&lt;&lt;/code&gt;&gt;

cpimport

MariaDB ColumnStore includes [[mariadb-enterprise-columnstore-data-loading-with-cpimport|cpimport]], which is a command-line utility that is designed to efficiently load data in bulk.

To import your data from a TSV (tab-separated values) file with [[mariadb-enterprise-columnstore-data-loading-with-cpimport|cpimport]]:

&lt;&lt;code&gt;&gt;
$ sudo cpimport -s &#39;\t&#39; inventory products /tmp/inventory-products.tsv
&lt;&lt;/code&gt;&gt;

== LOAD DATA INFILE
When data is loaded with the [[mariadb-enterprise-columnstore-data-loading-with-load-data-infile|LOAD DATA INFILE]] statement, MariaDB ColumnStore loads the data using cpimport, which is a command-line utility that is designed to efficiently load data in bulk.

To import your data from a TSV (tab-separated values) file with [[mariadb-enterprise-columnstore-data-loading-with-load-data-infile|LOAD DATA INFILE]] statement:

&lt;&lt;code&gt;&gt;
LOAD DATA INFILE &#39;/tmp/inventory-products.tsv&#39;
INTO TABLE inventory.products;
&lt;&lt;/code&gt;&gt;

== Import from Remote Database

MariaDB ColumnStore can also import data directly from a remote database. A simple method is to query the table using the [[select|SELECT]] statement, and then pipe the results into cpimport, which is a command-line utility that is designed to efficiently load data in bulk.

To import your data from a remote MariaDB database:

&lt;&lt;code&gt;&gt;
$ mariadb --quick \
   --skip-column-names \
   --execute=&#34;SELECT * FROM inventory.products&#34; \
   | cpimport -s &#39;\t&#39; inventory products
&lt;&lt;/code&gt;&gt;

= Configure the Linux Security Module
If you stopped the Linux Security Module (LSM) during installation, you can restart the module and configure.

The specific steps to configure the security module depend on the operating system.

== Configure SELinux (RHEL, CentOS)
We set SELinux to permissive mode in the SELinux section, but we have to create an SELinux policy for ColumnStore before re-enabling it. This will ensure that SELinux does not interfere with ColumnStore&#39;s functionality. A policy can be generated while SELinux is still in permissive mode using the audit2allow command.

1. To configure SELinux, you have to install the packages required for audit2allow.
On RHEL 7 and CentOS 7, install the following:

&lt;&lt;code&gt;&gt;
$ sudo yum install policycoreutils policycoreutils-python
&lt;&lt;/code&gt;&gt;


On RHEL 8, install the following:

&lt;&lt;code&gt;&gt;
$ sudo yum install policycoreutils python3-policycoreutils policycoreutils-python-utils
&lt;&lt;/code&gt;&gt;

2. Allow the system to run under load for a while to generate SELinux audit events.

3. After the system has taken some load, generate an SELinux policy from the audit events using audit2allow:

&lt;&lt;code&gt;&gt;
$ sudo grep mysqld /var/log/audit/audit.log | audit2allow -M mariadb_local
&lt;&lt;/code&gt;&gt;

If no audit events were found, this will print the following:

&lt;&lt;code&gt;&gt;
$ sudo grep mysqld /var/log/audit/audit.log | audit2allow -M mariadb_local

Nothing to do
&lt;&lt;/code&gt;&gt;

4. If audit events were found, the new SELinux policy can be loaded using semodule:

&lt;&lt;code&gt;&gt;
$ sudo semodule -i mariadb_local.pp
&lt;&lt;/code&gt;&gt;

5. Set SELinux to enforcing mode by setting SELINUX=enforcing in /etc/selinux/config:

&lt;&lt;code&gt;&gt;
# This file controls the state of SELinux on the system.
# SELINUX= can take one of these three values:
#     enforcing - SELinux security policy is enforced.
#     permissive - SELinux prints warnings instead of enforcing.
#     disabled - No SELinux policy is loaded.
SELINUX=enforcing
# SELINUXTYPE= can take one of three values:
#     targeted - Targeted processes are protected,
#     minimum - Modification of targeted policy. Only selected processes are protected.
#     mls - Multi Level Security protection.
SELINUXTYPE=targeted
&lt;&lt;/code&gt;&gt;

6. Reboot the system.

7. Confirm that SELinux is in enforcing mode using getenforce:

&lt;&lt;code&gt;&gt;
$ sudo getenforce
&lt;&lt;/code&gt;&gt;

== Configure AppArmor (Debian, Ubuntu)
We disabled AppArmor in the AppArmor section, but we have to create an AppArmor profile for ColumnStore before re-enabling it. This will ensure that AppArmor does not interfere with ColumnStore&#39;s functionality.

For information on how to create a profile, see How to create an AppArmor Profile on ubuntu.com.

= Administration
ColumnStore has several components. Each of those components needs to be administered.

== Community Server Administration
MariaDB Community Server uses systemctl to start and stop the server processes:

&lt;&lt;style class=&#34;darkheader-nospace-borders left&#34;&gt;&gt;
|= Operation |= Command |
| Start  | sudo systemctl start mariadb |
| Stop  | sudo systemctl stop mariadb |
| Restart  | sudo systemctl restart mariadb |
| Enable during startup  | sudo systemctl enable mariadb |
| Disable during startup  | sudo systemctl disable mariadb |
| Status  | sudo systemctl status mariadb |
&lt;&lt;/style&gt;&gt;

== ColumnStore Administration
MariaDB ColumnStore uses systemctl to start and stop the ColumnStore processes:

&lt;&lt;style class=&#34;darkheader-nospace-borders left&#34;&gt;&gt;
|= Operation |= Command |
| Start  | sudo systemctl start mariadb-columnstore |
| Stop  | sudo systemctl stop mariadb-columnstore |
| Restart  | sudo systemctl restart mariadb-columnstore |
| Enable during startup  | sudo systemctl enable mariadb-columnstore |
| Disable during startup  | sudo systemctl disable mariadb-columnstore |
| Status  | sudo systemctl status mariadb-columnstore |
&lt;&lt;/style&gt;&gt;

= Testing
When you have MariaDB ColumnStore up and running, you should test it to ensure that it is in working order and that there were not any issues during startup.

== Checking Server Status

1. Connect to the server using [[mariadb-client|MariaDB Client]] using the ##root@localhost## user account:

&lt;&lt;code&gt;&gt;
$ sudo mariadb
Welcome to the MariaDB monitor.  Commands end with ; or \g.
Your MariaDB connection id is 38
Server version: 10.6.21-MariaDB MariaDB Server

Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.

Type &#39;help;&#39; or &#39;\h&#39; for help. Type &#39;\c&#39; to clear the current input statement.

MariaDB [(none)]&gt;

&lt;&lt;/code&gt;&gt;</textarea>
    


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/solutions" title="Solutions">Solutions</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">Company</a></h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        
                        
                        <li>
                            <h5><a href="https://mariadb.com/downloads" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2025 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.1587e3a666fc.js" charset="utf-8"></script>

</html>