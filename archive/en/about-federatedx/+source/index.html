<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>About FederatedX - Source - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.f7633538c846.css" rel="stylesheet" type="text/css" />

    
        <meta name="robots" content="noindex, nofollow">
    

    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="About FederatedX - Source" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/en/about-federatedx/+source/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="" />

    <meta name="description" content="" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes autoresize nodes_source jqui" id="nodes_source">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/about-federatedx/+source/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2024 MariaDB. All rights reserved.</p>
    </div>
</div>
<div class="violator-wrap d-none" id="top_violator">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12">
                <div class="violator-outer">
                    <div class="violator-inner">
                        <div class="row">
                            <div class="col-xs-12 col-sm-9 col-lg-7 col-lg-offset-2" id="top_violator_content">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="content-link" target="_blank" rel="nofollow noreferrer">
                                    <span>The Ultimate Guide to High Availability with MariaDB</span>
                                </a>
                            </div>
                            <div class="col-xs-12 col-sm-3" id="top_violator_cta">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="btn btn-mariadb" target="_blank" rel="nofollow noreferrer">Download Now</a>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn btn-link close-btn">
                        <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" width="15px" height="15px"><path d="M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/about-federatedx/+source/" rel="nofollow">Login</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/en/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/en/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/services" title="Services">Services</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="About Us">About Us</a>
    </li>
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/en/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/en/documentation/">MariaDB Server Documentation</a>
    

    
    » <a class="crumb" href="/kb/en/columns-storage-engines-and-plugins/">Columns, Storage Engines, and Plugins</a>
    

    
    » <a class="crumb" href="/kb/en/storage-engines/">Storage Engines</a>
    

    
    » <a class="crumb" href="/kb/en/federatedx-storage-engine/">FederatedX</a>
    


    » <a class="node_link crumb" href="/kb/en/about-federatedx/">About FederatedX</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/en/">Home</a></li>
                            
                                
                                    <li><a href="/kb/en/+questions/">Open Questions</a></li>
                                
                                <li><a href="/kb/en/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/en/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/en/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/en/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
                        <div>
    

<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-small" href="/kb/en/about-federatedx/">Return to article</a>
    
</div>
</div>

</div>
                    

                    

































                </aside>
            
            
            
                
            
            
            <section id="content" class="limited_width col-md-10 clearfix">
                
                    <h1>About FederatedX - Source</h1>
                

                



                <div>
                    

    

    
    <div class="revision_info">
        <dl class="table">
            <dt>Revision</dt>
            <dd><a href="/kb/en/about-federatedx/+r/128607/">128607</a></dd>
            <dt>User</dt>
            <dd>
<span class="user" id="user-2">
<a href="/kb/user/id/2" title="Daniel Bartholomew">Daniel Bartholomew</a>
</span></dd>
            <dt>Date</dt>
            <dd>

<span class="datetime" title="2023-08-08 10:17">2023-08-08 10:17</span></dd>
        </dl>
    </div>
    


    

    
        
        <textarea id="answer_source" class="creole_source autogrow">The FederatedX storage engine is a fork of MySQL&#39;s [[https://dev.mysql.com/doc/refman/5.5/en/federated-storage-engine.html|Federated storage engine]], which is no longer being developed by Oracle. The original purpose of FederatedX was to keep this storage engine&#39;s development progressing-- to both add new features as well as fix old bugs.

Since MariaDB 10.0, the [[connect|CONNECT]] storage engine also allows access to a remote database via MySQL or ODBC connection (table types: [[connect-table-types-mysql-table-type-accessing-mysqlmariadb-tables|MYSQL]], [[connect-table-types-odbc-table-type-accessing-tables-from-other-dbms|ODBC]]). However, in the current implementation there are several limitations.

&lt;&lt;toc&gt;&gt;

== What is the FederatedX storage engine?

The FederatedX Storage Engine is a storage engine that works with both MariaDB and MySQL. Where other storage engines are built as interfaces to lower-level file-based data stores, FederatedX uses libmysql to talk to the data source, the data source being a remote RDBMS. Currently, since FederatedX only uses libmysql, it can only talk to another MySQL RDBMS. The plan is of course to be able to use other RDBMS systems as a data source. There is an existing project Federated ODBC which was able to use PostgreSQL as a remote data source, and it is this type of functionality which will be brought to FederatedX in subsequent versions.

== History 

The history of FederatedX is derived from the History of Federated. Cisco needed a MySQL storage engine that would allow them to consolidate remote tables on some sort of routing device, being able to interact with these remote tables as if they were local to the device, but not actually on the device, since the routing device had only so much storage space. The first prototype of the Federated Storage Engine was developed by JD (need to check on this- Brian Aker can verify) using the HANDLER interface. Brian handed the code to Patrick Galbraith and explained how it needed to work, and with Brian and Monty&#39;s tutelage and Patrick had a working Federated Storage Engine with MySQL 5.0. Eventually, Federated was released to the public in a MySQL 5.0 release. 

When MySQL 5.1 became the production release of MySQL, Federated had more features and enhancements added to it, namely:

* New Federated SERVER added to the parser. This was something Cisco needed that made it possible to change the connection parameters for numerous Federated tables at once without having to alter or re-create the Federated tables.
* Basic Transactional support-- for supporting remote transactional tables 
* Various bugs that needed to be fixed from MySQL 5.0
* Plugin capability

In MariaDB 10.0.2 FederatedX got support for assisted [[table-discovery|table discovery]].

== Installing the Plugin

Although the plugin&#39;s shared library is distributed with MariaDB by default, the plugin is not actually installed by MariaDB by default. There are two methods that can be used to install the plugin with MariaDB.

The first method can be used to install the plugin without restarting the server. You can install the plugin dynamically by executing ##[[install-soname|INSTALL SONAME]]## or ##[[install-plugin|INSTALL PLUGIN]]##. For example:

&lt;&lt;sql&gt;&gt;
INSTALL SONAME &#39;ha_federatedx&#39;;
&lt;&lt;/sql&gt;&gt;

The second method can be used to tell the server to load the plugin when it starts up. The plugin can be installed this way by providing the [[mariadbd-options/#-plugin-load|--plugin-load]] or the [[mariadbd-options/#-plugin-load-add|--plugin-load-add]] options. This can be specified as a command-line argument to [[mariadbd-options|mariadbd]] or it can be specified in a relevant server [[configuring-mariadb-with-option-files/#option-groups|option group]] in an [[configuring-mariadb-with-option-files|option file]]. For example:

&lt;&lt;code&gt;&gt;
[mariadb]
...
plugin_load_add = ha_federatedx
&lt;&lt;/code&gt;&gt;

== Uninstalling the Plugin

You can uninstall the plugin dynamically by executing ##[[uninstall-soname|UNINSTALL SONAME]]## or ##[[uninstall-plugin|UNINSTALL PLUGIN]]##. For example:

&lt;&lt;sql&gt;&gt;
UNINSTALL SONAME &#39;ha_federatedx&#39;;
&lt;&lt;/sql&gt;&gt;

If you installed the plugin by providing the [[mariadbd-options/#-plugin-load|--plugin-load]] or the [[mariadbd-options/#-plugin-load-add|--plugin-load-add]] options in a relevant server [[configuring-mariadb-with-option-files/#option-groups|option group]] in an [[configuring-mariadb-with-option-files|option file]], then those options should be removed to prevent the plugin from being loaded the next time the server is restarted.

== How FederatedX works

Every storage engine has to implement derived standard handler class API methods for a storage engine to work. FederatedX is no different in that regard. The big difference is that FederatedX needs to implement these handler methods in such as to construct SQL statements to run on the remote server and if there is a result set, process that result set into the internal handler format so that the result  is returned to the user.

=== Internal workings of FederatedX

Normal database files are local and as such: You create a table called
&#39;users&#39;, a file such as &#39;users.MYD&#39; is created. A handler reads, inserts,
deletes, updates data in this file. The data is stored in particular format,
so to read, that data has to be parsed into fields, to write, fields have to
be stored in this format to write to this data file.

With the FederatedX storage engine, there will be no local files
for each table&#39;s data (such as .MYD). A foreign database will store
the data that would normally be in this file. This will necessitate
the use of MySQL client API to read, delete, update, insert this
data. The data will have to be retrieve via an SQL call 
&#34;&lt;&lt;sql&gt;&gt;SELECT * FROM users&lt;&lt;/sql&gt;&gt;&#34;. Then, to read this data, it will have to be retrieved via &lt;&lt;sql&gt;&gt;mysql_fetch_row&lt;&lt;/sql&gt;&gt; one row at a time, then converted from the
column in this select into the format that the handler expects.

The basic functionality of how FederatedX works is:
* The user issues an SQL statement against the local federatedX table. This statement is parsed into an item tree
* FederatedX uses the mysql handler API to implement the various methods required for a storage engine. It has access to the item tree for the SQL statement issued, as well as the Table object and each of its Field members. At 
* With this information, FederatedX constructs an SQL statement 
* The constructed SQL statement is sent to the Foreign data source through libmysql using the mysql client API
* The foreign database reads the SQL statement and sends the result back through the mysql client API to the origin 
* If the original SQL statement has a result set from the foreign data source, the FederatedX storage engine iterates through the result set and converts each row and column to the internal handler format
* If the original SQL statement only returns the number of rows returned (affected_rows), that number is added to the table stats which results in the user seeing how many rows were affected.

==== FederatedX table creation

The create table will simply create the .frm file, and within the
&lt;&lt;code lang=sql inline=true&gt;&gt;CREATE TABLE&lt;&lt;/code&gt;&gt; SQL statement, there SHALL be any of the following :

&lt;&lt;code&gt;&gt;
connection=scheme://username:password@hostname:port/database/tablename
connection=scheme://username@hostname/database/tablename
connection=scheme://username:password@hostname/database/tablename
connection=scheme://username:password@hostname/database/tablename
&lt;&lt;/code&gt;&gt;

Or using the syntax introduced in MySQL versions 5.1 for a Federated server (SQL/MED Spec xxxx)

&lt;&lt;code&gt;&gt;
connection=&#34;connection_one&#34;
connection=&#34;connection_one/table_foo&#34;
&lt;&lt;/code&gt;&gt;

An example of a connect string specifying all the connection parameters would be:

&lt;&lt;code&gt;&gt;
connection=mysql://username:password@hostname:port/database/tablename
&lt;&lt;/code&gt;&gt;

Or, using a Federated server, first a server is created:

&lt;&lt;code lang=sql inline=false&gt;&gt;
create server &#39;server_one&#39; foreign data wrapper &#39;mysql&#39; options
  (HOST &#39;127.0.0.1&#39;,
  DATABASE &#39;db1&#39;,
  USER &#39;root&#39;,
  PASSWORD &#39;&#39;,
  PORT 3306,
  SOCKET &#39;&#39;,
  OWNER &#39;root&#39;);
&lt;&lt;/code&gt;&gt;

Then the FederatedX table is created specifying the newly created Federated server:

&lt;&lt;code lang=sql inline=false&gt;&gt;
CREATE TABLE federatedx.t1 (
  `id` int(20) NOT NULL,
  `name` varchar(64) NOT NULL default &#39;&#39;
  )
ENGINE=&#34;FEDERATED&#34; DEFAULT CHARSET=latin1
CONNECTION=&#39;server_one&#39;;
&lt;&lt;/code&gt;&gt;

(Note that in MariaDB, the original Federated storage engine is replaced with
the new FederatedX storage engine. And for backward compatibility, the old
name &#34;FEDERATED&#34; is used in create table. So in MariaDB, the engine type
should be given as &#34;FEDERATED&#34; without an extra &#34;X&#34;, not &#34;FEDERATEDX&#34;).

The equivalent of above, if done specifying all the connection parameters

&lt;&lt;code lang=sql inline=false&gt;&gt;
CONNECTION=&#34;mysql://root@127.0.0.1:3306/db1/t1&#34;
&lt;&lt;/code&gt;&gt;

You can also change the server to point to a new schema:

&lt;&lt;code lang=sql inline=false&gt;&gt;
ALTER SERVER &#39;server_one&#39; options(DATABASE &#39;db2&#39;);
&lt;&lt;/code&gt;&gt;

All subsequent calls to any FederatedX table using the &#39;server_one&#39; will now be against db2.t1! Guess what? You no longer have to perform an alter table in order to point one or more FederatedX tables to a new server!

This &lt;&lt;fixed&gt;&gt;connection=&#34;connection string&#34;&lt;&lt;/fixed&gt;&gt; is necessary 
for the handler to be able to connect to the foreign server, either
by URL, or by server name. 

=== Method calls

One way to see how the FederatedX storage engine works is to compile a debug build of MariaDB and turn on a trace log. Using a two column table, with one record, the following SQL statements shown below, can be analyzed for what internal methods they result in being called.

==== SELECT

If the query is for instance &#34;&lt;&lt;code lang=sql inline=true&gt;&gt;SELECT * FROM foo&lt;&lt;/code&gt;&gt;&#34;, then the primary methods you would see with debug turned on would be first:

&lt;&lt;code&gt;&gt;
ha_federatedx::info
ha_federatedx::scan_time:
ha_federatedx::rnd_init: share-&gt;select_query SELECT * FROM foo
ha_federatedx::extra
&lt;&lt;/code&gt;&gt;

Then for every row of data retrieved from the foreign database in the result set:

&lt;&lt;code&gt;&gt;
ha_federatedx::rnd_next
ha_federatedx::convert_row_to_internal_format
ha_federatedx::rnd_next
&lt;&lt;/code&gt;&gt;

After all the rows of data that were retrieved, you would see:

&lt;&lt;code&gt;&gt;
ha_federatedx::rnd_end
ha_federatedx::extra
ha_federatedx::reset
&lt;&lt;/code&gt;&gt;

==== INSERT

If the query was &#34;&lt;&lt;code lang=sql inline=true&gt;&gt;INSERT INTO foo (id, ts) VALUES (2, now());&lt;&lt;/code&gt;&gt;&#34;, the trace would be:

&lt;&lt;code&gt;&gt;
ha_federatedx::write_row
ha_federatedx::reset
&lt;&lt;/code&gt;&gt;

==== UPDATE

If the query was &#34;&lt;&lt;sql&gt;&gt;UPDATE foo SET ts = now() WHERE id = 1;&lt;&lt;/sql&gt;&gt;&#34;, the resultant trace would be:

&lt;&lt;code&gt;&gt;
ha_federatedx::index_init
ha_federatedx::index_read
ha_federatedx::index_read_idx
ha_federatedx::rnd_next
ha_federatedx::convert_row_to_internal_format
ha_federatedx::update_row

ha_federatedx::extra
ha_federatedx::extra
ha_federatedx::extra
ha_federatedx::external_lock
ha_federatedx::reset
&lt;&lt;/code&gt;&gt;

== FederatedX capabilities and limitations

* Tables MUST be created on the foreign server prior to any action on those tables via the handler, first version. IMPORTANT: IF you MUST use the FederatedX storage engine type on the REMOTE end, make sure that the table you connect to IS NOT a table pointing BACK to your ORIGINAL table! You know and have heard the screeching of audio feedback? You know putting two mirrors in front of each other how the reflection continues for eternity? Well, need I say more?!
* There is no way for the handler to know if the foreign database or table has changed. The reason for this is that this database has to work like a data file that would never be written to by anything other than the database. The integrity of the data in the local table could be breached if there was any change to the foreign database.
* Support for SELECT, INSERT, UPDATE, DELETE indexes.
* No ALTER TABLE, DROP TABLE or any other Data Definition Language calls.
* Prepared statements will not be used in the first implementation, it remains to to be seen whether the limited subset of the client API for the server supports this.
* This uses SELECT, INSERT, UPDATE, DELETE and not HANDLER for its implementation.
* This will not work with the query cache.
* FederatedX does not support [[GEOMETRY]] types. Such tables cannot be created explicitly, nor discovered.

== How do you use FederatedX?

To use this handler, it&#39;s very simple. You must have two databases running, either both on the same host, or on different hosts.

First, on the foreign database you create a table, for example:

&lt;&lt;code wrap=true lang=sql&gt;&gt;
CREATE TABLE test_table (
  id     int(20) NOT NULL auto_increment,
  name   varchar(32) NOT NULL default &#39;&#39;,
  other  int(20) NOT NULL default &#39;0&#39;,
  PRIMARY KEY  (id),
  KEY name (name),
  KEY other_key (other))
DEFAULT CHARSET=latin1;
&lt;&lt;/code&gt;&gt;

Then, on the server that will be connecting to the foreign host (client), you create a federated table without specifying the table structure:

&lt;&lt;sql&gt;&gt;
CREATE TABLE test_table ENGINE=FEDERATED 
  CONNECTION=&#39;mysql://root@127.0.0.1:9306/federatedx/test_federatedx&#39;;
&lt;&lt;/sql&gt;&gt;

Notice the &#34;ENGINE&#34; and &#34;CONNECTION&#34; fields? This is where you
respectively set the engine type, &#34;FEDERATED&#34; and foreign
host information, this being the database your &#39;client&#39; database
will connect to and use as the &#34;data file&#34;. Obviously, the foreign
database is running on port 9306, so you want to start up your other
database so that it is indeed on port 9306, and your FederatedX
database on a port other than that. In my setup, I use port 5554
for FederatedX, and port 5555 for the foreign database.

Alternatively (or if you&#39;re using MariaDB before version 10.0.2) you specify the federated table structure explicitly:

&lt;&lt;sql&gt;&gt;
CREATE TABLE test_table (
  id     int(20) NOT NULL auto_increment,
  name   varchar(32) NOT NULL default &#39;&#39;,
  other  int(20) NOT NULL default &#39;0&#39;,
  PRIMARY KEY  (id),
  KEY name (name),
  KEY other_key (other))
ENGINE=FEDERATED
DEFAULT CHARSET=latin1
CONNECTION=&#39;mysql://root@127.0.0.1:9306/federatedx/test_federatedx&#39;;
&lt;&lt;/sql&gt;&gt;

In this case the table structure must match exactly the table on the foreign server.

=== How to see the storage engine in action

When developing this handler, I compiled the FederatedX database with debugging:

&lt;&lt;code lang=sh inline=false&gt;&gt;
./configure --with-federatedx-storage-engine \
  --prefix=/home/mysql/mysql-build/federatedx/ --with-debug
&lt;&lt;/code&gt;&gt;

Once compiled, I did a &#39;make install&#39; (not for the purpose of installing the binary, but to install all the files the binary expects to see in the directory I specified in the build with 

&lt;&lt;code lang=sh inline=false&gt;&gt;
--prefix=/home/code-dev/maria
&lt;&lt;/code&gt;&gt;

Then, I started the foreign server:

&lt;&lt;code lang=sh inline=false&gt;&gt;
/usr/local/mysql/bin/mysqld_safe \
  --user=mysql --log=/tmp/mysqld.5555.log -P 5555
&lt;&lt;/code&gt;&gt;

Then, I went back to the directory containing the newly compiled mysqld 
&lt;&lt;fixed&gt;&gt;&lt;builddir&gt;/sql/&lt;&lt;/fixed&gt;&gt;, started up gdb:

&lt;&lt;code lang=sh inline=false&gt;&gt;
gdb ./mysqld
&lt;&lt;/code&gt;&gt;

Then, within the (gdb) prompt:

&lt;&lt;code lang=sh inline=false&gt;&gt;
(gdb) run --gdb --port=5554 --socket=/tmp/mysqld.5554 --skip-innodb --debug
&lt;&lt;/code&gt;&gt;

Next, I open several windows for each:

# Tail the debug trace: tail -f /tmp/mysqld.trace|grep ha_fed
# Tail the SQL calls to the foreign database: tail -f /tmp/mysqld.5555.log
# A window with a client open to the federatedx server on port 5554
# A window with a client open to the federatedx server on port 5555

I would create a table on the client to the foreign server on port 5555, and then to the FederatedX server on port 5554. At this point, I would run whatever queries I wanted to on the FederatedX server, just always remembering that whatever changes I wanted to make on the table, or if I created new tables, that I would have to do that on the foreign server.

Another thing to look for is &#39;show variables&#39; to show you that you have
support for FederatedX handler support:

&lt;&lt;sql&gt;&gt;
show variables like &#39;%federat%&#39;
&lt;&lt;/sql&gt;&gt;

and:

&lt;&lt;sql&gt;&gt;
show storage engines;
&lt;&lt;/sql&gt;&gt;

Both should display the federatedx storage handler.

== How do I create a federated server?

A federated server is a way to have a foreign data source defined-- with all connection parameters-- so that you don&#39;t have to specify explicitly the connection parameters in a string.

For instance, if you wanted to connect to a table, t1, using this definition: 

&lt;&lt;sql&gt;&gt;
CREATE TABLE test_table ENGINE=FEDERATED 
  CONNECTION=&#39;mysql://patg@192.168.1.123/first_db/t1&#39;;
&lt;&lt;/sql&gt;&gt;
	
You could instead create this with a server:

&lt;&lt;sql&gt;&gt;
create server &#39;server_one&#39; foreign data wrapper &#39;mysql&#39; options
  (HOST &#39;192.168.1.123&#39;,		
  DATABASE &#39;first_db&#39;,		
  USER &#39;patg&#39;,
  PASSWORD &#39;&#39;,
  PORT 3306,
  SOCKET &#39;&#39;,		
  OWNER &#39;root&#39;);
&lt;&lt;/sql&gt;&gt;

You could now specify the server instead of the full URL in the connection string:

&lt;&lt;sql&gt;&gt;
CREATE TABLE test_table ENGINE=FEDERATED 
  CONNECTION=&#39;server_one/t1&#39;;
&lt;&lt;/sql&gt;&gt;

On the server where you create this &lt;&lt;fixed&gt;&gt;test_table&lt;&lt;/fixed&gt;&gt; you will now have access to the tabel &lt;&lt;fixed&gt;&gt;t1&lt;&lt;/fixed&gt;&gt; on the remote server found on 192.168.1.123.

== How does FederatedX differ from the old Federated Engine?

FederatedX from a user point of view is the same for the most part. What is different with FederatedX and Federated is the following:

* Rewrite of the main Federated source code from one single ha_federated.cc file into three main abstracted components:
** ha_federatedx.cc - Core implementation of FederatedX
** federated_io.cc - Parent connection class to be over-ridden by derived classes for each RDBMS/client lib
** federatated_io_&lt;driver&gt;.cc - derived federated_io class for a given RDBMS
** federated_txn.cc - New support for using transactional engines on the foreign server using a connection poll
* Various bugs fixed (need to look at opened bugs for Federated)

== Where can I get FederatedX

FederatedX is part of MariaDB 5.1 and later. MariaDB merged with the latest FederatedX when there is a need to get a bug fixed. You can get the latest code/follow/participate in the project from the [[http://launchpad.net/federatedx|FederatedX home page]].

=== What are the plans for FederatedX?

* Support for other RDBMS vendors using ODBC
* Support for pushdown conditions
* Ability to limit result set sizes

=== See Also
* [[create-server|CREATE SERVER]]
* [[alter-server|ALTER SERVER]]
* [[drop-server|DROP SERVER]]</textarea>
    


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/services" title="Services">Services</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">About Us</a></h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/download" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2024 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.1587e3a666fc.js" charset="utf-8"></script>

</html>