<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>CONNECT XCOL Table Type - Source - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.b9e1e104f007.css" rel="stylesheet" type="text/css" />

    
        <meta name="robots" content="noindex, nofollow">
    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="CONNECT XCOL Table Type - Source" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/en/connect-xcol-table-type/+source/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="" />

    <meta name="description" content="" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes autoresize nodes_source jqui" id="nodes_source">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/connect-xcol-table-type/+source/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2024 MariaDB. All rights reserved.</p>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/connect-xcol-table-type/+source/" rel="nofollow">Login</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/en/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/en/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/services" title="Services">Services</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="About Us">About Us</a>
    </li>
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/en/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/en/documentation/">MariaDB Server Documentation</a>
    

    
    » <a class="crumb" href="/kb/en/columns-storage-engines-and-plugins/">Columns, Storage Engines, and Plugins</a>
    

    
    » <a class="crumb" href="/kb/en/storage-engines/">Storage Engines</a>
    

    
    » <a class="crumb" href="/kb/en/connect/">CONNECT</a>
    

    
    » <a class="crumb" href="/kb/en/connect-table-types/">CONNECT Table Types</a>
    


    » <a class="node_link crumb" href="/kb/en/connect-xcol-table-type/">CONNECT XCOL Table Type</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/en/">Home</a></li>
                            
                                
                                    <li><a href="/kb/en/+questions/">Open Questions</a></li>
                                
                                <li><a href="/kb/en/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/en/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/en/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/en/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
                        <div>
    

<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-small" href="/kb/en/connect-xcol-table-type/">Return to article</a>
    
</div>
</div>

</div>
                    

                    

































                </aside>
            
            
            
                
            
            
            <section id="content" class="limited_width col-md-10 clearfix">
                
                    <h1>CONNECT XCOL Table Type - Source</h1>
                

                



                <div>
                    

    

    
    <div class="revision_info">
        <dl class="table">
            <dt>Revision</dt>
            <dd><a href="/kb/en/connect-xcol-table-type/+r/55676/">55676</a></dd>
            <dt>User</dt>
            <dd>
<span class="user" id="user-2">
<a href="/kb/user/id/2" title="Daniel Bartholomew">Daniel Bartholomew</a>
</span></dd>
            <dt>Date</dt>
            <dd>

<span class="datetime" title="2017-06-14 12:35">2017-06-14 12:35</span></dd>
        </dl>
    </div>
    


    

    
        
        <textarea id="answer_source" class="creole_source autogrow">&lt;&lt;toc&gt;&gt;
##XCOL## tables are based on another table or view, like ##[[connect-table-types-proxy-table-type|PROXY]]## tables. This type can be
used when the object table has a column that contains a list of values.

Suppose we have a //&#39;children&#39;// table that can be displayed as:

&lt;&lt;style class=&#34;darkheader-nospace-borders&#34;&gt;&gt;
|= name     |= childlist
| Sophie | Vivian, Antony |
| Lisbeth | Lucy,Charles,Diana |
| Corinne   | |
| Claude    | Marc |
| Janet | Arthur, Sandra, Peter, John |
&lt;&lt;/style&gt;&gt;

We can have a different view on these data, where each child will be associated
with his/her mother by creating an ##XCOL## table by:

&lt;&lt;code lang=mysql inline=false&gt;&gt;
CREATE TABLE xchild (
  mother char(12) NOT NULL,
  child char(12) DEFAULT NULL flag=2
) ENGINE=CONNECT table_type=XCOL tabname=&#39;chlist&#39;
option_list=&#39;colname=child&#39;;
&lt;&lt;/code&gt;&gt;

The ##COLNAME## option specifies the name of the column receiving the list
items.  This will return from:

&lt;&lt;code lang=mysql inline=false&gt;&gt;
select * from xchild;
&lt;&lt;/code&gt;&gt;

The requested view:

&lt;&lt;style class=&#34;darkheader-nospace-borders&#34;&gt;&gt;
|= mother   |= child
| Sophia | Vivian |
| Sophia | Antony |
| Lisbeth | Lucy |
| Lisbeth | Charles |
| Lisbeth | Diana |
| Corinne | NULL |
| Claude | Marc |
| Janet | Arthur |
| Janet | Sandra |
| Janet | Peter |
| Janet | John |
&lt;&lt;/style&gt;&gt;

Several things should be noted here:

* When the original //children// field is void, what happens depends on the NULL specification of the &#34;multiple&#34; column. If it is nullable, like here, a void string will generate a NULL value. However, if the column is not nullable, no row will be generated at all.
* Blanks after the separator are ignored.
* No copy of the original data was done. Both tables use the same source data.
* Specifying the column definitions in the ##CREATE TABLE## statement is optional.

The &#34;multiple&#34; column //child// can be used as any other column. For instance:

&lt;&lt;code lang=mysql inline=false&gt;&gt;
select * from xchild where substr(child,1,1) = &#39;A&#39;;
&lt;&lt;/code&gt;&gt;

This will return:

&lt;&lt;style class=&#34;darkheader-nospace-borders&#34;&gt;&gt;
|= Mother   |= Child
| Sophia    | Antony |
| Janet    | Arthur |
&lt;&lt;/style&gt;&gt;

If a query does not involve the &#34;multiple&#34; column, no row multiplication will
be done. For instance:

&lt;&lt;code lang=mysql inline=false&gt;&gt;
select mother from xchild;
&lt;&lt;/code&gt;&gt;

This will just return all the mothers:
&lt;&lt;style class=&#34;darkheader-nospace-borders&#34;&gt;&gt;
|= mother
| Sophia
| Lisbeth
| Corinne
| Claude
| Janet
&lt;&lt;/style&gt;&gt;

The same occurs with other types of select statements, for instance:

&lt;&lt;code lang=mysql inline=false&gt;&gt;
select count(*) from xchild;      -- returns 5
select count(child) from xchild;  -- returns 10
select count(mother) from xchild; -- returns 5
&lt;&lt;/code&gt;&gt;

Grouping also gives different result:

&lt;&lt;code lang=mysql inline=false&gt;&gt;
select mother, count(*) from xchild group by mother;
&lt;&lt;/code&gt;&gt;

Replies:

&lt;&lt;style class=&#34;darkheader-nospace-borders&#34;&gt;&gt;
|= mother   |= count(*)
| Claude | 1 |
| Corinne|  1 |
| Janet|  1 |
| Lisbeth|  1 |
| Sophia|  1 |
&lt;&lt;/style&gt;&gt;

While the query:

&lt;&lt;code lang=mysql inline=false&gt;&gt;
select mother, count(child) from xchild group by mother;
&lt;&lt;/code&gt;&gt;

Gives the more interesting result:

&lt;&lt;style class=&#34;darkheader-nospace-borders&#34;&gt;&gt;
|= mother   |= count(child)
| Claude | 1 |
| Corinne|  0 |
| Janet|  4 |
| Lisbeth|  3 |
| Sophia|  2 |
&lt;&lt;/style&gt;&gt;

Some more options are available for this table type:

&lt;&lt;style class=&#34;darkheader-nospace-borders&#34;&gt;&gt;
|= Option  |= Description
| Sep_char | The separator character used in the &#34;multiple&#34; column, defaults to the comma.
| Mult     | Indicates the max number of multiple items. It is used to internally calculate the max size of the table and defaults to 10. (To be specified in ##OPTION_LIST##).
&lt;&lt;/style&gt;&gt;

== Using Special Columns with XCOL
Special columns can be used in XCOL tables. The mostly useful one is ROWNUM that gives the rank of the value in the list of values. For instance:

&lt;&lt;sql&gt;&gt;
CREATE TABLE xchild2 (
rank int NOT NULL SPECIAL=ROWID,
mother char(12) NOT NULL,
child char(12) NOT NULL flag=2
) ENGINE=CONNECT table_type=XCOL tabname=&#39;chlist&#39; option_list=&#39;colname=child&#39;;
&lt;&lt;/sql&gt;&gt;

This table will be displayed as:

&lt;&lt;style class=&#34;darkheader-nospace-borders&#34;&gt;&gt;
|= rank |= mother |= child |
| 1 | Sophia | Vivian |
| 2 | Sophia | Antony |
| 1 | Lisbeth | Lucy |
| 2 | Lisbeth | Charles |
| 3 | Lisbeth | Diana |
| 1 | Claude | Marc |
| 1 | Janet | Arthur |
| 2 | Janet | Sandra |
| 3 | Janet | Peter |
| 4 | Janet | John |
&lt;&lt;/style&gt;&gt;

To list only the first child of each mother you can do:

&lt;&lt;sql&gt;&gt;
SELECT mother, child FROM xchild2 where rank = 1 ;
&lt;&lt;/sql&gt;&gt;

returning:

&lt;&lt;style class=&#34;darkheader-nospace-borders&#34;&gt;&gt;
|= mother |= child |
| Sophia | Vivian |
| Lisbeth | Lucy |
| Claude | Marc |
| Janet | Arthur |
&lt;&lt;/style&gt;&gt;

However, note the following pitfall: trying to get the names of all mothers having more than 2 children cannot be done by:

&lt;&lt;sql&gt;&gt;
SELECT mother FROM xchild2 where rank &gt; 2;
&lt;&lt;/sql&gt;&gt;

This is because with no row multiplication being done, the rank value is always 1. The correct way to obtain this result is longer but cannot use the ROWNUM column:

&lt;&lt;sql&gt;&gt;
SELECT mother FROM xchild2 group by mother having count(child) &gt; 2;
&lt;&lt;/sql&gt;&gt;

== XCOL tables based on specified views
Instead of specifying a source table name via the TABNAME option, it is possible to retrieve data from a
“view” whose definition is given in a new option SRCDEF . For instance:
&lt;&lt;code lang=mysql inline=false&gt;&gt;
create table xsvars engine=connect table_type=XCOL
srcdef=&#39;show variables like &#34;optimizer_switch&#34;&#39;
option_list=&#39;Colname=Value&#39;;
&lt;&lt;/code&gt;&gt;

Then, for instance:
&lt;&lt;code lang=mysql inline=false&gt;&gt;
select value from xsvars limit 10;
&lt;&lt;/code&gt;&gt;

This will display something like:
&lt;&lt;style class=&#34;darkheader-nospace-borders&#34;&gt;&gt;
|= value  |
| index_merge=on
| index_merge_union=on
| index_merge_sort_union=on
| index_merge_intersection=on
| index_merge_sort_intersection=off
| engine_condition_pushdown=off
| index_condition_pushdown=on
| derived_merge=on
| derived_with_keys=on
| firstmatch=on
&lt;&lt;/style&gt;&gt;
Note: All XCOL tables are read only.</textarea>
    


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/services" title="Services">Services</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">About Us</a></h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/download" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2024 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.fed4ec768178.js" charset="utf-8"></script>

</html>