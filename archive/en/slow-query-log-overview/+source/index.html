<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>Slow Query Log Overview - Source - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.f7633538c846.css" rel="stylesheet" type="text/css" />

    
        <meta name="robots" content="noindex, nofollow">
    

    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="Slow Query Log Overview - Source" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/en/slow-query-log-overview/+source/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="" />

    <meta name="description" content="" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes autoresize nodes_source jqui" id="nodes_source">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/slow-query-log-overview/+source/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2025 MariaDB. All rights reserved.</p>
    </div>
</div>
<div class="violator-wrap d-none" id="top_violator">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12">
                <div class="violator-outer">
                    <div class="violator-inner">
                        <div class="row">
                            <div class="col-xs-12 col-sm-9 col-lg-7 col-lg-offset-2" id="top_violator_content">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="content-link" target="_blank" rel="nofollow noreferrer">
                                    <span>The Ultimate Guide to High Availability with MariaDB</span>
                                </a>
                            </div>
                            <div class="col-xs-12 col-sm-3" id="top_violator_cta">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="btn btn-mariadb" target="_blank" rel="nofollow noreferrer">Download Now</a>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn btn-link close-btn">
                        <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" width="15px" height="15px"><path d="M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/slow-query-log-overview/+source/" rel="nofollow">Login</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/en/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/en/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/services" title="Services">Services</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="About Us">About Us</a>
    </li>
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/en/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/en/documentation/">MariaDB Server Documentation</a>
    

    
    » <a class="crumb" href="/kb/en/mariadb-administration/">MariaDB Administration</a>
    

    
    » <a class="crumb" href="/kb/en/server-monitoring-logs/">Server Monitoring &amp; Logs</a>
    

    
    » <a class="crumb" href="/kb/en/slow-query-log/">Slow Query Log</a>
    


    » <a class="node_link crumb" href="/kb/en/slow-query-log-overview/">Slow Query Log Overview</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/en/">Home</a></li>
                            
                                
                                    <li><a href="/kb/en/+questions/">Open Questions</a></li>
                                
                                <li><a href="/kb/en/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/en/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/en/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/en/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
                        <div>
    

<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-small" href="/kb/en/slow-query-log-overview/">Return to article</a>
    
</div>
</div>

</div>
                    

                    

































                </aside>
            
            
            
                
            
            
            <section id="content" class="limited_width col-md-10 clearfix">
                
                    <h1>Slow Query Log Overview - Source</h1>
                

                



                <div>
                    

    

    
    <div class="revision_info">
        <dl class="table">
            <dt>Revision</dt>
            <dd><a href="/kb/en/slow-query-log-overview/+r/141496/">141496</a></dd>
            <dt>User</dt>
            <dd>
<span class="user" id="user-1368">
<a href="/kb/user/id/1368" title="Ian Gilfillan">Ian Gilfillan</a>
</span></dd>
            <dt>Date</dt>
            <dd>

<span class="datetime" title="2024-07-29 16:06">2024-07-29 16:06</span></dd>
        </dl>
    </div>
    


    

    
        
        <textarea id="answer_source" class="creole_source autogrow">&lt;&lt;toc&gt;&gt;

The slow query log is a record of SQL queries that took a long time to perform.

Note that, if your queries contain user&#39;s passwords, the slow query log may contain passwords too. Thus, it should be protected.

The number of rows affected by the slow query are also recorded in the slow query log.

== Enabling the Slow Query Log

The slow query log is disabled by default. 

To enable the slow query log, set the [[server-system-variables#slow_query_log|slow_query_log]] system variable (or, from MariaDB 10.11, [[server-system-variables#log_slow_query|log_slow_query]]) to ##1##. It can be changed dynamically with [[set/#global-session|SET GLOBAL]]. For example:

&lt;&lt;code&gt;&gt;
SET GLOBAL slow_query_log=1;
&lt;&lt;/code&gt;&gt;

It can also be set in a server [[configuring-mariadb-with-option-files/#option-groups|option group]] in an [[configuring-mariadb-with-option-files|option file]] prior to starting up the server. For example:

&lt;&lt;code&gt;&gt;
[mariadb]
...
slow_query_log
&lt;&lt;/code&gt;&gt;

== Configuring the Slow Query Log Filename

By default, the slow query log is written to ##${hostname}-slow.log## in the [[server-system-variables#datadir|datadir]] directory. However, this can be changed.

One way to configure the slow query log filename is to set the [[server-system-variables#slow_query_log_file|slow_query_log_file]] system variable (or, from MariaDB 10.11, [[server-system-variables#log_slow_query_file|log_slow_query_file]]). It can be changed dynamically with [[set/#global-session|SET GLOBAL]]. For example:

&lt;&lt;code&gt;&gt;
SET GLOBAL slow_query_log_file=&#39;mariadb-slow.log&#39;;
&lt;&lt;/code&gt;&gt;

It can also be set in a server [[configuring-mariadb-with-option-files/#option-groups|option group]] in an [[configuring-mariadb-with-option-files|option file]] prior to starting up the server. For example:

&lt;&lt;code&gt;&gt;
[mariadb]
...
slow_query_log
slow_query_log_file=mariadb-slow.log
&lt;&lt;/code&gt;&gt;

If it is a relative path, then the [[server-system-variables#slow_query_log_file|slow_query_log_file]] is relative to the [[server-system-variables#datadir|datadir]] directory.

However, the [[server-system-variables#slow_query_log_file|slow_query_log_file]] system variable can also be an absolute path. For example:

&lt;&lt;code&gt;&gt;
[mariadb]
...
slow_query_log
slow_query_log_file=/var/log/mysql/mariadb-slow.log
&lt;&lt;/code&gt;&gt;

Another way to configure the slow query log filename is to set the [[mariadbd-options/#-log-basename|log-basename]] option, which configures MariaDB to use a common prefix for all log files (e.g. slow query log, [[general-query-log|general query log]], [[error-log|error log]], [[binary-log|binary logs]], etc.). The slow query log filename will be built by adding ##-slow.log## to this prefix. This option cannot be set dynamically. It can be set in a server [[configuring-mariadb-with-option-files/#option-groups|option group]] in an [[configuring-mariadb-with-option-files|option file]] prior to starting up the server. For example:

&lt;&lt;code&gt;&gt;
[mariadb]
...
log-basename=mariadb
slow_query_log
&lt;&lt;/code&gt;&gt;

The [[mysqld-options/#-log-basename|log-basename]] cannot be an absolute path. The log file name is relative to the [[server-system-variables#datadir|datadir]] directory.

== Choosing the Slow Query Log Output Destination

The slow query log can either be written to a file on disk, or it can be written to the [[mysqlslow_log-table|slow_log]] table in the [[the-mysql-database-tables|mysql]] database. To choose the slow query log output destination, set the [[server-system-variables#log_output|log_output]] system variable.

=== Writing the Slow Query Log to a File

The slow query log is output to a file by default. However, it can be explicitly chosen by setting the [[server-system-variables#log_output|log_output]] system variable to ##FILE##. It can be changed dynamically with [[set/#global-session|SET GLOBAL]]. For example:

&lt;&lt;code&gt;&gt;
SET GLOBAL log_output=&#39;FILE&#39;;
&lt;&lt;/code&gt;&gt;

It can also be set in a server [[configuring-mariadb-with-option-files/#option-groups|option group]] in an [[configuring-mariadb-with-option-files|option file]] prior to starting up the server. For example:

&lt;&lt;code&gt;&gt;
[mariadb]
...
log_output=FILE
slow_query_log
slow_query_log_file=slow-queries.log
&lt;&lt;/code&gt;&gt;

=== Writing the Slow Query Log to a Table

The slow query log can either be written to the [[mysqlslow_log-table|slow_log]] table in the [[the-mysql-database-tables|mysql]] database by setting the [[server-system-variables#log_output|log_output]] system variable to ##TABLE##. It can be changed dynamically with [[set/#global-session|SET GLOBAL]]. For example:

&lt;&lt;code&gt;&gt;
SET GLOBAL log_output=&#39;TABLE&#39;;
&lt;&lt;/code&gt;&gt;

It can also be set in a server [[configuring-mariadb-with-option-files/#option-groups|option group]] in an [[configuring-mariadb-with-option-files|option file]] prior to starting up the server. For example:

&lt;&lt;code&gt;&gt;
[mariadb]
...
log_output=TABLE
slow_query_log
&lt;&lt;/code&gt;&gt;

Some rows in this table might look like this:

&lt;&lt;code&gt;&gt;
SELECT * FROM mysql.slow_log\G
...
*************************** 2. row ***************************
    start_time: 2014-11-11 07:56:28.721519
     user_host: root[root] @ localhost []
    query_time: 00:00:12.000215
     lock_time: 00:00:00.000000
     rows_sent: 1
 rows_examined: 0
            db: test
last_insert_id: 0
     insert_id: 0
     server_id: 1
      sql_text: SELECT SLEEP(12)
     thread_id: 74
...
&lt;&lt;/code&gt;&gt;

See [[writing-logs-into-tables|Writing logs into tables]] for more information.

== Disabling the Slow Query Log for a Session

A user can disable logging to the slow query log for a connection by setting the [[server-system-variables#slow_query_log|slow_query_log]] system variable (or, from MariaDB 10.11, [[server-system-variables#log_slow_query|log_slow_query]]) to ##0##. For example:

&lt;&lt;code&gt;&gt;
SET SESSION slow_query_log=0;
&lt;&lt;/code&gt;&gt;

== Disabling the Slow Query Log for Specific Statements

It is possible to disable logging to the slow query log for specific types of statements by setting the [[server-system-variables#log_slow_disabled_statements|log_slow_disabled_statements]] system variable. This option cannot be set dynamically. It can be set in a server [[configuring-mariadb-with-option-files/#option-groups|option group]] in an [[configuring-mariadb-with-option-files|option file]] prior to starting up the server. For example:

&lt;&lt;code&gt;&gt;
[mariadb]
...
log_output=FILE
general_log
general_log_file=queries.log
log_slow_disabled_statements=&#39;admin,call,slave,sp&#39;
&lt;&lt;/code&gt;&gt;

== Configuring the Slow Query Log Time

The time that defines a slow query can be configured by setting the [[server-system-variables#long_query_time|long_query_time]] system variable (or, from MariaDB 10.11, [[server-system-variables/#log_slow_query_time|log_slow_query_time]]). It uses a units of seconds, with an optional milliseconds component. The default value is ##10##. It can be changed dynamically with [[set/#global-session|SET GLOBAL]]. For example:

&lt;&lt;code&gt;&gt;
SET GLOBAL long_query_time=5.0;
&lt;&lt;/code&gt;&gt;

It can also be set in a server [[configuring-mariadb-with-option-files/#option-groups|option group]] in an [[configuring-mariadb-with-option-files|option file]] prior to starting up the server. For example:

&lt;&lt;code&gt;&gt;
[mariadb]
...
log_output=FILE
slow_query_log
slow_query_log_file=slow-queries.log
long_query_time=5.0
&lt;&lt;/code&gt;&gt;

== Logging Queries That Don&#39;t Use Indexes

It can be beneficial to log queries that don&#39;t use indexes to the slow query log, since queries that don&#39;t use indexes can usually be optimized either by adding an index or by doing a slight rewrite. The slow query log can be configured to log queries that don&#39;t use indexes regardless of their execution time by adding the option &#34;not_using_index&#34; to [[server-system-variables#log_slow_filter|log_slow_filter]] or setting the [[server-system-variables#log_queries_not_using_indexes|log_queries_not_using_indexes]] system variable to 1.  It can be changed dynamically with [[set/#global-session|SET GLOBAL]].
Some examples:

&lt;&lt;code&gt;&gt;
SET @@log_slow_filter=concat(@@log_slow_filter,&#34;,not_using_index&#34;);
SET GLOBAL log_queries_not_using_indexes=ON;
&lt;&lt;/code&gt;&gt;

It can also be set in a server [[configuring-mariadb-with-option-files/#option-groups|option group]] in an [[configuring-mariadb-with-option-files|option file]] prior to starting up the server. For example:

&lt;&lt;code&gt;&gt;
[mariadb]
...
log_output=FILE
slow_query_log
slow_query_log_file=slow-queries.log
long_query_time=5.0
log_queries_not_using_indexes=ON
&lt;&lt;/code&gt;&gt;

As a significant number of queries can run quickly even without indexes, you can use the [[server-system-variables#min_examined_row_limit|min_examined_row_limit]] system variable (or, from MariaDB 10.11, [[server-system-variables/#log_slow_min_examined_row_limit| log_slow_min_examined_row_limit]]) with [[server-system-variables#log_queries_not_using_indexes|log_queries_not_using_indexes]] to limit the logged queries to those having a material impact on the server.

== Excluding Queries That Examine Fewer Than a Minimum Row Limit

It can be beneficial to exclude queries that examine fewer than a minimum number of rows from the log. This can be done by setting the [[server-system-variables#min_examined_row_limit|min_examined_row_limit]] system variable, or, from MariaDB 10.11, [[server-system-variables/#log_slow_min_examined_row_limit|log_slow_min_examined_row_limit]]. It can be changed dynamically with [[set/#global-session|SET GLOBAL]]. For example:

&lt;&lt;code&gt;&gt;
SET GLOBAL min_examined_row_limit=100000;
&lt;&lt;/code&gt;&gt;

It can also be set in a server [[configuring-mariadb-with-option-files/#option-groups|option group]] in an [[configuring-mariadb-with-option-files|option file]] prior to starting up the server. For example:

&lt;&lt;code&gt;&gt;
[mariadb]
...
log_output=FILE
slow_query_log
slow_query_log_file=slow-queries.log
long_query_time=5.0
min_examined_row_limit=100000
&lt;&lt;/code&gt;&gt;

== Logging Slow Administrative Statements

By default, the Slow Query Log logs administrative statements.  To disable logging of administrative statements, remove &#34;admin&#34; from the [[server-system-variables#log_slow_filter|log_slow_filter]] system variable or alternatively 
set the [[server-system-variables#log_slow_admin_statements|log_slow_admin_statements]] system variable to OFF.  The Slow Query Log considers the following statements administrative: [[alter-table|ALTER TABLE]], [[analyze-table|ANALYZE TABLE]], [[sql-commands-check-table|CHECK TABLE]], [[create-index|CREATE INDEX]], [[drop-index|DROP INDEX]], [[optimize-table|OPTIMIZE TABLE]], and [[repair-table|REPAIR TABLE]].  In MariaDB 10.3 and later, this also includes [[alter-sequence|ALTER SEQUENCE]] statements.

You can dynamically enable this feature using a [[set#global-session|SET GLOBAL]] statement and setting it for just the current connection with LOCAL.  Some examples:

&lt;&lt;code&gt;&gt;
SET SESSION log_slow_filter=replace(@@log_slow_filter,&#34;admin&#34;,&#34;&#34;);
SET GLOBAL log_slow_admin_statements=ON;
&lt;&lt;/code&gt;&gt;

It can also be set in a server [[configuring-mariadb-with-option-files/#option-groups|option group]] in an [[configuring-mariadb-with-option-files|option file]] prior to starting up the server. For example:

&lt;&lt;code&gt;&gt;
[mariadb]
...
log_output=FILE
slow_query_log
slow_query_log_file=slow-queries.log
long_query_time=5.0
log_slow_admin_statements=ON
&lt;&lt;/code&gt;&gt;

== Enabling the Slow Query Log for Specific Criteria

It is possible to enable logging to the slow query log for queries that meet specific criteria by configuring the [[server-system-variables#log_slow_filter|log_slow_filter]] system variable. It can be changed dynamically with [[set/#global-session|SET GLOBAL]]. For example:

&lt;&lt;code&gt;&gt;
SET GLOBAL log_slow_filter=&#39;filesort,filesort_on_disk,tmp_table,tmp_table_on_disk&#39;;
&lt;&lt;/code&gt;&gt;

It can also be set in a server [[configuring-mariadb-with-option-files/#option-groups|option group]] in an [[configuring-mariadb-with-option-files|option file]] prior to starting up the server. For example:

&lt;&lt;code&gt;&gt;
[mariadb]
...
log_output=FILE
slow_query_log
slow_query_log_file=slow-queries.log
long_query_time=5.0
log_slow_filter=filesort,filesort_on_disk,tmp_table,tmp_table_on_disk
&lt;&lt;/code&gt;&gt;

You can find all options for log_slow_filter at [[server-system-variables#log_slow_filter|log_slow_filter system variable]] or at [[slow-query-log-extended-statistics/#log_slow_filter|Slow Query Log Extended Statistics]].

== Throttling the Slow Query Log

The slow query log can create a lot of I/O, so it can be beneficial to throttle it in some cases. The slow query log can be throttled by configuring the [[server-system-variables#log_slow_rate_limit|log_slow_rate_limit]] system variable. It can be changed dynamically with [[set/#global-session|SET GLOBAL]]. For example:

&lt;&lt;code&gt;&gt;
SET GLOBAL log_slow_rate_limit=5;
&lt;&lt;/code&gt;&gt;

It can also be set in a server [[configuring-mariadb-with-option-files/#option-groups|option group]] in an [[configuring-mariadb-with-option-files|option file]] prior to starting up the server. For example:

&lt;&lt;code&gt;&gt;
[mariadb]
...
log_output=FILE
slow_query_log
slow_query_log_file=slow-queries.log
long_query_time=5.0
log_slow_rate_limit=5
&lt;&lt;/code&gt;&gt;

== Configuring the Slow Query Log Verbosity

There are a few optional pieces of information that can be included in the slow query log for each query. This optional information can be included by configuring the [[server-system-variables#log_slow_verbosity|log_slow_verbosity]] system variable. It can be changed dynamically with [[set/#global-session|SET GLOBAL]]. For example:

&lt;&lt;code&gt;&gt;
SET GLOBAL log_slow_verbosity=&#39;full&#39;;
&lt;&lt;/code&gt;&gt;

It can also be set in a server [[configuring-mariadb-with-option-files/#option-groups|option group]] in an [[configuring-mariadb-with-option-files|option file]] prior to starting up the server. For example:

&lt;&lt;code&gt;&gt;
[mariadb]
...
log_output=FILE
slow_query_log
slow_query_log_file=slow-queries.log
long_query_time=5.0
log_slow_verbosity=query_plan,explain,engine
&lt;&lt;/code&gt;&gt;

It is possible to have [[explain-in-the-slow-query-log|EXPLAIN output printed in the slow query log]].

== Viewing the Slow Query Log

Slow query logs written to file can be viewed with any text editor, or you can use the [[mariadb-dumpslow]] tool to ease the process by summarizing the information.

Queries that you find in the log are key queries to try to optimize by constructing a [[query-optimizations|more efficient query]] or by making [[optimization-and-indexes|better use of indexes]]. 

For queries that appear in the log that cannot be optimized in the above ways, perhaps because they are simply very large selects, due to slow hardware, or very high lock/cpu/io contention, using shard/clustering/load balancing solutions, better hardware, or stats tables may help to improve these queries.

Slow query logs written to table can be viewed by querying the [[mysqlslow_log-table|slow_log]] table.

== Variables Related to the Slow Query Log

* [[server-system-variables#slow_query_log|slow_query_log]] - enable/disable the slow query log.  Renamed to [[server-system-variables#log_slow_query|log_slow_query]] from MariaDB 10.11.
* [[server-system-variables#log_output|log_output]] - how the output will be written
* [[server-system-variables#log_slow_admin_statements|log_slow_admin_statements]]. Whether to log OPTIMIZE, ANALYZE, ALTER and other administrative statements to the slow log. Deprecated from MariaDB 11.0, use [[server-system-variables/#log_slow_filter|log_slow_filter]] without admin.
* [[server-system-variables#slow_query_log_file|slow_query_log_file]] - name of the slow query log file.  Renamed to [[server-system-variables#log_slow_query_file_name|log_slow_query_file_name]] from [[mdb-10-11-0-rn|MariaDB 10.11.0]].
* [[server-system-variables#long_query_time|long_query_time]] - time in seconds/microseconds defining a slow query. Renamed to  [[server-system-variables/#log_slow_query_time|log_slow_query_time]] from [[mdb-10-11-0-rn|MariaDB 10.11.0]].
* [[server-system-variables#log_queries_not_using_indexes|log_queries_not_using_indexes]] - whether to log queries that don&#39;t use indexes
* [[server-system-variables#log_slow_admin_statements|log_slow_admin_statements]] - whether to log certain admin statements
* [[server-system-variables#log_slow_disabled_statements|log_slow_disabled_statements]] - types of statements that should not be logged in the slow query log
* [[server-system-variables#min_examined_row_limit|min_examined_row_limit]] - minimum rows a query must examine to be slow. Renamed to [[server-system-variables#log_slow_min_examined_row_limit|log_slow_min_examined_row_limit]] from [[mdb-10-11-0-rn|MariaDB 10.11.0]].
* [[server-system-variables#log_slow_rate_limit|log_slow_rate_limit]] - permits a fraction of slow queries to be logged
* [[server-system-variables#log_slow_verbosity|log_slow_verbosity]] - amount of detail in the log
* [[server-system-variables#log_slow_filter|log_slow_filter]] - limit which queries to log
* [[replication-and-binary-log-system-variables/#log_slow_slave_statements|log_slow_slave_statements]] - log slow statements executed by replica thread to the slow log if it is open.

== Rotating the Slow Query Log on Unix and Linux

Unix and Linux distributions offer the [[https://linux.die.net/man/8/logrotate|logrotate]] utility, which makes it very easy to rotate log files. See [[rotating-logs-on-unix-and-linux|Rotating Logs on Unix and Linux]] for more information on how to use this utility to rotate the slow query log.</textarea>
    


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/services" title="Services">Services</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">About Us</a></h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/download" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2025 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.1587e3a666fc.js" charset="utf-8"></script>

</html>