<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>MariaDB 10.4 / 10.5 crashing and restarting intermittently - status=11/SEGV - Source - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.b9e1e104f007.css" rel="stylesheet" type="text/css" />

    
        <meta name="robots" content="noindex, nofollow">
    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="MariaDB 10.4 / 10.5 crashing and restarting intermittently - status=11/SEGV - Source" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/en/mariadb-104-105-crashing-and-restarting-intermittently-status11segv/+source/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="" />

    <meta name="description" content="" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes autoresize nodes_source jqui" id="nodes_source">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/mariadb-104-105-crashing-and-restarting-intermittently-status11segv/+source/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2024 MariaDB. All rights reserved.</p>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/mariadb-104-105-crashing-and-restarting-intermittently-status11segv/+source/" rel="nofollow">Login</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/en/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/en/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/services" title="Services">Services</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="About Us">About Us</a>
    </li>
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/en/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/en/community/">The Community</a>
    


    » <a class="node_link crumb" href="/kb/en/mariadb-104-105-crashing-and-restarting-intermittently-status11segv/">MariaDB 10.4 / 10.5 crashing and restarting intermittently - status=11/SEGV</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/en/">Home</a></li>
                            
                                
                                    <li><a href="/kb/en/+questions/">Open Questions</a></li>
                                
                                <li><a href="/kb/en/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/en/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/en/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/en/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
                        <div>
    

<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-small" href="/kb/en/mariadb-104-105-crashing-and-restarting-intermittently-status11segv/">Return to question</a>
    
</div>
</div>

</div>
                    

                    

































                </aside>
            
            
            
                
            
            
            <section id="content" class="limited_width col-md-10 clearfix">
                
                    <h1>MariaDB 10.4 / 10.5 crashing and restarting intermittently - status=11/SEGV - Source</h1>
                

                



                <div>
                    

    

    
    <div class="revision_info">
        <dl class="table">
            <dt>Revision</dt>
            <dd><a href="/kb/en/mariadb-104-105-crashing-and-restarting-intermittently-status11segv/+r/98772/">98772</a></dd>
            <dt>User</dt>
            <dd>
<span class="user" id="user-7482">
<a href="/kb/user/id/7482" title="Carlos Lima">Carlos Lima</a>
</span></dd>
            <dt>Date</dt>
            <dd>

<span class="datetime" title="2020-08-30 09:34">2020-08-30 09:34</span></dd>
        </dl>
    </div>
    


    
        <textarea id="question_source" class="creole_source autogrow">Hello,

I am installing a new server with MariaDB 10.4 or 10.5, but I am facing on ubuntu syslog the &#34;systemd[1]: mariadb.service: Main process exited, code=killed, status=11/SEGV&#34; being reported a lot of times. Then applications loss the DB connections and some transactions are broken. I tried to install a new server, MariaDB, and restore a existing dump, however the same error happened.

My system:
- AWS EC2 running ubuntu 18.04 instances;
- MariaDB 10.4.14 / 10.5 (error on both versions);
- Client applications (nodejs using mysql or mariadb dependency);

Any comments are welcome.

Best regards,
==============================================================================================
This is a sample of my syslog:

Aug 28 22:58:25 ip-172-**-**-** systemd[1]: mariadb.service: Main process exited, code=killed, status=11/SEGV
Aug 28 22:58:25 ip-172-**-**-** systemd[1]: mariadb.service: Failed with result &#39;signal&#39;.
Aug 28 22:58:30 ip-172-**-**-** systemd[1]: mariadb.service: Service hold-off time over, scheduling restart.
Aug 28 22:58:30 ip-172-**-**-** systemd[1]: mariadb.service: Scheduled restart job, restart counter is at 2.
Aug 28 22:58:30 ip-172-**-**-** systemd[1]: Stopped MariaDB 10.4.14 database server.
Aug 28 22:58:30 ip-172-**-**-** systemd[1]: Starting MariaDB 10.4.14 database server...
Aug 28 22:58:30 ip-172-**-**-** mysqld[17019]: 2020-08-28 22:58:30 0 [Note] /usr/sbin/mysqld (mysqld 10.4.14-MariaDB-1:10.4.14+maria~bionic-log) starting as process 17019 ...
Aug 28 22:58:30 ip-172-**-**-** mysqld[17019]: 2020-08-28 22:58:30 0 [Note] InnoDB: Using Linux native AIO
Aug 28 22:58:30 ip-172-**-**-** mysqld[17019]: 2020-08-28 22:58:30 0 [Note] InnoDB: Mutexes and rw_locks use GCC atomic builtins
Aug 28 22:58:30 ip-172-**-**-** mysqld[17019]: 2020-08-28 22:58:30 0 [Note] InnoDB: Uses event mutexes
Aug 28 22:58:30 ip-172-**-**-** mysqld[17019]: 2020-08-28 22:58:30 0 [Note] InnoDB: Compressed tables use zlib 1.2.11
Aug 28 22:58:30 ip-172-**-**-** mysqld[17019]: 2020-08-28 22:58:30 0 [Note] InnoDB: Number of pools: 1
Aug 28 22:58:30 ip-172-**-**-** mysqld[17019]: 2020-08-28 22:58:30 0 [Note] InnoDB: Using SSE2 crc32 instructions
Aug 28 22:58:30 ip-172-**-**-** mysqld[17019]: 2020-08-28 22:58:30 0 [Note] mysqld: O_TMPFILE is not supported on /tmp (disabling future attempts)
Aug 28 22:58:30 ip-172-**-**-** mysqld[17019]: 2020-08-28 22:58:30 0 [Note] InnoDB: Initializing buffer pool, total size = 256M, instances = 1, chunk size = 128M
Aug 28 22:58:30 ip-172-**-**-** mysqld[17019]: 2020-08-28 22:58:30 0 [Note] InnoDB: Completed initialization of buffer pool
Aug 28 22:58:30 ip-172-**-**-** mysqld[17019]: 2020-08-28 22:58:30 0 [Note] InnoDB: If the mysqld execution user is authorized, page cleaner thread priority can be changed. See the man page of setpriority().
Aug 28 22:58:30 ip-172-**-**-** mysqld[17019]: 2020-08-28 22:58:30 0 [Note] InnoDB: Starting crash recovery from checkpoint LSN=1136196476
Aug 28 22:58:30 ip-172-**-**-** mysqld[17019]: 2020-08-28 22:58:30 0 [Note] InnoDB: Starting final batch to recover 2 pages from redo log.
Aug 28 22:58:31 ip-172-**-**-** mysqld[17019]: 2020-08-28 22:58:31 0 [Note] InnoDB: Last binlog file &#39;/var/log/mysql/mariadb-bin.000011&#39;, position 71237387
Aug 28 22:58:31 ip-172-**-**-** mysqld[17019]: 2020-08-28 22:58:31 0 [Note] InnoDB: 128 out of 128 rollback segments are active.
Aug 28 22:58:31 ip-172-**-**-** mysqld[17019]: 2020-08-28 22:58:31 0 [Note] InnoDB: Removed temporary tablespace data file: &#34;ibtmp1&#34;
Aug 28 22:58:31 ip-172-**-**-** mysqld[17019]: 2020-08-28 22:58:31 0 [Note] InnoDB: Creating shared tablespace for temporary tables
Aug 28 22:58:31 ip-172-**-**-** mysqld[17019]: 2020-08-28 22:58:31 0 [Note] InnoDB: Setting file &#39;./ibtmp1&#39; size to 12 MB. Physically writing the file full; Please wait ...
Aug 28 22:58:31 ip-172-**-**-** mysqld[17019]: 2020-08-28 22:58:31 0 [Note] InnoDB: File &#39;./ibtmp1&#39; size is now 12 MB.
Aug 28 22:58:31 ip-172-**-**-** mysqld[17019]: 2020-08-28 22:58:31 0 [Note] InnoDB: Waiting for purge to start
Aug 28 22:58:31 ip-172-**-**-** mysqld[17019]: 2020-08-28 22:58:31 0 [Note] InnoDB: 10.4.14 started; log sequence number 1136197921; transaction id 4009
Aug 28 22:58:31 ip-172-**-**-** mysqld[17019]: 2020-08-28 22:58:31 0 [Note] InnoDB: Loading buffer pool(s) from /var/lib/mysql/ib_buffer_pool
Aug 28 22:58:31 ip-172-**-**-** mysqld[17019]: 2020-08-28 22:58:31 0 [Note] Plugin &#39;FEEDBACK&#39; is disabled.
Aug 28 22:58:31 ip-172-**-**-** mysqld[17019]: 2020-08-28 22:58:31 0 [Note] Recovering after a crash using /var/log/mysql/mariadb-bin
Aug 28 22:58:31 ip-172-**-**-** mysqld[17019]: 2020-08-28 22:58:31 0 [Note] Starting crash recovery...
Aug 28 22:58:31 ip-172-**-**-** mysqld[17019]: 2020-08-28 22:58:31 0 [Note] Crash recovery finished.
Aug 28 22:58:31 ip-172-**-**-** mysqld[17019]: 2020-08-28 22:58:31 0 [Note] Server socket created on IP: &#39;::&#39;.
Aug 28 22:58:31 ip-172-**-**-** mysqld[17019]: 2020-08-28 22:58:31 0 [Note] Reading of all Master_info entries succeeded
Aug 28 22:58:31 ip-172-**-**-** mysqld[17019]: 2020-08-28 22:58:31 0 [Note] Added new Master_info &#39;&#39; to hash table
Aug 28 22:58:31 ip-172-**-**-** mysqld[17019]: 2020-08-28 22:58:31 0 [Note] /usr/sbin/mysqld: ready for connections.
Aug 28 22:58:31 ip-172-**-**-** mysqld[17019]: Version: &#39;10.4.14-MariaDB-1:10.4.14+maria~bionic-log&#39;  socket: &#39;/var/run/mysqld/mysqld.sock&#39;  port: 3306  mariadb.org binary distribution
Aug 28 22:58:31 ip-172-**-**-** systemd[1]: Started MariaDB 10.4.14 database server.
Aug 28 22:58:31 ip-172-**-**-** /etc/mysql/debian-start[17062]: Upgrading MySQL tables if necessary.
Aug 28 22:58:31 ip-172-**-**-** /etc/mysql/debian-start[17065]: Looking for &#39;mysql&#39; as: /usr/bin/mysql
Aug 28 22:58:31 ip-172-**-**-** /etc/mysql/debian-start[17065]: Looking for &#39;mysqlcheck&#39; as: /usr/bin/mysqlcheck
Aug 28 22:58:31 ip-172-**-**-** /etc/mysql/debian-start[17065]: This installation of MariaDB is already upgraded to 10.4.14-MariaDB, use --force if you still need to run mysql_upgrade
Aug 28 22:58:31 ip-172-**-**-** /etc/mysql/debian-start[17073]: Checking for insecure root accounts.
Aug 28 22:58:31 ip-172-**-**-** /etc/mysql/debian-start[17077]: Triggering myisam-recover for all MyISAM tables and aria-recover for all Aria tables
Aug 28 22:58:32 ip-172-**-**-** mysqld[17019]: 2020-08-28 22:58:32 32 [Warning] Host name &#39;bd6446e1.virtua.com.br&#39; could not be resolved: Name or service not known
Aug 28 22:58:33 ip-172-**-**-** mysqld[17019]: 2020-08-28 22:58:33 0 [Note] InnoDB: Buffer pool(s) load completed at 200828 22:58:33</textarea>
    

    
        
            <h2>Answer</h2>
        
        <textarea id="answer_source" class="creole_source autogrow">Hi,

I&#39;m sorry you have found a bug.

Can you please report this on https://jira.mariadb.org/?

In your output I can only see the crash recovery, not the case of the crash itself. The following information will assist in making progress in resolving your difficulties:

Can you install the debug info packages with:

 # add-apt-repository &#39;deb [arch=amd64,arm64,ppc64el] https://mirrors.dotsrc.org/mariadb/repo/10.4/ubuntu bionic main/debug&#39;
# apt-get update
# apt-get install -y mariadb-server-10.4-dbgsym

And then follow the following to get a stack trace out of your coredump.

https://mariadb.com/kb/en/how-to-produce-a-full-stack-trace-for-mysqld/#analyzing-a-core-file-with-gdb-on-linux</textarea>
    


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/services" title="Services">Services</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">About Us</a></h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/download" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2024 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.fed4ec768178.js" charset="utf-8"></script>

</html>