<?xml version="1.0" encoding="utf-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>MariaDB Knowledge Base Comments for: IST replication failing on 2 node galera mariadb setup</title><link>https://mariadb.com/kb/en/ist-replication-failing-on-2-node-galera-mariadb-setup/+comments/feed/</link><description></description><atom:link href="https://mariadb.com/kb/en/ist-replication-failing-on-2-node-galera-mariadb-setup/+comments/feed/" rel="self"></atom:link><language>en-us</language><lastBuildDate>Mon, 21 Oct 2024 12:44:14 +0000</lastBuildDate><item><title>Re: IST replication failing on 2 node galera mariadb setup</title><link>https://mariadb.com/kb/en/ist-replication-failing-on-2-node-galera-mariadb-setup/+comments/3987</link><description>&lt;p&gt;run docker with --network host  option. like:
docker run -itd --network host  xxx&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Simon Liu</dc:creator><guid>https://mariadb.com/kb/en/ist-replication-failing-on-2-node-galera-mariadb-setup/+comments/3987</guid></item><item><title>Re: IST replication failing on 2 node galera mariadb setup</title><link>https://mariadb.com/kb/en/ist-replication-failing-on-2-node-galera-mariadb-setup/+comments/3743</link><description>&lt;p&gt;that is the ip address of the docker container, the host has the mentioned 192.168.60.123 address.  In the meanwhile we have tried some other things, namely setting the ist.recv_bind to 127.0.0.1 which seems to work for IST but it seems to randomly work or fail. We also tried to set ist.recv_bind to the 172.20.0.1 (the docker ip) and that has worked in some cases. We are currently using &lt;a href="/kb/en/mariadb-1039-release-notes/"&gt;mariadb 10.3.9&lt;/a&gt; with mariabackup instead of xtrabackup v2 and in that setup the docker ip does not seem to work for IST. The 127.0.0.1 does, but as stated its not 100%. We're having a hard time finding clear documentation on the proper settings for ist to work in combination with docker and replication (btw all ports on joiner and master are 100% open)&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Sander Groenen</dc:creator><guid>https://mariadb.com/kb/en/ist-replication-failing-on-2-node-galera-mariadb-setup/+comments/3743</guid></item><item><title>Re: IST replication failing on 2 node galera mariadb setup</title><link>https://mariadb.com/kb/en/ist-replication-failing-on-2-node-galera-mariadb-setup/+comments/3737</link><description>&lt;pre class="fixed"&gt;mysql_1          | 2017-06-02 12:19:33 140261419019008 [Note] WSREP: IST receiver addr using tcp://192.168.60.123:4568
mysql_1          | 2017-06-02 12:19:33 140261419019008 [Warning] WSREP: Failed to prepare for incremental state transfer: Failed to open IST listener at tcp://192.168.60.123:4568', asio error 'bind: Cannot assign requested address': 99 (Cannot assign requested address)
mysql_1          | 	 at galera/src/ist.cpp:prepare():325. IST will be unavailable.
&lt;/pre&gt;&lt;p&gt;Are you sure that &lt;code&gt;192.168.60.123&lt;/code&gt; is the joiner node's correct IP address? Based on the donor node's log, it looks like it might be &lt;code&gt;172.20.0.1&lt;/code&gt;.&lt;/p&gt;
&lt;pre class="fixed"&gt;mysql_1          | 2017-06-02 12:19:57 140421086836480 [Note] WSREP: (ce3e5068, 'tcp://0.0.0.0:4567') connection to peer 15b3ea58 with addr tcp://172.20.0.1:4567 timed out, no messages seen in PT3S
mysql_1          | 2017-06-02 12:19:57 140421086836480 [Note] WSREP: (ce3e5068, 'tcp://0.0.0.0:4567') turning message relay requesting on, nonlive peers: tcp://172.20.0.1:4567 
mysql_1          | 2017-06-02 12:19:58 140421086836480 [Note] WSREP: (ce3e5068, 'tcp://0.0.0.0:4567') reconnecting to 15b3ea58 (tcp://172.20.0.1:4567), attempt 0
mysql_1          | 2017-06-02 12:19:58 140421086836480 [Note] WSREP: (ce3e5068, 'tcp://0.0.0.0:4567') connection established to ce3e5068 tcp://172.20.0.1:4567
&lt;/pre&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Geoff Montee</dc:creator><guid>https://mariadb.com/kb/en/ist-replication-failing-on-2-node-galera-mariadb-setup/+comments/3737</guid></item></channel></rss>