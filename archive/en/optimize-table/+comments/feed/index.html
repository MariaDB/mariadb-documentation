<?xml version="1.0" encoding="utf-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>MariaDB Knowledge Base Comments for: OPTIMIZE TABLE</title><link>https://mariadb.com/kb/en/optimize-table/+comments/feed/</link><description></description><atom:link href="https://mariadb.com/kb/en/optimize-table/+comments/feed/" rel="self"></atom:link><language>en-us</language><lastBuildDate>Mon, 13 Jan 2025 02:29:26 +0000</lastBuildDate><item><title>OPTIMIZE TABLE Output</title><link>https://mariadb.com/kb/en/optimize-table/+comments/6297</link><description>&lt;p&gt;&lt;strong&gt;OPTIMIZE TABLE Output&lt;/strong&gt;&lt;br&gt;
OPTIMIZE TABLE returns a result set with the columns shown in the following table.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;Table&lt;/strong&gt;: The table name&lt;br&gt;
&lt;strong&gt;Op&lt;/strong&gt;: Always optimize&lt;br&gt;
&lt;strong&gt;Msg_type&lt;/strong&gt;: status, Error, info&lt;strong&gt;*&lt;/strong&gt;, note&lt;strong&gt;*&lt;/strong&gt;, or warning&lt;strong&gt;*&lt;/strong&gt;&lt;br&gt;
&lt;strong&gt;Msg_text&lt;/strong&gt;: An informational message&lt;br&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Your result can have multiple rows like the table above.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;a href="https://dev.mysql.com/doc/refman/8.0/en/optimize-table.html"&gt;https://dev.mysql.com/doc/refman/8.0/en/optimize-table.html&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;*&lt;/strong&gt; Not verified.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Alperen Berat</dc:creator><guid>https://mariadb.com/kb/en/optimize-table/+comments/6297</guid></item><item><title>Re: OPTIMIZE TABLE</title><link>https://mariadb.com/kb/en/optimize-table/+comments/6124</link><description>&lt;p&gt;MariaDB does not want to document it (&lt;a href="https://jira.mariadb.org/browse/MDEV-30635"&gt;MDEV-30635&lt;/a&gt;). So I make a note here:&lt;/p&gt;
&lt;p&gt;OPTIMIZE TABLE does an implicit ANALYZE TABLE for Storage Engines that do not "support OPTIMIZE TABLE internally and the server emulates it with ALTER TABLE" (InnoDB).&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Oli Sennhauser</dc:creator><guid>https://mariadb.com/kb/en/optimize-table/+comments/6124</guid></item><item><title>Re: OPTIMIZE TABLE</title><link>https://mariadb.com/kb/en/optimize-table/+comments/4970</link><description>&lt;p&gt;What about Aria Engine?
I am running the mentioned queries to see table fragmentation level and all my Aria tables are not showing in the results.
How can I estimate fragmentation level on Aria tables ?
Is optimize table relevant for Aria tables?&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Yaniv Cohen</dc:creator><guid>https://mariadb.com/kb/en/optimize-table/+comments/4970</guid></item><item><title>Re: OPTIMIZE TABLE</title><link>https://mariadb.com/kb/en/optimize-table/+comments/4297</link><description>&lt;p&gt;Can I optimize online at &lt;a href="/kb/en/mariadb-10028-release-notes/"&gt;mariadb 10.0.28&lt;/a&gt;?&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Cesar Murilo Silva Jr.</dc:creator><guid>https://mariadb.com/kb/en/optimize-table/+comments/4297</guid></item><item><title>Re: OPTIMIZE TABLE</title><link>https://mariadb.com/kb/en/optimize-table/+comments/3785</link><description>&lt;p&gt;When running commands like:&lt;/p&gt;
&lt;p&gt;SET GLOBAL innodb_optimize_fulltext_only=1;
OPTIMIZE TABLE table;
SET GLOBAL innodb_optimize_fulltext_only=0;&lt;/p&gt;
&lt;p&gt;Note that the SET commands will not be replicated, but the OPTIMIZE command will be replicated. This will mean that the master will update the fulltext index and, as far as I can see, the slave(s) will run the "defragmenting" version of optimize. This will leave the slaves with non-updated versions of the fulltext index.&lt;/p&gt;
&lt;p&gt;In any case, have confirmed the slaves have not updated the fulltext indexes by use of innodb_ft_aux_table and examining the INNODB_FT_INDEX_CACHE (and similar) tables.&lt;/p&gt;
&lt;p&gt;If this is by design and not a bug, then NO_WRITE_TO_BINLOG should always be used when using optimize to update fulltext indexes, and the commands should then be run on each slave in turn.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Travis Basevi</dc:creator><guid>https://mariadb.com/kb/en/optimize-table/+comments/3785</guid></item><item><title>Re: OPTIMIZE TABLE</title><link>https://mariadb.com/kb/en/optimize-table/+comments/3191</link><description>&lt;p&gt;To avoid having lock on the table during the operation you can use&lt;/p&gt;
&lt;p&gt;ALTER TABLE t ENGINE=InnoDB, ALGORITHM=INPLACE;&lt;/p&gt;
&lt;p&gt;(Like mysql &amp;gt; 5.7.4)&lt;/p&gt;
&lt;p&gt;No idea since which version this has been introduced but &amp;gt; 10 has this.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Roy Bellingan</dc:creator><guid>https://mariadb.com/kb/en/optimize-table/+comments/3191</guid></item></channel></rss>