<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>MariaDB Galera Cluster - Known Limitations - Source - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.f7633538c846.css" rel="stylesheet" type="text/css" />

    
        <meta name="robots" content="noindex, nofollow">
    

    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="MariaDB Galera Cluster - Known Limitations - Source" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/en/mariadb-galera-cluster-known-limitations/+source/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="" />

    <meta name="description" content="" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes autoresize nodes_source jqui" id="nodes_source">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/mariadb-galera-cluster-known-limitations/+source/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2025 MariaDB. All rights reserved.</p>
    </div>
</div>
<div class="violator-wrap d-none" id="top_violator">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12">
                <div class="violator-outer">
                    <div class="violator-inner">
                        <div class="row">
                            <div class="col-xs-12 col-sm-9 col-lg-7 col-lg-offset-2" id="top_violator_content">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="content-link" target="_blank" rel="nofollow noreferrer">
                                    <span>The Ultimate Guide to High Availability with MariaDB</span>
                                </a>
                            </div>
                            <div class="col-xs-12 col-sm-3" id="top_violator_cta">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="btn btn-mariadb" target="_blank" rel="nofollow noreferrer">Download Now</a>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn btn-link close-btn">
                        <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" width="15px" height="15px"><path d="M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/mariadb-galera-cluster-known-limitations/+source/" rel="nofollow">Login</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/en/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/en/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/solutions" title="Solutions">Solutions</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="Company">Company</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/en/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/en/documentation/">MariaDB Server Documentation</a>
    

    
    » <a class="crumb" href="/kb/en/replication-cluster-multi-master/">High Availability &amp; Performance Tuning</a>
    

    
    » <a class="crumb" href="/kb/en/galera-cluster/">MariaDB Galera Cluster</a>
    


    » <a class="node_link crumb" href="/kb/en/mariadb-galera-cluster-known-limitations/">MariaDB Galera Cluster - Known Limitations</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/en/">Home</a></li>
                            
                                
                                    <li><a href="/kb/en/+questions/">Open Questions</a></li>
                                
                                <li><a href="/kb/en/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/en/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/en/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/en/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
                        <div>
    

<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-small" href="/kb/en/mariadb-galera-cluster-known-limitations/">Return to article</a>
    
</div>
</div>

</div>
                    

                    

































                </aside>
            
            
            
                
            
            
            <section id="content" class="limited_width col-md-10 clearfix">
                
                    <h1>MariaDB Galera Cluster - Known Limitations - Source</h1>
                

                



                <div>
                    

    

    
    <div class="revision_info">
        <dl class="table">
            <dt>Revision</dt>
            <dd><a href="/kb/en/mariadb-galera-cluster-known-limitations/+r/101911/">101911</a></dd>
            <dt>User</dt>
            <dd>
<span class="user" id="user-2">
<a href="/kb/user/id/2" title="Daniel Bartholomew">Daniel Bartholomew</a>
</span></dd>
            <dt>Date</dt>
            <dd>

<span class="datetime" title="2020-11-20 19:32">2020-11-20 19:32</span></dd>
        </dl>
    </div>
    


    

    
        
        <textarea id="answer_source" class="creole_source autogrow">This article contains information on known problems and limitations of MariaDB Galera Cluster.

== Limitations from codership.com:

* Currently replication works only with the [[xtradb-and-innodb|InnoDB storage engine]]. Any writes
  to tables of other types, including system (mysql.*) tables are not
  replicated (this limitation excludes DDL statements such as [[create-user|CREATE USER]],  which implicitly modify the mysql.* tables &lt;&lt;entity&gt;&gt;mdash&lt;&lt;/entity&gt;&gt; those are replicated). There is however experimental support for [[myisam|MyISAM]] - see the [[galera-cluster-system-variables#wsrep_replicate_myisam|wsrep_replicate_myisam]] system variable)

* Unsupported explicit locking include [[transactions-lock|LOCK TABLES]], [[flush|FLUSH TABLES {explicit table list} WITH READ LOCK]], ([[get_lock|GET_LOCK()]], [[release_lock|RELEASE_LOCK()]],…). Using transactions properly should be able to overcome these limitations. Global locking operators like [[flush|FLUSH TABLES WITH READ LOCK]] are supported.

* All tables should have a primary key (multi-column primary keys are supported). [[delete|DELETE]] operations are unsupported on tables without a primary key. Also, rows in tables without a primary key may appear in a different order on different nodes. 

* The [[general-query-log|general query log]] and the [[slow-query-log|slow query log]] cannot be directed to a table. If you enable these logs, then you must forward the log to a file by setting ##[[server-system-variables#log_output|log_output=FILE]]##.

* [[xa-transactions|XA transactions]] are not supported.

* Transaction size. While Galera does not explicitly limit the transaction
  size, a writeset is processed as a single memory-resident buffer and as a
  result, extremely large transactions (e.g. [[load-data|LOAD DATA]]) may adversely affect
  node performance. To avoid that, the [[galera-cluster-system-variables#wsrep_max_ws_rows|wsrep_max_ws_rows]] and [[galera-cluster-system-variables#wsrep_max_ws_size|wsrep_max_ws_size]] system
  variables limit transaction rows to 128K and the transaction size to 2Gb by
  default. If necessary, users may want to increase those limits. Future versions
  will add support for transaction fragmentation.

== Other observations, in no particular order:

* If you are using [[mysqldump]] for state transfer, and it failed for whatever
  reason (e.g. you do not have the database account it attempts to connect
  with, or it does not have necessary permissions), you will see an SQL SYNTAX
  error in the server [[error-log|error log]]. Don&#39;t let it fool you, this is just a fancy
  way to deliver a message (the pseudo-statement inside of the bogus SQL will
  actually contain the error message).

* Do not use transactions of any essential size. Just to insert ~100K rows, the
  server might require additional 200-300 Mb. In a less fortunate scenario it
  can be 1.5 Gb for 500K rows, or 3.5 Gb for 1M rows. See MDEV-466 for some
  numbers (you&#39;ll see that it&#39;s closed, but it&#39;s not closed because it was
  fixed).

* Locking is lax when DDL is involved. For example, if your DML transaction
  uses a table, and a parallel DDL statement is started, in the normal MySQL
  setup it would have waited for the metadata lock, but in Galera context it
  will be executed right away. It happens even if you are running a single
  node, as long as you configured it as a cluster node. See also MDEV-468. This
  behavior might cause various side-effects, the consequences have not been
  investigated yet. Try to avoid such parallelism.

* Do not rely on auto-increment values to be sequential. Galera uses a
  mechanism based on autoincrement increment to produce unique non-conflicting
  sequences, so on every single node the sequence will have gaps. See
  http://codership.blogspot.com/2009/02/managing-auto-increments-with-multi.html

* A command may fail with &lt;&lt;code&gt;&gt;ER_UNKNOWN_COM_ERROR&lt;&lt;/code&gt;&gt; producing &#39;WSREP has not yet prepared node for application use&#39; (or &#39;Unknown command&#39; in older versions) error message. It happens when a cluster is suspected to be split and the node is in a smaller part &lt;&lt;entity&gt;&gt;mdash&lt;&lt;/entity&gt;&gt; for example, during a network glitch, when nodes temporarily lose each other. It can also occur during state transfer. The node takes this measure to prevent data inconsistency. Its usually a temporary state which can be detected by checking [[galera-cluster-status-variables#wsrep_ready|wsrep_ready]] value. The node, however, allows SHOW and SET command during this period.

* After a temporary split, if the &#39;good&#39; part of the cluster was still
  reachable and its state was modified, resynchronization occurs. As a part of
  it, nodes of the &#39;bad&#39; part of the cluster drop all client connections. It
  might be quite unexpected, especially if the client was idle and did not even
  know anything wrong was happening. Please also note that after the connection
  to the isolated node is restored, if there is a flow on the node, it takes a
  long time for it to synchronize, during which the &#34;good&#34; node says that the
  cluster is already of the normal size and synced, while the rejoining node
  says it&#39;s only joined (but not synced). The connections keep getting &#39;unknown
  command&#39;. It should pass eventually.

* While [[replication-and-binary-log-server-system-variables#binlog_format|binlog_format]] is checked on startup and can only be ROW (see [[binary-log-formats|Binary Log Formats]]), it can be changed at runtime. Do NOT change binlog_format at runtime, it is likely not only cause replication failure, but make all other nodes crash.

* If you are using rsync for state transfer, and a node crashes before the
  state transfer is over, rsync process might hang forever, occupying the port
  and not allowing to restart the node. The problem will show up as &#39;port in
  use&#39; in the server error log. Find the orphan rsync process and kill it
  manually.

* Performance: by design performance of the cluster cannot be higher than
  performance of the slowest node; however, even if you have only one node, its
  performance can be considerably lower comparing to running the same server in
  a standalone mode (without wsrep provider). It is particularly true for big
  enough transactions (even those which are well within current limitations on
  transaction size quoted above).

* Windows is not supported.

* Replication filters: When using Galera cluster, replication filters should be used with caution. See [[configuring-mariadb-galera-cluster/#replication-filters|Configuring MariaDB Galera Cluster: Replication Filters]] for more details. See also MDEV-421 and MDEV-6229.

* Flashback isn&#39;t supported in Galera due to incompatible binary log format.

* &lt;&lt;code&gt;&gt;FLUSH PRIVILEGES&lt;&lt;/code&gt;&gt; is not replicated.

* The [[query-cache|query cache]] needed to be disabled by setting ##[[server-system-variables#query_cache_size|query_cache_size=0]]## prior to MariaDB Galera Cluster 5.5.40, MariaDB Galera Cluster 10.0.14, and MariaDB 10.1.2..

* In an asynchronous replication setup where a master replicates to a galera node acting as slave, parallel replication (slave-parallel-threads &gt; 1) on slave is currently not supported (see MDEV-6860).

* The disk-based [[https://galeracluster.com/library/documentation/state-transfer.html#write-set-cache-gcache|Galera gcache]] is not encrypted (MDEV-8072).

* Nodes may have different table definitions, especially temporarily during [[galera-cluster-system-variables/#wsrep_osu_method|rolling schema upgrade]] operations, but the same [[replication-when-the-master-and-slave-have-different-table-definitions|schema compatibility restrictions]] apply as they do for ROW  based replication</textarea>
    


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/solutions" title="Solutions">Solutions</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">Company</a></h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        
                        
                        <li>
                            <h5><a href="https://mariadb.com/downloads" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2025 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.1587e3a666fc.js" charset="utf-8"></script>

</html>