<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>CONNECT CSV and FMT Table Types - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.f7633538c846.css" rel="stylesheet" type="text/css" />

    

    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="CONNECT CSV and FMT Table Types" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/en/connect-csv-and-fmt-table-types/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="Variable length CONNECT data files." />

    <meta name="description" content="Variable length CONNECT data files." />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes products nodes_view jqui" id="nodes_view">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/connect-csv-and-fmt-table-types/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2025 MariaDB. All rights reserved.</p>
    </div>
</div>
<div class="violator-wrap d-none" id="top_violator">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12">
                <div class="violator-outer">
                    <div class="violator-inner">
                        <div class="row">
                            <div class="col-xs-12 col-sm-9 col-lg-7 col-lg-offset-2" id="top_violator_content">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="content-link" target="_blank" rel="nofollow noreferrer">
                                    <span>The Ultimate Guide to High Availability with MariaDB</span>
                                </a>
                            </div>
                            <div class="col-xs-12 col-sm-3" id="top_violator_cta">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="btn btn-mariadb" target="_blank" rel="nofollow noreferrer">Download Now</a>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn btn-link close-btn">
                        <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" width="15px" height="15px"><path d="M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/connect-csv-and-fmt-table-types/" rel="nofollow">Login</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/en/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/en/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/services" title="Services">Services</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="About Us">About Us</a>
    </li>
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/en/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/en/documentation/">MariaDB Server Documentation</a>
    

    
    » <a class="crumb" href="/kb/en/columns-storage-engines-and-plugins/">Columns, Storage Engines, and Plugins</a>
    

    
    » <a class="crumb" href="/kb/en/storage-engines/">Storage Engines</a>
    

    
    » <a class="crumb" href="/kb/en/connect/">CONNECT</a>
    

    
    » <a class="crumb" href="/kb/en/connect-table-types/">CONNECT Table Types</a>
    


    » <a class="node_link crumb" href="/kb/en/connect-csv-and-fmt-table-types/">CONNECT CSV and FMT Table Types</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/en/">Home</a></li>
                            
                                
                                    <li><a href="/kb/en/+questions/">Open Questions</a></li>
                                
                                <li><a href="/kb/en/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/en/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/en/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/en/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
<div>



<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-blue btn-sm" href="/kb/en/connect-csv-and-fmt-table-types/+history" rel="nofollow">History</a>
        
        
        
        <a class="btn btn-block btn-blue btn-sm" href="/kb/en/connect-csv-and-fmt-table-types/+source/">Source</a>
        
        <a class="btn btn-block btn-blue btn-sm flag" href="/kb/en/connect-csv-and-fmt-table-types/+flag"
                data-flag-url="/kb/en/connect-csv-and-fmt-table-types/+flag" rel="nofollow">
                Flag as Spam / Inappropriate</a>
        
        <a class="btn btn-block btn-blue btn-sm" href="/kb/en/connect-csv-and-fmt-table-types/+translate/">
                Translate</a>
        

</div>
</div>





<div class="well well-small box node_info"><div>

    <dl>
        <dt>Created</dt>
        <dd>

<span class="datetime" title="2015-01-26 11:50">10 years ago</span></dd>

        <dt>Modified</dt>
        <dd>

<span class="datetime" title="2022-08-26 14:02">2 years, 5 months ago</span></dd>

        <dt>Type</dt>
        <dd>article</dd>

        <dt>Status</dt>
        <dd>active</dd>

        <dt>License</dt>
        <dd>
            
                <a href="/kb/en/connect-csv-and-fmt-table-types/+license/">CC BY-SA / Gnu FDL</a>
            
        </dd>

        
    </dl>

    
    <ul class="rss_feeds">
        <li><a href="/kb/en/connect-csv-and-fmt-table-types/+history/feed/">
            History</a>
        </li>
        <li><a href="/kb/en/connect-csv-and-fmt-table-types/+comments/feed/">
            Comments</a>
        </li>
    </ul>
    

</div>
</div>





    
    
    

<div class="well well-small box attachments"><div><div class="edit_link pull-right"><a href="/kb/en/connect-csv-and-fmt-table-types/+edit/attachments/">Edit</a></div><h5>Attachments</h5></div><div>

        
            <div class="no_data">No attachments exist</div>
        
    
</div>
</div>

    



    
    






</div>


                    

































                </aside>
            
            
            
                
            
            
                
            
            <section id="content" class="limited_width col-md-8 clearfix">
                
                    <h1>CONNECT CSV and FMT Table Types</h1>
                

                



                <div>
                    
    

    
    
    

    <div class="node creole">
        
        
        


    
    <div class="answer formatted">
        <div class="table_of_contents well well-small">
<h3>Contents</h3>
 <ol class="toc">

    <li class=""><a href="#csv-type" title="CSV Type">CSV Type</a>    <ol class="toc">

        <li class=""><a href="#restrictions-on-csv-tables" title="Restrictions on CSV Tables">Restrictions on CSV Tables</a>    </ol>
</li>

    <li class=""><a href="#fmt-type" title="FMT Type">FMT Type</a></li>

    <li class=""><a href="#column-format-specification-of-fmt-tables" title="Column Format Specification of FMT tables">Column Format Specification of FMT tables</a></li>

    <li class=""><a href="#optional-fields" title="Optional Fields">Optional Fields</a></li>

    <li class=""><a href="#bad-record-error-processing" title="Bad Record Error Processing">Bad Record Error Processing</a></li>

    <li class=""><a href="#fields-containing-a-formatted-date" title="Fields Containing a Formatted Date">Fields Containing a Formatted Date</a> </ol>
</li>
</div>
<h2 class="anchored_heading" id="csv-type">CSV Type</h2>
<p>Many source data files are formatted with variable length fields and records.
The simplest format, known as <code>CSV</code> (Comma Separated Variables), has column
fields separated by a separator character. By default, the separator is a comma
but can be specified by the <code>SEP_CHAR</code> option as any character, for instance
a semi-colon.</p>
<p>If the CSV file first record is the list of column names, specifying the
<code>HEADER=1</code> option will skip the first record on reading. On writing, if the
file is empty, the column names record is automatically written.</p>
<p>For instance, given the following <em>people.csv</em> file:</p>
<pre class="fixed">Name;birth;children
&#34;Archibald&#34;;17/05/01;3
&#34;Nabucho&#34;;12/08/03;2
</pre><p>You can create the corresponding table by:</p>
<pre class="fixed"><span class="k">create</span> <span class="k">table</span> <span class="nf">people</span> <span class="p">(</span>
  <span class="n">name</span> <span class="kt">char</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span> <span class="k">not</span> <span class="no">null</span><span class="p">,</span>
  <span class="n">birth</span> <span class="kt">date</span> <span class="k">not</span> <span class="no">null</span> <span class="n">date_format</span><span class="o">=</span><span class="s1">&#39;DD/MM/YY&#39;</span><span class="p">,</span>
  <span class="n">children</span> <span class="kt">smallint</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="k">not</span> <span class="no">null</span><span class="p">)</span>
<span class="kp">engine</span><span class="o">=</span><span class="n">CONNECT</span> <span class="n">table_type</span><span class="o">=</span><span class="n">CSV</span> <span class="n">file_name</span><span class="o">=</span><span class="s1">&#39;people.csv&#39;</span>
<span class="n">header</span><span class="o">=</span><span class="mi">1</span> <span class="n">sep_char</span><span class="o">=</span><span class="s1">&#39;;&#39;</span> <span class="n">quoted</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
</pre><p>Alternatively the engine can attempt to automatically detect the column names, data types and widths using:</p>
<pre class="fixed"><span class="k">create</span> <span class="k">table</span> <span class="n">people</span>
<span class="kp">engine</span><span class="o">=</span><span class="n">CONNECT</span> <span class="n">table_type</span><span class="o">=</span><span class="n">CSV</span> <span class="n">file_name</span><span class="o">=</span><span class="s1">&#39;people.csv&#39;</span>
<span class="n">header</span><span class="o">=</span><span class="mi">1</span> <span class="n">sep_char</span><span class="o">=</span><span class="s1">&#39;;&#39;</span> <span class="n">quoted</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
</pre><p>For CSV tables, the <em>flag</em> column option is the rank of the column into the
file starting from 1 for the leftmost column. This is to enable having column
displayed in a different order than in the file and/or to define the table
specifying only some columns of the CSV file. For instance:</p>
<pre class="fixed"><span class="k">create</span> <span class="k">table</span> <span class="nf">people</span> <span class="p">(</span>
  <span class="n">name</span> <span class="kt">char</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span> <span class="k">not</span> <span class="no">null</span><span class="p">,</span>
  <span class="n">children</span> <span class="kt">smallint</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="k">not</span> <span class="no">null</span> <span class="n">flag</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
  <span class="n">birth</span> <span class="kt">date</span> <span class="k">not</span> <span class="no">null</span> <span class="n">flag</span><span class="o">=</span><span class="mi">2</span> <span class="n">date_format</span><span class="o">=</span><span class="s1">&#39;DD/MM/YY&#39;</span><span class="p">)</span>
<span class="kp">engine</span><span class="o">=</span><span class="n">CONNECT</span> <span class="n">table_type</span><span class="o">=</span><span class="n">CSV</span> <span class="n">file_name</span><span class="o">=</span><span class="s1">&#39;people.csv&#39;</span>
<span class="n">header</span><span class="o">=</span><span class="mi">1</span> <span class="n">sep_char</span><span class="o">=</span><span class="s1">&#39;;&#39;</span> <span class="n">quoted</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
</pre><p>In this case the command:</p>
<pre class="fixed"><span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">people</span><span class="p">;</span>
</pre><p>will display the table as:</p>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>name</th><th>children</th><th>birth</th></tr>
<tr><td>Archibald</td><td>3</td><td>2001-05-17</td></tr>
<tr><td>Nabucho</td><td>2</td><td>2003-08-12</td></tr>
</table>
</div><p>Many applications produce CSV files having some fields quoted, in particular
because the field text contains the separator character. For such files,
specify the 'QUOTED=<em>n</em>' option to indicate the level of quoting and/or the
'<code>QCHAR=c</code>' to specify what is this eventual quoting character, which is
<code>"</code> by default. Quoting with single quotes must be specified as
<code>QCHAR=''''</code>.  On writing, fields will be quoted depending on the value of
the quoting level, which is <code>–1</code> by default meaning no quoting:</p>
<table><tr><td>0</td><td>The fields between quotes are read and the quotes discarded. On writing, fields will be quoted only if they contain the separator character or begin with the quoting character. If they contain the quoting character, it will be doubled.</td></tr>
<tr><td>1</td><td>Only text fields will be written between quotes, except null fields. This includes also the column names of an eventual header.</td></tr>
<tr><td>2</td><td>All fields will be written between quotes, except null fields.</td></tr>
<tr><td>3</td><td>All fields will be written between quotes, including null fields.</td></tr>
</table>
<p>Files written this way are successfully read by most applications including spreadsheets.</p>
<p><strong>Note 1:</strong> If only the QCHAR option is specified, the QUOTED option will
default to 1.</p>
<p><strong>Note 2:</strong> For CSV tables whose separator is the tab character, specify
<code>sep_char='\t'</code>.</p>
<p><strong>Note 3:</strong> When creating a table on an existing CSV file, you can let
CONNECT analyze the file and make the column description. However, this is a
not an elaborate analysis of the file and, for instance, <code>DATE</code> fields will
not be recognized as such but will be regarded as string fields.</p>
<p><strong>Note 4:</strong> The CSV parser only reads and buffers up to 4KB per row by default, rows longer than this will be truncated when read from the file. If the rows are expected to be longer than this use <code>lrecl</code> to increase this. For example to set an 8KB maximum row read you would use <code>lrecl=8192</code></p>
<h3 class="anchored_heading" id="restrictions-on-csv-tables">Restrictions on CSV Tables</h3>
<ul start="1"><li>If <code><a href="/kb/en/server-system-variables/#secure_file_priv">secure_file_priv</a></code> is set to the path of some directory, then CSV tables can only be created with files in that directory.
</li></ul>
<h2 class="anchored_heading" id="fmt-type">FMT Type</h2>
<p>FMT tables handle files of various formats that are an extension of the concept
of CSV files. CONNECT supports these files providing all lines have the same
format and that all fields present in all records are recognizable (optional
fields must have recognizable delimiters). These files are made by specific
application and CONNECT handles them in read only mode.</p>
<p>FMT tables must be created as CSV tables, specifying their type as FMT. In
addition, each column description must be added to its format specification.</p>
<h2 class="anchored_heading" id="column-format-specification-of-fmt-tables">Column Format Specification of FMT tables</h2>
<p>The input format for each column is specified as a FIELD_FORMAT option. A
simple example is:</p>
<pre class="fixed"><span class="n">IP</span> <span class="kt">Char</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span> <span class="k">not</span> <span class="no">null</span> <span class="n">field_format</span><span class="o">=</span><span class="s1">&#39; %n%s%n&#39;</span><span class="p">,</span>
</pre><p>In the above example, the format for this (1st) field is <code>' %n%s%n'</code>. Note
that the blank character at the beginning of this format <strong>is</strong> significant. No
trailing blank should be specified in the column formats.</p>
<p>The syntax and meaning of the column input format is the one of the C <strong>scanf</strong>
function.</p>
<p>However, CONNECT uses the input format in a specific way. Instead of using it
to directly store the input value in the column buffer; it uses it to delimit
the sub string of the input record that contains the corresponding column
value. Retrieving this value is done later by the column functions as for
standard CSV files.</p>
<p>This is why all column formats are made of five components:</p>
<ol start="1"><li>An eventual description of what is met and ignored before the column value.
</li><li>A marker of the beginning of the column value written as <code>%n</code>.
</li><li>The format specification of the column value itself.
</li><li>A marker of the end of the column value written as <code>%n</code> (or <code>%m</code> for optional fields).
</li><li>An eventual description of what is met after the column value (not valid is <code>%m</code> was used).
</li></ol>
<p>For example, taking the file <em>funny.txt</em>:</p>
<pre class="fixed">12345,'BERTRAND',#200;5009.13
 56, 'POIROT-DELMOTTE' ,#4256 ;18009
345 ,'TRUCMUCHE' , #67; 19000.25
</pre><p>You can make a table <em>fmtsample</em> with 4 columns ID, NAME, DEPNO and SALARY, using the Create
Table statement and column formats:</p>
<pre class="fixed"><span class="k">create</span> <span class="k">table</span> <span class="nf">FMTSAMPLE</span> <span class="p">(</span>
  <span class="n">ID</span> <span class="kt">Integer</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="k">not</span> <span class="no">null</span> <span class="n">field_format</span><span class="o">=</span><span class="s1">&#39; %n%d%n&#39;</span><span class="p">,</span>
  <span class="n">NAME</span> <span class="kt">Char</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span> <span class="k">not</span> <span class="no">null</span> <span class="n">field_format</span><span class="o">=</span><span class="s1">&#39; , &#39;&#39;%n%[^&#39;&#39;]%n&#39;&#39;&#39;</span><span class="p">,</span>
  <span class="n">DEPNO</span> <span class="kt">Integer</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="k">not</span> <span class="no">null</span> <span class="n">field_format</span><span class="o">=</span><span class="s1">&#39; , #%n%d%n&#39;</span><span class="p">,</span>
  <span class="n">SALARY</span> <span class="kt">Double</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="k">not</span> <span class="no">null</span> <span class="n">field_format</span><span class="o">=</span><span class="s1">&#39; ; %n%f%n&#39;</span><span class="p">)</span>
<span class="kp">Engine</span><span class="o">=</span><span class="n">CONNECT</span> <span class="n">table_type</span><span class="o">=</span><span class="n">FMT</span> <span class="n">file_name</span><span class="o">=</span><span class="s1">&#39;funny.txt&#39;</span><span class="p">;</span>
</pre><p><strong>Field 1</strong> is an integer (<code>%d</code>) with eventual leading blanks.</p>
<p><strong>Field 2</strong> is separated from field 1 by optional blanks, a comma, and other
optional blanks and is between single quotes. The leading quote is included in
component 1 of the column format, followed by the <code>%n</code> marker. The column
value is specified as <code>%[^']</code> meaning to keep any characters read until a
quote is met. The ending marker (<code>%n</code>) is followed by the 5th component of
the column format, the single quote that follows the column value.</p>
<p><strong>Field 3,</strong> also separated by a comma, is a number preceded by a pound sign.</p>
<p><strong>Field 4,</strong> separated by a semicolon eventually surrounded by blanks, is a
number with an optional decimal point (<code>%f</code>).</p>
<p>This table will be displayed as:</p>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>ID</th><th>NAME</th><th>DEPNO</th><th>SALARY</th></tr>
<tr><td>12345</td><td>BERTRAND</td><td>200</td><td>5009.13</td></tr>
<tr><td>56</td><td>POIROT-DELMOTTE</td><td>4256</td><td>18009.00</td></tr>
<tr><td>345</td><td>TRUCMUCHE</td><td>67</td><td>19000.25</td></tr>
</table>
</div><h2 class="anchored_heading" id="optional-fields">Optional Fields</h2>
<p>To be recognized, a field normally must be at least one character long. For
instance, a numeric field must have at least one digit, or a character field
cannot be void. However many existing files do not follow this format.</p>
<p>Let us suppose for instance that the preceding example file could be:</p>
<pre class="fixed">12345,'BERTRAND',#200;5009.13
 56, 'POIROT-DELMOTTE' ,# ;18009
345 ,'' , #67; 19000.25
</pre><p>This will display an error message such as <em>“Bad format line x field y of
FMTSAMPLE”.</em> To avoid this and accept these records, the corresponding fields
must be specified as "optional". In the above example, fields 2 and 3 can have
null values (in lines 3 and 2 respectively). To specify them as optional, their
format must be terminated by <code>%m</code> (instead of the second <code>%n</code>). A statement
such as this can do the table creation:</p>
<pre class="fixed"><span class="k">create</span> <span class="k">table</span> <span class="nf">FMTAMPLE</span> <span class="p">(</span>
  <span class="n">ID</span> <span class="kt">Integer</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="k">not</span> <span class="no">null</span> <span class="n">field_format</span><span class="o">=</span><span class="s1">&#39; %n%d%n&#39;</span><span class="p">,</span>
  <span class="n">NAME</span> <span class="kt">Char</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span> <span class="k">not</span> <span class="no">null</span> <span class="n">field_format</span><span class="o">=</span><span class="s1">&#39; , &#39;&#39;%n%[^&#39;&#39;]%m&#39;</span><span class="p">,</span>
  <span class="n">DEPNO</span> <span class="kt">Integer</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="n">field_format</span><span class="o">=</span><span class="s1">&#39;&#39;&#39; , #%n%d%m&#39;</span><span class="p">,</span>
  <span class="n">SALARY</span> <span class="kt">Double</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="n">field_format</span><span class="o">=</span><span class="s1">&#39; ; %n%f%n&#39;</span><span class="p">)</span>
<span class="kp">Engine</span><span class="o">=</span><span class="n">CONNECT</span> <span class="n">table_type</span><span class="o">=</span><span class="n">FMT</span> <span class="n">file_name</span><span class="o">=</span><span class="s1">&#39;funny.txt&#39;</span><span class="p">;</span>
</pre><p>Note that, because the statement must be terminated by <code>%m</code> with no
additional characters, skipping the ending quote of field 2 was moved from the
end of the second column format to the beginning of the third column format.</p>
<p>The table result is:</p>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>ID</th><th>NAME</th><th>DEPNO</th><th>SALARY</th></tr>
<tr><td>12345</td><td>BERTRAND</td><td>200</td><td>5,009.13</td></tr>
<tr><td>56</td><td>POIROT-DELMOTTE</td><td>NULL</td><td>18,009.00</td></tr>
<tr><td>345</td><td>NULL</td><td>67</td><td>19,000.25</td></tr>
</table>
</div><p>Missing fields are replaced by null values if the column is nullable, blanks
for character strings and 0 for numeric fields if it is not.</p>
<p><strong>Note 1:</strong> Because the formats are specified between quotes, quotes belonging
to the formats must be doubled or escaped to avoid a <code>CREATE TABLE</code> statement syntax error.</p>
<p><strong>Note 2:</strong> Characters separating columns can be included as well in component
5 of the preceding column format or in component 1 of the succeeding column
format but for blanks, which should be always included in component 1 of the
succeeding column format because line trailing blanks can be sometimes lost.
This is also mandatory for optional fields.</p>
<p><strong>Note 3:</strong> Because the format is mainly used to find the sub-string
corresponding to a column value, the field specification does not necessarily
match the column type. For instance supposing a table contains two integer
columns, NBONE and NBTWO, the two lines describing these columns could be:</p>
<pre class="fixed"><span class="n">NBONE</span> <span class="kt">integer</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="k">not</span> <span class="no">null</span> <span class="n">field_format</span><span class="o">=</span><span class="s1">&#39; %n%d%n&#39;</span><span class="p">,</span>
<span class="n">NBTWO</span> <span class="kt">integer</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="n">field_format</span><span class="o">=</span><span class="s1">&#39; %n%s%n&#39;</span><span class="p">,</span>
</pre><p>The first one specifies a required integer field (<code>%d</code>), the second line
describes a field that can be an integer, but can be replaced by a "-" (or any
other) character. Specifying the format specification for this column as a
character field (<code>%s</code>) enables to recognize it with no error in all cases. Later
on, this field will be converted to integer by the column read function, and a
null 0 value will be generated for field specified in their format as
non-numeric.</p>
<h2 class="anchored_heading" id="bad-record-error-processing">Bad Record Error Processing</h2>
<p>When no match if found for a column field the process aborts with a message
such as:</p>
<pre class="fixed">Bad format line 3 field 4 of funny.txt
</pre><p>This can mean as well that one line of the input line is ill formed or that the
column format for this field has been wrongly specified. When you know that
your file contains records that are ill formatted and should be eliminated from
normal processing, set the “maxerr” option of the CREATE TABLE statement, for
instance:</p>
<pre class="fixed"><span class="n">Option_list</span><span class="o">=</span><span class="s1">&#39;maxerr=100&#39;</span>
</pre><p>This will indicate that no error message be raised for the 100 first wrong
lines. You can set Maxerr to a number greater than the number of wrong lines in
your files to ignore them and get no errors.</p>
<p>Additionally, the “accept” option permit to keep those ill formatted lines with
the bad field, and all succeeding fields of the record, nullified. If “accept”
is specified without “maxerr”, all ill formatted lines will be accepted.</p>
<p><strong>Note:</strong> This error processing also applies to CSV tables.</p>
<h2 class="anchored_heading" id="fields-containing-a-formatted-date">Fields Containing a Formatted Date</h2>
<p>A special case is one of columns containing a formatted date. In this case, two
formats must be specified:</p>
<ol start="1"><li>The field recognition format used to delimit the date in the input record.
</li><li>The date format used to interpret the date.
</li><li>The field length option if the date representation is different than the
  standard type size.
</li></ol>
<p>For example, let us suppose we have a web log source file containing records
such as:</p>
<pre class="fixed">165.91.215.31 - - [17/Jul/2001:00:01:13 -0400] - &#34;GET /usnews/home.htm HTTP/1.1&#34; 302
</pre><p>The create table statement shall be like this:</p>
<pre class="fixed"><span class="k">create</span> <span class="k">table</span> <span class="nf">WEBSAMP</span> <span class="p">(</span>
  <span class="n">IP</span> <span class="kt">char</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span> <span class="k">not</span> <span class="no">null</span> <span class="n">field_format</span><span class="o">=</span><span class="s1">&#39;%n%s%n&#39;</span><span class="p">,</span>
  <span class="kt">DATE</span> <span class="kt">datetime</span> <span class="k">not</span> <span class="no">null</span> <span class="n">field_format</span><span class="o">=</span><span class="s1">&#39; - - [%n%s%n -0400]&#39;</span>
  <span class="n">date_format</span><span class="o">=</span><span class="s1">&#39;DD/MMM/YYYY:hh:mm:ss&#39;</span> <span class="n">field_length</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
  <span class="n">FILE</span> <span class="kt">char</span><span class="p">(</span><span class="mi">128</span><span class="p">)</span> <span class="k">not</span> <span class="no">null</span> <span class="n">field_format</span><span class="o">=</span><span class="s1">&#39; - &quot;GET %n%s%n&#39;</span><span class="p">,</span>
  <span class="n">HTTP</span> <span class="kt">double</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="k">not</span> <span class="no">null</span> <span class="n">field_format</span><span class="o">=</span><span class="s1">&#39; HTTP/%n%f%n&quot;&#39;</span><span class="p">,</span>
  <span class="n">NBONE</span> <span class="kt">int</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="k">not</span> <span class="no">null</span> <span class="n">field_format</span><span class="o">=</span><span class="s1">&#39; %n%d%n&#39;</span><span class="p">)</span>
<span class="kp">Engine</span><span class="o">=</span><span class="n">CONNECT</span> <span class="n">table_type</span><span class="o">=</span><span class="n">FMT</span> <span class="n">lrecl</span><span class="o">=</span><span class="mi">400</span>
<span class="n">file_name</span><span class="o">=</span><span class="s1">&#39;e:\\data\\token\\Websamp.dat&#39;</span><span class="p">;</span>
</pre><p><strong>Note 1:</strong> Here, <code>field_length=20</code> was necessary because the default size
for datetime columns is only 19. The <code>lrecl=400</code> was also specified because
the actual file contains more information in each records making the record
size calculated by default too small.</p>
<p><strong>Note 2:</strong> The file name could have been specified as
<code>'e:/data/token/Websamp.dat'</code>.</p>
<p><strong>Note 3:</strong> FMT tables are currently read only.</p>

    </div>


        
            <div id="subscribe" class="well well-small hide hidden-print"
                 data-subscribe-url="/kb/en/connect-csv-and-fmt-table-types/+subscriptions/add"
                 data-unsubscribe-url="/kb/en/connect-csv-and-fmt-table-types/+subscriptions/remove">
            </div>
        

        
        
    
        <div class="simple_section_nav">
            <ul class="nav nav-pills">
                
                    <li><a href="/kb/en/connect-vec-table-type/">
                        ← CONNECT VEC Table Type
                    </a>
                    </li>
                
                
                    <li><a href="/kb/en/connect-table-types/">
                        ↑ CONNECT Table Types ↑
                    </a>
                    </li>
                
                
                    <li class="pull-right"><a href="/kb/en/connect-nosql-table-types/">
                        CONNECT - NoSQL Table Types →
                    </a>
                    </li>
                
            </ul>
        </div>
    

        

        
        <h2>Comments</h2>
        
    
    <div id="comments" data-node-id="4833" data-comments-url="/kb/en/connect-csv-and-fmt-table-types/+comments"
         data-reply-url="/kb/en/connect-csv-and-fmt-table-types/comments/post/">
        Comments loading...
    </div>

        

    </div>


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
                <div id="right_bar" class="col-md-2">
                    
    
        
        <ul class="section_navigation well well-small hidden-xs hidden-sm">
            
                <li class="parent"><a href="/kb/en/connect-table-types/">
                    ↑ CONNECT Table Types ↑
                </a>
                </li>
            
            
                
                    <li>
                        <a href="/kb/en/connect-table-types-overview/">
                            
                            CONNECT Table Types Overview
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/inward-and-outward-tables/">
                            
                            Inward and Outward Tables
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/connect-table-types-data-files/">
                            
                            CONNECT Table Types - Data Files
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/connect-zipped-file-tables/">
                            
                            CONNECT Zipped File Tables
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/connect-dos-and-fix-table-types/">
                            
                            CONNECT DOS and FIX Table Types
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/connect-dbf-table-type/">
                            
                            CONNECT DBF Table Type
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/connect-bin-table-type/">
                            
                            CONNECT BIN Table Type
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/connect-vec-table-type/">
                            
                            CONNECT VEC Table Type
                        </a>
                    </li>
                
            
                
                    <li class="active">
                        <span>CONNECT CSV and FMT Table Types</span>
                        
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/connect-nosql-table-types/">
                            
                            CONNECT - NoSQL Table Types
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/connect-files-retrieved-using-rest-queries/">
                            
                            CONNECT - Files Retrieved Using Rest Queries
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/connect-json-table-type/">
                            
                            CONNECT JSON Table Type
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/connect-xml-table-type/">
                            
                            CONNECT XML Table Type
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/connect-ini-table-type/">
                            
                            CONNECT INI Table Type
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/connect-external-table-types/">
                            
                            CONNECT - External Table Types
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/connect-odbc-table-type-accessing-tables-from-another-dbms/">
                            
                            CONNECT ODBC Table Type: Accessing Tables From Another DBMS
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/connect-jdbc-table-type-accessing-tables-from-another-dbms/">
                            
                            CONNECT JDBC Table Type: Accessing Tables from Another DBMS
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/connect-mongo-table-type/">
                            
                            CONNECT MONGO Table Type: Accessing Collections from MongoDB
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/connect-mysql-table-type-accessing-mysqlmariadb-tables/">
                            
                            CONNECT MYSQL Table Type: Accessing MySQL/MariaDB Tables
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/connect-proxy-table-type/">
                            
                            CONNECT PROXY Table Type
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/connect-xcol-table-type/">
                            
                            CONNECT XCOL Table Type
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/connect-occur-table-type/">
                            
                            CONNECT OCCUR Table Type
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/connect-pivot-table-type/">
                            
                            CONNECT PIVOT Table Type
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/connect-tbl-table-type-table-list/">
                            
                            CONNECT TBL Table Type: Table List
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/connect-using-the-tbl-and-mysql-table-types-together/">
                            
                            CONNECT - Using the TBL and MYSQL Table Types Together
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/connect-table-types-special-virtual-tables/">
                            
                            CONNECT Table Types - Special &#34;Virtual&#34; Tables
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/connect-table-types-vir/">
                            
                            CONNECT Table Types - VIR
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/connect-table-types-oem/">
                            
                            CONNECT Table Types - OEM: Implemented in an External LIB
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/connect-table-types-catalog-tables/">
                            
                            CONNECT Table Types - Catalog Tables
                        </a>
                    </li>
                
            
        </ul>
    
    

                </div>
            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/services" title="Services">Services</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">About Us</a></h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/download" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2025 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.1587e3a666fc.js" charset="utf-8"></script>

</html>