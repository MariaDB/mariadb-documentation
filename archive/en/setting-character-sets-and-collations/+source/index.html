<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>Setting Character Sets and Collations - Source - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.f7633538c846.css" rel="stylesheet" type="text/css" />

    
        <meta name="robots" content="noindex, nofollow">
    

    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="Setting Character Sets and Collations - Source" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/en/setting-character-sets-and-collations/+source/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="" />

    <meta name="description" content="" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes autoresize nodes_source jqui" id="nodes_source">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/setting-character-sets-and-collations/+source/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2025 MariaDB. All rights reserved.</p>
    </div>
</div>
<div class="violator-wrap d-none" id="top_violator">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12">
                <div class="violator-outer">
                    <div class="violator-inner">
                        <div class="row">
                            <div class="col-xs-12 col-sm-9 col-lg-7 col-lg-offset-2" id="top_violator_content">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="content-link" target="_blank" rel="nofollow noreferrer">
                                    <span>The Ultimate Guide to High Availability with MariaDB</span>
                                </a>
                            </div>
                            <div class="col-xs-12 col-sm-3" id="top_violator_cta">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="btn btn-mariadb" target="_blank" rel="nofollow noreferrer">Download Now</a>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn btn-link close-btn">
                        <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" width="15px" height="15px"><path d="M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/setting-character-sets-and-collations/+source/" rel="nofollow">Login</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/en/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/en/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/solutions" title="Solutions">Solutions</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="Company">Company</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/en/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/en/documentation/">MariaDB Server Documentation</a>
    

    
    » <a class="crumb" href="/kb/en/columns-storage-engines-and-plugins/">Columns, Storage Engines, and Plugins</a>
    

    
    » <a class="crumb" href="/kb/en/data-types/">Data Types</a>
    

    
    » <a class="crumb" href="/kb/en/string-data-types/">String Data Types</a>
    

    
    » <a class="crumb" href="/kb/en/character-sets/">Character Sets and Collations</a>
    


    » <a class="node_link crumb" href="/kb/en/setting-character-sets-and-collations/">Setting Character Sets and Collations</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/en/">Home</a></li>
                            
                                
                                    <li><a href="/kb/en/+questions/">Open Questions</a></li>
                                
                                <li><a href="/kb/en/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/en/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/en/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/en/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
                        <div>
    

<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-small" href="/kb/en/setting-character-sets-and-collations/">Return to article</a>
    
</div>
</div>

</div>
                    

                    

































                </aside>
            
            
            
                
            
            
            <section id="content" class="limited_width col-md-10 clearfix">
                
                    <h1>Setting Character Sets and Collations - Source</h1>
                

                



                <div>
                    

    

    
    <div class="revision_info">
        <dl class="table">
            <dt>Revision</dt>
            <dd><a href="/kb/en/setting-character-sets-and-collations/+r/145626/">145626</a></dd>
            <dt>User</dt>
            <dd>
<span class="user" id="user-1368">
<a href="/kb/user/id/1368" title="Ian Gilfillan">Ian Gilfillan</a>
</span></dd>
            <dt>Date</dt>
            <dd>

<span class="datetime" title="2025-01-08 12:47">2025-01-08 12:47</span></dd>
        </dl>
    </div>
    


    

    
        
        <textarea id="answer_source" class="creole_source autogrow">&lt;&lt;toc&gt;&gt;
Prior to MariaDB 11.6.0, the default [[data-types-character-sets-and-collations|character set]] is ##latin1##  and the default collation is ##latin1_swedish_ci##.  From MariaDB 11.6, the default character set is ##utf8mb4## and the default collation is ##utf8mb4_uca1400_ai_ci##.
This may differ in some distros, see for example [[differences-in-mariadb-in-debian|Differences in MariaDB in Debian]].

The character sets and the collations can be specified from the server right down to the column level, as well as for client-server connections. When changing a character set and not specifying a collation, the default collation for the new character set is always used. 

Character sets and collations always cascade down, so a column without a specified collation will look for the table default, the table for the database, and the database for the server. It&#39;s therefore possible to have extremely fine-grained control over all the character sets and collations used in your data.

Default collations for each character set can be viewed with the [[show-collation|SHOW COLLATION]] statement, for example, to find the default collation for the latin2 character set:
&lt;&lt;code wrap=true lang=sql&gt;&gt;
SHOW COLLATION LIKE &#39;latin2%&#39;;
+---------------------+---------+----+---------+----------+---------+
| Collation           | Charset | Id | Default | Compiled | Sortlen |
+---------------------+---------+----+---------+----------+---------+
| latin2_czech_cs     | latin2  |  2 |         | Yes      |       4 |
| latin2_general_ci   | latin2  |  9 | Yes     | Yes      |       1 |
| latin2_hungarian_ci | latin2  | 21 |         | Yes      |       1 |
| latin2_croatian_ci  | latin2  | 27 |         | Yes      |       1 |
| latin2_bin          | latin2  | 77 |         | Yes      |       1 |
+---------------------+---------+----+---------+----------+---------+
&lt;&lt;/code&gt;&gt;

== Server Level
The [[server-system-variables#character_set_server|character_set_server]] system variable can be used to change the default server character set. It can be set both on startup or dynamically, with the [[SET]] command:
&lt;&lt;sql&gt;&gt;
SET character_set_server = &#39;latin2&#39;;
&lt;&lt;/sql&gt;&gt;
Similarly, the [[server-system-variables#collation_server|collation_server]] variable is used for setting the default server collation.
&lt;&lt;sql&gt;&gt;
SET collation_server = &#39;latin2_czech_cs&#39;;
&lt;&lt;/sql&gt;&gt;

== Database Level
The [[create-database|CREATE DATABASE]] and [[alter-database|ALTER DATABASE]] statements have optional character set and collation clauses. If these are left out, the server defaults are used.

&lt;&lt;sql&gt;&gt;
CREATE DATABASE czech_slovak_names 
  CHARACTER SET = &#39;keybcs2&#39;
  COLLATE = &#39;keybcs2_bin&#39;;
&lt;&lt;/sql&gt;&gt;

&lt;&lt;sql&gt;&gt;
ALTER DATABASE czech_slovak_names COLLATE = &#39;keybcs2_general_ci&#39;;
&lt;&lt;/sql&gt;&gt;

To determine the default character set used by a database, use: 
&lt;&lt;code wrap=true lang=sql&gt;&gt;
SHOW CREATE DATABASE czech_slovak_names;
+--------------------+--------------------------------------------------------------------------------+
| Database           | Create Database                                                                |
+--------------------+--------------------------------------------------------------------------------+
| czech_slovak_names | CREATE DATABASE `czech_slovak_names` /*!40100 DEFAULT CHARACTER SET keybcs2 */ |
+--------------------+--------------------------------------------------------------------------------+
&lt;&lt;/code&gt;&gt;
or alternatively, for the character set and collation:
&lt;&lt;code wrap=true lang=sql&gt;&gt;
SELECT * FROM INFORMATION_SCHEMA.SCHEMATA;
+--------------+--------------------+----------------------------+------------------------+----------+
| CATALOG_NAME | SCHEMA_NAME        | DEFAULT_CHARACTER_SET_NAME | DEFAULT_COLLATION_NAME | SQL_PATH |
+--------------+--------------------+----------------------------+------------------------+----------+
| def          | czech_slovak_names | keybcs2                    | keybcs2_general_ci     | NULL     |
| def          | information_schema | utf8                       | utf8_general_ci        | NULL     |
| def          | mysql              | latin1                     | latin1_swedish_ci      | NULL     |
| def          | performance_schema | utf8                       | utf8_general_ci        | NULL     |
| def          | test               | latin1                     | latin1_swedish_ci      | NULL     |
+--------------+--------------------+----------------------------+------------------------+----------+
&lt;&lt;/code&gt;&gt;

It is also possible to specify only the collation, and, since each collation only applies to one character set, the associated character set will automatically be specified.

&lt;&lt;code wrap=true lang=sql&gt;&gt;
CREATE DATABASE danish_names COLLATE &#39;utf8_danish_ci&#39;;

SHOW CREATE DATABASE danish_names;
+--------------+----------------------------------------------------------------------------------------------+
| Database     | Create Database                                                                              |
+--------------+----------------------------------------------------------------------------------------------+
| danish_names | CREATE DATABASE `danish_names` /*!40100 DEFAULT CHARACTER SET utf8 COLLATE utf8_danish_ci */ |
+--------------+----------------------------------------------------------------------------------------------+
&lt;&lt;/code&gt;&gt;

Although there are [[server-system-variables#character_set_database|character_set_database]] and [[server-system-variables#collation_database|collation_database]] system variables which can be set dynamically, these are used for determining the character set and collation for the default database, and should only be set by the server.

== Table Level

The [[create-table|CREATE TABLE]] and [[alter-table|ALTER TABLE]] statements support optional character set and collation clauses, a MariaDB and MySQL extension to standard SQL.

&lt;&lt;code sql&gt;&gt;
CREATE TABLE english_names (id INT, name VARCHAR(40)) 
  CHARACTER SET &#39;utf8&#39; 
  COLLATE &#39;utf8_icelandic_ci&#39;;
&lt;&lt;/code&gt;&gt;

If neither character set nor collation is provided, the database default will be used. If only the character set is provided, the default collation for that character set will be used . If only the collation is provided, the associated character set will be used. See [[supported-character-sets-and-collations|Supported Character Sets and Collations]].

&lt;&lt;code sql&gt;&gt;
ALTER TABLE table_name
 CONVERT TO CHARACTER SET charset_name [COLLATE collation_name];
&lt;&lt;/code&gt;&gt;

If no collation is provided, the collation will be set to the default collation for that character set. See [[supported-character-sets-and-collations|Supported Character Sets and Collations]].

For [[varchar|VARCHAR]] or [[text|TEXT]] columns, CONVERT TO CHARACTER SET changes the data type if needed to ensure the new column is long enough to store as many characters as the original column. 

For example, an ascii TEXT column requires a single byte per character, so the column can hold up to 65,535 characters. If the column is converted to utf8mb4 (default from MariaDB 11.6), 4 bytes can be required for each character, so the column will be converted to [[mediumtext|MEDIUMTEXT]] to be able to hold the same number of characters.

##CONVERT TO CHARACTER SET binary## will convert [[char|CHAR]], [[varchar|VARCHAR]] and [[text|TEXT]] columns to [[binary|BINARY]], [[varbinary|VARBINARY]] and [[blob|BLOB]] respectively, and from that point will no longer have a character set, or be affected by future ##CONVERT TO CHARACTER SET## statements. 

To avoid data type changes resulting from ##CONVERT TO CHARACTER SET##, use ##MODIFY## on the individual columns instead. For example:
&lt;&lt;code wrap=true lang=sql&gt;&gt;
ALTER TABLE table_name MODIFY ascii_text_column TEXT CHARACTER SET utf8;
ALTER TABLE table_name MODIFY ascii_varchar_column VARCHAR(M) CHARACTER SET utf8;
&lt;&lt;/code&gt;&gt;

== Column Level
Character sets and collations can also be specified for columns that are character types CHAR, TEXT or VARCHAR. The [[create-table|CREATE TABLE]] and [[alter-table|ALTER TABLE]] statements support optional character set and collation clauses for this purpose - unlike those at the table level, the column level definitions are standard SQL.

&lt;&lt;code sql&gt;&gt;
CREATE TABLE european_names (
  croatian_names VARCHAR(40) COLLATE &#39;cp1250_croatian_ci&#39;,
  greek_names VARCHAR(40) CHARACTER SET &#39;greek&#39;);
&lt;&lt;/code&gt;&gt;
If neither collation nor character set is provided, the table default is used. If only the character set is specified, that character set&#39;s default collation is used, while if only the collation is specified, the associated character set is used. 

&lt;&lt;style class=&#34;redbox&#34;&gt;&gt;
When using [[alter-table|ALTER TABLE]] to change a column&#39;s character set, you need to ensure the character sets are compatible with your data. MariaDB will map the data as best it can, but it&#39;s possible to lose data if care is not taken.
&lt;&lt;/style&gt;&gt;

The [[show-create-table|SHOW CREATE TABLE]] statement or INFORMATION SCHEMA database can be used to determine column character sets and collations.

&lt;&lt;code wrap=true&gt;&gt;
SHOW CREATE TABLE european_names\G
*************************** 1. row ***************************
       Table: european_names
Create Table: CREATE TABLE `european_names` (
  `croatian_names` varchar(40) CHARACTER SET cp1250 COLLATE cp1250_croatian_ci DEFAULT NULL,
  `greek_names` varchar(40) CHARACTER SET greek DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_danish_ci
&lt;&lt;/code&gt;&gt;

&lt;&lt;code wrap=true&gt;&gt;
SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME LIKE &#39;european%&#39;\G
*************************** 1. row ***************************
           TABLE_CATALOG: def
            TABLE_SCHEMA: danish_names
              TABLE_NAME: european_names
             COLUMN_NAME: croatian_names
        ORDINAL_POSITION: 1
          COLUMN_DEFAULT: NULL
             IS_NULLABLE: YES
               DATA_TYPE: varchar
CHARACTER_MAXIMUM_LENGTH: 40
  CHARACTER_OCTET_LENGTH: 40
       NUMERIC_PRECISION: NULL
           NUMERIC_SCALE: NULL
      DATETIME_PRECISION: NULL
      CHARACTER_SET_NAME: cp1250
          COLLATION_NAME: cp1250_croatian_ci
             COLUMN_TYPE: varchar(40)
              COLUMN_KEY: 
                   EXTRA: 
              PRIVILEGES: select,insert,update,references
          COLUMN_COMMENT: 
*************************** 2. row ***************************
           TABLE_CATALOG: def
            TABLE_SCHEMA: danish_names
              TABLE_NAME: european_names
             COLUMN_NAME: greek_names
        ORDINAL_POSITION: 2
          COLUMN_DEFAULT: NULL
             IS_NULLABLE: YES
               DATA_TYPE: varchar
CHARACTER_MAXIMUM_LENGTH: 40
  CHARACTER_OCTET_LENGTH: 40
       NUMERIC_PRECISION: NULL
           NUMERIC_SCALE: NULL
      DATETIME_PRECISION: NULL
      CHARACTER_SET_NAME: greek
          COLLATION_NAME: greek_general_ci
             COLUMN_TYPE: varchar(40)
              COLUMN_KEY: 
                   EXTRA: 
              PRIVILEGES: select,insert,update,references
          COLUMN_COMMENT: 
&lt;&lt;/code&gt;&gt;

== Filenames

Since MariaDB 5.1, the [[server-system-variables#character_set_filesystem|character_set_filesystem]] system variable has controlled interpretation of file names that are given as literal strings. This affects the following statements and functions:

* [[select-into-dumpfile|SELECT INTO DUMPFILE]]
* SELECT INTO OUTFILE
* [[load-data-infile|LOAD DATA INFILE]]
* [[load-xml|LOAD XML]]
* [[load_file|LOAD_FILE()]]

== Literals
By default, the character set and collation used for literals is determined by the [[server-system-variables#character_set_connection|character_set_connection]] and [[server-system-variables#collation_connection|collation_connection]] system variables. However, they can also be specified explicitly:
&lt;&lt;code sql&gt;&gt;
[_charset_name]&#39;string&#39; [COLLATE collation_name]
&lt;&lt;/code&gt;&gt;

The character set of string literals that do not have a character set introducer is determined by the  [[server-system-variables#character_set_connection|character_set_connection]] system variable.

This query:
&lt;&lt;code sql&gt;&gt;
  SELECT CHARSET(&#39;a&#39;), @@character_set_connection;
&lt;&lt;/code&gt;&gt;
always returns the same character set name in both columns.

[[server-system-variables#character_set_client|character_set_client]] and [[server-system-variables#character_set_connection|character_set_connection]] are normally (e.g. during handshake, or after a SET NAMES query) are set to equal values. However, it&#39;s possible to set to different values.

=== Examples

Examples when setting @@character_set_client and @@character_set_connection
to different values can be useful:

Example 1:

Suppose, we have a utf8 database with this table:
&lt;&lt;code sql&gt;&gt;
CREATE TABLE t1 (a VARCHAR(10)) CHARACTER SET utf8 COLLATE utf8_general_ci;
INSERT INTO t1 VALUES (&#39;oe&#39;),(&#39;ö&#39;);
&lt;&lt;/code&gt;&gt;
Now we connect to it using &#34;mysql.exe&#34;, which uses the DOS character set
(cp850 on a West European machine), and want to fetch all records that
are equal to &#39;ö&#39; according to the German phonebook rules.

It&#39;s possible with the following:
&lt;&lt;code sql&gt;&gt;
SET @@character_set_client=cp850, @@character_set_connection=utf8;
SELECT a FROM t1 WHERE a=&#39;ö&#39; COLLATE utf8_german2_ci;
&lt;&lt;/code&gt;&gt;

This will return:
&lt;&lt;code&gt;&gt;
+------+
| a    |
+------+
| oe   |
| ö    |
+------+
&lt;&lt;/code&gt;&gt;

It works as follows:
# The client sends the query using cp850.
# The server, when parsing the query, creates a utf8 string literal by converting &#39;ö&#39; from @@character_set_client (cp850) to @@character_set_connection (utf8)
# The server applies the collation &#34;utf8_german2_ci&#34; to this string literal.
# The server uses utf8_german2_ci for comparison.


Note, if we rewrite the script like this:
&lt;&lt;code sql&gt;&gt;
SET NAMES cp850;
SELECT a FROM t1 WHERE a=&#39;ö&#39; COLLATE utf8_german2_ci;
&lt;&lt;/code&gt;&gt;
we&#39;ll get an error:
&lt;&lt;code&gt;&gt;
ERROR 1253 (42000): COLLATION &#39;utf8_german2_ci&#39; is not valid for CHARACTER SET &#39;cp850&#39;
&lt;&lt;/code&gt;&gt;
because:
* on step #2, the literal is not converted to utf8 any more and is created using cp850.
* on step #3, the server fails to apply utf8_german2_ci to an cp850 string literal.

Example 2:

Suppose we have a utf8 database and use &#34;mysql.exe&#34; from a West European machine again.

We can do this:
&lt;&lt;code sql&gt;&gt;
SET @@character_set_client=cp850, @@character_set_connection=utf8;
CREATE TABLE t2 AS SELECT &#39;ö&#39;;
&lt;&lt;/code&gt;&gt;
It will create a table with a column of the type ##VARCHAR(1) CHARACTER SET utf8##.

Note, if we rewrite the query like this:
&lt;&lt;code sql&gt;&gt;
SET NAMES cp850;
CREATE TABLE t2 AS SELECT &#39;ö&#39;;
&lt;&lt;/code&gt;&gt;
It will create a table with a column of the type ##VARCHAR(1) CHARACTER SET cp850##, which is probably not a good idea.

=== N
Also, ##N## or ##n## can be used as prefix to convert a literal into the National Character set (which in MariaDB is always utf8).

For example:
&lt;&lt;code&gt;&gt;
SELECT _latin2 &#39;Müller&#39;;
+-----------+
| MĂźller   |
+-----------+
| MĂźller   |
+-----------+
&lt;&lt;/code&gt;&gt;

Prior to MariaDB 10.6:
&lt;&lt;sql&gt;&gt;
SELECT CHARSET(N&#39;a string&#39;);
+----------------------+
| CHARSET(N&#39;a string&#39;) |
+----------------------+
| utf8                 |
+----------------------+
&lt;&lt;/sql&gt;&gt;

From MariaDB 10.6:
&lt;&lt;sql&gt;&gt;
SELECT CHARSET(N&#39;a string&#39;);
+----------------------+
| CHARSET(N&#39;a string&#39;) |
+----------------------+
| utf8mb3              |
+----------------------+
&lt;&lt;/sql&gt;&gt;

&lt;&lt;code&gt;&gt;
SELECT &#39;Mueller&#39; = &#39;Müller&#39; COLLATE &#39;latin1_german2_ci&#39;;
+---------------------------------------------------+
| &#39;Mueller&#39; = &#39;Müller&#39; COLLATE &#39;latin1_german2_ci&#39;  |
+---------------------------------------------------+
|                                                 1 |
+---------------------------------------------------+
&lt;&lt;/code&gt;&gt;

== Stored Programs and Views

The literals which occur in stored programs and views, by default, use the character set and collation which was specified by the [[server-system-variables#character_set_connection|character_set_connection]] and [[server-system-variables#collation_connection|collation_connection]] system variables when the stored program was created. These values can be seen using the SHOW CREATE statements. To change the character sets used for literals in an existing stored program, it is necessary to drop and recreate the stored program.

For stored routines parameters and return values, a character set and a collation can be specified via the CHARACTER SET and COLLATE clauses. Before 5.5, specifying a collation was not supported.

The following example shows that the character set and collation are determined at the time of creation:

&lt;&lt;code wrap=true lang=sql&gt;&gt;
SET @@local.character_set_connection=&#39;latin1&#39;;

DELIMITER ||
CREATE PROCEDURE `test`.`x`()
BEGIN
	SELECT CHARSET(&#39;x&#39;);
END;
||
Query OK, 0 rows affected (0.00 sec)

DELIMITER ;
SET @@local.character_set_connection=&#39;utf8&#39;;

CALL `test`.`x`();
+--------------+
| CHARSET(&#39;x&#39;) |
+--------------+
| latin1       |
+--------------+
&lt;&lt;/code&gt;&gt;

The following example shows how to specify a function parameters character set and collation:

&lt;&lt;code wrap=true lang=sql&gt;&gt;
CREATE FUNCTION `test`.`y`(`str` TEXT CHARACTER SET utf8 COLLATE utf8_bin)
	RETURNS TEXT CHARACTER SET latin1 COLLATE latin1_bin
BEGIN
	SET @param_coll = COLLATION(`str`);
	RETURN `str`;
END;

-- return value&#39;s collation:
SELECT COLLATION(`test`.`y`(&#39;Hello, planet!&#39;));
+-----------------------------------------+
| COLLATION(`test`.`y`(&#39;Hello, planet!&#39;)) |
+-----------------------------------------+
| latin1_bin                              |
+-----------------------------------------+

-- parameter&#39;s collation:
SELECT @param_coll;
+-------------+
| @param_coll |
+-------------+
| utf8_bin    |
+-------------+
&lt;&lt;/code&gt;&gt;

==Changing Default Collation
&lt;&lt;product mariadb from=&#34;11.2.1&#34;&gt;&gt;
From MariaDB 11.2, it is possible to change the default collation associated with a particular character set. The [[server-system-variables/#character_set_collations|character_set_collations]] system variable accepts a comma-delimited list of character sets and new default collations, for example:
&lt;&lt;code&gt;&gt;
SET @@character_set_collations = &#39;utf8mb4=uca1400_ai_ci, latin2=latin2_hungarian_ci&#39;;
&lt;&lt;/code&gt;&gt;
The new variable will take effect in all cases where a character set is explicitly or implicitly specified without an explicit COLLATE clause, including but not limited to:
*Column collation
*Table collation
*Database collation
*CHAR(expr USING csname)
*CONVERT(expr USING csname)
*CAST(expr AS CHAR CHARACTER SET csname)
*&#39;&#39; - character string literal
*_utf8mb3&#39;text&#39; - a character string literal with an introducer
*_utf8mb3 X&#39;61&#39; - a character string literal with an introducer with hex notation
*_utf8mb3 0x61 - a character string literal with an introducer with hex hybrid notation
*@@collation_connection after a SET NAMES without COLLATE
&lt;&lt;/product&gt;&gt;

== Example: Changing the Default Character Set To UTF-8
To change the default character set from latin1 (prior to MariaDB 11.6.0) to UTF-8, the following settings should be specified in the my.cnf configuration file.
&lt;&lt;code&gt;&gt;
[mysql]
...
default-character-set=utf8mb4
...
[mysqld]
...
collation-server = utf8mb4_unicode_ci
init-connect=&#39;SET NAMES utf8mb4&#39;
character-set-server = utf8mb4
...
&lt;&lt;/code&gt;&gt;

Note that the ##default-character-set## option is a client option, not a server option.

== See Also
* [[string-literals|String literals]]
* [[cast|CAST()]]
* [[convert|CONVERT()]]
* [[operator-precedence|Operator Precedence]]</textarea>
    


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/solutions" title="Solutions">Solutions</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">Company</a></h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        
                        
                        <li>
                            <h5><a href="https://mariadb.com/downloads" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2025 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.1587e3a666fc.js" charset="utf-8"></script>

</html>