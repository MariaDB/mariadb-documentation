<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>MaxScale Database Proxy - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.f7633538c846.css" rel="stylesheet" type="text/css" />

    

    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="MaxScale Database Proxy" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/en/maxscale-database-proxy/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="Configure MaxScale to load balance requests to your MariaDB instances" />

    <meta name="description" content="Configure MaxScale to load balance requests to your MariaDB instances" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes products nodes_view jqui" id="nodes_view">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/maxscale-database-proxy/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2025 MariaDB. All rights reserved.</p>
    </div>
</div>
<div class="violator-wrap d-none" id="top_violator">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12">
                <div class="violator-outer">
                    <div class="violator-inner">
                        <div class="row">
                            <div class="col-xs-12 col-sm-9 col-lg-7 col-lg-offset-2" id="top_violator_content">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="content-link" target="_blank" rel="nofollow noreferrer">
                                    <span>The Ultimate Guide to High Availability with MariaDB</span>
                                </a>
                            </div>
                            <div class="col-xs-12 col-sm-3" id="top_violator_cta">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="btn btn-mariadb" target="_blank" rel="nofollow noreferrer">Download Now</a>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn btn-link close-btn">
                        <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" width="15px" height="15px"><path d="M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/maxscale-database-proxy/" rel="nofollow">Login</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/en/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/en/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/solutions" title="Solutions">Solutions</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="Company">Company</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/en/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/en/documentation/">MariaDB Server Documentation</a>
    

    
    » <a class="crumb" href="/kb/en/mariadb-enterprise-server/">MariaDB Enterprise Server</a>
    

    
    » <a class="crumb" href="/kb/en/mariadb-enterprise-operator/">MariaDB Enterprise Operator</a>
    


    » <a class="node_link crumb" href="/kb/en/maxscale-database-proxy/">MaxScale Database Proxy</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/en/">Home</a></li>
                            
                                
                                    <li><a href="/kb/en/+questions/">Open Questions</a></li>
                                
                                <li><a href="/kb/en/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/en/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/en/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/en/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
<div>



<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-blue btn-sm" href="/kb/en/maxscale-database-proxy/+history" rel="nofollow">History</a>
        
        
        
        <a class="btn btn-block btn-blue btn-sm" href="/kb/en/maxscale-database-proxy/+source/">Source</a>
        
        <a class="btn btn-block btn-blue btn-sm flag" href="/kb/en/maxscale-database-proxy/+flag"
                data-flag-url="/kb/en/maxscale-database-proxy/+flag" rel="nofollow">
                Flag as Spam / Inappropriate</a>
        
        <a class="btn btn-block btn-blue btn-sm" href="/kb/en/maxscale-database-proxy/+translate/">
                Translate</a>
        

</div>
</div>





<div class="well well-small box node_info"><div>

    <dl>
        <dt>Created</dt>
        <dd>

<span class="datetime" title="2025-02-27 16:06">1 month, 3 weeks ago</span></dd>

        <dt>Modified</dt>
        <dd>

<span class="datetime" title="2025-04-22 08:35">15 hours, 27 minutes ago</span></dd>

        <dt>Type</dt>
        <dd>article</dd>

        <dt>Status</dt>
        <dd>active</dd>

        <dt>License</dt>
        <dd>
            
                <a href="/kb/en/maxscale-database-proxy/+license/">CC BY-SA / Gnu FDL</a>
            
        </dd>

        
    </dl>

    
    <ul class="rss_feeds">
        <li><a href="/kb/en/maxscale-database-proxy/+history/feed/">
            History</a>
        </li>
        <li><a href="/kb/en/maxscale-database-proxy/+comments/feed/">
            Comments</a>
        </li>
    </ul>
    

</div>
</div>





    
    
    

<div class="well well-small box attachments"><div><div class="edit_link pull-right"><a href="/kb/en/maxscale-database-proxy/+edit/attachments/">Edit</a></div><h5>Attachments</h5></div><div>

        
            <div class="no_data">No attachments exist</div>
        
    
</div>
</div>

    



    
    






</div>


                    

































                </aside>
            
            
            
                
            
            
                
            
            <section id="content" class="limited_width col-md-8 clearfix">
                
                    <h1>MaxScale Database Proxy</h1>
                

                



                <div>
                    
    

    
    
    

    <div class="node creole">
        
        
        


    
    <div class="answer formatted">
        <p>MaxScale is a sophisticated database proxy, router, and load balancer designed specifically for and by MariaDB. It provides a range of features that ensure optimal high availability:</p>
<ul>
<li>Query-based routing: Transparently route write queries to the primary nodes and read queries to the replica nodes.</li>
<li>Connection-based routing: Load balance connections between multiple servers.</li>
<li>Automatic primary failover based on MariaDB internals.</li>
<li>Replay pending transactions when a server goes down.</li>
<li>Support for Galera and Replication.</li>
</ul>
<p>To better understand what MaxScale is capable of you may check the <a href="https://mariadb.com/docs/server/products/mariadb-maxscale/">product page</a> and the <a href="https://mariadb.com/kb/en/maxscale/">documentation</a>. </p>
<h2 id="table-of-contents">Table of contents</h2>
<ul>
<li><a href="#maxscale-resources">MaxScale resources</a></li>
<li><a href="#maxscale-cr"><code>MaxScale</code> CR</a></li>
<li><a href="#mariadb-cr"><code>MariaDB</code> CR</a></li>
<li><a href="#maxscale-embedded-in-mariadb"><code>MaxScale</code> embedded in <code>MariaDB</code></a></li>
<li><a href="#defaults">Defaults</a></li>
<li><a href="#server-configuration">Server configuration</a></li>
<li><a href="#server-maintenance">Server maintenance</a></li>
<li><a href="#configuration">Configuration</a></li>
<li><a href="#authentication">Authentication</a></li>
<li><a href="#kubernetes-services">Kubernetes <code>Services</code></a></li>
<li><a href="#connection">Connection</a></li>
<li><a href="#high-availability">High availability</a></li>
<li><a href="#suspend-resources">Suspend resources</a></li>
<li><a href="#maxscale-gui">MaxScale GUI</a></li>
<li><a href="#maxscale-api">MaxScale API</a></li>
<li><a href="#troubleshooting">Troubleshooting</a></li>
</ul>
<h2 id="maxscale-resources">MaxScale resources</h2>
<p>Prior to configuring MaxScale within Kubernetes, it's essential to have a basic understanding of the resources managed through its API.</p>
<h4 id="servers">Servers</h4>
<p>A server defines the backend database servers that MaxScale forwards traffic to. For more detailed information, please consult the <a href="https://mariadb.com/kb/en/mariadb-maxscale-2501-maxscale-2501-configuration-settings/#server">server reference</a>.</p>
<h4 id="monitors">Monitors</h4>
<p>A monitor is an agent that queries the state of the servers and makes it available to the services in order to route traffic based on it. For more detailed information, please consult the <a href="https://mariadb.com/kb/en/mariadb-maxscale-2501-maxscale-25-01-monitors/">monitor reference</a>.</p>
<p>Depending on which highly available configuration your servers have, you will need to choose betweeen the following modules:</p>
<ul>
<li><a href="https://mariadb.com/kb/en/mariadb-maxscale-2501-maxscale-2501-galera-monitor/">Galera Monitor</a>: Detects whether servers are part of the cluster, ensuring synchronization among them, and assigning primary and replica roles as needed.</li>
<li><a href="https://mariadb.com/kb/en/mariadb-maxscale-2501-maxscale-2501-mariadb-monitor/">MariaDB Monitor</a>: Probes the state of the cluster, assigns roles to the servers, and executes failover, switchover, and rejoin operations as necessary.</li>
</ul>
<h4 id="services">Services</h4>
<p>A service defines how the traffic is routed to the servers based on a routing algorithm that takes into account the state of the servers and its role. For more detailed information, please consult the <a href="https://mariadb.com/kb/en/mariadb-maxscale-2501-maxscale-2501-configuration-settings/#service_1">service reference</a>.</p>
<p>Depending on your requirements to route traffic, you may choose between the following routers:</p>
<ul>
<li><a href="https://mariadb.com/kb/en/mariadb-maxscale-2501-maxscale-2501-readwritesplit/">Readwritesplit</a>: Route write queries to the primary server and read queries to the replica servers.</li>
<li><a href="https://mariadb.com/kb/en/mariadb-maxscale-2501-maxscale-2501-readconnroute/">Readconnroute</a>: Load balance connections between multiple servers.</li>
</ul>
<h4 id="listeners">Listeners</h4>
<p>A listener specifies a port where MaxScale listens for incoming connections. It is associated with a service that handles the requests received on that port. For more detailed information, please consult the <a href="https://mariadb.com/kb/en/mariadb-maxscale-2501-maxscale-2501-configuration-settings/#listener">listener reference</a>.</p>
<h2 id="maxscale-cr"><code>MaxScale</code> CR</h2>
<p>The minimal spec you need to provision a MaxScale instance is just a reference to a <code>MariaDB</code> resource:</p>
<div><pre><span></span><span>apiVersion</span><span>:</span> <span>enterprise.mariadb.com/v1alpha1</span>
<span>kind</span><span>:</span> <span>MaxScale</span>
<span>metadata</span><span>:</span>
  <span>name</span><span>:</span> <span>maxscale-galera</span>
<span>spec</span><span>:</span>
  <span>mariaDbRef</span><span>:</span>
    <span>name</span><span>:</span> <span>mariadb-galera</span>
</pre></div>


<p>This will provision a new <code>StatefulSet</code> for running MaxScale and configure the servers specified by the <code>MariaDB</code> resource. Refer to the <a href="#server-configuration">Server configuration</a> section if you want to manually configure the MariaDB servers.</p>
<p>The rest of the configuration uses reasonable <a href="#defaults">defaults</a> set automatically by the operator. If you need a more fine grained configuration, you can provide this values yourself:</p>
<div><pre><span></span><span>apiVersion</span><span>:</span> <span>enterprise.mariadb.com/v1alpha1</span>
<span>kind</span><span>:</span> <span>MaxScale</span>
<span>metadata</span><span>:</span>
  <span>name</span><span>:</span> <span>maxscale-galera</span>
<span>spec</span><span>:</span>
<span>...</span>
  <span>mariaDbRef</span><span>:</span>
    <span>name</span><span>:</span> <span>mariadb-galera</span>

  <span>services</span><span>:</span>
    <span>-</span> <span>name</span><span>:</span> <span>rw-router</span>
      <span>router</span><span>:</span> <span>readwritesplit</span>
      <span>listener</span><span>:</span>
        <span>port</span><span>:</span> <span>3306</span>

  <span>monitor</span><span>:</span>
    <span>interval</span><span>:</span> <span>2s</span>
    <span>cooperativeMonitoring</span><span>:</span> <span>majority_of_all</span>
    <span>params</span><span>:</span>
      <span>disable_master_failback</span><span>:</span> <span>"false"</span>
      <span>available_when_donor</span><span>:</span> <span>"false"</span>
      <span>disable_master_role_setting</span><span>:</span> <span>"false"</span>

  <span>kubernetesService</span><span>:</span>
    <span>type</span><span>:</span> <span>LoadBalancer</span>
    <span>metadata</span><span>:</span>
      <span>annotations</span><span>:</span>
        <span>metallb.universe.tf/loadBalancerIPs</span><span>:</span> <span>172.18.0.224</span>
</pre></div>


<p>As you can see, the <a href="#maxscale-resources">MaxScale resources</a> we previously mentioned have a counterpart resource in the <code>MaxScale</code> CR. </p>
<p>You also need to set a reference in the <code>MariaDB</code> resource to make it <code>MaxScale</code>-aware. This is explained in the <a href="#mariadb-cr">MariaDB CR</a> section.</p>
<p>Refer to the <a href="https://mariadb.com/kb/en/mariadb-enterprise-operator-api-reference/">API reference</a> for further detail.</p>
<h2 id="mariadb-cr"><code>MariaDB</code> CR</h2>
<p>You can set a <code>spec.maxScaleRef</code> in your <code>MariaDB</code> resource to make it <code>MaxScale</code>-aware. By doing so, the primary server reported by <code>MaxScale</code> will be used in <code>MariaDB</code> and the high availability tasks such the primary failover will be delegated to <code>MaxScale</code>:</p>
<div><pre><span></span><span>apiVersion</span><span>:</span> <span>enterprise.mariadb.com/v1alpha1</span>
<span>kind</span><span>:</span> <span>MariaDB</span>
<span>metadata</span><span>:</span>
  <span>name</span><span>:</span> <span>mariadb-galera</span>
<span>spec</span><span>:</span>
<span>...</span>
  <span>maxScaleRef</span><span>:</span>
    <span>name</span><span>:</span> <span>maxscale-galera</span>

  <span>galera</span><span>:</span>
    <span>enabled</span><span>:</span> <span>true</span>
</pre></div>


<p>Refer to the <a href="https://mariadb.com/kb/en/mariadb-enterprise-operator-api-reference/">API reference</a> for further detail.</p>
<h2 id="maxscale-embedded-in-mariadb"><code>MaxScale</code> embedded in <code>MariaDB</code></h2>
<p>To streamline the setup outlined in the <a href="#mariadb-cr">MaxScale CR</a> and <a href="#mariadb-cr">MariaDB CR</a> sections, you can provision a <code>MaxScale</code> to be used with <code>MariaDB</code> in just one resource:</p>
<div><pre><span></span><span>apiVersion</span><span>:</span> <span>enterprise.mariadb.com/v1alpha1</span>
<span>kind</span><span>:</span> <span>MariaDB</span>
<span>metadata</span><span>:</span>
  <span>name</span><span>:</span> <span>mariadb-galera</span>
<span>spec</span><span>:</span>
<span>...</span>
  <span>maxScale</span><span>:</span>
    <span>enabled</span><span>:</span> <span>true</span>

    <span>kubernetesService</span><span>:</span>
      <span>type</span><span>:</span> <span>LoadBalancer</span>
      <span>metadata</span><span>:</span>
        <span>annotations</span><span>:</span>
          <span>metallb.universe.tf/loadBalancerIPs</span><span>:</span> <span>172.18.0.229</span>

  <span>galera</span><span>:</span>
    <span>enabled</span><span>:</span> <span>true</span>
</pre></div>


<p>This will automatically set the references between <code>MariaDB</code> and <code>MaxScale</code> and <a href="#defaults">default</a> the rest of the fields.</p>
<p>It is important to note that, this is intended for simple use cases that only require a single replica and where no further modifications are done on the <code>spec.maxscale</code> field. If you need a more fine grained configuration and perform further updates to the <code>MaxScale</code> resource, please use a dedicated <code>MaxScale</code> as described in the <a href="#mariadb-cr">MaxScale CR</a> section.</p>
<p>Refer to the <a href="https://mariadb.com/kb/en/mariadb-enterprise-operator-api-reference/">API reference</a> for further detail.</p>
<h2 id="defaults">Defaults</h2>
<p>MariaDB Enterprise Operator aims to provide highly configurable CRs, but at the same time maximize its usability by providing reasonable defaults. In the case of <code>MaxScale</code>, the following defaulting logic is applied:</p>
<ul>
<li><code>spec.servers</code> are inferred from <code>spec.mariaDbRef</code>.</li>
<li><code>spec.monitor.module</code> is inferred from the <code>spec.mariaDbRef</code>.</li>
<li><code>spec.monitor.cooperativeMonitoring</code> is set if <a href="#high-availability">high availability</a> is enabled.</li>
<li>If <code>spec.services</code> is not provided, a <code>readwritesplit</code> service is configured on port <code>3306</code> by default.</li>
</ul>
<h2 id="server-configuration">Server configuration</h2>
<p>As an alternative to provide a reference to a <code>MariaDB</code> via <code>spec.mariaDbRef</code>, you can also specify the servers manually:</p>
<div><pre><span></span><span>apiVersion</span><span>:</span> <span>enterprise.mariadb.com/v1alpha1</span>
<span>kind</span><span>:</span> <span>MaxScale</span>
<span>metadata</span><span>:</span>
  <span>name</span><span>:</span> <span>maxscale-galera</span>
<span>spec</span><span>:</span>
<span>...</span>
  <span>servers</span><span>:</span>
    <span>-</span> <span>name</span><span>:</span> <span>mariadb-0</span>
      <span>address</span><span>:</span> <span>mariadb-galera-0.mariadb-galera-internal.default.svc.cluster.local</span>
    <span>-</span> <span>name</span><span>:</span> <span>mariadb-1</span>
      <span>address</span><span>:</span> <span>mariadb-galera-1.mariadb-galera-internal.default.svc.cluster.local</span>
    <span>-</span> <span>name</span><span>:</span> <span>mariadb-2</span>
      <span>address</span><span>:</span> <span>mariadb-galera-2.mariadb-galera-internal.default.svc.cluster.local</span>
</pre></div>


<p>As you could see, you can refer to in-cluser MariaDB servers by providing the DNS names of the <code>MariaDB</code> <code>Pods</code> as server addresses. In addition, you can also refer to external MariaDB instances running outside of the Kubernetes cluster where the operator was deployed:</p>
<div><pre><span></span><span>apiVersion</span><span>:</span> <span>enterprise.mariadb.com/v1alpha1</span>
<span>kind</span><span>:</span> <span>MaxScale</span>
<span>metadata</span><span>:</span>
  <span>name</span><span>:</span> <span>maxscale-galera</span>
<span>spec</span><span>:</span>
<span>...</span>
  <span>servers</span><span>:</span>
    <span>-</span> <span>name</span><span>:</span> <span>mariadb-0</span>
      <span>address</span><span>:</span> <span>172.18.0.140</span>
      <span>port</span><span>:</span> <span>3306</span>
    <span>-</span> <span>name</span><span>:</span> <span>mariadb-1</span>
      <span>address</span><span>:</span> <span>172.18.0.141</span>
    <span>-</span> <span>name</span><span>:</span> <span>mariadb-2</span>
      <span>address</span><span>:</span> <span>172.18.0.142</span>

  <span>monitor</span><span>:</span>
    <span>name</span><span>:</span> <span>mariadb-monitor</span>
    <span>module</span><span>:</span> <span>galeramon</span>
    <span>interval</span><span>:</span> <span>2s</span>
    <span>cooperativeMonitoring</span><span>:</span> <span>majority_of_all</span>
    <span>params</span><span>:</span>
      <span>disable_master_failback</span><span>:</span> <span>"false"</span>
      <span>available_when_donor</span><span>:</span> <span>"false"</span>
      <span>disable_master_role_setting</span><span>:</span> <span>"false"</span>

  <span>auth</span><span>:</span>
    <span>adminUsername</span><span>:</span> <span>mariadb-enterprise-operator</span>
    <span>adminPasswordSecretKeyRef</span><span>:</span>
      <span>name</span><span>:</span> <span>maxscale</span>
      <span>key</span><span>:</span> <span>password</span>
    <span>clientUsername</span><span>:</span> <span>maxscale-client</span>
    <span>clientPasswordSecretKeyRef</span><span>:</span>
      <span>name</span><span>:</span> <span>maxscale</span>
      <span>key</span><span>:</span> <span>password</span>
    <span>serverUsername</span><span>:</span> <span>maxscale-server</span>
    <span>serverPasswordSecretKeyRef</span><span>:</span>
      <span>name</span><span>:</span> <span>maxscale</span>
      <span>key</span><span>:</span> <span>password</span>
    <span>monitorUsername</span><span>:</span> <span>maxscale-monitor</span>
    <span>monitorPasswordSecretKeyRef</span><span>:</span>
      <span>name</span><span>:</span> <span>maxscale</span>
      <span>key</span><span>:</span> <span>password</span>
    <span>syncUsername</span><span>:</span> <span>maxscale-sync</span>
    <span>syncPasswordSecretKeyRef</span><span>:</span>
      <span>name</span><span>:</span> <span>maxscale</span>
      <span>key</span><span>:</span> <span>password</span>
</pre></div>


<p>Pointing to external MariaDBs has a some limitations: Since the operator doesn't have a reference to a <code>MariaDB</code> resource (<code>spec.mariaDbRef</code>), it will be unable to perform the following actions:</p>
<ul>
<li>Infer the monitor module (<code>spec.monitor.module</code>), so it will need to be provided by the user.</li>
<li>Autogenerate authentication credentials (<code>spec.auth</code>), so they will need to be provided by the user. See <a href="#authentication">Authentication</a> section. </li>
</ul>
<h2 id="server-maintenance">Server maintenance</h2>
<p>You can put servers in maintenance mode by setting <code>maintenance = true</code>:</p>
<div><pre><span></span><span>apiVersion</span><span>:</span> <span>enterprise.mariadb.com/v1alpha1</span>
<span>kind</span><span>:</span> <span>MaxScale</span>
<span>metadata</span><span>:</span>
  <span>name</span><span>:</span> <span>maxscale-galera</span>
<span>spec</span><span>:</span>
<span>...</span>
  <span>servers</span><span>:</span>
    <span>-</span> <span>name</span><span>:</span> <span>mariadb-0</span>
      <span>address</span><span>:</span> <span>mariadb-galera-0.mariadb-galera-internal.default.svc.cluster.local</span>
      <span>port</span><span>:</span> <span>3306</span>
      <span>protocol</span><span>:</span> <span>MariaDBBackend</span>
      <span>maintenance</span><span>:</span> <span>true</span>
</pre></div>


<p>Maintenance mode prevents MaxScale from routing traffic to the server and also excludes it from being elected as the new primary during failover events.</p>
<h2 id="configuration">Configuration</h2>
<p>Similar to MariaDB, MaxScale allows you to provide global configuration parameters in a <code>maxscale.conf</code> file. You don't need to provide this config file directly, but instead you can use the <code>spec.config.params</code> to instruct the operator to create the <code>maxscale.conf</code>:</p>
<div><pre><span></span><span>apiVersion</span><span>:</span> <span>enterprise.mariadb.com/v1alpha1</span>
<span>kind</span><span>:</span> <span>MaxScale</span>
<span>metadata</span><span>:</span>
  <span>name</span><span>:</span> <span>maxscale-galera</span>
<span>spec</span><span>:</span>
<span>...</span>
  <span>config</span><span>:</span>
    <span>params</span><span>:</span>
      <span>log_info</span><span>:</span> <span>"true"</span>
    <span>volumeClaimTemplate</span><span>:</span>
      <span>resources</span><span>:</span>
        <span>requests</span><span>:</span>
          <span>storage</span><span>:</span> <span>100Mi</span>
      <span>accessModes</span><span>:</span>
        <span>-</span> <span>ReadWriteOnce</span>
</pre></div>


<p>Both this global configuration and the resources created by the operator using the <a href="#maxscale-api">MaxScale API</a> are stored under a volume provisioned by the <code>spec.config.volumeClaimTemplate</code>.</p>
<p>Refer to the <a href="https://mariadb.com/kb/en/mariadb-maxscale-2501-maxscale-2501-configuration-settings">MaxScale reference</a> for more details about the supported parameters.</p>
<h2 id="authentication">Authentication</h2>
<p>MaxScale requires authentication with differents levels of permissions for the following components/actors:</p>
<ul>
<li><a href="#maxscale-api">MaxScale API</a> consumed by MariaDB Enterprise Operator.</li>
<li>Clients connecting to MaxScale.</li>
<li>MaxScale connecting to MariaDB servers.</li>
<li>MaxScale monitor connecting to MariaDB servers.</li>
<li>MaxScale configuration syncer to connect to MariaDB servers. See <a href="#high-availability">high availability</a> section.</li>
</ul>
<p>By default, the operator generates this credentials when <code>spec.mariaDbRef</code> is set and <code>spec.auth.generate = true</code>, but you are still able to provide your own:</p>
<div><pre><span></span><span>apiVersion</span><span>:</span> <span>enterprise.mariadb.com/v1alpha1</span>
<span>kind</span><span>:</span> <span>MaxScale</span>
<span>metadata</span><span>:</span>
  <span>name</span><span>:</span> <span>maxscale-galera</span>
<span>spec</span><span>:</span>
<span>...</span>
  <span>auth</span><span>:</span>
    <span>generate</span><span>:</span> <span>false</span>
    <span>adminUsername</span><span>:</span> <span>mariadb-enterprise-operator</span>
    <span>adminPasswordSecretKeyRef</span><span>:</span>
      <span>name</span><span>:</span> <span>maxscale</span>
      <span>key</span><span>:</span> <span>password</span>
    <span>deleteDefaultAdmin</span><span>:</span> <span>true</span>
    <span>clientUsername</span><span>:</span> <span>maxscale-client</span>
    <span>clientPasswordSecretKeyRef</span><span>:</span>
      <span>name</span><span>:</span> <span>maxscale</span>
      <span>key</span><span>:</span> <span>password</span>
    <span>clientMaxConnections</span><span>:</span> <span>90</span>
    <span>serverUsername</span><span>:</span> <span>maxscale-server</span>
    <span>serverPasswordSecretKeyRef</span><span>:</span>
      <span>name</span><span>:</span> <span>maxscale</span>
      <span>key</span><span>:</span> <span>password</span>
    <span>serverMaxConnections</span><span>:</span> <span>90</span> 
    <span>monitorUsername</span><span>:</span> <span>maxscale-monitor</span>
    <span>monitorPasswordSecretKeyRef</span><span>:</span>
      <span>name</span><span>:</span> <span>maxscale</span>
      <span>key</span><span>:</span> <span>password</span>
    <span>monitorMaxConnections</span><span>:</span> <span>90</span> 
    <span>syncUsername</span><span>:</span> <span>maxscale-sync</span>
    <span>syncPasswordSecretKeyRef</span><span>:</span>
      <span>name</span><span>:</span> <span>maxscale</span>
      <span>key</span><span>:</span> <span>password</span>
    <span>syncMaxConnections</span><span>:</span> <span>90</span>
</pre></div>


<p>As you could see, you are also able to limit the number of connections for each component/actor. Bear in mind that, when running in <a href="#high-availability">high availability</a>, you may need to increase this number, as more MaxScale instances implies more connections.</p>
<h2 id="kubernetes-services">Kubernetes <code>Services</code></h2>
<p>To enable your applications to communicate with MaxScale, a Kubernetes <code>Service</code> is provisioned with all the ports specified in the MaxScale listeners. You have the flexibility to provide a template to customize this <code>Service</code>:</p>
<div><pre><span></span><span>apiVersion</span><span>:</span> <span>enterprise.mariadb.com/v1alpha1</span>
<span>kind</span><span>:</span> <span>MaxScale</span>
<span>metadata</span><span>:</span>
  <span>name</span><span>:</span> <span>maxscale-galera</span>
<span>spec</span><span>:</span>
<span>...</span>
  <span>kubernetesService</span><span>:</span>
    <span>type</span><span>:</span> <span>LoadBalancer</span>
    <span>metadata</span><span>:</span>
      <span>annotations</span><span>:</span>
        <span>metallb.universe.tf/loadBalancerIPs</span><span>:</span> <span>172.18.0.224</span>
</pre></div>


<p>This results in the reconciliation of the following <code>Service</code>:</p>
<div><pre><span></span><span>apiVersion</span><span>:</span> <span>v1</span>
<span>kind</span><span>:</span> <span>Service</span>
<span>metadata</span><span>:</span>
  <span>annotations</span><span>:</span>
    <span>metallb.universe.tf/loadBalancerIPs</span><span>:</span> <span>172.18.0.229</span>
  <span>name</span><span>:</span> <span>maxscale-galera</span>
<span>spec</span><span>:</span>
<span>...</span>
  <span>ports</span><span>:</span>
  <span>-</span> <span>name</span><span>:</span> <span>admin</span>
    <span>port</span><span>:</span> <span>8989</span>
    <span>targetPort</span><span>:</span> <span>8989</span>
  <span>-</span> <span>name</span><span>:</span> <span>rw-router-listener</span>
    <span>port</span><span>:</span> <span>3306</span>
    <span>targetPort</span><span>:</span> <span>3306</span>
  <span>selector</span><span>:</span>
    <span>app.kubernetes.io/instance</span><span>:</span> <span>maxscale-galera</span>
    <span>app.kubernetes.io/name</span><span>:</span> <span>maxscale</span>
  <span>type</span><span>:</span> <span>LoadBalancer</span>
</pre></div>


<p>There is also another Kubernetes <code>Service</code> to access the GUI, please refer to the <a href="#maxscale-gui">MaxScale GUI</a> section for further detail.</p>
<h2 id="connection">Connection</h2>
<p>You can leverage the <code>Connection</code> resource to automatically configure connection strings as <code>Secret</code> resources that your applications can mount:</p>
<div><pre><span></span><span>apiVersion</span><span>:</span> <span>enterprise.mariadb.com/v1alpha1</span>
<span>kind</span><span>:</span> <span>Connection</span>
<span>metadata</span><span>:</span>
  <span>name</span><span>:</span> <span>connection-maxscale</span>
<span>spec</span><span>:</span>
  <span>maxScaleRef</span><span>:</span>
    <span>name</span><span>:</span> <span>maxscale-galera</span>
  <span>username</span><span>:</span> <span>maxscale-galera-client</span>
  <span>passwordSecretKeyRef</span><span>:</span>
    <span>name</span><span>:</span> <span>maxscale-galera-client</span>
    <span>key</span><span>:</span> <span>password</span>
  <span>secretName</span><span>:</span> <span>conn-mxs</span>
  <span>port</span><span>:</span> <span>3306</span>
</pre></div>


<p>Alternatively, you can also provide a connection template to your <code>MaxScale</code> resource:</p>
<div><pre><span></span><span>apiVersion</span><span>:</span> <span>enterprise.mariadb.com/v1alpha1</span>
<span>kind</span><span>:</span> <span>MaxScale</span>
<span>metadata</span><span>:</span>
  <span>name</span><span>:</span> <span>maxscale-galera</span>
<span>spec</span><span>:</span>
<span>...</span>  
  <span>connection</span><span>:</span>
    <span>secretName</span><span>:</span> <span>mxs-galera-conn</span>
    <span>port</span><span>:</span> <span>3306</span>
</pre></div>


<p>Note that, the <code>Connection</code> uses the <code>Service</code> described in the <a href="#kubernetes-service">Kubernetes Service</a> section and you are able to specify which MaxScale service to connect to by providing the port (<code>spec.port</code>) of the corresponding MaxScale listener.</p>
<h2 id="high-availability">High availability</h2>
<p>To synchronize the configuration state across multiple replicas, MaxScale stores the configuration externally in a MariaDB table and conducts periodic polling across all replicas. By default, the table <code>mysql.maxscale_config</code> is used, but this can be configured by the user as well as the synchronization interval.</p>
<p>Another crucial aspect to consider regarding HA is that only one monitor can be running at any given time to avoid conflicts. This can be achieved via cooperative locking, which can be configured by the user. Refer to <a href="https://mariadb.com/docs/server/architecture/components/maxscale/monitors/mariadbmon/use-cooperative-locking-ha-maxscale-mariadb-monitor/">MaxScale docs</a> for more information.</p>
<div><pre><span></span><span>apiVersion</span><span>:</span> <span>enterprise.mariadb.com/v1alpha1</span>
<span>kind</span><span>:</span> <span>MaxScale</span>
<span>metadata</span><span>:</span>
  <span>name</span><span>:</span> <span>maxscale-galera</span>
<span>spec</span><span>:</span>
<span>...</span>
  <span>replicas</span><span>:</span> <span>2</span>

  <span>monitor</span><span>:</span>
    <span>name</span><span>:</span> <span>mariadb-monitor</span>
    <span>module</span><span>:</span> <span>galeramon</span>
    <span>interval</span><span>:</span> <span>2s</span>
    <span>cooperativeMonitoring</span><span>:</span> <span>majority_of_all</span>
    <span>params</span><span>:</span>
      <span>disable_master_failback</span><span>:</span> <span>"false"</span>
      <span>available_when_donor</span><span>:</span> <span>"false"</span>
      <span>disable_master_role_setting</span><span>:</span> <span>"false"</span>   

  <span>config</span><span>:</span>
    <span>sync</span><span>:</span>
      <span>database</span><span>:</span> <span>mysql</span>
      <span>interval</span><span>:</span> <span>5s</span>
      <span>timeout</span><span>:</span> <span>10s</span>
</pre></div>


<p>Multiple <code>MaxScale</code> replicas can be specified by providing the <code>spec.replicas</code> field. Note that, <code>MaxScale</code> exposes the <a href="https://kubernetes.io/docs/tasks/extend-kubernetes/custom-resources/custom-resource-definitions/#scale-subresource">scale subresource</a>, so you can scale/downscale it by running the following command:</p>
<div><pre><span></span>kubectl scale maxscale maxscale-galera --replicas 3
</pre></div>


<h2 id="suspend-resources">Suspend resources</h2>
<p>In order to enable this feature, you must set the <code>--feature-maxscale-suspend</code> feature flag:</p>
<div><pre><span></span>helm upgrade --install mariadb-enterprise-operator mariadb-enterprise-operator/mariadb-enterprise-operator --set <span>extraArgs</span><span>={</span>--feature-maxscale-suspend<span>}</span>
</pre></div>


<p>Then you will be able to suspend any <a href="#maxscale-resources">MaxScale resources</a>, for instance, you can suspend a monitor:</p>
<div><pre><span></span><span>apiVersion</span><span>:</span> <span>enterprise.mariadb.com/v1alpha1</span>
<span>kind</span><span>:</span> <span>MaxScale</span>
<span>metadata</span><span>:</span>
  <span>name</span><span>:</span> <span>maxscale-galera</span>
<span>spec</span><span>:</span>
<span>...</span>
  <span>monitor</span><span>:</span>
    <span>name</span><span>:</span> <span>mariadb-monitor</span>
    <span>module</span><span>:</span> <span>galeramon</span>
    <span>interval</span><span>:</span> <span>2s</span>
    <span>cooperativeMonitoring</span><span>:</span> <span>majority_of_all</span>
    <span>params</span><span>:</span>
      <span>disable_master_failback</span><span>:</span> <span>"false"</span>
      <span>available_when_donor</span><span>:</span> <span>"false"</span>
      <span>disable_master_role_setting</span><span>:</span> <span>"false"</span>   
    <span>suspend</span><span>:</span> <span>true</span>
</pre></div>


<h2 id="maxscale-gui">MaxScale GUI</h2>
<p>MaxScale offers a great user interface that provides very useful information about the <a href="#maxscale-resources">MaxScale resources</a>. You can  enable it by providing the following configuration:</p>
<div><pre><span></span><span>apiVersion</span><span>:</span> <span>enterprise.mariadb.com/v1alpha1</span>
<span>kind</span><span>:</span> <span>MaxScale</span>
<span>metadata</span><span>:</span>
  <span>name</span><span>:</span> <span>maxscale-galera</span>
<span>spec</span><span>:</span>
<span>...</span>
  <span>admin</span><span>:</span>
    <span>port</span><span>:</span> <span>8989</span>
    <span>guiEnabled</span><span>:</span> <span>true</span>
  <span>guiKubernetesService</span><span>:</span>
    <span>type</span><span>:</span> <span>LoadBalancer</span>
    <span>metadata</span><span>:</span>
      <span>metadata</span><span>:</span>
        <span>annotations</span><span>:</span>
          <span>metallb.universe.tf/loadBalancerIPs</span><span>:</span> <span>172.18.0.231</span>
</pre></div>


<p>The GUI is exposed via a dedicated Kubernetes <code>Service</code> in the same port as the <a href="#maxscale-api">MaxScale API</a>. Once you access, you will need to enter the <a href="#maxscale-api">MaxScale API</a> credentials configured by the operator in a <code>Secret</code>. See the <a href="#authentication">Authentication</a> section for more details.</p>
<p><img src="https://operator.mariadb.com/assets/maxscale-gui.png"></p>
<h2 id="maxscale-api">MaxScale API</h2>
<p>MariaDB Enterprise Operator interacts with the <a href="https://mariadb.com/kb/en/mariadb-maxscale-25-01-rest-api/">MaxScale REST API</a> to reconcile the specification provided by the user, considering both the MaxScale status retrieved from the API and the provided spec.</p>
<h2 id="troubleshooting">Troubleshooting</h2>
<p>The operator tracks both the <code>MaxScale</code> status in regards to Kubernetes resources as well as the status of the <a href="#maxscale-api">MaxScale API</a> resources. This information is available on the status field of the <code>MaxScale</code> resource, it may be very useful for debugging purposes:</p>
<div><pre><span></span><span>status</span><span>:</span>
  <span>conditions</span><span>:</span>
  <span>-</span> <span>lastTransitionTime</span><span>:</span> <span>"2024-02-08T17:29:01Z"</span>
    <span>message</span><span>:</span> <span>Running</span>
    <span>reason</span><span>:</span> <span>MaxScaleReady</span>
    <span>status</span><span>:</span> <span>"True"</span>
    <span>type</span><span>:</span> <span>Ready</span>
  <span>configSync</span><span>:</span>
    <span>databaseVersion</span><span>:</span> <span>20</span>
    <span>maxScaleVersion</span><span>:</span> <span>20</span>
  <span>listeners</span><span>:</span>
  <span>-</span> <span>name</span><span>:</span> <span>rw-router-listener</span>
    <span>state</span><span>:</span> <span>Running</span>
  <span>monitor</span><span>:</span>
    <span>name</span><span>:</span> <span>galeramon-monitor</span>
    <span>state</span><span>:</span> <span>Running</span>
  <span>primaryServer</span><span>:</span> <span>mariadb-galera-1</span>
  <span>replicas</span><span>:</span> <span>1</span>
  <span>servers</span><span>:</span>
  <span>-</span> <span>name</span><span>:</span> <span>mariadb-galera-0</span>
    <span>state</span><span>:</span> <span>Slave, Synced, Running</span>
  <span>-</span> <span>name</span><span>:</span> <span>mariadb-galera-1</span>
    <span>state</span><span>:</span> <span>Master, Synced, Running</span>
  <span>-</span> <span>name</span><span>:</span> <span>mariadb-galera-2</span>
    <span>state</span><span>:</span> <span>Slave, Synced, Running</span>
  <span>services</span><span>:</span>
  <span>-</span> <span>name</span><span>:</span> <span>rw-router</span>
    <span>state</span><span>:</span> <span>Started</span>
</pre></div>


<p>Kubernetes events emitted by <code>mariadb-enterprise-operator</code> may also be very relevant for debugging. For instance, an event is emitted whenever the primary server changes:</p>
<div><pre><span></span>kubectl get events --field-selector involvedObject.name<span>=</span>mariadb-repl-maxscale --sort-by<span>=</span><span>'.lastTimestamp'</span>

LAST SEEN   TYPE      REASON                         OBJECT                           MESSAGE
24s         Normal    MaxScalePrimaryServerChanged   maxscale/mariadb-repl-maxscale   MaxScale primary server changed from <span>'mariadb-repl-0'</span> to <span>'mariadb-repl-1'</span>
</pre></div>


<p>The operator logs can also be a good source of information for troubleshooting. You can increase its verbosity and enable <a href="#maxscale-api">MaxScale API</a> request logs by running:</p>
<div><pre><span></span>helm upgrade --install mariadb-enterprise-operator mariadb-enterprise-operator/mariadb-enterprise-operator --set <span>logLevel</span><span>=</span>debug --set <span>extraArgs</span><span>={</span>--log-maxscale<span>}</span>
</pre></div>


<h3 id="common-errors">Common errors</h3>
<h4 id="permission-denied-writing-varlibmaxscale">Permission denied writing <code>/var/lib/maxscale</code></h4>
<p>This error occurs when the user that runs the container does not have enough privileges to write in <code>/var/lib/maxscale</code>:</p>
<div><pre><span></span>Failed to create directory <span>'/var/lib/maxscale/maxscale.cnf.d'</span>: 13, Permission denied
</pre></div>


<p>To mitigate this, by default, the operator sets the following <code>securityContext</code> in the <code>MaxScale</code>'s <code>StatefulSet</code>:</p>
<div><pre><span></span><span>apiVersion</span><span>:</span> <span>apps/v1</span>
<span>kind</span><span>:</span> <span>StatefulSet</span>
<span>metadata</span><span>:</span>
  <span>name</span><span>:</span> <span>maxscale-galera</span>
<span>spec</span><span>:</span>
  <span>securityContext</span><span>:</span>
    <span>fsGroup</span><span>:</span> <span>999</span>
    <span>runAsGroup</span><span>:</span> <span>999</span>
    <span>runAsNonRoot</span><span>:</span> <span>true</span>
    <span>runAsUser</span><span>:</span> <span>999</span>
</pre></div>


<p>This enables the <code>CSIDriver</code> and the kubelet to recursively set the ownership ofr the <code>/var/lib/maxscale</code> folder to the group <code>999</code>, which is the one expected by MaxScale. It is important to note that not all the <code>CSIDrivers</code> implementations support this feature, see the <a href="https://kubernetes-csi.github.io/docs/support-fsgroup.html">CSIDriver documentation</a> for further information.</p>
    </div>


        
            <div id="subscribe" class="well well-small hide hidden-print"
                 data-subscribe-url="/kb/en/maxscale-database-proxy/+subscriptions/add"
                 data-unsubscribe-url="/kb/en/maxscale-database-proxy/+subscriptions/remove">
            </div>
        

        
        
    
        <div class="simple_section_nav">
            <ul class="nav nav-pills">
                
                    <li><a href="/kb/en/high-availability/">
                        ← High Availability
                    </a>
                    </li>
                
                
                    <li><a href="/kb/en/mariadb-enterprise-operator/">
                        ↑ MariaDB Enterprise Operator ↑
                    </a>
                    </li>
                
                
                    <li class="pull-right"><a href="/kb/en/backup-and-restore/">
                        Backup and Restore →
                    </a>
                    </li>
                
            </ul>
        </div>
    

        

        
        <h2>Comments</h2>
        
    
    <div id="comments" data-node-id="15894" data-comments-url="/kb/en/maxscale-database-proxy/+comments"
         data-reply-url="/kb/en/maxscale-database-proxy/comments/post/">
        Comments loading...
    </div>

        

    </div>


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
                <div id="right_bar" class="col-md-2">
                    
    
        
        <ul class="section_navigation well well-small hidden-xs hidden-sm">
            
                <li class="parent"><a href="/kb/en/mariadb-enterprise-operator/">
                    ↑ MariaDB Enterprise Operator ↑
                </a>
                </li>
            
            
                
                    <li>
                        <a href="/kb/en/mariadb-enterprise-operator-introduction/">
                            
                            Introduction
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/customer-access-to-docker-mariadb-com/">
                            
                            Customer access to docker.mariadb.com
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/docker-images/">
                            
                            Docker Images
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/mariadb-enterprise-operator-installation/">
                            
                            MariaDB Enterprise Operator Installation
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/quickstart/">
                            
                            Quickstart
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/standalone-mariadb/">
                            
                            Standalone MariaDB
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/mariadb-enterprise-operator-galera-cluster/">
                            
                            Galera Cluster
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/high-availability/">
                            
                            High Availability
                        </a>
                    </li>
                
            
                
                    <li class="active">
                        <span>MaxScale Database Proxy</span>
                        
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/backup-and-restore/">
                            
                            Backup and Restore
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/mariadb-enterprise-operator-storage/">
                            
                            Storage
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/tls/">
                            
                            TLS
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/configuration/">
                            
                            Configuration
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/updates/">
                            
                            Updates
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/mariadb-enterprise-operator-metrics/">
                            
                            Metrics
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/sql-resources/">
                            
                            SQL Resources
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/metadata/">
                            
                            Metadata
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/suspend-reconciliation/">
                            
                            Suspend Reconciliation
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/api-reference/">
                            
                            API Reference
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/examples-catalog/">
                            
                            Examples Catalog
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/mariadb-enterprise-operator-migrations/">
                            
                            MariaDB Enterprise Operator Migrations
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/mariadb-enterprise-operator-release-notes/">
                            
                            MariaDB Enterprise Operator Release Notes
                        </a>
                    </li>
                
            
        </ul>
    
    

                </div>
            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/solutions" title="Solutions">Solutions</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">Company</a></h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        
                        
                        <li>
                            <h5><a href="https://mariadb.com/downloads" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2025 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.1587e3a666fc.js" charset="utf-8"></script>

</html>