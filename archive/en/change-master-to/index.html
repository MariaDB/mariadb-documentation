<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>CHANGE MASTER TO - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.9a0d7dcebefd.css" rel="stylesheet" type="text/css" />

    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="CHANGE MASTER TO" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/en/change-master-to/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="Set or change replica parameters for connecting to the primary." />

    <meta name="description" content="Set or change replica parameters for connecting to the primary." />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes products nodes_view jqui" id="nodes_view">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/change-master-to/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2024 MariaDB. All rights reserved.</p>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/change-master-to/" rel="nofollow">Login</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/en/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/en/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/services" title="Services">Services</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="About Us">About Us</a>
    </li>
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/en/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/en/documentation/">MariaDB Server Documentation</a>
    

    
    » <a class="crumb" href="/kb/en/using-mariadb-server/">Using MariaDB Server</a>
    

    
    » <a class="crumb" href="/kb/en/sql-statements-structure/">SQL Statements &amp; Structure</a>
    

    
    » <a class="crumb" href="/kb/en/sql-statements/">SQL Statements</a>
    

    
    » <a class="crumb" href="/kb/en/administrative-sql-statements/">Administrative SQL Statements</a>
    

    
    » <a class="crumb" href="/kb/en/replication-commands/">Replication Commands</a>
    


    » <a class="node_link crumb" href="/kb/en/change-master-to/">CHANGE MASTER TO</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/en/">Home</a></li>
                            
                                
                                    <li><a href="/kb/en/+questions/">Open Questions</a></li>
                                
                                <li><a href="/kb/en/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/en/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/en/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/en/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
<div>



<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-blue btn-sm" href="/kb/en/change-master-to/+history" rel="nofollow">History</a>
        
        
        
        <a class="btn btn-block btn-blue btn-sm" href="/kb/en/change-master-to/+source/">Source</a>
        
        <a class="btn btn-block btn-blue btn-sm flag" href="/kb/en/change-master-to/+flag"
                data-flag-url="/kb/en/change-master-to/+flag" rel="nofollow">
                Flag as Spam / Inappropriate</a>
        
        <a class="btn btn-block btn-blue btn-sm" href="/kb/en/change-master-to/+translate/">
                Translate</a>
        

</div>
</div>





<div class="well well-small box node_info"><div>

    <dl>
        <dt>Created</dt>
        <dd>

<span class="datetime" title="2010-08-30 18:59">13 years, 5 months ago</span></dd>

        <dt>Modified</dt>
        <dd>

<span class="datetime" title="2024-02-08 09:39">4 days, 7 hours ago</span></dd>

        <dt>Type</dt>
        <dd>article</dd>

        <dt>Status</dt>
        <dd>active</dd>

        <dt>License</dt>
        <dd>
            
                <a href="/kb/en/change-master-to/+license/">GPLv2 fill_help_tables.sql</a>
            
        </dd>

        
    </dl>

    
    <ul class="rss_feeds">
        <li><a href="/kb/en/change-master-to/+history/feed/">
            History</a>
        </li>
        <li><a href="/kb/en/change-master-to/+comments/feed/">
            Comments</a>
        </li>
    </ul>
    

</div>
</div>





    
    
    

<div class="well well-small box attachments"><div><div class="edit_link pull-right"><a href="/kb/en/change-master-to/+edit/attachments/">Edit</a></div><h5>Attachments</h5></div><div>

        
            <div class="no_data">No attachments exist</div>
        
    
</div>
</div>

    



    
    
        

<div class="well well-small box"><div><h5>Localized Versions</h5></div><div>

        <ul>
            
            <li><a href="/kb/it/change-master-to/">CHANGE MASTER TO</a> [it]</li>
            
        </ul>
        
</div>
</div>

    



    
    

<div class="well well-small box"><div><h5>Product Versions</h5></div><div>

        <ul id="product_chooser">
            
                <li class="mariadb_from_10_7_0">
                    <label><input type="checkbox" data-product-class="mariadb_from_10_7_0"
                            >MariaDB starting with 10.7.0</label>
                </li>
            
                <li class="mariadb_from_10_7_0">
                    <label><input type="checkbox" data-product-class="mariadb_from_10_7_0"
                            >MariaDB starting with 10.7.0</label>
                </li>
            
                <li class="mariadb_from_10_10">
                    <label><input type="checkbox" data-product-class="mariadb_from_10_10"
                            >MariaDB starting with 10.10</label>
                </li>
            
                <li class="mariadb_from_10_10">
                    <label><input type="checkbox" data-product-class="mariadb_from_10_10"
                            >MariaDB starting with 10.10</label>
                </li>
            
        </ul>
    
</div>
</div>






</div>


                    

































                </aside>
            
            
            
                
            
            
                
            
            <section id="content" class="limited_width col-md-8 clearfix">
                
                    <h1>CHANGE MASTER TO</h1>
                

                



                <div>
                    
    

    
    
    

    <div class="node creole">
        
        
        


    
    <div class="answer formatted">
        <div class="cstm-style bluebox text"><p>The terms <em>master</em> and <em>slave</em> have historically been used in replication, and MariaDB has begun the process of adding <em>primary</em> and <em>replica</em> synonyms. The old terms will continue to be used to maintain backward compatibility - see <a href="https://jira.mariadb.org/browse/MDEV-18777">MDEV-18777</a> to follow progress on this effort.</p>
</div>
<h2 class="anchored_heading" id="syntax">Syntax</h2>
<pre class="fixed">CHANGE MASTER ['connection_name'] TO master_def  [, master_def] ... 
  [FOR CHANNEL 'channel_name']

master_def:
    MASTER_BIND = 'interface_name'
  | MASTER_HOST = 'host_name'
  | MASTER_USER = 'user_name'
  | MASTER_PASSWORD = 'password'
  | MASTER_PORT = port_num
  | MASTER_CONNECT_RETRY = interval
  | MASTER_HEARTBEAT_PERIOD = interval
  | MASTER_LOG_FILE = 'master_log_name'
  | MASTER_LOG_POS = master_log_pos
  | RELAY_LOG_FILE = 'relay_log_name'
  | RELAY_LOG_POS = relay_log_pos
  | MASTER_DELAY = interval
  | MASTER_SSL = {0|1}
  | MASTER_SSL_CA = 'ca_file_name'
  | MASTER_SSL_CAPATH = 'ca_directory_name'
  | MASTER_SSL_CERT = 'cert_file_name'
  | MASTER_SSL_CRL = 'crl_file_name'
  | MASTER_SSL_CRLPATH = 'crl_directory_name'
  | MASTER_SSL_KEY = 'key_file_name'
  | MASTER_SSL_CIPHER = 'cipher_list'
  | MASTER_SSL_VERIFY_SERVER_CERT = {0|1}
  | MASTER_USE_GTID = {current_pos|slave_pos|no}
  | MASTER_DEMOTE_TO_SLAVE = bool
  | IGNORE_SERVER_IDS = (server_id_list)
  | DO_DOMAIN_IDS = ([N,..])
  | IGNORE_DOMAIN_IDS = ([N,..])
</pre><div class="table_of_contents well well-small">
<h3>Contents</h3>
 <ol class="toc">

    <li class="mariadb_from_10_7_0"><a href="#syntax" title="Syntax">Syntax</a></li>

    <li class="mariadb_from_10_7_0"><a href="#description" title="Description">Description</a></li>

    <li class="mariadb_from_10_7_0"><a href="#multi-source-replication" title="Multi-Source Replication">Multi-Source Replication</a>    <ol class="toc">

        <li class="mariadb_from_10_7_0"><a href="#default_master_connection" title="default_master_connection">default_master_connection</a></li>

        <li class="mariadb_from_10_7_0"><a href="#connection_name" title="connection_name">connection_name</a>    </ol>
</li>

    <li class="mariadb_from_10_7_0"><a href="#options" title="Options">Options</a>    <ol class="toc">

        <li class="mariadb_from_10_7_0"><a href="#connection-options" title="Connection Options">Connection Options</a>        <ol class="toc">

            <li class="mariadb_from_10_7_0"><a href="#master_user" title="MASTER_USER">MASTER_USER</a></li>

            <li class="mariadb_from_10_7_0"><a href="#master_password" title="MASTER_PASSWORD">MASTER_PASSWORD</a></li>

            <li class="mariadb_from_10_7_0"><a href="#master_host" title="MASTER_HOST">MASTER_HOST</a></li>

            <li class="mariadb_from_10_7_0"><a href="#master_port" title="MASTER_PORT">MASTER_PORT</a></li>

            <li class="mariadb_from_10_7_0"><a href="#master_connect_retry" title="MASTER_CONNECT_RETRY">MASTER_CONNECT_RETRY</a></li>

            <li class="mariadb_from_10_7_0"><a href="#master_bind" title="MASTER_BIND">MASTER_BIND</a></li>

            <li class="mariadb_from_10_7_0"><a href="#master_heartbeat_period" title="MASTER_HEARTBEAT_PERIOD">MASTER_HEARTBEAT_PERIOD</a>        </ol>
</li>

        <li class="mariadb_from_10_7_0"><a href="#tls-options" title="TLS Options">TLS Options</a>        <ol class="toc">

            <li class="mariadb_from_10_7_0"><a href="#master_ssl" title="MASTER_SSL">MASTER_SSL</a></li>

            <li class="mariadb_from_10_7_0"><a href="#master_ssl_ca" title="MASTER_SSL_CA">MASTER_SSL_CA</a></li>

            <li class="mariadb_from_10_7_0"><a href="#master_ssl_capath" title="MASTER_SSL_CAPATH">MASTER_SSL_CAPATH</a></li>

            <li class="mariadb_from_10_7_0"><a href="#master_ssl_cert" title="MASTER_SSL_CERT">MASTER_SSL_CERT</a></li>

            <li class="mariadb_from_10_7_0"><a href="#master_ssl_crl" title="MASTER_SSL_CRL">MASTER_SSL_CRL</a></li>

            <li class="mariadb_from_10_7_0"><a href="#master_ssl_crlpath" title="MASTER_SSL_CRLPATH">MASTER_SSL_CRLPATH</a></li>

            <li class="mariadb_from_10_7_0"><a href="#master_ssl_key" title="MASTER_SSL_KEY">MASTER_SSL_KEY</a></li>

            <li class="mariadb_from_10_7_0"><a href="#master_ssl_cipher" title="MASTER_SSL_CIPHER">MASTER_SSL_CIPHER</a></li>

            <li class="mariadb_from_10_7_0"><a href="#master_ssl_verify_server_cert" title="MASTER_SSL_VERIFY_SERVER_CERT">MASTER_SSL_VERIFY_SERVER_CERT</a>        </ol>
</li>

        <li class="mariadb_from_10_7_0"><a href="#binary-log-options" title="Binary Log Options">Binary Log Options</a>        <ol class="toc">

            <li class="mariadb_from_10_7_0"><a href="#master_log_file" title="MASTER_LOG_FILE">MASTER_LOG_FILE</a></li>

            <li class="mariadb_from_10_7_0"><a href="#master_log_pos" title="MASTER_LOG_POS">MASTER_LOG_POS</a>        </ol>
</li>

        <li class="mariadb_from_10_7_0"><a href="#relay-log-options" title="Relay Log Options">Relay Log Options</a>        <ol class="toc">

            <li class="mariadb_from_10_7_0"><a href="#relay_log_file" title="RELAY_LOG_FILE">RELAY_LOG_FILE</a></li>

            <li class="mariadb_from_10_7_0"><a href="#relay_log_pos" title="RELAY_LOG_POS">RELAY_LOG_POS</a>        </ol>
</li>

        <li class="mariadb_from_10_7_0"><a href="#gtid-options" title="GTID Options">GTID Options</a>        <ol class="toc">

            <li class="mariadb_from_10_7_0"><a href="#master_use_gtid" title="MASTER_USE_GTID">MASTER_USE_GTID</a></li>

            <li class="mariadb_from_10_7_0"><a href="#master_demote_to_slave" title="MASTER_DEMOTE_TO_SLAVE">MASTER_DEMOTE_TO_SLAVE</a>        </ol>
</li>

        <li class="mariadb_from_10_7_0"><a href="#replication-filter-options" title="Replication Filter Options">Replication Filter Options</a>        <ol class="toc">

            <li class="mariadb_from_10_7_0"><a href="#ignore_server_ids" title="IGNORE_SERVER_IDS">IGNORE_SERVER_IDS</a></li>

            <li class="mariadb_from_10_7_0"><a href="#do_domain_ids" title="DO_DOMAIN_IDS">DO_DOMAIN_IDS</a></li>

            <li class="mariadb_from_10_7_0"><a href="#ignore_domain_ids" title="IGNORE_DOMAIN_IDS">IGNORE_DOMAIN_IDS</a>        </ol>
</li>

        <li class="mariadb_from_10_7_0"><a href="#delayed-replication-options" title="Delayed Replication Options">Delayed Replication Options</a>        <ol class="toc">

            <li class="mariadb_from_10_7_0"><a href="#master_delay" title="MASTER_DELAY">MASTER_DELAY</a>        </ol>
    </ol>
</li>

    <li class="mariadb_from_10_7_0"><a href="#changing-option-values" title="Changing Option Values">Changing Option Values</a></li>

    <li class="mariadb_from_10_7_0"><a href="#option-persistence" title="Option Persistence">Option Persistence</a></li>

    <li class="mariadb_from_10_7_0"><a href="#gtid-persistence" title="GTID Persistence">GTID Persistence</a></li>

    <li class="mariadb_from_10_7_0"><a href="#creating-a-replica-from-a-backup" title="Creating a Replica from a Backup">Creating a Replica from a Backup</a></li>

    <li class="mariadb_from_10_7_0"><a href="#example" title="Example">Example</a></li>

    <li class="mariadb_from_10_7_0"><a href="#see-also" title="See Also">See Also</a> </ol>
</li>
</div>
<h2 class="anchored_heading" id="description">Description</h2>
<p><code>CHANGE MASTER</code> is used to setup or change replication from another server (called master or primary) to the current server (called slave or replica).</p>
<div class="mariadb_from_10_7_0 mariadb from_10_7_0 product"><h5 class="product_title">MariaDB starting with <a href="/kb/en/mariadb-1070-release-notes/">10.7.0</a></h5><p>The <code>FOR CHANNEL</code> keyword was added for MySQL compatibility. This is identical to
using the channel_name directly after <code>CHANGE MASTER</code>.</p>
</div><h2 class="anchored_heading" id="multi-source-replication">Multi-Source Replication</h2>
<p>If you are using <a href="/kb/en/multi-source-replication/">multi-source replication</a>, then you need to specify a connection name when you execute <code>CHANGE MASTER</code>. There are two ways to do this:</p>
<ul start="1"><li>Setting the <a href="/kb/en/replication-and-binary-log-server-system-variables/#default_master_connection">default_master_connection</a> system variable prior to executing <code>CHANGE MASTER</code>.
</li><li>Setting the <code>connection_name</code> parameter when executing <code>CHANGE MASTER</code>.
</li></ul>
<h3 class="anchored_heading" id="default_master_connection">default_master_connection</h3>
<pre class="fixed"><span class="kt">SET</span> <span class="n">default_master_connection</span> <span class="o">=</span> <span class="s1">&#39;gandalf&#39;</span><span class="p">;</span>
<span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span> 
   <span class="n">MASTER_PASSWORD</span><span class="o">=</span><span class="s1">&#39;new3cret&#39;</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><h3 class="anchored_heading" id="connection_name">connection_name</h3>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span> <span class="s1">&#39;gandalf&#39;</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="s1">&#39;gandalf&#39;</span> <span class="k">TO</span> 
   <span class="n">MASTER_PASSWORD</span><span class="o">=</span><span class="s1">&#39;new3cret&#39;</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span> <span class="s1">&#39;gandalf&#39;</span><span class="p">;</span>
</pre><h2 class="anchored_heading" id="options">Options</h2>
<h3 class="anchored_heading" id="connection-options">Connection Options</h3>
<h4 class="anchored_heading" id="master_user">MASTER_USER</h4>
<p>The <code>MASTER_USER</code> option for <code>CHANGE MASTER</code> defines the user account that the <a href="/kb/en/replication/">replica</a> will use to connect to the <a href="/kb/en/replication/">primary</a>.</p>
<p>This user account will need the <a href="/kb/en/grant/#replication-slave">REPLICATION SLAVE</a> privilege (or, from <a href="/kb/en/mariadb-1051-release-notes/">MariaDB 10.5.1</a>, the <a href="/kb/en/grant/#replication-replica">REPLICATION REPLICA</a> on the primary.</p>
<p>For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span>
   <span class="n">MASTER_USER</span><span class="o">=</span><span class="s1">&#39;repl&#39;</span><span class="p">,</span>
   <span class="n">MASTER_PASSWORD</span><span class="o">=</span><span class="s1">&#39;new3cret&#39;</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><p>The maximum length of the <code>MASTER_USER</code> string is 96 characters until <a href="/kb/en/what-is-mariadb-105/">MariaDB 10.5</a>, and 128 characters from <a href="/kb/en/what-is-mariadb-106/">MariaDB 10.6</a>.</p>
<h4 class="anchored_heading" id="master_password">MASTER_PASSWORD</h4>
<p>The <code>MASTER_PASSWORD</code> option for <code>CHANGE MASTER</code> defines the password that the <a href="/kb/en/replication/">replica</a> will use to connect to the <a href="/kb/en/replication/">primary</a> as the user account defined by the <a href="#master_user">MASTER_USER</a> option.</p>
<p>For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span> 
   <span class="n">MASTER_PASSWORD</span><span class="o">=</span><span class="s1">&#39;new3cret&#39;</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><p>The maximum length of the <code>MASTER_PASSWORD</code> string is 32 characters. The effective maximum length of the string depends on how many bytes are used per character and can be up to 96 characters.</p>
<div class="cstm-style redbox"><p>Due to <a href="https://jira.mariadb.org/browse/MDEV-29994">MDEV-29994</a>, the password can be silently truncated to 41 characters when MariaDB is restarted. For this reason it is recommended to use a password that is shorter than this.</p>
</div><h4 class="anchored_heading" id="master_host">MASTER_HOST</h4>
<p>The <code>MASTER_HOST</code> option for <code>CHANGE MASTER</code> defines the hostname or IP address of the <a href="/kb/en/replication/">primary</a>.</p>
<p>If you set the value of the <code>MASTER_HOST</code> option to the empty string, then that is not the same as not setting the option's value at all. If you set the value of the <code>MASTER_HOST</code> option to the empty string, then the <code>CHANGE MASTER</code> command will fail with an error. In <a href="/kb/en/what-is-mariadb-53/">MariaDB 5.3</a> and before, if you set the value of the <code>MASTER_HOST</code> option to the empty string, then the <code>CHANGE MASTER</code> command would succeed, but the subsequent <a href="/kb/en/start-slave/">START SLAVE</a> command would fail.</p>
<p>For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span>
   <span class="n">MASTER_HOST</span><span class="o">=</span><span class="s1">&#39;dbserver1.example.com&#39;</span><span class="p">,</span>
   <span class="n">MASTER_USER</span><span class="o">=</span><span class="s1">&#39;repl&#39;</span><span class="p">,</span>
   <span class="n">MASTER_PASSWORD</span><span class="o">=</span><span class="s1">&#39;new3cret&#39;</span><span class="p">,</span>
   <span class="n">MASTER_USE_GTID</span><span class="o">=</span><span class="n">slave_pos</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><div class="cstm-style greenbox"><p>If you set the value of the <code>MASTER_HOST</code> option in a <code>CHANGE MASTER</code> command, then the replica assumes that the primary is different from before, even if you set the value of this option to the same value it had previously. In this scenario, the replica will consider the old values for the primary's <a href="/kb/en/binary-log/">binary
log</a> file name and position to be invalid for the new primary. As a side effect, if you do not explicitly set the values of the <a href="#master_log_file">MASTER_LOG_FILE</a> and <a href="#master_log_pos">MASTER_LOG_POS</a> options in the statement, then the statement will be implicitly appended with <code>MASTER_LOG_FILE=''</code> and <code>MASTER_LOG_POS=4</code>. However, if you enable <a href="/kb/en/gtid/">GTID</a> mode for replication by setting the <a href="#master_use_gtid">MASTER_USE_GTID</a> option to some value other than <code>no</code> in the statement, then these values will effectively be ignored anyway.</p>
</div><div class="cstm-style greenbox"><p>Replicas cannot connect to primaries using Unix socket files or Windows named pipes. The replica must connect to the primary using TCP/IP.</p>
</div><p>The maximum length of the <code>MASTER_HOST</code> string is 60 characters until <a href="/kb/en/what-is-mariadb-105/">MariaDB 10.5</a>, and 255 characters from <a href="/kb/en/what-is-mariadb-106/">MariaDB 10.6</a>.</p>
<h4 class="anchored_heading" id="master_port">MASTER_PORT</h4>
<p>The <code>MASTER_PORT</code> option for <code>CHANGE MASTER</code> defines the TCP/IP port of the <a href="/kb/en/replication/">primary</a>.</p>
<p>For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span>
   <span class="n">MASTER_HOST</span><span class="o">=</span><span class="s1">&#39;dbserver1.example.com&#39;</span><span class="p">,</span>
   <span class="n">MASTER_PORT</span><span class="o">=</span><span class="mi">3307</span><span class="p">,</span>
   <span class="n">MASTER_USER</span><span class="o">=</span><span class="s1">&#39;repl&#39;</span><span class="p">,</span>
   <span class="n">MASTER_PASSWORD</span><span class="o">=</span><span class="s1">&#39;new3cret&#39;</span><span class="p">,</span>
   <span class="n">MASTER_USE_GTID</span><span class="o">=</span><span class="n">slave_pos</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><div class="cstm-style greenbox"><p>If you set the value of the <code>MASTER_PORT</code> option in a <code>CHANGE MASTER</code> command, then the replica assumes that the primary is different from before, even if you set the value of this option to the same value it had previously. In this scenario, the replica will consider the old values for the primary's <a href="/kb/en/binary-log/">binary
log</a> file name and position to be invalid for the new primary. As a side effect, if you do not explicitly set the values of the <a href="#master_log_file">MASTER_LOG_FILE</a> and <a href="#master_log_pos">MASTER_LOG_POS</a> options in the statement, then the statement will be implicitly appended with <code>MASTER_LOG_FILE=''</code> and <code>MASTER_LOG_POS=4</code>. However, if you enable <a href="/kb/en/gtid/">GTID</a> mode for replication by setting the <a href="#master_use_gtid">MASTER_USE_GTID</a> option to some value other than <code>no</code> in the statement, then these values will effectively be ignored anyway.</p>
</div><div class="cstm-style greenbox"><p>Replicas cannot connect to primaries using Unix socket files or Windows named pipes. The replica must connect to the primary using TCP/IP.</p>
</div><h4 class="anchored_heading" id="master_connect_retry">MASTER_CONNECT_RETRY</h4>
<p>The <code>MASTER_CONNECT_RETRY</code> option for <code>CHANGE MASTER</code> defines how many seconds that the replica will wait between connection retries. The default is <code>60</code>.</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span> 
   <span class="n">MASTER_CONNECT_RETRY</span><span class="o">=</span><span class="mi">20</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><p>The number of connection attempts is limited by the <a href="/kb/en/mysqld-options/#-master-retry-count">master_retry_count</a> option. It can be set either on the command-line or in a server <a href="/kb/en/configuring-mariadb-with-option-files/#option-groups">option group</a> in an <a href="/kb/en/configuring-mariadb-with-option-files/">option file</a> prior to starting up the server. For example:</p>
<pre class="fixed">[mariadb]
...
master_retry_count=4294967295
</pre><h4 class="anchored_heading" id="master_bind">MASTER_BIND</h4>
<div class="cstm-style redbox"><p>The <code>MASTER_BIND</code> option for <code>CHANGE MASTER</code> is only supported by MySQL 5.6.2 and later and by MySQL NDB Cluster 7.3.1 and later. This option is not supported by MariaDB. See <a href="https://jira.mariadb.org/browse/MDEV-19248">MDEV-19248</a> for more information.</p>
</div><div class="cstm-style hidden"><p>The <code>MASTER_BIND</code> option for <code>CHANGE MASTER</code> can be used on replicas that have multiple network interfaces to choose which network interface the replica will use to connect to the primary.</p>
</div><h4 class="anchored_heading" id="master_heartbeat_period">MASTER_HEARTBEAT_PERIOD</h4>
<p>The <code>MASTER_HEARTBEAT_PERIOD</code> option for <code>CHANGE MASTER</code> can be used to set the interval in seconds between replication heartbeats. Whenever the primary's <a href="/kb/en/binary-log/">binary log</a> is updated with an event, the waiting period for the next heartbeat is reset.</p>
<p>This option's <em>interval</em> argument has the following characteristics:</p>
<ul start="1"><li>It is a decimal value with a range of <code>0</code> to <code>4294967</code> seconds.
</li><li>It has a resolution of hundredths of a second.
</li><li>Its smallest valid non-zero value is <code>0.001</code>.
</li><li>Its default value is the value of the <a href="/kb/en/replication-and-binary-log-server-system-variables/#slave_net_timeout">slave_net_timeout</a> system variable divided by 2.
</li><li>If it's set to <code>0</code>, then heartbeats are disabled.
</li></ul>
<p>Heartbeats are sent by the primary only if there are no unsent events in the binary log file for a period longer than the interval.</p>
<p>If the <a href="/kb/en/reset-slave-connection_name/">RESET SLAVE</a> statement is executed, then the heartbeat interval is reset to the default.</p>
<div class="cstm-style greenbox"><p>If the <a href="/kb/en/replication-and-binary-log-server-system-variables/#slave_net_timeout">slave_net_timeout</a> system variable is set to a value that is lower than the current heartbeat interval, then a warning will be issued.</p>
</div><h3 class="anchored_heading" id="tls-options">TLS Options</h3>
<p>The TLS options are used for providing information about <a href="/kb/en/data-in-transit-encryption/">TLS</a>. The options can be set even on replicas that are compiled without TLS support. The TLS options are saved to either the default <code>master.info</code> file or the file that is configured by the <a href="/kb/en/mysqld-options/#-master-info-file">master_info_file</a> option, but these TLS options are ignored unless the replica supports TLS.</p>
<p>See <a href="/kb/en/replication-with-secure-connections/">Replication with Secure Connections</a> for more information.</p>
<h4 class="anchored_heading" id="master_ssl">MASTER_SSL</h4>
<p>The <code>MASTER_SSL</code> option for <code>CHANGE MASTER</code> tells the replica whether to force <a href="/kb/en/data-in-transit-encryption/">TLS</a> for the connection. The valid values are <code>0</code> or <code>1</code>. Required to be set to <code>1</code> for the other <code>MASTER_SSL*</code> options to have any effect.</p>
<p>For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span>
   <span class="n">MASTER_SSL</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><h4 class="anchored_heading" id="master_ssl_ca">MASTER_SSL_CA</h4>
<p>The <code>MASTER_SSL_CA</code> option for <code>CHANGE MASTER</code> defines a path to a PEM file that should contain one or more X509 certificates for trusted Certificate Authorities (CAs) to use for <a href="/kb/en/data-in-transit-encryption/">TLS</a>. This option requires that you use the absolute path, not a relative path.</p>
<p>For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span>
   <span class="n">MASTER_SSL_CERT</span><span class="o">=</span><span class="s1">&#39;/etc/my.cnf.d/certificates/server-cert.pem&#39;</span><span class="p">,</span>
   <span class="n">MASTER_SSL_KEY</span><span class="o">=</span><span class="s1">&#39;/etc/my.cnf.d/certificates/server-key.pem&#39;</span><span class="p">,</span>
   <span class="n">MASTER_SSL_CA</span><span class="o">=</span><span class="s1">&#39;/etc/my.cnf.d/certificates/ca.pem&#39;</span><span class="p">,</span>
   <span class="n">MASTER_SSL_VERIFY_SERVER_CERT</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><p>See <a href="/kb/en/secure-connections-overview/#certificate-authorities-cas">Secure Connections Overview: Certificate Authorities (CAs)</a> for more information.</p>
<p>The maximum length of <code>MASTER_SSL_CA</code> string is 511 characters.</p>
<h4 class="anchored_heading" id="master_ssl_capath">MASTER_SSL_CAPATH</h4>
<p>The <code>MASTER_SSL_CAPATH</code> option for <code>CHANGE MASTER</code> defines a path to a directory that contains one or more PEM files that should each contain one X509 certificate for a trusted Certificate Authority (CA) to use for <a href="/kb/en/data-in-transit-encryption/">TLS</a>. This option requires that you use the absolute path, not a relative path. The directory specified by this option needs to be run through the <a href="https://www.openssl.org/docs/man1.1.1/man1/rehash.html">openssl rehash</a> command.</p>
<p>For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span>
   <span class="n">MASTER_SSL_CERT</span><span class="o">=</span><span class="s1">&#39;/etc/my.cnf.d/certificates/server-cert.pem&#39;</span><span class="p">,</span>
   <span class="n">MASTER_SSL_KEY</span><span class="o">=</span><span class="s1">&#39;/etc/my.cnf.d/certificates/server-key.pem&#39;</span><span class="p">,</span>
   <span class="n">MASTER_SSL_CAPATH</span><span class="o">=</span><span class="s1">&#39;/etc/my.cnf.d/certificates/ca/&#39;</span><span class="p">,</span>
   <span class="n">MASTER_SSL_VERIFY_SERVER_CERT</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><p>See <a href="/kb/en/secure-connections-overview/#certificate-authorities-cas">Secure Connections Overview: Certificate Authorities (CAs)</a> for more information.</p>
<p>The maximum length of <code>MASTER_SSL_CA_PATH</code> string is 511 characters.</p>
<h4 class="anchored_heading" id="master_ssl_cert">MASTER_SSL_CERT</h4>
<p>The <code>MASTER_SSL_CERT</code> option for <code>CHANGE MASTER</code> defines a path to the X509 certificate file to use for <a href="/kb/en/data-in-transit-encryption/">TLS</a>. This option requires that you use the absolute path, not a relative path.</p>
<p>For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span>
   <span class="n">MASTER_SSL_CERT</span><span class="o">=</span><span class="s1">&#39;/etc/my.cnf.d/certificates/server-cert.pem&#39;</span><span class="p">,</span>
   <span class="n">MASTER_SSL_KEY</span><span class="o">=</span><span class="s1">&#39;/etc/my.cnf.d/certificates/server-key.pem&#39;</span><span class="p">,</span>
   <span class="n">MASTER_SSL_CA</span><span class="o">=</span><span class="s1">&#39;/etc/my.cnf.d/certificates/ca.pem&#39;</span><span class="p">,</span>
   <span class="n">MASTER_SSL_VERIFY_SERVER_CERT</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><p>The maximum length of <code>MASTER_SSL_CERT</code> string is 511 characters.</p>
<h4 class="anchored_heading" id="master_ssl_crl">MASTER_SSL_CRL</h4>
<p>The <code>MASTER_SSL_CRL</code> option for <code>CHANGE MASTER</code> defines a path to a PEM file that should contain one or more revoked X509 certificates to use for <a href="/kb/en/data-in-transit-encryption/">TLS</a>. This option requires that you use the absolute path, not a relative path.</p>
<p>This option is only supported if the server was built with OpenSSL. If the server was built with yaSSL, then this option is not supported. See <a href="/kb/en/tls-and-cryptography-libraries-used-by-mariadb/">TLS and Cryptography Libraries Used by MariaDB</a> for more information about which libraries are used on which platforms.</p>
<p>For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span>
   <span class="n">MASTER_SSL_CERT</span><span class="o">=</span><span class="s1">&#39;/etc/my.cnf.d/certificates/server-cert.pem&#39;</span><span class="p">,</span>
   <span class="n">MASTER_SSL_KEY</span><span class="o">=</span><span class="s1">&#39;/etc/my.cnf.d/certificates/server-key.pem&#39;</span><span class="p">,</span>
   <span class="n">MASTER_SSL_CA</span><span class="o">=</span><span class="s1">&#39;/etc/my.cnf.d/certificates/ca.pem&#39;</span><span class="p">,</span>
   <span class="n">MASTER_SSL_VERIFY_SERVER_CERT</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
   <span class="n">MASTER_SSL_CRL</span><span class="o">=</span><span class="s1">&#39;/etc/my.cnf.d/certificates/crl.pem&#39;</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><p>See <a href="/kb/en/secure-connections-overview/#certificate-revocation-lists-crls">Secure Connections Overview: Certificate Revocation Lists (CRLs)</a> for more information.</p>
<p>The maximum length of <code>MASTER_SSL_CRL</code> string is 511 characters.</p>
<h4 class="anchored_heading" id="master_ssl_crlpath">MASTER_SSL_CRLPATH</h4>
<p>The <code>MASTER_SSL_CRLPATH</code> option for <code>CHANGE MASTER</code> defines a path to a directory that contains one or more PEM files that should each contain one revoked X509 certificate to use for <a href="/kb/en/data-in-transit-encryption/">TLS</a>. This option requires that you use the absolute path, not a relative path. The directory specified by this variable needs to be run through the <a href="https://www.openssl.org/docs/man1.1.1/man1/rehash.html">openssl rehash</a> command.</p>
<p>This option is only supported if the server was built with OpenSSL. If the server was built with yaSSL, then this option is not supported. See <a href="/kb/en/tls-and-cryptography-libraries-used-by-mariadb/">TLS and Cryptography Libraries Used by MariaDB</a> for more information about which libraries are used on which platforms.</p>
<p>For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span>
   <span class="n">MASTER_SSL_CERT</span><span class="o">=</span><span class="s1">&#39;/etc/my.cnf.d/certificates/server-cert.pem&#39;</span><span class="p">,</span>
   <span class="n">MASTER_SSL_KEY</span><span class="o">=</span><span class="s1">&#39;/etc/my.cnf.d/certificates/server-key.pem&#39;</span><span class="p">,</span>
   <span class="n">MASTER_SSL_CA</span><span class="o">=</span><span class="s1">&#39;/etc/my.cnf.d/certificates/ca.pem&#39;</span><span class="p">,</span>
   <span class="n">MASTER_SSL_VERIFY_SERVER_CERT</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
   <span class="n">MASTER_SSL_CRLPATH</span><span class="o">=</span><span class="s1">&#39;/etc/my.cnf.d/certificates/crl/&#39;</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><p>See <a href="/kb/en/secure-connections-overview/#certificate-revocation-lists-crls">Secure Connections Overview: Certificate Revocation Lists (CRLs)</a> for more information.</p>
<p>The maximum length of <code>MASTER_SSL_CRL_PATH</code> string is 511 characters.</p>
<h4 class="anchored_heading" id="master_ssl_key">MASTER_SSL_KEY</h4>
<p>The <code>MASTER_SSL_KEY</code> option for <code>CHANGE MASTER</code> defines a path to a private key file to use for <a href="/kb/en/data-in-transit-encryption/">TLS</a>. This option requires that you use the absolute path, not a relative path.</p>
<p>For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span>
   <span class="n">MASTER_SSL_CERT</span><span class="o">=</span><span class="s1">&#39;/etc/my.cnf.d/certificates/server-cert.pem&#39;</span><span class="p">,</span>
   <span class="n">MASTER_SSL_KEY</span><span class="o">=</span><span class="s1">&#39;/etc/my.cnf.d/certificates/server-key.pem&#39;</span><span class="p">,</span>
   <span class="n">MASTER_SSL_CA</span><span class="o">=</span><span class="s1">&#39;/etc/my.cnf.d/certificates/ca.pem&#39;</span><span class="p">,</span>
   <span class="n">MASTER_SSL_VERIFY_SERVER_CERT</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><p>The maximum length of <code>MASTER_SSL_KEY</code> string is 511 characters.</p>
<h4 class="anchored_heading" id="master_ssl_cipher">MASTER_SSL_CIPHER</h4>
<p>The <code>MASTER_SSL_CIPHER</code> option for <code>CHANGE MASTER</code> defines the list of permitted ciphers or cipher suites to use for <a href="/kb/en/data-in-transit-encryption/">TLS</a>. Besides cipher names, if MariaDB was compiled with OpenSSL, this option could be set to "SSLv3" or "TLSv1.2" to allow all SSLv3 or all TLSv1.2 ciphers. Note that the TLSv1.3 ciphers cannot be excluded when using OpenSSL, even by using this option. See <a href="/kb/en/using-tlsv13/">Using TLSv1.3</a> for details.</p>
<p>For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span>
   <span class="n">MASTER_SSL_CERT</span><span class="o">=</span><span class="s1">&#39;/etc/my.cnf.d/certificates/server-cert.pem&#39;</span><span class="p">,</span>
   <span class="n">MASTER_SSL_KEY</span><span class="o">=</span><span class="s1">&#39;/etc/my.cnf.d/certificates/server-key.pem&#39;</span><span class="p">,</span>
   <span class="n">MASTER_SSL_CA</span><span class="o">=</span><span class="s1">&#39;/etc/my.cnf.d/certificates/ca.pem&#39;</span><span class="p">,</span>
   <span class="n">MASTER_SSL_VERIFY_SERVER_CERT</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
   <span class="n">MASTER_SSL_CIPHER</span><span class="o">=</span><span class="s1">&#39;TLSv1.2&#39;</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><p>The maximum length of <code>MASTER_SSL_CIPHER</code> string is 511 characters.</p>
<h4 class="anchored_heading" id="master_ssl_verify_server_cert">MASTER_SSL_VERIFY_SERVER_CERT</h4>
<p>The <code>MASTER_SSL_VERIFY_SERVER_CERT</code> option for <code>CHANGE MASTER</code> enables <a href="/kb/en/secure-connections-overview/#server-certificate-verification">server certificate verification</a>. This option is disabled by default prior to <a href="/kb/en/mariadb-11-3-0-release-notes/">MariaDB 11.3.0</a>, and enabled by default from <a href="/kb/en/mariadb-11-3-0-release-notes/">MariaDB 11.3.0</a>.</p>
<p>For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span>
   <span class="n">MASTER_SSL_CERT</span><span class="o">=</span><span class="s1">&#39;/etc/my.cnf.d/certificates/server-cert.pem&#39;</span><span class="p">,</span>
   <span class="n">MASTER_SSL_KEY</span><span class="o">=</span><span class="s1">&#39;/etc/my.cnf.d/certificates/server-key.pem&#39;</span><span class="p">,</span>
   <span class="n">MASTER_SSL_CA</span><span class="o">=</span><span class="s1">&#39;/etc/my.cnf.d/certificates/ca.pem&#39;</span><span class="p">,</span>
   <span class="n">MASTER_SSL_VERIFY_SERVER_CERT</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><p>See <a href="/kb/en/secure-connections-overview/#server-certificate-verification">Secure Connections Overview: Server Certificate Verification</a> for more information.</p>
<h3 class="anchored_heading" id="binary-log-options">Binary Log Options</h3>
<p>These options are related to the <a href="/kb/en/binary-log/">binary log</a> position on the primary.</p>
<h4 class="anchored_heading" id="master_log_file">MASTER_LOG_FILE</h4>
<p>The <code>MASTER_LOG_FILE</code> option for <code>CHANGE MASTER</code> can be used along with <code>MASTER_LOG_POS</code> to specify the coordinates at which the <a href="/kb/en/replication-threads/#slave-io-thread">replica's I/O thread</a> should begin reading from the primary's <a href="/kb/en/binary-log/">binary logs</a> the next time the thread starts.</p>
<p>For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span>
   <span class="n">MASTER_LOG_FILE</span><span class="o">=</span><span class="s1">&#39;master2-bin.001&#39;</span><span class="p">,</span>
   <span class="n">MASTER_LOG_POS</span><span class="o">=</span><span class="mi">4</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><div class="cstm-style greenbox"><p>The <a href="#master_log_file">MASTER_LOG_FILE</a> and <a href="#master_log_pos">MASTER_LOG_POS</a> options cannot be specified if the <a href="#relay_log_file">RELAY_LOG_FILE</a> and <a href="#relay_log_pos">RELAY_LOG_POS</a> options were also specified.</p>
</div><div class="cstm-style greenbox"><p>The <a href="#master_log_file">MASTER_LOG_FILE</a> and <a href="#master_log_pos">MASTER_LOG_POS</a> options are effectively ignored if you enable <a href="/kb/en/gtid/">GTID</a> mode for replication by setting the <a href="#master_use_gtid">MASTER_USE_GTID</a> option to some value other than <code>no</code> in the statement.</p>
</div><h4 class="anchored_heading" id="master_log_pos">MASTER_LOG_POS</h4>
<p>The <code>MASTER_LOG_POS</code> option for <code>CHANGE MASTER</code> can be used along with <code>MASTER_LOG_FILE</code> to specify the coordinates at which the <a href="/kb/en/replication-threads/#slave-io-thread">replica's I/O thread</a> should begin reading from the primary's <a href="/kb/en/binary-log/">binary logs</a> the next time the thread starts.</p>
<p>For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span>
   <span class="n">MASTER_LOG_FILE</span><span class="o">=</span><span class="s1">&#39;master2-bin.001&#39;</span><span class="p">,</span>
   <span class="n">MASTER_LOG_POS</span><span class="o">=</span><span class="mi">4</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><div class="cstm-style greenbox"><p>The <a href="#master_log_file">MASTER_LOG_FILE</a> and <a href="#master_log_pos">MASTER_LOG_POS</a> options cannot be specified if the <a href="#relay_log_file">RELAY_LOG_FILE</a> and <a href="#relay_log_pos">RELAY_LOG_POS</a> options were also specified.</p>
</div><div class="cstm-style greenbox"><p>The <a href="#master_log_file">MASTER_LOG_FILE</a> and <a href="#master_log_pos">MASTER_LOG_POS</a> options are effectively ignored if you enable <a href="/kb/en/gtid/">GTID</a> mode for replication by setting the <a href="#master_use_gtid">MASTER_USE_GTID</a> option to some value other than <code>no</code> in the statement.</p>
</div><h3 class="anchored_heading" id="relay-log-options">Relay Log Options</h3>
<p>These options are related to the <a href="/kb/en/relay-log/">relay log</a> position on the replica.</p>
<h4 class="anchored_heading" id="relay_log_file">RELAY_LOG_FILE</h4>
<p>The <code>RELAY_LOG_FILE</code> option for <code>CHANGE MASTER</code> can be used along with the <a href="#relay_log_pos">RELAY_LOG_POS</a> option to specify the coordinates at which the <a href="/kb/en/replication-threads/#slave-sql-thread">replica's SQL thread</a> should begin reading from the <a href="/kb/en/relay-log/">relay log</a> the next time the thread starts.</p>
<p>The <code>CHANGE MASTER</code> statement usually deletes all <a href="/kb/en/relay-log/">relay log</a> files. However, if the <code>RELAY_LOG_FILE</code> and/or <code>RELAY_LOG_POS</code> options are specified, then existing <a href="/kb/en/relay-log/">relay log</a> files are kept.</p>
<p>When you want to change the <a href="/kb/en/relay-log/">relay log</a> position, you only need to stop the <a href="/kb/en/replication-threads/#slave-sql-thread">replica's SQL thread</a>. The <a href="/kb/en/replication-threads/#slave-io-thread">replica's I/O thread</a> can continue running. The <a href="/kb/en/stop-slave/">STOP SLAVE</a> and <a href="/kb/en/start-slave/">START SLAVE</a> statements support the <code>SQL_THREAD</code> option for this scenario. For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span> <span class="n">SQL_THREAD</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span>
   <span class="n">RELAY_LOG_FILE</span><span class="o">=</span><span class="s1">&#39;slave-relay-bin.006&#39;</span><span class="p">,</span>
   <span class="n">RELAY_LOG_POS</span><span class="o">=</span><span class="mi">4025</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span> <span class="n">SQL_THREAD</span><span class="p">;</span>
</pre><p>When the value of this option is changed, the metadata about the <a href="/kb/en/replication-threads/#slave-sql-thread">replica's SQL thread's</a> position in the <a href="/kb/en/relay-log/">relay logs</a> will also be changed in the <code>relay-log.info</code> file or the file that is configured by the <a href="/kb/en/replication-and-binary-log-system-variables/#relay_log_info_file">relay_log_info_file</a> system variable.</p>
<div class="cstm-style greenbox"><p>The <a href="#relay_log_file">RELAY_LOG_FILE</a> and <a href="#relay_log_pos">RELAY_LOG_POS</a> options cannot be specified if the <a href="#master_log_file">MASTER_LOG_FILE</a> and <a href="#master_log_pos">MASTER_LOG_POS</a> options were also specified.</p>
</div><h4 class="anchored_heading" id="relay_log_pos">RELAY_LOG_POS</h4>
<p>The <code>RELAY_LOG_POS</code> option for <code>CHANGE MASTER</code> can be used along with the <a href="#relay_log_file">RELAY_LOG_FILE</a> option to specify the coordinates at which the <a href="/kb/en/replication-threads/#slave-sql-thread">replica's SQL thread</a> should begin reading from the <a href="/kb/en/relay-log/">relay log</a> the next time the thread starts.</p>
<p>The <code>CHANGE MASTER</code> statement usually deletes all <a href="/kb/en/relay-log/">relay log</a> files. However, if the <code>RELAY_LOG_FILE</code> and/or <code>RELAY_LOG_POS</code> options are specified, then existing <a href="/kb/en/relay-log/">relay log</a> files are kept.</p>
<p>When you want to change the <a href="/kb/en/relay-log/">relay log</a> position, you only need to stop the <a href="/kb/en/replication-threads/#slave-sql-thread">replica's SQL thread</a>. The <a href="/kb/en/replication-threads/#slave-io-thread">replica's I/O thread</a> can continue running. The <a href="/kb/en/stop-slave/">STOP SLAVE</a> and <a href="/kb/en/start-slave/">START SLAVE</a> statements support the <code>SQL_THREAD</code> option for this scenario. For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span> <span class="n">SQL_THREAD</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span>
   <span class="n">RELAY_LOG_FILE</span><span class="o">=</span><span class="s1">&#39;slave-relay-bin.006&#39;</span><span class="p">,</span>
   <span class="n">RELAY_LOG_POS</span><span class="o">=</span><span class="mi">4025</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span> <span class="n">SQL_THREAD</span><span class="p">;</span>
</pre><p>When the value of this option is changed, the metadata about the <a href="/kb/en/replication-threads/#slave-sql-thread">replica's SQL thread's</a> position in the <a href="/kb/en/relay-log/">relay logs</a> will also be changed in the <code>relay-log.info</code> file or the file that is configured by the <a href="/kb/en/replication-and-binary-log-system-variables/#relay_log_info_file">relay_log_info_file</a> system variable.</p>
<div class="cstm-style greenbox"><p>The <a href="#relay_log_file">RELAY_LOG_FILE</a> and <a href="#relay_log_pos">RELAY_LOG_POS</a> options cannot be specified if the <a href="#master_log_file">MASTER_LOG_FILE</a> and <a href="#master_log_pos">MASTER_LOG_POS</a> options were also specified.</p>
</div><h3 class="anchored_heading" id="gtid-options">GTID Options</h3>
<h4 class="anchored_heading" id="master_use_gtid">MASTER_USE_GTID</h4>
<p>The <code>MASTER_USE_GTID</code> option for <code>CHANGE MASTER</code> can be used to configure the replica to use the <a href="/kb/en/global-transaction-id/">global transaction ID (GTID)</a> when connecting to a primary. The possible values are:</p>
<ul start="1"><li><code>current_pos</code> - Replicate in <a href="/kb/en/gtid/">GTID</a> mode and use <a href="/kb/en/gtid/#gtid_current_pos">gtid_current_pos</a> as the position to start downloading transactions from the primary. Deprecated from <a href="/kb/en/what-is-mariadb-1010/">MariaDB 10.10</a>. Using to transition to primary can break the replication state if the replica executes local transactions due to actively updating gtid_current_pos with gtid_binlog_pos and gtid_slave_pos. Use the new, safe, <a href="#master_demote_to_slave">MASTER_DEMOTE_TO_SLAVE=&lt;bool&gt;</a> option instead.
</li><li><code>slave_pos</code> - Replicate in <a href="/kb/en/gtid/">GTID</a> mode and use <a href="/kb/en/gtid/#gtid_slave_pos">gtid_slave_pos</a> as the position to start downloading transactions from the primary. From <a href="/kb/en/mariadb-1051-release-notes/">MariaDB 10.5.1</a>, <code>replica_pos</code> is an alias for <code>slave_pos</code>.
</li><li><code>no</code> - Don't replicate in <a href="/kb/en/gtid/">GTID</a> mode.
</li></ul>
<p>For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span>
   <span class="n">MASTER_USE_GTID</span> <span class="o">=</span> <span class="n">current_pos</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><p>Or:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="kt">SET</span> <span class="n">GLOBAL</span> <span class="n">gtid_slave_pos</span><span class="o">=</span><span class="s1">&#39;0-1-153&#39;</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span>
   <span class="n">MASTER_USE_GTID</span> <span class="o">=</span> <span class="n">slave_pos</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><h4 class="anchored_heading" id="master_demote_to_slave">MASTER_DEMOTE_TO_SLAVE</h4>
<div class="mariadb_from_10_10 mariadb from_10_10 product"><h5 class="product_title">MariaDB starting with <a href="/kb/en/what-is-mariadb-1010/">10.10</a></h5><p>Used to transition a primary to become a replica. Replaces the old <a href="#master_use_gtid">MASTER_USE_GTID=current_pos</a> with a safe alternative by forcing users to set <code>Using_Gtid=Slave_Pos</code> and merging <code>gtid_binlog_pos</code> into <code>gtid_slave_pos</code> once at <code>CHANGE MASTER TO</code> time. If <code>gtid_slave_pos</code> is more
recent than <code>gtid_binlog_pos</code> (as in the case of chain replication), the replication state should be preserved.</p>
</div><p>For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span>
   <span class="n">MASTER_DEMOTE_TO_SLAVE</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><h3 class="anchored_heading" id="replication-filter-options">Replication Filter Options</h3>
<p>Also see <a href="/kb/en/replication-filters/">Replication filters</a>.</p>
<h4 class="anchored_heading" id="ignore_server_ids">IGNORE_SERVER_IDS</h4>
<p>The <code>IGNORE_SERVER_IDS</code> option for <code>CHANGE MASTER</code> can be used to configure a <a href="/kb/en/replication/">replica</a> to ignore <a href="binary_log">binary log</a> events that originated from certain servers. Filtered <a href="binary_log">binary log</a> events will not get logged to the replica’s <a href="/kb/en/relay-log/">relay log</a>, and they will not be applied by the replica.</p>
<p>The option's value can be specified by providing a comma-separated list of <a href="/kb/en/replication-and-binary-log-system-variables/#server_id">server_id</a> values. For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span> 
   <span class="n">IGNORE_SERVER_IDS</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">);</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><p>If you would like to clear a previously set list, then you can set the value to an empty list. For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span> 
   <span class="n">IGNORE_SERVER_IDS</span> <span class="o">=</span> <span class="p">();</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><h4 class="anchored_heading" id="do_domain_ids">DO_DOMAIN_IDS</h4>
<p>The <code>DO_DOMAIN_IDS</code> option for <code>CHANGE MASTER</code> can be used to configure a <a href="/kb/en/replication/">replica</a> to only apply <a href="binary_log">binary log</a> events if the transaction's <a href="/kb/en/global-transaction-id/">GTID</a> is in a specific <a href="/kb/en/gtid/#gtid_domain_id">gtid_domain_id</a> value. Filtered <a href="binary_log">binary log</a> events will not get logged to the replica’s <a href="/kb/en/relay-log/">relay log</a>, and they will not be applied by the replica.</p>
<p>The option's value can be specified by providing a comma-separated list of <a href="/kb/en/gtid/#gtid_domain_id">gtid_domain_id</a> values. Duplicate values are automatically ignored. For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span> 
   <span class="n">DO_DOMAIN_IDS</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><p>If you would like to clear a previously set list, then you can set the value to an empty list. For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span> 
   <span class="n">DO_DOMAIN_IDS</span> <span class="o">=</span> <span class="p">();</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><div class="cstm-style greenbox"><p>The <a href="#do_domain_ids">DO_DOMAIN_IDS</a> option and the <a href="#ignore_domain_ids">IGNORE_DOMAIN_IDS</a> option cannot both be set to non-empty values at the same time. If you want to set the <a href="#do_domain_ids">DO_DOMAIN_IDS</a> option, and the <a href="#ignore_domain_ids">IGNORE_DOMAIN_IDS</a> option was previously set, then you need to clear the value of the <a href="#ignore_domain_ids">IGNORE_DOMAIN_IDS</a> option. For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span> 
   <span class="n">IGNORE_DOMAIN_IDS</span> <span class="o">=</span> <span class="p">(),</span> 
   <span class="n">DO_DOMAIN_IDS</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre></div><div class="cstm-style greenbox"><p>The <code>DO_DOMAIN_IDS</code> option can only be specified if the replica is replicating in <a href="/kb/en/gtid/">GTID</a> mode. Therefore, the <a href="#master_use_gtid">MASTER_USE_GTID</a> option must also be set to some value other than <code>no</code> in order to use this option.</p>
</div><h4 class="anchored_heading" id="ignore_domain_ids">IGNORE_DOMAIN_IDS</h4>
<p>The <code>IGNORE_DOMAIN_IDS</code> option for <code>CHANGE MASTER</code> can be used to configure a <a href="/kb/en/replication/">replica</a> to ignore <a href="binary_log">binary log</a> events if the transaction's <a href="/kb/en/global-transaction-id/">GTID</a> is in a specific <a href="/kb/en/gtid/#gtid_domain_id">gtid_domain_id</a> value. Filtered <a href="binary_log">binary log</a> events will not get logged to the replica’s <a href="/kb/en/relay-log/">relay log</a>, and they will not be applied by the replica.</p>
<p>The option's value can be specified by providing a comma-separated list of <a href="/kb/en/gtid/#gtid_domain_id">gtid_domain_id</a> values. Duplicate values are automatically ignored. For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span> 
   <span class="n">IGNORE_DOMAIN_IDS</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><p>If you would like to clear a previously set list, then you can set the value to an empty list. For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span> 
   <span class="n">IGNORE_DOMAIN_IDS</span> <span class="o">=</span> <span class="p">();</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><div class="cstm-style greenbox"><p>The <a href="#do_domain_ids">DO_DOMAIN_IDS</a> option and the <a href="#ignore_domain_ids">IGNORE_DOMAIN_IDS</a> option cannot both be set to non-empty values at the same time. If you want to set the <a href="#ignore_domain_ids">IGNORE_DOMAIN_IDS</a> option, and the <a href="#do_domain_ids">DO_DOMAIN_IDS</a> option was previously set, then you need to clear the value of the <a href="#do_domain_ids">DO_DOMAIN_IDS</a> option. For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span> 
   <span class="n">DO_DOMAIN_IDS</span> <span class="o">=</span> <span class="p">(),</span> 
   <span class="n">IGNORE_DOMAIN_IDS</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre></div><div class="cstm-style greenbox"><p>The <code>IGNORE_DOMAIN_IDS</code> option can only be specified if the replica is replicating in <a href="/kb/en/gtid/">GTID</a> mode. Therefore, the <a href="#master_use_gtid">MASTER_USE_GTID</a> option must also be set to some value other than <code>no</code> in order to use this option.</p>
</div><h3 class="anchored_heading" id="delayed-replication-options">Delayed Replication Options</h3>
<h4 class="anchored_heading" id="master_delay">MASTER_DELAY</h4>
<p>The <code>MASTER_DELAY</code> option for <code>CHANGE MASTER</code> can be used to enable <a href="/kb/en/delayed-replication/">delayed replication</a>. This option specifies the time in seconds (at least) that a replica should lag behind the primary up to a maximum value of 2147483647, or about 68 years. Before executing an event, the replica will first wait, if necessary, until the given time has passed since the event was created on the primary. The result is that the replica will reflect the state of the primary some time back in the past. The default is zero, no delay.</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span> 
   <span class="n">MASTER_DELAY</span><span class="o">=</span><span class="mi">3600</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><h2 class="anchored_heading" id="changing-option-values">Changing Option Values</h2>
<p>If you don't specify a given option when executing the <code>CHANGE MASTER</code> statement, then the option keeps its old value in most cases. Most of the time, there is no need to specify the options that do not need to change. For example, if the password for the user account that the replica uses to connect to its primary has changed, but no other options need to change, then you can just change the <a href="#master_password">MASTER_PASSWORD</a> option by executing the following commands:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span> 
   <span class="n">MASTER_PASSWORD</span><span class="o">=</span><span class="s1">&#39;new3cret&#39;</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><p>There are some cases where options are implicitly reset, such as when the <a href="#master_host">MASTER_HOST</a> and <a href="#master_port">MASTER_PORT</a> options are changed.</p>
<h2 class="anchored_heading" id="option-persistence">Option Persistence</h2>
<p>The values of the <a href="#master_log_file">MASTER_LOG_FILE</a> and <a href="#master_log_pos">MASTER_LOG_POS</a> options (i.e. the <a href="/kb/en/binary-log/">binary log</a> position on the primary) and most other options are written to either the default <code>master.info</code> file or the file that is configured by the <a href="/kb/en/mysqld-options/#-master-info-file">master_info_file</a> option. The <a href="/kb/en/replication-threads/#slave-io-thread">replica's I/O thread</a> keeps this <a href="/kb/en/binary-log/">binary log</a> position updated as it downloads events only when <a href="#master_use_gtid">MASTER_USE_GTID</a> option
 is set to <code>NO</code>.  Otherwise the file is not updated on a per event basis.</p>
<p>The <a href="/kb/en/mysqld-options/#-master-info-file">master_info_file</a> option can be set either on the command-line or in a server <a href="/kb/en/configuring-mariadb-with-option-files/#option-groups">option group</a> in an <a href="/kb/en/configuring-mariadb-with-option-files/">option file</a> prior to starting up the server. For example:</p>
<pre class="fixed">[mariadb]
...
master_info_file=/mariadb/myserver1-master.info
</pre><p>The values of the <a href="#relay_log_file">RELAY_LOG_FILE</a> and <a href="#relay_log_pos">RELAY_LOG_POS</a> options (i.e. the <a href="/kb/en/relay-log/">relay log</a> position) are written to either the default <code>relay-log.info</code> file or the file that is configured by the <a href="/kb/en/replication-and-binary-log-system-variables/#relay_log_info_file">relay_log_info_file</a> system variable. The <a href="/kb/en/replication-threads/#slave-sql-thread">replica's SQL thread</a> keeps this <a href="/kb/en/relay-log/">relay log</a> position updated as it applies events.</p>
<p>The <a href="/kb/en/replication-and-binary-log-system-variables/#relay_log_info_file">relay_log_info_file</a> system variable can be set either on the command-line or in a server <a href="/kb/en/configuring-mariadb-with-option-files/#option-groups">option group</a> in an <a href="/kb/en/configuring-mariadb-with-option-files/">option file</a> prior to starting up the server. For example:</p>
<pre class="fixed">[mariadb]
...
relay_log_info_file=/mariadb/myserver1-relay-log.info
</pre><h2 class="anchored_heading" id="gtid-persistence">GTID Persistence</h2>
<p>If the replica is replicating <a href="/kb/en/binary-log/">binary log</a> events that contain <a href="/kb/en/gtid/">GTIDs</a>, then the <a href="/kb/en/replication-threads/#slave-sql-thread">replica's SQL thread</a> will write every GTID that it applies to the <a href="/kb/en/mysqlgtid_slave_pos-table/">mysql.gtid_slave_pos</a> table. This GTID can be inspected and modified through the <a href="/kb/en/gtid/#gtid_slave_pos">gtid_slave_pos</a> system variable.</p>
<p>If the replica has the <a href="/kb/en/replication-and-binary-log-system-variables/#log_slave_updates">log_slave_updates</a> system variable enabled and if the replica has the <a href="/kb/en/binary-log/">binary log</a> enabled, then every write by the <a href="/kb/en/replication-threads/#slave-sql-thread">replica's SQL thread</a> will also go into the replica's <a href="/kb/en/binary-log/">binary log</a>. This means that <a href="/kb/en/gtid/">GTIDs</a> of replicated transactions would be reflected in the value of the <a href="/kb/en/gtid/#gtid_binlog_pos">gtid_binlog_pos</a> system variable.</p>
<h2 class="anchored_heading" id="creating-a-replica-from-a-backup">Creating a Replica from a Backup</h2>
<p>The <code>CHANGE MASTER</code> statement is useful for setting up a replica when you have a backup of the primary and you also have the <a href="/kb/en/binary-log/">binary log</a> position or <a href="/kb/en/gtid/">GTID</a> position corresponding to the backup.</p>
<p>After restoring the backup on the replica, you could execute something like this to use the <a href="/kb/en/binary-log/">binary log</a> position:</p>
<pre class="fixed"><span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span>
   <span class="n">MASTER_LOG_FILE</span><span class="o">=</span><span class="s1">&#39;master2-bin.001&#39;</span><span class="p">,</span>
   <span class="n">MASTER_LOG_POS</span><span class="o">=</span><span class="mi">4</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><p>Or you could execute something like this to use the <a href="/kb/en/gtid/">GTID</a> position:</p>
<pre class="fixed"><span class="kt">SET</span> <span class="n">GLOBAL</span> <span class="n">gtid_slave_pos</span><span class="o">=</span><span class="s1">&#39;0-1-153&#39;</span><span class="p">;</span>
<span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span>
   <span class="n">MASTER_USE_GTID</span><span class="o">=</span><span class="n">slave_pos</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><p>See <a href="/kb/en/setting-up-a-replication-slave-with-mariabackup/">Setting up a Replication Slave with Mariabackup</a> for more information on how to do this with <a href="/kb/en/mariabackup/">Mariabackup</a>.</p>
<h2 class="anchored_heading" id="example">Example</h2>
<p>The following example changes the primary and primary's binary log coordinates.
This is used when you want to set up the replica to replicate the primary:</p>
<pre class="fixed"><span class="k">CHANGE</span> <span class="n">MASTER</span> <span class="k">TO</span>
   <span class="n">MASTER_HOST</span><span class="o">=</span><span class="s1">&#39;master2.mycompany.com&#39;</span><span class="p">,</span>
   <span class="n">MASTER_USER</span><span class="o">=</span><span class="s1">&#39;replication&#39;</span><span class="p">,</span>
   <span class="n">MASTER_PASSWORD</span><span class="o">=</span><span class="s1">&#39;bigs3cret&#39;</span><span class="p">,</span>
   <span class="n">MASTER_PORT</span><span class="o">=</span><span class="mi">3306</span><span class="p">,</span>
   <span class="n">MASTER_LOG_FILE</span><span class="o">=</span><span class="s1">&#39;master2-bin.001&#39;</span><span class="p">,</span>
   <span class="n">MASTER_LOG_POS</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
   <span class="n">MASTER_CONNECT_RETRY</span><span class="o">=</span><span class="mi">10</span><span class="p">;</span>
<span class="n">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="/kb/en/setting-up-replication/">Setting up replication</a>
</li><li><a href="/kb/en/start-slave/">START SLAVE</a>
</li><li><a href="/kb/en/multi-source-replication/">Multi-source replication</a>
</li><li><a href="/kb/en/reset-slave-connection_name/">RESET SLAVE</a>. Removes a connection created  with <code>CHANGE MASTER TO</code>.
</li><li><a href="/kb/en/global-transaction-id/">Global Transaction ID</a></li></ul>

    </div>


        
            <div id="subscribe" class="well well-small hide hidden-print"
                 data-subscribe-url="/kb/en/change-master-to/+subscriptions/add"
                 data-unsubscribe-url="/kb/en/change-master-to/+subscriptions/remove">
            </div>
        

        
        
    
        <div class="simple_section_nav">
            <ul class="nav nav-pills">
                
                
                    <li><a href="/kb/en/replication-commands/">
                        ↑ Replication Commands ↑
                    </a>
                    </li>
                
                
                    <li class="pull-right"><a href="/kb/en/start-replica/">
                        START SLAVE →
                    </a>
                    </li>
                
            </ul>
        </div>
    

        

        
        <h2>Comments</h2>
        
    
    <div id="comments" data-node-id="901" data-comments-url="/kb/en/change-master-to/+comments"
         data-reply-url="/kb/en/change-master-to/comments/post/">
        Comments loading...
    </div>

        

    </div>


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
                <div id="right_bar" class="col-md-2">
                    
    
        
        <ul class="section_navigation well well-small hidden-xs hidden-sm">
            
                <li class="parent"><a href="/kb/en/replication-commands/">
                    ↑ Replication Commands ↑
                </a>
                </li>
            
            
                
                    <li class="active">
                        <span>CHANGE MASTER TO</span>
                        
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/start-replica/">
                            
                            START SLAVE
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/stop-replica/">
                            
                            STOP SLAVE
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/reset-replica/">
                            
                            RESET REPLICA/SLAVE
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/set-global-sql_slave_skip_counter/">
                            
                            SET GLOBAL SQL_SLAVE_SKIP_COUNTER
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/show-relaylog-events/">
                            <span class="pull-right not_primary"></span>
                            SHOW RELAYLOG EVENTS
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/show-replica-status/">
                            <span class="pull-right not_primary"></span>
                            SHOW SLAVE STATUS
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/show-binlog-status/">
                            <span class="pull-right not_primary"></span>
                            SHOW MASTER STATUS
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/show-replica-hosts/">
                            <span class="pull-right not_primary"></span>
                            SHOW SLAVE HOSTS
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/reset-master/">
                            
                            RESET MASTER
                        </a>
                    </li>
                
            
        </ul>
    
    

                </div>
            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row row-10">
                <div class="col-md-2 col-xs-4 item">
                    <h5>
                        <a href="/products" title="Products">Products</a>
                    </h5>
                    <ul>
                        <li id="menu-item-7816" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7816"><a href="https://mariadb.com/products/mariadb-platform/">MariaDB Platform</a></li>
                        <li id="menu-item-7815" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7815"><a href="https://mariadb.com/products/skysql/">MariaDB SkySQL</a></li>
                        <li id="menu-item-4172" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4172"><a href="https://mariadb.com/pricing/">Pricing</a></li>
                        <li id="menu-item-4163" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4163"><a href="https://mariadb.com/downloads/">Download MariaDB</a></li>
                    </ul>
                </div>
                <div class="col-md-2 col-xs-4 item">
                    <h5>
                        <a href="/services" title="Services">Services</a>
                    </h5>
                    <ul>
                        <li id="menu-item-4169" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4169"><a href="https://mariadb.com/services/remote-dba/">Remote DBA</a></li>
                        <li id="menu-item-41691" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4169"><a href="https://mariadb.com/services/skydba/">SkyDBA</a></li>
                        <li id="menu-item-4167" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4167"><a href="https://mariadb.com/services/enterprise-architect/">Enterprise Architect</a></li>
                        <li id="menu-item-4170" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4170"><a href="https://mariadb.com/services/technical-support-services/">Technical Support</a></li>
                        <li id="menu-item-4168" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4168"><a href="https://mariadb.com/services/migration-practice/">Migration Practice</a></li>
                        <li id="menu-item-4166" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4166"><a href="https://mariadb.com/services/consulting/">Consulting</a></li>
                        <li id="menu-item-4171" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4171"><a href="https://mariadb.com/services/training/">Training</a></li>
                    </ul>
                </div>
                <div class="col-md-2 col-xs-4 item">
                    <h5>
                        <a href="/resources" title="Resources">Resources</a>
                    </h5>
                    <ul>
                        <li id="menu-item-41751" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4175"><a href="https://mariadb.com/docs/">Documentation</a></li>
                        <li id="menu-item-41752" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4175"><a href="https://mariadb.com/developers/">Developers</a></li>
                        <li id="menu-item-4175" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4175"><a href="https://mariadb.com/resources/blog/">Blog</a></li>
                        <li id="menu-item-5462" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5462"><a href="https://support.mariadb.com">Support</a></li>
                        <li id="menu-item-6004" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6004"><a href="https://mariadb.com/openworks/">OpenWorks</a></li>
                        <li id="menu-item-60041" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6004"><a href="https://mariadb.com/resources/customer-stories/">Customer Stories</a></li>
                        <li id="menu-item-7817" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-7817"><a href="https://mariadb.com/resources/events/">Events</a></li>
                        <li id="menu-item-4177" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4177"><a href="https://mariadb.com/roadshow/">MariaDB Roadshow</a></li>
                    </ul>
                </div>
                <div class="visible-xs visible-sm clear"></div>
                <div class="col-md-2 col-xs-5 item">
                    <h5>
                        <a href="/about-us" title="About MariaDB">About</a>
                    </h5>
                    <ul>
                        <li id="menu-item-4173" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4173"><a href="https://mariadb.com/contact/">Contact</a></li>
                        <li id="menu-item-4161" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4161"><a href="https://mariadb.com/about-us/leadership/">Leadership</a></li>
                        <li id="menu-item-4162" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4162"><a href="https://mariadb.com/about-us/partners/">Partners</a></li>
                        <li id="menu-item-4174" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4174"><a href="https://mariadb.com/newsroom/">Newsroom</a></li>
                        <li id="menu-item-4160" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4160"><a href="https://mariadb.com/about-us/investors/">Investors</a></li>
                        <li id="menu-item-4159" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4159"><a href="https://mariadb.com/about-us/careers/">Careers</a></li>
                        <li id="menu-item-41591" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4159"><a href="https://mariadb.com/trust/">Trust Center</a></li>
                        <li id="menu-item-41592" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4159"><a href="https://mariadb.com/vulnerability-reporting/">Vulnerability Reporting</a></li>
                    </ul>
                </div>
                <div class="col-md-4 col-xs-7 item">
                    <div id="block-footercontact" class="block block-block-content block-block-content22b3af28-0754-44ec-a5c6-4466568f37e3">
                        <h5><a href="/contact" title="Contact">Contact</a></h5>
                    </div>
                    <div class="social">
                        <ul class="list-inline">
                            <li>
                                <a target="_blank" href="https://www.facebook.com/MariaDB.dbms/" title="Facebook">
                                    <i class="fa fa-facebook" aria-hidden="true"></i>
                                </a>
                            </li>
                            <li>
                                <a target="_blank" href="https://twitter.com/mariadb" title="Twitter">
                                    <i class="fa fa-twitter" aria-hidden="true"></i>
                                </a>
                            </li>
                            <li>
                                <a target="_blank" href="https://www.linkedin.com/company/mariadb-corporation?trk=company_logo " title="LinkedIn">
                                    <i class="fa fa-linkedin" aria-hidden="true"></i>
                                </a>
                            </li>
                        </ul>
                    </div>
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <p>Subscribe to our newsletter!</p>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="footer-copyright">
        <div class="container text-center">
            <ul class="list-inline no-margin">
                <li>
                    <a href="/legal" title="Legal">Legal</a>
                </li>
                <li>
                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                </li>
                <li>
                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                </li>
            </ul>
            <p>Copyright &copy; 2024 MariaDB. All rights reserved.</p>
        </div>
    </div>
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.fed4ec768178.js" charset="utf-8"></script>

</html>