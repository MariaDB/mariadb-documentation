<?xml version="1.0" encoding="utf-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>MariaDB Knowledge Base Comments for: Ubuntu 22.04. "Starting MariaDB database server mariadbd [fail]"</title><link>https://mariadb.com/kb/en/ubuntu-2204-starting-mariadb-database-server-mariadbd-fail/+comments/feed/</link><description></description><atom:link href="https://mariadb.com/kb/en/ubuntu-2204-starting-mariadb-database-server-mariadbd-fail/+comments/feed/" rel="self"></atom:link><language>en-us</language><lastBuildDate>Mon, 12 Aug 2024 13:23:08 +0000</lastBuildDate><item><title>Re: Ubuntu 22.04. "Starting MariaDB database server mariadbd [fail]"</title><link>https://mariadb.com/kb/en/ubuntu-2204-starting-mariadb-database-server-mariadbd-fail/+comments/5787</link><description>&lt;p&gt;My brother has found a github issue with Ubuntu WSL that produced the same AIO error with MySQL.&lt;/p&gt;
&lt;p&gt;Here is what worked for me:&lt;/p&gt;
&lt;pre class="fixed"&gt;sudo apt remove --purge *mysql*
sudo apt remove --purge *mariadb*
sudo rm -rf /etc/mysql /var/lib/mysql
sudo apt autoremove
sudo apt autoclean
&lt;/pre&gt;&lt;p&gt;Notice my edit in the OP that I did a complete reinstall of WSL and Ubuntu, so it kept happening on the fresh install as well.&lt;/p&gt;
&lt;p&gt;Also notice that this completely purged every data I had.&lt;/p&gt;
&lt;p&gt;In short, this is WSL issue, not an issue with MariaDB.&lt;/p&gt;
&lt;p&gt;The issue on github:&lt;/p&gt;
&lt;ul start="1"&gt;&lt;li&gt;&lt;a href="https://github.com/microsoft/WSL/issues/3631#issuecomment-1145856044"&gt;https://github.com/microsoft/WSL/issues/3631#issuecomment-1145856044&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Sebastijan Salak</dc:creator><guid>https://mariadb.com/kb/en/ubuntu-2204-starting-mariadb-database-server-mariadbd-fail/+comments/5787</guid></item><item><title>Re: Ubuntu 22.04. "Starting MariaDB database server mariadbd [fail]"</title><link>https://mariadb.com/kb/en/ubuntu-2204-starting-mariadb-database-server-mariadbd-fail/+comments/5785</link><description>&lt;p&gt;If this question is a subset of &lt;a href="https://stackoverflow.com/questions/72474571/ubuntu-22-04-mariadb-starting-mariadb-database-server-mariadbd-fail"&gt;https://stackoverflow.com/questions/72474571/ubuntu-22-04-mariadb-starting-mariadb-database-server-mariadbd-fail&lt;/a&gt;
then the answer could be that the InnoDB crash recovery was broken due to &lt;a href="https://jira.mariadb.org/browse/MDEV-28731"&gt;MDEV-28731&lt;/a&gt;.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Marko M채kel채</dc:creator><guid>https://mariadb.com/kb/en/ubuntu-2204-starting-mariadb-database-server-mariadbd-fail/+comments/5785</guid></item><item><title>Re: Ubuntu 22.04. "Starting MariaDB database server mariadbd [fail]"</title><link>https://mariadb.com/kb/en/ubuntu-2204-starting-mariadb-database-server-mariadbd-fail/+comments/5784</link><description>&lt;p&gt;Related, Ubuntu 22.04 is the LTS Ubuntu version where io_uring became available.&lt;/p&gt;
&lt;p&gt;5.10.60.1 is where uring is documented to be added &lt;a href="https://docs.microsoft.com/en-us/windows/wsl/kernel-release-notes"&gt;https://docs.microsoft.com/en-us/windows/wsl/kernel-release-notes&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Before 5.12 (&lt;a href="https://github.com/axboe/liburing/issues/246#issuecomment-816965961"&gt;https://github.com/axboe/liburing/issues/246#issuecomment-816965961&lt;/a&gt;) uring requires a memory locked amount, so try raising that urlimit for the startup.&lt;/p&gt;
&lt;p&gt;The warning shouldn't prevent mariadbd from starting. Is there another fatal error in the logs?&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Daniel Black</dc:creator><guid>https://mariadb.com/kb/en/ubuntu-2204-starting-mariadb-database-server-mariadbd-fail/+comments/5784</guid></item><item><title>Re: Ubuntu 22.04. "Starting MariaDB database server mariadbd [fail]"</title><link>https://mariadb.com/kb/en/ubuntu-2204-starting-mariadb-database-server-mariadbd-fail/+comments/5781</link><description>&lt;p&gt;As far as I can tell, those messages would be output if &lt;code&gt;io_setup()&lt;/code&gt; in &lt;code&gt;libaio&lt;/code&gt; fails. Perhaps &lt;code&gt;libaio&lt;/code&gt; support was removed from the WSL2 kernel in the update? Those messages should disappear if you configure &lt;code&gt;innodb_use_native_aio=OFF&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The Linux kernel in Ubuntu 20.04 and later supports a newer interface &lt;code&gt;io_uring&lt;/code&gt;. MariaDB Server 10.6 and later can be built with &lt;code&gt;io_uring&lt;/code&gt; or &lt;code&gt;libaio&lt;/code&gt;, but never with both.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Marko M채kel채</dc:creator><guid>https://mariadb.com/kb/en/ubuntu-2204-starting-mariadb-database-server-mariadbd-fail/+comments/5781</guid></item></channel></rss>