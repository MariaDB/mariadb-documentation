<?xml version="1.0" encoding="utf-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>MariaDB Knowledge Base Comments for: Configuring MariaDB Replication between Two MariaDB Galera Clusters</title><link>https://mariadb.com/kb/en/configuring-mariadb-replication-between-two-mariadb-galera-clusters/+comments/feed/</link><description></description><atom:link href="https://mariadb.com/kb/en/configuring-mariadb-replication-between-two-mariadb-galera-clusters/+comments/feed/" rel="self"></atom:link><language>en-us</language><lastBuildDate>Mon, 25 Mar 2024 20:51:39 +0000</lastBuildDate><item><title>Circular Replication Details</title><link>https://mariadb.com/kb/en/configuring-mariadb-replication-between-two-mariadb-galera-clusters/+comments/4157</link><description>&lt;p&gt;It might be a good idea to add that circular replication in this configuration might not be safe with simultaneous updates to both clusters due to the possibility of independent key clashes, esp when replication delay and wsrep_cert_deps_distance are non-zero.&lt;/p&gt;
&lt;p&gt;To have both clusters simultaneously active, it is a good idea to turn off wsrep_auto_increment_control and manually assign a unique autoincrement key value to each node in the complete architecture.&lt;/p&gt;
&lt;p&gt;For example, if you have a production cluster P with three nodes, and a recovery cluster R with three nodes, setting the following values would work:&lt;/p&gt;
&lt;pre class="fixed"&gt;auto_increment_increment=10
auto_increment_offset=1 ## Values here would be unique, so P1=1, P2=2, P3=3, R1=6, R2=7, R3=8
wsrep_auto_increment_control=0
&lt;/pre&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Juan Vera</dc:creator><guid>https://mariadb.com/kb/en/configuring-mariadb-replication-between-two-mariadb-galera-clusters/+comments/4157</guid></item></channel></rss>