<?xml version="1.0" encoding="utf-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>MariaDB Knowledge Base Comments for: mariabackup 10.11.3-MariaDB incremental backup taking long time due to "Waiting for log copy thread to read lsn"</title><link>https://mariadb.com/kb/en/dba-questions-mariabackup-10-11-3-mariadb-incremental-backup-taking-long-ti/+comments/feed/</link><description></description><atom:link href="https://mariadb.com/kb/en/dba-questions-mariabackup-10-11-3-mariadb-incremental-backup-taking-long-ti/+comments/feed/" rel="self"></atom:link><language>en-us</language><lastBuildDate>Mon, 05 Aug 2024 15:17:45 +0000</lastBuildDate><item><title>Re: mariabackup 10.11.3-MariaDB incremental backup taking long time due to "Waiting for log copy thread to read lsn"</title><link>https://mariadb.com/kb/en/dba-questions-mariabackup-10-11-3-mariadb-incremental-backup-taking-long-ti/+comments/6475</link><description>&lt;p&gt;this seems to have fixed the problem. Thanks a lot for helping. Might there be any negative impact of this setting? Which?&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Chris E</dc:creator><guid>https://mariadb.com/kb/en/dba-questions-mariabackup-10-11-3-mariadb-incremental-backup-taking-long-ti/+comments/6475</guid></item><item><title>Re: mariabackup 10.11.3-MariaDB incremental backup taking long time due to "Waiting for log copy thread to read lsn"</title><link>https://mariadb.com/kb/en/dba-questions-mariabackup-10-11-3-mariadb-incremental-backup-taking-long-ti/+comments/6457</link><description>&lt;p&gt;Your problem description is very similar to &lt;a href="https://jira.mariadb.org/browse/MDEV-31410"&gt;MDEV-31410&lt;/a&gt;. You could &lt;code class="fixed" style="white-space:pre-wrap"&gt;SET GLOBAL innodb_max_dirty_pages_pct_lwm=0.001;&lt;/code&gt; to make the InnoDB log checkpoint advance more often. This should become unnnecessary once &lt;a href="https://jira.mariadb.org/browse/MDEV-30000"&gt;MDEV-30000&lt;/a&gt; has been fixed.&lt;/p&gt;
&lt;p&gt;To my knowledge, &lt;code class="fixed" style="white-space:pre-wrap"&gt;FLUSH LOGS&lt;/code&gt; and &lt;code class="fixed" style="white-space:pre-wrap"&gt;PURGE LOGS&lt;/code&gt; have nothing to do with the InnoDB storage engine.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Marko M채kel채</dc:creator><guid>https://mariadb.com/kb/en/dba-questions-mariabackup-10-11-3-mariadb-incremental-backup-taking-long-ti/+comments/6457</guid></item><item><title>Re: mariabackup 10.11.3-MariaDB incremental backup taking long time due to "Waiting for log copy thread to read lsn"</title><link>https://mariadb.com/kb/en/dba-questions-mariabackup-10-11-3-mariadb-incremental-backup-taking-long-ti/+comments/6456</link><description>&lt;p&gt;SET GLOBAL innodb_log_file_buffering=ON did not help. Also expire_logs_days=3 did not help. I also tried  FLUSH LOGS and PURGE LOGS which also does not have an effect. I am wondering why restarting mariadb solves the issue for a couple of days. I noticed that after a restart the time is increasing day by day. Any further ideas what might be the reason for "Waiting for log copy thread to read lsn 11599896005" taking so much time?&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Chris E</dc:creator><guid>https://mariadb.com/kb/en/dba-questions-mariabackup-10-11-3-mariadb-incremental-backup-taking-long-ti/+comments/6456</guid></item><item><title>Re: mariabackup 10.11.3-MariaDB incremental backup taking long time due to "Waiting for log copy thread to read lsn"</title><link>https://mariadb.com/kb/en/dba-questions-mariabackup-10-11-3-mariadb-incremental-backup-taking-long-ti/+comments/6406</link><description>&lt;p&gt;For the time beeing I reduced expire_logs_days=3. If this does not solve the problem I will try your suggestion&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Chris E</dc:creator><guid>https://mariadb.com/kb/en/dba-questions-mariabackup-10-11-3-mariadb-incremental-backup-taking-long-ti/+comments/6406</guid></item><item><title>Re: mariabackup 10.11.3-MariaDB incremental backup taking long time due to "Waiting for log copy thread to read lsn"</title><link>https://mariadb.com/kb/en/dba-questions-mariabackup-10-11-3-mariadb-incremental-backup-taking-long-ti/+comments/6403</link><description>&lt;p&gt;Would it help to &lt;code class="fixed" style="white-space:pre-wrap"&gt;SET GLOBAL innodb_log_file_buffering=ON&lt;/code&gt; (&lt;a href="https://jira.mariadb.org/browse/MDEV-28766"&gt;MDEV-28766&lt;/a&gt;) before starting the backup (and to set it back &lt;code class="fixed" style="white-space:pre-wrap"&gt;OFF&lt;/code&gt; afterwards, for optimal performance)?&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Marko M채kel채</dc:creator><guid>https://mariadb.com/kb/en/dba-questions-mariabackup-10-11-3-mariadb-incremental-backup-taking-long-ti/+comments/6403</guid></item></channel></rss>