<?xml version="1.0" encoding="utf-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>MariaDB Knowledge Base Comments for: SSL with other Clients than the original MariaDB-client?</title><link>https://mariadb.com/kb/en/ssl-with-other-clients-than-the-original-mariadb-client/+comments/feed/</link><description></description><atom:link href="https://mariadb.com/kb/en/ssl-with-other-clients-than-the-original-mariadb-client/+comments/feed/" rel="self"></atom:link><language>en-us</language><lastBuildDate>Tue, 16 Jan 2024 02:46:18 +0000</lastBuildDate><item><title>Re: SSL with other Clients than the original MariaDB-client?</title><link>https://mariadb.com/kb/en/ssl-with-other-clients-than-the-original-mariadb-client/+comments/240</link><description>&lt;p&gt;Please note that &lt;em&gt;have_openssl&lt;/em&gt; server variable is just a synonym of &lt;em&gt;have_ssl&lt;/em&gt;, it does not really show whether the server uses openssl or yassl  (see &lt;a href="http://dev.mysql.com/doc/refman/5.1/en/server-system-variables.html#sysvar_have_openssl"&gt;MySQL Manual&lt;/a&gt;). Running ldd on the server or client binary would be more reliable.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Elena Stepanova</dc:creator><guid>https://mariadb.com/kb/en/ssl-with-other-clients-than-the-original-mariadb-client/+comments/240</guid></item><item><title>Re: SSL with other Clients than the original MariaDB-client?</title><link>https://mariadb.com/kb/en/ssl-with-other-clients-than-the-original-mariadb-client/+comments/239</link><description>&lt;p&gt;The used Mysql-Server was not at the same machine (we use MariaDB in a network, the Mysql-Server was on my local machine for comparison, both machines uses Ubuntu). I know that MariaDB is a drop-in-replacement. &lt;/p&gt;
&lt;p&gt;Both Ubuntu-Packages should use openssl (the variables had show the use of openssl).  &lt;/p&gt;
&lt;p&gt;It could be possible, that the switch from the MariaDB Server + Client to Mysql-Server + Client on my &lt;strong&gt;local&lt;/strong&gt; machine (at first it was a comparison between another MariaDB-Server and the used MariaDB-Server in the network - later it was a comparison between MariaDB-Server in the network and the local Mysql-Server) lead to a conflict (configuration files). For a fresh install for rechecking this aspect I need some time. &lt;/p&gt;
&lt;p&gt;Interesting for me was using the Connector/J over SSL with MariaDB. The other client and server programs was only for getting the scope of occuring an error. &lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Stephan </dc:creator><guid>https://mariadb.com/kb/en/ssl-with-other-clients-than-the-original-mariadb-client/+comments/239</guid></item><item><title>Re: SSL with other Clients than the original MariaDB-client?</title><link>https://mariadb.com/kb/en/ssl-with-other-clients-than-the-original-mariadb-client/+comments/237</link><description>&lt;p&gt;I was able to reproduce the problem with Connector/J and filed a bug report &lt;a href="https://bugs.launchpad.net/maria/+bug/930145"&gt;https://bugs.launchpad.net/maria/+bug/930145&lt;/a&gt; about it. &lt;/p&gt;
&lt;p&gt;The part with MySQL client might be a different issue. I still can connect fine using MySQL client to MariaDB server, as long as both use the same SSL implementation (openssl or yassl). If you are using MySQL client and MariaDB server from Ubuntu deb packages, it should be the case for you too. 
However, I am wondering if you really have both MariaDB and MySQL deb packages installed on the same machine at the same time; installation of one conflicts with another, so you probably have a rather complicated setup on your box to use them both at once. Could it be that you are trying to connect to MariaDB server from a deb package (openssl) using a client from, lets say, MySQL generic tarball package (or any other version that uses yassl)? In this case, you might be facing an old problem described here &lt;a href="http://blog.swwomm.com/2011/09/mysql-ssl-implementation.html"&gt;http://blog.swwomm.com/2011/09/mysql-ssl-implementation.html&lt;/a&gt;; there are also open bugs in MySQL bug database about it. Please let us know if this is the case.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Elena Stepanova</dc:creator><guid>https://mariadb.com/kb/en/ssl-with-other-clients-than-the-original-mariadb-client/+comments/237</guid></item><item><title>Re: SSL with other Clients than the original MariaDB-client?</title><link>https://mariadb.com/kb/en/ssl-with-other-clients-than-the-original-mariadb-client/+comments/235</link><description>&lt;p&gt;I have used for the test the following versions:&lt;/p&gt;
&lt;ul start="1"&gt;&lt;li&gt;MySQL-Client 5.1.58-1ubuntu1
&lt;/li&gt;&lt;li&gt;Connector/J 5.1.18
&lt;/li&gt;&lt;li&gt;OpenSSL 1.0.0e-2ubuntu4
&lt;/li&gt;&lt;li&gt;MariaDB-Server 5.2.10-mariadb107oneiric
&lt;/li&gt;&lt;li&gt;MariaDB-Client 5.2.10-mariadb107oneiric
&lt;/li&gt;&lt;li&gt;MySQL-Server 5.1.58-1ubuntu1
&lt;/li&gt;&lt;/ul&gt;
&lt;p&gt;I have used the same SSL-certificates (CA,Server) for MySQL-Server, MariaDB-Server in this scenario and for all clients. So it is strange, that Mysql-Server can correctly communicate with this SSL-certificates. &lt;/p&gt;
&lt;p&gt;I think in this case, the certificates are not the problem. 
"Unsupported record version" is imho (between the states ClientHello and ServerHello of the SSL-handshake) prior the exchange of certificates. &lt;/p&gt;
&lt;h3 class="anchored_heading" id="server-perspective"&gt;Server-perspective:&lt;/h3&gt;
&lt;p&gt;MySQL-Server &amp;lt;--&amp;gt; (Connector/J, MySQL-Client, Drizzle)&lt;/p&gt;
&lt;p&gt;vs. (the same certificate-config)&lt;/p&gt;
&lt;p&gt;It only works in this scenario between:
MariaDB-Server &amp;lt;---&amp;gt; MariaDB-Client&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Stephan </dc:creator><guid>https://mariadb.com/kb/en/ssl-with-other-clients-than-the-original-mariadb-client/+comments/235</guid></item><item><title>Re: SSL with other Clients than the original MariaDB-client?</title><link>https://mariadb.com/kb/en/ssl-with-other-clients-than-the-original-mariadb-client/+comments/233</link><description>&lt;p&gt;Could you please specify the exact versions of MySQL client, Connector/J, MySQL server and MariaDB server that you used for your test, and also the OS and SSL? &lt;/p&gt;
&lt;p&gt;I tried a few combinations of client/server and got essentially different results. &lt;/p&gt;
&lt;p&gt;I could connect with 5.1.60 MySQL client to &lt;a href="/kb/en/mariadb-5210-release-notes/"&gt;MariaDB 5.2.10&lt;/a&gt; without a problem, as long as both were pointing at the right certificate/keys. I did, however, see "ERROR 2026 (HY000): SSL connection error" when I tried to use a wrong certificate; please double-check your configuration files for MySQL and MariaDB, maybe the client and server sections point at different ssl-*.&lt;/p&gt;
&lt;p&gt;With connector/J 5.1.18, I got the same "Unsupported record version Unknown-0.0" connecting to MySQL 5.1.60 and &lt;a href="/kb/en/mariadb-5210-release-notes/"&gt;MariaDB 5.2.10&lt;/a&gt;; MySQL 5.5.20 worked fine. &lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Elena Stepanova</dc:creator><guid>https://mariadb.com/kb/en/ssl-with-other-clients-than-the-original-mariadb-client/+comments/233</guid></item></channel></rss>