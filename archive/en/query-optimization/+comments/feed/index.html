<?xml version="1.0" encoding="utf-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>MariaDB Knowledge Base Comments for: Query optimization</title><link>https://mariadb.com/kb/en/query-optimization/+comments/feed/</link><description></description><atom:link href="https://mariadb.com/kb/en/query-optimization/+comments/feed/" rel="self"></atom:link><language>en-us</language><lastBuildDate>Fri, 19 Jul 2024 01:06:06 +0000</lastBuildDate><item><title>Re: Query optimization</title><link>https://mariadb.com/kb/en/query-optimization/+comments/6367</link><description>&lt;p&gt;I spent a lot of time to 11.0 to fix all known optimizer things.
I have verified that the new optimizer with all changed plans in the mtr test suite
and also with several customer queries that caused problems in earlier MariaDB versions and in almost all cases 11.0 did give a better plan.&lt;/p&gt;
&lt;p&gt;That said, i do not think that 11.0 is perfect yet. It just a better base for the optimizer than any earlier MariaDB versions. Thanks to the changes and cleanups, it is much easier to extend and improve things in the optimizer in 11.0.&lt;/p&gt;
&lt;p&gt;The main problem is 11.0 has had very little testing from high level users and because of that I have not got any feedback about the 11.0 optimizer performance.&lt;/p&gt;
&lt;p&gt;We are working on extending maxscale to be able to simultaneous replicate to multiple servers, like 10.11 and 11.0 and compare result and timings. 
This is done partly to allow high level users to test 11.0 and provide feedback from running 11.0 in production. This will help us to find and fix any issues in 11.0.&lt;/p&gt;
&lt;p&gt;If you, or anyone else are experiencing problems with the optimizer in 11.0 or above, please provide a test case in a Jira task and we will do our best to fix the issue ASAP.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Michael Widenius</dc:creator><guid>https://mariadb.com/kb/en/query-optimization/+comments/6367</guid></item><item><title>Re: Query optimization</title><link>https://mariadb.com/kb/en/query-optimization/+comments/6359</link><description>&lt;p&gt;Can you give specific examples of some of the complex queries you refer to (table structures/queries/datasets), so that we can repeat the problem and try and see what is going wrong?&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Ian Gilfillan</dc:creator><guid>https://mariadb.com/kb/en/query-optimization/+comments/6359</guid></item><item><title>Re: Query optimization</title><link>https://mariadb.com/kb/en/query-optimization/+comments/6358</link><description>&lt;p&gt;Hello.
We tested the &lt;a href="/kb/en/mariadb-11-1-2-release-notes/"&gt;MariaDB 11.1.2&lt;/a&gt; aswell of course, but it got few things right and many things wrong.
MariaDB 11 is very good at many simple queries, even better than previous versions, but it is i dare to say aboslutely terrible at some more complex queries - worse than earlier MariaDB versions. MyIsam and Aria seem to be somewhat ok, but the performance/query plans are worse with InnoDB, compared ot older versions.
Of course we would prefer to stay with a single database, MariaDB to be precise, but if things are not going to change, we will be forced to use anything else for some of our databases - where both PostgreSQL or MySQL seem to have what we need, but we are also willing to go with SQL server or other paid options - We need things to work, the cost is secondary, and MariaDB cannot perform even if it got a whole server reserved for a single SQL statement.
As bad query plans take multiple times of execution time, it doesn't matter how much more optimized MariaDB is - as long as it cannot use the correct plan, it simply becomes the worst database.
Personally i think the changes to optimizer in MariaDB in the last 5 years have been a waste of time for professional environment, while Oracle got things already figured out and PostgreSQL got community large enought to plug the holes with Oracle-style optimizer hints.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">v s</dc:creator><guid>https://mariadb.com/kb/en/query-optimization/+comments/6358</guid></item><item><title>Re: Query optimization</title><link>https://mariadb.com/kb/en/query-optimization/+comments/6357</link><description>&lt;p&gt;First, it would have his would have been better to add this request into Jira, as it would have allowed us to easier discuss the needed features and also add sub task for things that could be done.&lt;/p&gt;
&lt;p&gt;That said, I agree that it would be good for MariaDB to have more optimizer hints.
We will have a &lt;a href="/kb/en/what-is-mariadb-113/"&gt;MariaDB 11.3&lt;/a&gt; planning sessions in early September 2023 and I will ensure this is discussed then.&lt;/p&gt;
&lt;p&gt;That said, it would of course be better if the optimizer would get most things right from the start so that one would not have to specify any hints at all (as hints normally only applies for very specific WHERE conditions).
This is why we developed the new optimizer in 11.0 that is more capable in finding better plans than earlier MariaDB versions.
&lt;a href="https://mariadb.com/kb/en/the-optimizer-cost-model-from-mariadb-11-0/"&gt;https://mariadb.com/kb/en/the-optimizer-cost-model-from-mariadb-11-0/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Please try it out and tell us about your experience!&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Michael Widenius</dc:creator><guid>https://mariadb.com/kb/en/query-optimization/+comments/6357</guid></item></channel></rss>