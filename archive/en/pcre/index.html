<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>Perl Compatible Regular Expressions (PCRE) Documentation | MariaDB</title>

    <link href="/kb/static/css/main.f7633538c846.css" rel="stylesheet" type="text/css" />

    

    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="PCRE - Perl Compatible Regular Expressions" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/en/pcre/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="PCRE is inspired by another programming language called, Perl. View all our PCRE documentation and tutorials about various versions and enhancements." />

    <meta name="description" content="PCRE is inspired by another programming language called, Perl. View all our PCRE documentation and tutorials about various versions and enhancements." />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes products nodes_view jqui" id="nodes_view">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/pcre/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2025 MariaDB. All rights reserved.</p>
    </div>
</div>
<div class="violator-wrap d-none" id="top_violator">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12">
                <div class="violator-outer">
                    <div class="violator-inner">
                        <div class="row">
                            <div class="col-xs-12 col-sm-9 col-lg-7 col-lg-offset-2" id="top_violator_content">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="content-link" target="_blank" rel="nofollow noreferrer">
                                    <span>The Ultimate Guide to High Availability with MariaDB</span>
                                </a>
                            </div>
                            <div class="col-xs-12 col-sm-3" id="top_violator_cta">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="btn btn-mariadb" target="_blank" rel="nofollow noreferrer">Download Now</a>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn btn-link close-btn">
                        <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" width="15px" height="15px"><path d="M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/pcre/" rel="nofollow">Login</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/en/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/en/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/services" title="Services">Services</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="About Us">About Us</a>
    </li>
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/en/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/en/documentation/">MariaDB Server Documentation</a>
    

    
    » <a class="crumb" href="/kb/en/using-mariadb-server/">Using MariaDB Server</a>
    

    
    » <a class="crumb" href="/kb/en/sql-statements-structure/">SQL Statements &amp; Structure</a>
    

    
    » <a class="crumb" href="/kb/en/sql-statements/">SQL Statements</a>
    

    
    » <a class="crumb" href="/kb/en/built-in-functions/">Built-in Functions</a>
    

    
    » <a class="crumb" href="/kb/en/string-functions/">String Functions</a>
    

    
    » <a class="crumb" href="/kb/en/regular-expressions-functions/">Regular Expressions Functions</a>
    


    » <a class="node_link crumb" href="/kb/en/pcre/">PCRE - Perl Compatible Regular Expressions</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/en/">Home</a></li>
                            
                                
                                    <li><a href="/kb/en/+questions/">Open Questions</a></li>
                                
                                <li><a href="/kb/en/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/en/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/en/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/en/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
<div>



<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-blue btn-sm" href="/kb/en/pcre/+history" rel="nofollow">History</a>
        
        
        
        <a class="btn btn-block btn-blue btn-sm" href="/kb/en/pcre/+source/">Source</a>
        
        <a class="btn btn-block btn-blue btn-sm flag" href="/kb/en/pcre/+flag"
                data-flag-url="/kb/en/pcre/+flag" rel="nofollow">
                Flag as Spam / Inappropriate</a>
        
        <a class="btn btn-block btn-blue btn-sm" href="/kb/en/pcre/+translate/">
                Translate</a>
        

</div>
</div>





<div class="well well-small box node_info"><div>

    <dl>
        <dt>Created</dt>
        <dd>

<span class="datetime" title="2013-10-14 17:54">11 years, 3 months ago</span></dd>

        <dt>Modified</dt>
        <dd>

<span class="datetime" title="2023-03-21 19:18">1 year, 9 months ago</span></dd>

        <dt>Type</dt>
        <dd>article</dd>

        <dt>Status</dt>
        <dd>active</dd>

        <dt>License</dt>
        <dd>
            
                <a href="/kb/en/pcre/+license/">CC BY-SA / Gnu FDL</a>
            
        </dd>

        
    </dl>

    
    <ul class="rss_feeds">
        <li><a href="/kb/en/pcre/+history/feed/">
            History</a>
        </li>
        <li><a href="/kb/en/pcre/+comments/feed/">
            Comments</a>
        </li>
    </ul>
    

</div>
</div>





    
    
    

<div class="well well-small box attachments"><div><div class="edit_link pull-right"><a href="/kb/en/pcre/+edit/attachments/">Edit</a></div><h5>Attachments</h5></div><div>

        
            <div class="no_data">No attachments exist</div>
        
    
</div>
</div>

    



    
    






</div>


                    

































                </aside>
            
            
            
                
            
            
                
            
            <section id="content" class="limited_width col-md-8 clearfix">
                
                    <h1>Perl Compatible Regular Expressions (PCRE) Documentation</h1>
                

                



                <div>
                    
    

    
    
    

    <div class="node creole">
        
        
        


    
    <div class="answer formatted">
        <div class="table_of_contents well well-small">
<h3>Contents</h3>
 <ol class="toc">

    <li class=""><a href="#pcre-versions" title="PCRE Versions">PCRE Versions</a></li>

    <li class=""><a href="#pcre-enhancements" title="PCRE Enhancements">PCRE Enhancements</a></li>

    <li class=""><a href="#new-regular-expression-functions" title="New Regular Expression Functions">New Regular Expression Functions</a></li>

    <li class=""><a href="#pcre-syntax" title="PCRE Syntax">PCRE Syntax</a>    <ol class="toc">

        <li class=""><a href="#special-characters" title="Special Characters">Special Characters</a></li>

        <li class=""><a href="#character-classes" title="Character Classes">Character Classes</a></li>

        <li class=""><a href="#generic-character-types" title="Generic Character Types">Generic Character Types</a></li>

        <li class=""><a href="#unicode-character-properties" title="Unicode Character Properties">Unicode Character Properties</a>        <ol class="toc">

            <li class=""><a href="#general-category-properties-for-p-and-p" title="General Category Properties For \p and \P">General Category Properties For \p and \P</a></li>

            <li class=""><a href="#special-category-properties-for-p-and-p" title="Special Category Properties For \p and \P">Special Category Properties For \p and \P</a></li>

            <li class=""><a href="#script-names-for-p-and-p" title="Script Names For \p and \P">Script Names For \p and \P</a>        </ol>
</li>

        <li class=""><a href="#extended-unicode-grapheme-sequence" title="Extended Unicode Grapheme Sequence">Extended Unicode Grapheme Sequence</a></li>

        <li class=""><a href="#simple-assertions" title="Simple Assertions">Simple Assertions</a></li>

        <li class=""><a href="#option-setting" title="Option Setting">Option Setting</a></li>

        <li class=""><a href="#multiline-matching" title="Multiline Matching">Multiline Matching</a></li>

        <li class=""><a href="#newline-conventions" title="Newline Conventions">Newline Conventions</a></li>

        <li class=""><a href="#newline-sequences" title="Newline Sequences">Newline Sequences</a></li>

        <li class=""><a href="#comments" title="Comments">Comments</a></li>

        <li class=""><a href="#quoting" title="Quoting">Quoting</a></li>

        <li class=""><a href="#resetting-the-match-start" title="Resetting the Match Start">Resetting the Match Start</a></li>

        <li class=""><a href="#non-capturing-groups" title="Non-Capturing Groups">Non-Capturing Groups</a></li>

        <li class=""><a href="#non-greedy-quantifiers" title="Non-Greedy Quantifiers">Non-Greedy Quantifiers</a></li>

        <li class=""><a href="#atomic-groups" title="Atomic Groups">Atomic Groups</a></li>

        <li class=""><a href="#possessive-quantifiers" title="Possessive quantifiers">Possessive quantifiers</a></li>

        <li class=""><a href="#absolute-and-relative-numeric-backreferences" title="Absolute and Relative Numeric Backreferences">Absolute and Relative Numeric Backreferences</a></li>

        <li class=""><a href="#named-subpatterns-and-backreferences" title="Named Subpatterns and Backreferences">Named Subpatterns and Backreferences</a></li>

        <li class=""><a href="#positive-and-negative-look-ahead-and-look-behind-assertions" title="Positive and Negative Look-Ahead and Look-Behind Assertions">Positive and Negative Look-Ahead and Look-Behind Assertions</a></li>

        <li class=""><a href="#subroutine-reference-and-recursive-patterns" title="Subroutine Reference and Recursive Patterns">Subroutine Reference and Recursive Patterns</a></li>

        <li class=""><a href="#defining-subpatterns-for-use-by-reference" title="Defining Subpatterns For Use By Reference">Defining Subpatterns For Use By Reference</a></li>

        <li class=""><a href="#conditional-subpatterns" title="Conditional Subpatterns">Conditional Subpatterns</a>        <ol class="toc">

            <li class=""><a href="#conditions-with-subpattern-references" title="Conditions With Subpattern References">Conditions With Subpattern References</a></li>

            <li class=""><a href="#other-kinds-of-conditions" title="Other Kinds of Conditions">Other Kinds of Conditions</a>        </ol>
</li>

        <li class=""><a href="#matching-zero-bytes-0x00" title="Matching Zero Bytes (0x00)">Matching Zero Bytes (0x00)</a></li>

        <li class=""><a href="#other-pcre-features" title="Other PCRE Features">Other PCRE Features</a></li>

        <li class=""><a href="#default_regex_flags-examples" title="default_regex_flags Examples">default_regex_flags Examples</a></li>

        <li class=""><a href="#see-also" title="See Also">See Also</a>    </ol>
 </ol>
</li>
</div>
<h2 class="anchored_heading" id="pcre-versions">PCRE Versions</h2>
<div class="cstm-style darkheader-nospace-borders centered"><table><tr><th>PCRE Version</th><th>Introduced</th><th>Maturity</th></tr>
<tr><td><a href="http://www.pcre.org/">PCRE2</a> 10.34</td><td><a href="/kb/en/mariadb-1051-release-notes/">MariaDB 10.5.1</a></td><td>Stable</td></tr>
<tr><td>PCRE 8.43</td><td><a href="/kb/en/mariadb-10139-release-notes/">MariaDB 10.1.39</a></td><td>Stable</td></tr>
<tr><td>PCRE 8.42</td><td><a href="/kb/en/mariadb-10215-release-notes/">MariaDB 10.2.15</a>, <a href="/kb/en/mariadb-10133-release-notes/">MariaDB 10.1.33</a>, <a href="/kb/en/mariadb-10035-release-notes/">MariaDB 10.0.35</a></td><td>Stable</td></tr>
<tr><td>PCRE 8.41</td><td><a href="/kb/en/mariadb-1028-release-notes/">MariaDB 10.2.8</a>, <a href="/kb/en/mariadb-10126-release-notes/">MariaDB 10.1.26</a>, <a href="/kb/en/mariadb-10032-release-notes/">MariaDB 10.0.32</a></td><td>Stable</td></tr>
<tr><td>PCRE 8.40</td><td><a href="/kb/en/mariadb-1025-release-notes/">MariaDB 10.2.5</a>, <a href="/kb/en/mariadb-10122-release-notes/">MariaDB 10.1.22</a>, <a href="/kb/en/mariadb-10030-release-notes/">MariaDB 10.0.30</a></td><td>Stable</td></tr>
<tr><td>PCRE 8.39</td><td><a href="/kb/en/mariadb-10115-release-notes/">MariaDB 10.1.15</a>, <a href="/kb/en/mariadb-10026-release-notes/">MariaDB 10.0.26</a></td><td>Stable</td></tr>
<tr><td>PCRE 8.38</td><td><a href="/kb/en/mariadb-10110-release-notes/">MariaDB 10.1.10</a>, <a href="/kb/en/mariadb-10023-release-notes/">MariaDB 10.0.23</a></td><td>Stable</td></tr>
<tr><td>PCRE 8.37</td><td><a href="/kb/en/mariadb-1015-release-notes/">MariaDB 10.1.5</a>, <a href="/kb/en/mariadb-10018-release-notes/">MariaDB 10.0.18</a></td><td>Stable</td></tr>
<tr><td>PCRE 8.36</td><td><a href="/kb/en/mariadb-1012-release-notes/">MariaDB 10.1.2</a>, <a href="/kb/en/mariadb-10015-release-notes/">MariaDB 10.0.15</a></td><td>Stable</td></tr>
<tr><td>PCRE 8.35</td><td><a href="/kb/en/mariadb-1010-release-notes/">MariaDB 10.1.0</a>, <a href="/kb/en/mariadb-10012-release-notes/">MariaDB 10.0.12</a></td><td>Stable</td></tr>
<tr><td>PCRE 8.34</td><td><a href="/kb/en/mariadb-1008-release-notes/">MariaDB 10.0.8</a></td><td>Stable</td></tr>
</table>
</div>
<h2 class="anchored_heading" id="pcre-enhancements">PCRE Enhancements</h2>
<p><a href="/kb/en/mariadb-1005-release-notes/">MariaDB 10.0.5</a> switched to the PCRE library, which significantly improved the power of the <a href="/kb/en/regexp/">REGEXP/RLIKE</a> operator.</p>
<p>The switch to PCRE added a number of features, including recursive patterns, named capture, look-ahead and look-behind assertions, non-capturing groups, non-greedy quantifiers, Unicode character properties, extended syntax for characters and character classes, multi-line matching, and many other.</p>
<p>Additionally, <a href="/kb/en/mariadb-1005-release-notes/">MariaDB 10.0.5</a> introduced three new functions that work with regular expressions: <a href="/kb/en/regexp_replace/">REGEXP_REPLACE()</a>, <a href="/kb/en/regexp_instr/">REGEXP_INSTR()</a> and <a href="/kb/en/regexp_substr/">REGEXP_SUBSTR()</a>.</p>
<p>Also, REGEXP/RLIKE, and the new functions, now work correctly with all multi-byte <a href="/kb/en/data-types-character-sets-and-collations/">character sets</a> supported by MariaDB, including East-Asian character sets (big5, gb2313, gbk, eucjp, eucjpms, cp932, ujis, euckr), and Unicode character sets (utf8, utf8mb4, ucs2, utf16, utf16le, utf32). In earlier versions of MariaDB (and all MySQL versions) REGEXP/RLIKE works correctly only with 8-bit character sets.</p>
<h2 class="anchored_heading" id="new-regular-expression-functions">New Regular Expression Functions</h2>
<ul><li><a href="/kb/en/regexp_replace/">REGEXP_REPLACE(subject, pattern, replace)</a> - Replaces all occurrences of a pattern.
</li><li><a href="/kb/en/regexp_instr/">REGEXP_INSTR(subject, pattern)</a> - Position of the first appearance of a regex .
</li><li><a href="/kb/en/regexp_substr/">REGEXP_SUBSTR(subject,pattern)</a> - Returns the matching part of a string.
</li></ul>
<p>See the individual articles for more details and examples.</p>
<h2 class="anchored_heading" id="pcre-syntax">PCRE Syntax</h2>
<p>In most cases PCRE is backward compatible with the old POSIX 1003.2 compliant regexp library (see <a href="/kb/en/regular-expressions-overview/">Regular Expressions Overview</a>), so you won't need to change your applications that use SQL queries with the REGEXP/RLIKE predicate.</p>
<p><a href="/kb/en/mariadb-10011-release-notes/">MariaDB 10.0.11</a> introduced the <a href="/kb/en/server-system-variables/#default_regex_flags">default_regex_flags</a> variable to address the remaining compatibilities between PCRE and the old regex library. </p>
<p>This section briefly describes the most important extended PCRE features. For more details please refer to the documentation on the <a href="http://www.pcre.org/">PCRE site</a>, or to the documentation which is bundled in the /pcre/doc/html/ directory of a MariaDB sources distribution. The pages pcresyntax.html and pcrepattern.html should be a good start. <a href="http://www.regular-expressions.info/tutorial.html">Regular-Expressions.Info</a> is another good resource to learn about PCRE and regular expressions generally.</p>
<h3 class="anchored_heading" id="special-characters">Special Characters</h3>
<p>PCRE supports the following escape sequences to match special characters:</p>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Sequence</th><th>Description</th></tr>
<tr><td>\a</td><td>0x07 (BEL)</td></tr>
<tr><td>\cx</td><td>"control-x", where x is any ASCII character</td></tr>
<tr><td>\e</td><td>0x1B (escape)</td></tr>
<tr><td>\f</td><td>0x0C (form feed)</td></tr>
<tr><td>\n</td><td>0x0A (newline)</td></tr>
<tr><td>\r</td><td>0x0D (carriage return)</td></tr>
<tr><td>\t</td><td>0x09 (TAB)</td></tr>
<tr><td>\ddd</td><td>character with octal code ddd</td></tr>
<tr><td>\xhh</td><td>character with hex code hh</td></tr>
<tr><td>\x{hhh..}</td><td>character with hex code hhh..</td></tr>
</table>
</div><p>Note, the backslash characters (here, and in all examples in the sections below) must be escaped with another backslash, unless you're using the <a href="/kb/en/sql-mode/">SQL_MODE</a> <code>NO_BACKSLASH_ESCAPES</code>.</p>
<p>This example tests if a character has hex code 0x61:</p>
<pre class="fixed">SELECT 'a' RLIKE '\\x{61}';
-&gt; 1
</pre><h3 class="anchored_heading" id="character-classes">Character Classes</h3>
<p>PCRE supports the standard POSIX character classes such as <code>alnum</code>, <code>alpha</code>, <code>blank</code>, <code>cntrl</code>, <code>digit</code>, <code>graph</code>, <code>lower</code>, <code>print</code>, <code>punct</code>, <code>space</code>, <code>upper</code>, <code>xdigit</code>, with the following additional classes:</p>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Class</th><th>Description</th></tr>
<tr><td>ascii</td><td>any ASCII character (0x00..0x7F)</td></tr>
<tr><td>word</td><td>any "word" character (a letter, a digit, or an underscore)</td></tr>
</table>
</div><p>This example checks if the string consists of ASCII characters only:</p>
<pre class="fixed">SELECT 'abc' RLIKE '^[[:ascii:]]+$';
-&gt; 1
</pre><h3 class="anchored_heading" id="generic-character-types">Generic Character Types</h3>
<p>Generic character types complement the POSIX character classes and serve to simplify writing patterns:</p>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Class</th><th>Description</th></tr>
<tr><td>\d</td><td>a decimal digit (same as [:digit:])</td></tr>
<tr><td>\D</td><td>a character that is not a decimal digit</td></tr>
<tr><td>\h</td><td>a horizontal white space character</td></tr>
<tr><td>\H</td><td>a character that is not a horizontal white space character</td></tr>
<tr><td>\N</td><td>a character that is not a new line</td></tr>
<tr><td>\R</td><td>a newline sequence</td></tr>
<tr><td>\s</td><td>a white space character</td></tr>
<tr><td>\S</td><td>a character that is not a white space character</td></tr>
<tr><td>\v</td><td>a vertical white space character</td></tr>
<tr><td>\V</td><td>a character that is not a vertical white space character</td></tr>
<tr><td>\w</td><td>a "word" character (same as [:word:])</td></tr>
<tr><td>\W</td><td>a "non-word" character</td></tr>
</table>
</div><p>This example checks if the string consists of "word" characters only:</p>
<pre class="fixed">SELECT 'abc' RLIKE '^\\w+$';
-&gt; 1
</pre><h3 class="anchored_heading" id="unicode-character-properties">Unicode Character Properties</h3>
<p><code>\p{xx}</code> is a character with the <code>xx</code> property, and <code>\P{xx}</code> is a character without the <code>xx</code> property.</p>
<p>The property names represented by <code>xx</code> above are limited to the Unicode script names, the general category properties, and "Any", which matches any character (including newline). Those that are not part of an identified script are lumped together as "Common".</p>
<h4 class="anchored_heading" id="general-category-properties-for-p-and-p">General Category Properties For \p and \P</h4>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Property</th><th>Description</th></tr>
<tr><td>C</td><td>Other</td></tr>
<tr><td>Cc</td><td>Control</td></tr>
<tr><td>Cf</td><td>Format</td></tr>
<tr><td>Cn</td><td>Unassigned</td></tr>
<tr><td>Co</td><td>Private use</td></tr>
<tr><td>Cs</td><td>Surrogate</td></tr>
<tr><td>L</td><td>Letter</td></tr>
<tr><td>Ll</td><td>Lower case letter</td></tr>
<tr><td>Lm</td><td>Modifier letter</td></tr>
<tr><td>Lo</td><td>Other letter</td></tr>
<tr><td>Lt</td><td>Title case letter</td></tr>
<tr><td>Lu</td><td>Upper case letter</td></tr>
<tr><td>L&amp;</td><td>Ll, Lu, or Lt</td></tr>
<tr><td>M</td><td>Mark</td></tr>
<tr><td>Mc</td><td>Spacing mark</td></tr>
<tr><td>Me</td><td>Enclosing mark</td></tr>
<tr><td>Mn</td><td>Non-spacing mark</td></tr>
<tr><td>N</td><td>Number</td></tr>
<tr><td>Nd</td><td>Decimal number</td></tr>
<tr><td>Nl</td><td>Letter number</td></tr>
<tr><td>No</td><td>Other number</td></tr>
<tr><td>P</td><td>Punctuation</td></tr>
<tr><td>Pc</td><td>Connector punctuation</td></tr>
<tr><td>Pd</td><td>Dash punctuation</td></tr>
<tr><td>Pe</td><td>Close punctuation</td></tr>
<tr><td>Pf</td><td>Final punctuation</td></tr>
<tr><td>Pi</td><td>Initial punctuation</td></tr>
<tr><td>Po</td><td>Other punctuation</td></tr>
<tr><td>Ps</td><td>Open punctuation</td></tr>
<tr><td>S</td><td>Symbol</td></tr>
<tr><td>Sc</td><td>Currency symbol</td></tr>
<tr><td>Sk</td><td>Modifier symbol</td></tr>
<tr><td>Sm</td><td>Mathematical symbol</td></tr>
<tr><td>So</td><td>Other symbol</td></tr>
<tr><td>Z</td><td>Separator</td></tr>
<tr><td>Zl</td><td>Line separator</td></tr>
<tr><td>Zp</td><td>Paragraph separator</td></tr>
<tr><td>Zs</td><td>Space separator</td></tr>
</table>
</div><p>This example checks if the string consists only of characters with property N (number):</p>
<pre class="fixed">SELECT '1¼①' RLIKE '^\\p{N}+$';
-&gt; 1
</pre><h4 class="anchored_heading" id="special-category-properties-for-p-and-p">Special Category Properties For \p and \P</h4>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Property</th><th>Description</th></tr>
<tr><td>Xan</td><td>Alphanumeric: union of properties L and N</td></tr>
<tr><td>Xps</td><td>POSIX space: property Z or tab, NL, VT, FF, CR</td></tr>
<tr><td>Xsp</td><td>Perl space: property Z or tab, NL, FF, CR</td></tr>
<tr><td>Xuc</td><td>A character than can be represented by a Universal Character Name</td></tr>
<tr><td>Xwd</td><td>Perl word: property Xan or underscore</td></tr>
</table>
</div><p>The property <code>Xuc</code> matches any character that can be represented by a Universal Character Name (in C++ and other programming languages). These include <code>$</code>, <code>@</code>, <code>`</code>, and all characters with Unicode code points greater than <code>U+00A0</code>, excluding the surrogates <code>U+D800</code>..<code>U+DFFF</code>.</p>
<h4 class="anchored_heading" id="script-names-for-p-and-p">Script Names For \p and \P</h4>
<p>Arabic, Armenian, Avestan, Balinese, Bamum, Batak, Bengali, Bopomofo, Brahmi, Braille, Buginese, Buhid, Canadian_Aboriginal, Carian, Chakma, Cham, Cherokee, Common, Coptic, Cuneiform, Cypriot, Cyrillic, Deseret, Devanagari, Egyptian_Hieroglyphs, Ethiopic, Georgian, Glagolitic, Gothic, Greek, Gujarati, Gurmukhi, Han, Hangul, Hanunoo, Hebrew, Hiragana, Imperial_Aramaic, Inherited, Inscriptional_Pahlavi, Inscriptional_Parthian, Javanese, Kaithi, Kannada, Katakana, Kayah_Li, Kharoshthi, Khmer, Lao, Latin, Lepcha, Limbu, Linear_B, Lisu, Lycian, Lydian, Malayalam, Mandaic, Meetei_Mayek, Meroitic_Cursive, Meroitic_Hieroglyphs, Miao, Mongolian, Myanmar, New_Tai_Lue, Nko, Ogham, Old_Italic, Old_Persian, Old_South_Arabian, Old_Turkic, Ol_Chiki, Oriya, Osmanya, Phags_Pa, Phoenician, Rejang, Runic, Samaritan, Saurashtra, Sharada, Shavian, Sinhala, Sora_Sompeng, Sundanese, Syloti_Nagri, Syriac, Tagalog, Tagbanwa, Tai_Le, Tai_Tham, Tai_Viet, Takri, Tamil, Telugu, Thaana, Thai, Tibetan, Tifinagh, Ugaritic, Vai, Yi.</p>
<p>This example checks if the string consists only of Greek characters:</p>
<pre class="fixed">SELECT 'ΣΦΩ' RLIKE '^\\p{Greek}+$';
-&gt; 1
</pre><h3 class="anchored_heading" id="extended-unicode-grapheme-sequence">Extended Unicode Grapheme Sequence</h3>
<p>The <code>\X</code> escape sequence matches a character sequence that makes an "extended grapheme cluster", i.e. a composite character that consists of multiple Unicode code points.</p>
<p>One of the examples of a composite character can be a letter followed by non-spacing accent marks. This example demonstrates that <code>U+0045 LATIN CAPITAL LETTER E</code> followed by <code>U+0302 COMBINING CIRCUMFLEX ACCENT</code> followed by <code>U+0323 COMBINING DOT BELOW</code> together form an extended grapheme cluster:</p>
<pre class="fixed">SELECT _ucs2 0x004503020323 RLIKE '^\\X$';
-&gt; 1
</pre><p>See the <a href="http://www.pcre.org">PCRE documentation</a> for the other types of extended grapheme clusters.</p>
<h3 class="anchored_heading" id="simple-assertions">Simple Assertions</h3>
<p>An assertion specifies a certain condition that must match at a particular point, but without consuming characters from the subject string. In addition to the standard POSIX simple assertions <code>^</code> (that matches at the beginning of a line) and <code>$</code> (that matches at the end of a line), PCRE supports a number of other assertions:</p>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Assertion</th><th>Description</th></tr>
<tr><td>\b</td><td>matches at a word boundary</td></tr>
<tr><td>\B</td><td>matches when not at a word boundary</td></tr>
<tr><td>\A</td><td>matches at the start of the subject</td></tr>
<tr><td>\Z</td><td>matches at the end of the subject, also matches before a newline at the end of the subject</td></tr>
<tr><td>\z</td><td>matches only at the end of the subject</td></tr>
<tr><td>\G</td><td>matches at the first matching position in the subject</td></tr>
</table>
</div><p>This example cuts a word that consists only of 3 characters from a string:</p>
<pre class="fixed">SELECT REGEXP_SUBSTR('---abcd---xyz---', '\\b\\w{3}\\b');
-&gt; xyz
</pre><p>Notice that the two <code>\b</code> assertions checked the word boundaries but did not get into the matching pattern.</p>
<p>The <code>\b</code> assertions work well in the beginning and the end of the subject string:</p>
<pre class="fixed">SELECT REGEXP_SUBSTR('xyz', '\\b\\w{3}\\b');
-&gt; xyz
</pre><p>By default, the <code>^</code> and <code>$</code> assertions have the same meaning with <code>\A</code>, <code>\Z</code>, and <code>\z</code>. However, the meanings of <code>^</code> and <code>$</code> can change in multiline mode (see below). By contrast, the meanings of <code>\A</code>, <code>\Z</code>, and <code>\z</code> are always the same; they are independent of the multiline mode.</p>
<h3 class="anchored_heading" id="option-setting">Option Setting</h3>
<p>A number of options that control the default match behavior can be changed within the pattern by a sequence of option letters enclosed between <code>(?</code> and <code>)</code>.</p>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Option</th><th>Description</th></tr>
<tr><td>(?i)</td><td>case insensitive match</td></tr>
<tr><td>(?m)</td><td>multiline mode</td></tr>
<tr><td>(?s)</td><td>dotall mode (dot matches newline characters)</td></tr>
<tr><td>(?x)</td><td>extended (ignore white space)</td></tr>
<tr><td>(?U)</td><td>ungreedy (lazy) match</td></tr>
<tr><td>(?J)</td><td>allow named subpatterns with duplicate names</td></tr>
<tr><td>(?X)</td><td>extra PCRE functionality (e.g. force error on unknown escaped character)</td></tr>
<tr><td>(?-...)</td><td>unset option(s)</td></tr>
</table>
</div><p>For example, <code>(?im)</code> sets case insensitive multiline matching.</p>
<p>A hyphen followed by the option letters unset the options. For example, <code>(?-im)</code> means case sensitive single line match.</p>
<p>A combined setting and unsetting is also possible, e.g. <code>(?im-sx)</code>.</p>
<p>If an option is set outside of subpattern parentheses, the option applies to the remainder of the pattern that follows the option. If an option is set inside a subpattern, it applies to the part of this subpattern that follows the option.</p>
<p>In this example the pattern <code>(?i)m((?-i)aria)db</code> matches the words <code>MariaDB</code>, <code>Mariadb</code>, <code>mariadb</code>, but not <code>MARIADB</code>:</p>
<pre class="fixed">SELECT 'MariaDB' RLIKE '(?i)m((?-i)aria)db';
-&gt; 1

SELECT 'mariaDB' RLIKE '(?i)m((?-i)aria)db';
-&gt; 1

SELECT 'Mariadb' RLIKE '(?i)m((?-i)aria)db';
-&gt; 1

SELECT 'MARIADB' RLIKE '(?i)m((?-i)aria)db';
-&gt; 0
</pre><p>This example demonstrates that the <code>(?x)</code> option makes the regexp engine ignore all white spaces in the pattern (other than in a class).</p>
<pre class="fixed">SELECT 'ab' RLIKE '(?x)a b';
-&gt; 1
</pre><p>Note, putting spaces into a pattern in combination with the (?x) option can be useful to split different logical parts of a complex pattern, to make it more readable.</p>
<h3 class="anchored_heading" id="multiline-matching">Multiline Matching</h3>
<p>Multiline matching changes the meaning of <code>^</code> and <code>$</code> from "the beginning of the subject string" and "the end of the subject string" to "the beginning of any line in the subject string" and "the end of any line in the subject string" respectively.</p>
<p>This example checks if the subject string contains two consequent lines that fully consist of digits:</p>
<pre class="fixed">SELECT 'abc\n123\n456\nxyz\n' RLIKE '(?m)^\\d+\\R\\d+$';
-&gt; 1
</pre><p>Notice the <code>(?m)</code> option in the beginning of the pattern, which switches to the multiline matching mode.</p>
<h3 class="anchored_heading" id="newline-conventions">Newline Conventions</h3>
<p>PCRE supports five line break conventions:</p>
<ul start="1"><li><code>CR (\r)</code> - a single carriage return character
</li><li><code>LF (\n)</code> - a single linefeed character
</li><li><code>CRLF (\r\n)</code> - a carriage return followed by a linefeed
</li><li>any of the previous three
</li><li>any Unicode newline sequence
</li></ul>
<p>By default, the newline convention is set to any Unicode newline sequence, which includes:</p>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Sequence</th><th>Description</th></tr>
<tr><td>LF</td><td>(U+000A, carriage return)</td></tr>
<tr><td>CR</td><td>(U+000D, carriage return)</td></tr>
<tr><td>CRLF</td><td>(a carriage return followed by a linefeed)</td></tr>
<tr><td>VT</td><td>(U+000B, vertical tab)</td></tr>
<tr><td>FF</td><td>(U+000C, form feed)</td></tr>
<tr><td>NEL</td><td>(U+0085, next line)</td></tr>
<tr><td>LS</td><td>(U+2028, line separator)</td></tr>
<tr><td>PS</td><td>(U+2029, paragraph separator)</td></tr>
</table>
</div><p>The newline convention can be set by starting a pattern with one of the following sequences:</p>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Sequence</th><th>Description</th></tr>
<tr><td>(*CR)</td><td>carriage return</td></tr>
<tr><td>(*LF)</td><td>linefeed</td></tr>
<tr><td>(*CRLF)</td><td>carriage return followed by linefeed</td></tr>
<tr><td>(*ANYCRLF)</td><td>any of the previous three</td></tr>
<tr><td>(*ANY)</td><td>all Unicode newline sequences</td></tr>
</table>
</div><p>The newline conversion affects the <code>^</code> and <code>$</code> assertions, the interpretation of the dot metacharacter, and the behavior of <code>\N</code>.</p>
<p>Note, the new line convention does not affect the meaning of <code>\R</code>.</p>
<p>This example demonstrates that the dot metacharacter matches <code>\n</code>, because it is not a newline sequence anymore:</p>
<pre class="fixed">SELECT 'a\nb' RLIKE '(*CR)a.b';
-&gt; 1
</pre><h3 class="anchored_heading" id="newline-sequences">Newline Sequences</h3>
<p>By default, the escape sequence <code>\R</code> matches any Unicode newline sequences.</p>
<p>The meaning of <code>\R</code> can be set by starting a pattern with one of the following sequences:</p>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Sequence</th><th>Description</th></tr>
<tr><td>(*BSR_ANYCRLF)</td><td>any of CR, LF or CRLF</td></tr>
<tr><td>(*BSR_UNICODE)</td><td>any Unicode newline sequence</td></tr>
</table>
</div><h3 class="anchored_heading" id="comments">Comments</h3>
<p>It's possible to include comments inside a pattern. Comments do not participate in the pattern matching. Comments start at the <code>(?</code># sequence and continue up to the next closing parenthesis:</p>
<pre class="fixed">SELECT 'ab12' RLIKE 'ab(?#expect digits)12';
-&gt; 1
</pre><h3 class="anchored_heading" id="quoting">Quoting</h3>
<p>POSIX uses the backslash to remove a special meaning from a character. PCRE introduces a syntax to remove special meaning from a sequence of characters. The characters inside <code>\Q</code> ... <code>\E</code> are treated literally, without their special meaning.</p>
<p>This example checks if the string matches a dollar sign followed by a parenthesized name (a variable reference in some languages):</p>
<pre class="fixed">SELECT '$(abc)' RLIKE '^\\Q$(\\E\\w+\\Q)\\E$';
-&gt; 1
</pre><p>Note that the leftmost dollar sign and the parentheses are used literally, while the rightmost dollar sign is still used to match the end of the string.</p>
<h3 class="anchored_heading" id="resetting-the-match-start">Resetting the Match Start</h3>
<p>The escape sequence <code>\K</code> causes any previously matched characters to be excluded from the final matched sequence. For example, the pattern: <code>(foo)\Kbar</code> matches <code>foobar</code>, but reports that it has matched <code>bar</code>. This feature is similar to a look-behind assertion. However, in this case, the part of the subject before the real match does not have to be of fixed length:</p>
<pre class="fixed">SELECT REGEXP_SUBSTR('aaa123', '[a-z]*\\K[0-9]*');
-&gt; 123
</pre><h3 class="anchored_heading" id="non-capturing-groups">Non-Capturing Groups</h3>
<p>The question mark and the colon after the opening parenthesis create a non-capturing group: <code>(?:...)</code>.</p>
<p>This example removes an optional article from a word, for example for better sorting of the results.</p>
<pre class="fixed">SELECT REGEXP_REPLACE('The King','(?:the|an|a)[^a-z]([a-z]+)','\\1');
-&gt; King
</pre><p>Note that the articles are listed inside the left parentheses using the alternation operator <code>|</code> but they do not produce a captured subpattern, so the word followed by the article is referenced by <code>'<br>1'</code> in the third argument to the function. Using non-capturing groups can be useful to save numbers on the sup-patterns that won't be used in the third argument of <a href="/kb/en/regexp_replace/">REGEXP_REPLACE()</a>, as well as for performance purposes.</p>
<h3 class="anchored_heading" id="non-greedy-quantifiers">Non-Greedy Quantifiers</h3>
<p>By default, the repetition quantifiers <code>?</code>, <code>*</code>, <code>+</code> and <code>{n,m}</code> are "greedy", that is, they try to match as much as possible. Adding a question mark after a repetition quantifier makes it "non-greedy", so the pattern matches the minimum number of times possible.</p>
<p>This example cuts C comments from a line:</p>
<pre class="fixed">SELECT REGEXP_REPLACE('/* Comment1 */ i+= 1; /* Comment2 */', '/[*].*?[*]/','');
-&gt;  i+= 1;
</pre><p>The pattern without the non-greedy flag to the quantifier <code>/[*].*[*]/</code> would match the entire string between the leftmost <code>/*</code> and the rightmost <code>*/</code>.</p>
<h3 class="anchored_heading" id="atomic-groups">Atomic Groups</h3>
<p>A sequence inside <code>(?&gt;</code>...<code>)</code> makes an atomic group. Backtracking inside an atomic group is prevented once it has matched; however, backtracking past to the previous items works normally.</p>
<p>Consider the pattern <code>\d+foo</code> applied to the subject string <code>123bar</code>. Once the engine scans <code>123</code> and fails on the letter <code>b</code>, it would normally backtrack to <code>2</code> and try to match again, then fail and backtrack to <code>1</code> and try to match and fail again, and finally fail the entire pattern. In case of an atomic group <code>(?&gt;\d+)foo</code> with the same subject string <code>123bar</code>, the engine gives up immediately after the first failure to match <code>foo</code>. An atomic group with a quantifier can match all or nothing.</p>
<p>Atomic groups produce faster false results (i.e. in case when a long subject string does not match the pattern), because the regexp engine saves performance on backtracking. However, don't hurry to put everything into atomic groups. This example demonstrates the difference between atomic and non-atomic match:</p>
<pre class="fixed">SELECT 'abcc' RLIKE 'a(?&gt;bc|b)c' AS atomic1;
-&gt; 1

SELECT 'abc' RLIKE 'a(?&gt;bc|b)c' AS atomic2;
-&gt; 0
 
SELECT 'abcc' RLIKE 'a(bc|b)c' AS non_atomic1;
-&gt; 1

SELECT 'abc' RLIKE 'a(bc|b)c' AS non_atomic2;
-&gt; 1
</pre><p>The non-atomic pattern matches both <code>abbc</code> and <code>abc</code>, while the atomic pattern matches <code>abbc</code> only.</p>
<p>The atomic group <code>(?&gt;bc|b)</code> in the above example can be "translated" as "if there is <code>bc</code>, then don't try to match as <code>b</code>". So <code>b</code> can match only if <code>bc</code> is not found.</p>
<p>Atomic groups are not capturing. To make an atomic group capturing, put it into parentheses:</p>
<pre class="fixed">SELECT REGEXP_REPLACE('abcc','a((?&gt;bc|b))c','\\1');
-&gt; bc
</pre><h3 class="anchored_heading" id="possessive-quantifiers">Possessive quantifiers</h3>
<p>An atomic group which ends with a quantifier can be rewritten using a so called "possessive quantifier" syntax by putting an additional <code>+</code> sign following the quantifier.</p>
<p>The pattern <code>(?&gt;\d+)foo</code> from the previous section's example can be rewritten as <code>\d++foo</code>.</p>
<h3 class="anchored_heading" id="absolute-and-relative-numeric-backreferences">Absolute and Relative Numeric Backreferences</h3>
<p>Backreferences match the same text as previously matched by a capturing group. Backreferences can be written using:</p>
<ul start="1"><li>a backslash followed by a digit
</li><li>the <code>\g</code> escape sequence followed by a positive or negative number
</li><li>the <code>\g</code> escape sequence followed by a positive or negative number enclosed in braces 
</li></ul>
<p>The following backreferences are identical and refer to the first capturing group:</p>
<ul start="1"><li><code>\1</code>
</li><li><code>\g1</code>
</li><li><code>\g{1}</code>
</li></ul>
<p>This example demonstrates a pattern that matches "sense and sensibility" and "response and responsibility", but not "sense and responsibility":</p>
<pre class="fixed">SELECT 'sense and sensibility' RLIKE '(sens|respons)e and \\1ibility';
-&gt; 1
</pre><p>This example removes doubled words that can unintentionally creep in when you edit a text in a text editor:</p>
<pre class="fixed">SELECT REGEXP_REPLACE('using using the the regexp regexp',
 '\\b(\\w+)\\s+\\1\\b','\\1');
-&gt; using the regexp
</pre><p>Note that all double words were removed, in the beginning, in the middle and in the end of the subject string.</p>
<p>A negative number in a <code>\g</code> sequence means a relative reference. Relative references can be helpful in long patterns, and also in patterns that are created by joining fragments together that contain references within themselves. The sequence <code>\g{-1}</code> is a reference to the most recently started capturing subpattern before <code>\g</code>.</p>
<p>In this example <code>\g{-1}</code> is equivalent to <code>\2</code>:</p>
<pre class="fixed">SELECT 'abc123def123' RLIKE '(abc(123)def)\\g{-1}';     
-&gt; 1

SELECT 'abc123def123' RLIKE '(abc(123)def)\\2';
-&gt; 1
</pre><h3 class="anchored_heading" id="named-subpatterns-and-backreferences">Named Subpatterns and Backreferences</h3>
<p>Using numeric backreferences for capturing groups can be hard to track in a complicated regular expression. Also, the numbers can change if an expression is modified. To overcome these difficulties, PCRE supports named subpatterns.</p>
<p>A subpattern can be named in one of three ways: <code>(?&lt;name&gt;</code>...<code>)</code> or <code>(?'name'</code>...<code>)</code> as in Perl, or <code>(?P&lt;name&gt;</code>...<code>)</code> as in Python. References to capturing subpatterns from other parts of the pattern, can be made by name as well as by number.</p>
<p>Backreferences to a named subpattern can be written using the .NET syntax <code>\k{name}</code>, the Perl syntax <code>\k&lt;name&gt;</code> or <code>\k'name'</code> or <code>\g{name}</code>, or the Python syntax <code>(?P=name)</code>.</p>
<p>This example tests if the string is a correct HTML tag:</p>
<pre class="fixed">SELECT '&lt;a href=&#34;../&#34;&gt;Up&lt;/a&gt;' RLIKE '&lt;(?&lt;tag&gt;[a-z][a-z0-9]*)[^&gt;]*&gt;[^&lt;]*&lt;/(?P=tag)&gt;';
-&gt; 1 
</pre><h3 class="anchored_heading" id="positive-and-negative-look-ahead-and-look-behind-assertions">Positive and Negative Look-Ahead and Look-Behind Assertions</h3>
<p>Look-ahead and look-behind assertions serve to specify the context for the searched regular expression pattern. Note that the assertions only check the context, they do not capture anything themselves!</p>
<p>This example finds the letter which is not followed by another letter (negative look-ahead):</p>
<pre class="fixed">SELECT REGEXP_SUBSTR('ab1','[a-z](?![a-z])');
-&gt; b
</pre><p>This example finds the letter which is followed by a digit (positive look-ahead):</p>
<pre class="fixed">SELECT REGEXP_SUBSTR('ab1','[a-z](?=[0-9])');
-&gt; b
</pre><p>This example finds the letter which does not follow a digit character (negative look-behind):</p>
<pre class="fixed">SELECT REGEXP_SUBSTR('1ab','(?&lt;![0-9])[a-z]');
-&gt; b
</pre><p>This example finds the letter which follows another letter character (positive look-behind):</p>
<pre class="fixed">SELECT REGEXP_SUBSTR('1ab','(?&lt;=[a-z])[a-z]');
-&gt; b
</pre><p>Note that look-behind assertions can only be of fixed length; you cannot have repetition operators or alternations with different lengths:</p>
<pre class="fixed">SELECT 'aaa' RLIKE '(?&lt;=(a|bc))a';
ERROR 1139 (42000): Got error 'lookbehind assertion is not fixed length at offset 10' from regexp
</pre><h3 class="anchored_heading" id="subroutine-reference-and-recursive-patterns">Subroutine Reference and Recursive Patterns</h3>
<p>PCRE supports a special syntax to recourse the entire pattern or its individual subpatterns:</p>
<div class="cstm-style darkheader-nospace-borders"><table><tr><th>Syntax</th><th>Description</th></tr>
<tr><td>(?R)</td><td>Recourse the entire pattern</td></tr>
<tr><td>(?n)</td><td>call subpattern by absolute number</td></tr>
<tr><td>(?+n)</td><td>call subpattern by relative number</td></tr>
<tr><td>(?-n)</td><td>call subpattern by relative number</td></tr>
<tr><td>(?&amp;name)</td><td>call subpattern by name (Perl)</td></tr>
<tr><td>(?P&gt;name)</td><td>call subpattern by name (Python)</td></tr>
<tr><td>\g&lt;name&gt;</td><td>call subpattern by name (Oniguruma)</td></tr>
<tr><td>\g'name'</td><td>call subpattern by name (Oniguruma)</td></tr>
<tr><td>\g&lt;n&gt;</td><td>call subpattern by absolute number (Oniguruma)</td></tr>
<tr><td>\g'n'</td><td>call subpattern by absolute number (Oniguruma)</td></tr>
<tr><td>\g&lt;+n&gt;</td><td>call subpattern by relative number</td></tr>
<tr><td>\g&lt;-n&gt;</td><td>call subpattern by relative number</td></tr>
<tr><td>\g'+n'</td><td>call subpattern by relative number</td></tr>
<tr><td>\g'-n'</td><td>call subpattern by relative number</td></tr>
</table>
</div><p>This example checks for a correct additive arithmetic expression consisting of numbers, unary plus and minus, binary plus and minus, and parentheses:</p>
<pre class="fixed">SELECT '1+2-3+(+(4-1)+(-2)+(+1))' RLIKE  '^(([+-]?(\\d+|[(](?1)[)]))(([+-](?1))*))$';
-&gt; 1
</pre><p>The recursion is done using <code>(?1)</code> to call for the first parenthesized subpattern, which includes everything except the leading <code>^</code> and the trailing <code>$</code>.</p>
<p>The regular expression in the above example implements the following BNF grammar:</p>
<ol start="1"><li><code class="fixed" style="white-space:pre-wrap">&lt;expression&gt; ::= &lt;term&gt; [(&lt;sign&gt; &lt;term&gt;)...]</code>
</li><li><code class="fixed" style="white-space:pre-wrap">&lt;term&gt; ::= [ &lt;sign&gt; ] &lt;primary&gt;</code>
</li><li><code class="fixed" style="white-space:pre-wrap">&lt;primary&gt; ::= &lt;number&gt; | &lt;left paren&gt; &lt;expression&gt; &lt;right paren&gt;</code>
</li><li><code class="fixed" style="white-space:pre-wrap">&lt;sign&gt; ::= &lt;plus sign&gt; | &lt;minus sign&gt;</code>
</li></ol>
<h3 class="anchored_heading" id="defining-subpatterns-for-use-by-reference">Defining Subpatterns For Use By Reference</h3>
<p>Use the <code>(?(DEFINE)</code>...<code>)</code> syntax to define subpatterns that can be referenced from elsewhere.</p>
<p>This example defines a subpattern with the name <code>letters</code> that matches one or more letters, which is further reused two times:</p>
<pre class="fixed">SELECT 'abc123xyz' RLIKE '^(?(DEFINE)(?&lt;letters&gt;[a-z]+))(?&amp;letters)[0-9]+(?&amp;letters)$';
-&gt; 1
</pre><p>The above example can also be rewritten to define the digit part as a subpattern as well:</p>
<pre class="fixed">SELECT 'abc123xyz' RLIKE
 '^(?(DEFINE)(?&lt;letters&gt;[a-z]+)(?&lt;digits&gt;[0-9]+))(?&amp;letters)(?&amp;digits)(?&amp;letters)$';
-&gt; 1
</pre><h3 class="anchored_heading" id="conditional-subpatterns">Conditional Subpatterns</h3>
<p>There are two forms of conditional subpatterns:</p>
<pre class="fixed">(?(condition)yes-pattern)
(?(condition)yes-pattern|no-pattern)
</pre><p>The <code>yes-pattern</code> is used if the condition is satisfied, otherwise the <code>no-pattern</code> (if any) is used.</p>
<h4 class="anchored_heading" id="conditions-with-subpattern-references">Conditions With Subpattern References</h4>
<p>If a condition consists of a number, it makes a condition with a subpattern reference. Such a condition is true if a capturing subpattern corresponding to the number has previously matched.</p>
<p>This example finds an optionally parenthesized number in a string:</p>
<pre class="fixed">SELECT REGEXP_SUBSTR('a(123)b', '([(])?[0-9]+(?(1)[)])');
-&gt; (123)
</pre><p>The <code>([(])?</code> part makes a capturing subpattern that matches an optional opening parenthesis; the <code>[0-9]+</code> part matches a number, and the <code>(?(1)[)])</code> part matches a closing parenthesis, but only if the opening parenthesis has been previously found.</p>
<h4 class="anchored_heading" id="other-kinds-of-conditions">Other Kinds of Conditions</h4>
<p>The other possible condition kinds are: recursion references and assertions. See the <a href="http://www.pcre.org">PCRE documentation</a> for details.</p>
<h3 class="anchored_heading" id="matching-zero-bytes-0x00">Matching Zero Bytes (0x00)</h3>
<p>PCRE correctly works with zero bytes in the subject strings:</p>
<pre class="fixed">SELECT 'a\0b' RLIKE '^a.b$';
-&gt; 1
</pre><p>Zero bytes, however, are not supported literally in the pattern strings and should be escaped using the <code>\xhh</code> or <code>\x{hh}</code> syntax:</p>
<pre class="fixed">SELECT 'a\0b' RLIKE '^a\\x{00}b$';
-&gt; 1
</pre><h3 class="anchored_heading" id="other-pcre-features">Other PCRE Features</h3>
<p>PCRE provides other extended features that were not covered in this document,
such as duplicate subpattern numbers, backtracking control, breaking utf-8
sequences into individual bytes, setting the match limit, setting the recursion
limit, optimization control, recursion conditions, assertion conditions and
more types of extended grapheme clusters. Please refer to the
<a href="http://www.pcre.org">PCRE documentation</a> for details. </p>
<p>Enhanced regex was implemented as a GSoC 2013 project by  Sudheera Palihakkara.</p>
<h3 class="anchored_heading" id="default_regex_flags-examples">default_regex_flags Examples</h3>
<p>The <a href="/kb/en/server-system-variables/#default_regex_flags">default_regex_flags</a>  variable was introduced to address the remaining incompatibilities between PCRE and the old regex library. Here are some examples of its usage:</p>
<p>The default behaviour (multiline match is off)</p>
<pre class="fixed">SELECT 'a\nb\nc' RLIKE '^b$';
+---------------------------+
| '(?m)a\nb\nc' RLIKE '^b$' |
+---------------------------+
|                         0 |
+---------------------------+
</pre><p>Enabling the multiline option using the PCRE option syntax:</p>
<pre class="fixed">SELECT 'a\nb\nc' RLIKE '(?m)^b$';
+---------------------------+
| 'a\nb\nc' RLIKE '(?m)^b$' |
+---------------------------+
|                         1 |
+---------------------------+
</pre><p>Enabling the miltiline option using default_regex_flags</p>
<pre class="fixed">SET default_regex_flags='MULTILINE';
SELECT 'a\nb\nc' RLIKE '^b$';
+-----------------------+
| 'a\nb\nc' RLIKE '^b$' |
+-----------------------+
|                     1 |
+-----------------------+ 
</pre><h3 class="anchored_heading" id="see-also">See Also</h3>
<ul start="1"><li><a href="https://blog.mariadb.org/mariadb-upgrades-to-pcre-8-34/">MariaDB upgrades to PCRE-8.34</a></li></ul>

    </div>


        
            <div id="subscribe" class="well well-small hide hidden-print"
                 data-subscribe-url="/kb/en/pcre/+subscriptions/add"
                 data-unsubscribe-url="/kb/en/pcre/+subscriptions/remove">
            </div>
        

        
        
    
        <div class="simple_section_nav">
            <ul class="nav nav-pills">
                
                    <li><a href="/kb/en/regular-expressions-overview/">
                        ← Regular Expressions Overview
                    </a>
                    </li>
                
                
                    <li><a href="/kb/en/regular-expressions-functions/">
                        ↑ Regular Expressions Functions ↑
                    </a>
                    </li>
                
                
                    <li class="pull-right"><a href="/kb/en/not-regexp/">
                        NOT REGEXP →
                    </a>
                    </li>
                
            </ul>
        </div>
    

        

        
        <h2>Comments</h2>
        
    
    <div id="comments" data-node-id="3931" data-comments-url="/kb/en/pcre/+comments"
         data-reply-url="/kb/en/pcre/comments/post/">
        Comments loading...
    </div>

        

    </div>


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
                <div id="right_bar" class="col-md-2">
                    
    
        
        <ul class="section_navigation well well-small hidden-xs hidden-sm">
            
                <li class="parent"><a href="/kb/en/regular-expressions-functions/">
                    ↑ Regular Expressions Functions ↑
                </a>
                </li>
            
            
                
                    <li>
                        <a href="/kb/en/regular-expressions-overview/">
                            
                            Regular Expressions Overview
                        </a>
                    </li>
                
            
                
                    <li class="active">
                        <span>PCRE - Perl Compatible Regular Expressions</span>
                        
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/not-regexp/">
                            <span class="pull-right not_primary"></span>
                            NOT REGEXP
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/regexp/">
                            
                            REGEXP
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/regexp_instr/">
                            
                            REGEXP_INSTR
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/regexp_replace/">
                            
                            REGEXP_REPLACE
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/regexp_substr/">
                            
                            REGEXP_SUBSTR
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/rlike/">
                            
                            RLIKE
                        </a>
                    </li>
                
            
        </ul>
    
    

                </div>
            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/services" title="Services">Services</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">About Us</a></h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/download" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2025 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.1587e3a666fc.js" charset="utf-8"></script>

</html>