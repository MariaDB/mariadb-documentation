



<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>
Comments - Upgrading from MariaDB 10.1 to MariaDB 10.2
 - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.f7633538c846.css" rel="stylesheet" type="text/css" />

    

    
        <meta name="robots" content="noindex, nofollow" />
    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="
Comments - Upgrading from MariaDB 10.1 to MariaDB 10.2
" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/en/upgrading-from-mariadb-101-to-mariadb-102/+comments" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="" />

    <meta name="description" content="" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes node_comments jqui" id="node_comments">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/upgrading-from-mariadb-101-to-mariadb-102/+comments"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2025 MariaDB. All rights reserved.</p>
    </div>
</div>
<div class="violator-wrap d-none" id="top_violator">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12">
                <div class="violator-outer">
                    <div class="violator-inner">
                        <div class="row">
                            <div class="col-xs-12 col-sm-9 col-lg-7 col-lg-offset-2" id="top_violator_content">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="content-link" target="_blank" rel="nofollow noreferrer">
                                    <span>The Ultimate Guide to High Availability with MariaDB</span>
                                </a>
                            </div>
                            <div class="col-xs-12 col-sm-3" id="top_violator_cta">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="btn btn-mariadb" target="_blank" rel="nofollow noreferrer">Download Now</a>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn btn-link close-btn">
                        <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" width="15px" height="15px"><path d="M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/upgrading-from-mariadb-101-to-mariadb-102/+comments" rel="nofollow">Login</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/en/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/en/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/services" title="Services">Services</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="About Us">About Us</a>
    </li>
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/en/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/en/documentation/">MariaDB Server Documentation</a>
    

    
    » <a class="crumb" href="/kb/en/mariadb-administration/">MariaDB Administration</a>
    

    
    » <a class="crumb" href="/kb/en/getting-installing-and-upgrading-mariadb/">Getting, Installing, and Upgrading MariaDB</a>
    

    
    » <a class="crumb" href="/kb/en/upgrading/">Upgrading MariaDB</a>
    

    
    » <a class="crumb" href="/kb/en/upgrading-to-unmaintained-mariadb-releases/">Upgrading to Unmaintained MariaDB Releases</a>
    


    » <a class="node_link crumb" href="/kb/en/upgrading-from-mariadb-101-to-mariadb-102/">Upgrading from MariaDB 10.1 to MariaDB 10.2</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
            
            
            
            <section id="content" class="limited_width col-md-12 clearfix">
                
                    <h1>
Comments - Upgrading from MariaDB 10.1 to MariaDB 10.2
</h1>
                

                



                <div>
                    
<div id="comments" data-node-id="5423" data-comments-url="/kb/en/upgrading-from-mariadb-101-to-mariadb-102/+comments"
        data-reply-url="/kb/en/upgrading-from-mariadb-101-to-mariadb-102/comments/post/">
<div class="comment_top_menu hidden-print">&nbsp;
            <div class="pull-right">
                <label>
                    Include Archived
                    <input id="include_archived" type="checkbox" name="include_archived" value="1"
                           />
                </label>
            </div>
        </div>
        <a name="comment_4798"></a>
        <div class="comment approved" style="margin-left: 0px">
            <div class="info">
                

<span class="datetime" title="2020-09-28 14:38">4 years, 3 months ago</span>
                
<span class="user" id="user-9202">
<a href="/kb/user/id/9202" title="Leandro Puerari">Leandro Puerari</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_4798">Re: Upgrading from MariaDB 10.1 to MariaDB 10.2</a>
                
            </div><div class="comment_text">
                <p>After upgrade, i'm having issues when sending empty ('') values to a date or datetime column.
Some suggestion how to solve it not needing to alter all my scripts?</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/upgrading-from-mariadb-101-to-mariadb-102/+comments/4798/flag"
                       data-flag-url="/kb/en/upgrading-from-mariadb-101-to-mariadb-102/+comments/4798/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        <a name="comment_4799"></a>
        <div class="comment approved" style="margin-left: 10px">
            <div class="info">
                

<span class="datetime" title="2020-09-28 14:50">4 years, 3 months ago</span>
                
<span class="user" id="user-1368">
<a href="/kb/user/id/1368" title="Ian Gilfillan">Ian Gilfillan</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_4799">Re: Upgrading from MariaDB 10.1 to MariaDB 10.2</a>
                
            </div><div class="comment_text">
                <p>I suggest using one of the channels at <a href="/kb/en/how-can-i-get-help-if-something-fails/">How Can I get Help if Something Fails?</a> and providing enough details so that someone could help, such as what issues you're experiencing, your table structure, sample queries etc.</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/upgrading-from-mariadb-101-to-mariadb-102/+comments/4799/flag"
                       data-flag-url="/kb/en/upgrading-from-mariadb-101-to-mariadb-102/+comments/4799/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        <a name="comment_4800"></a>
        <div class="comment approved" style="margin-left: 20px">
            <div class="info">
                

<span class="datetime" title="2020-09-28 15:29">4 years, 3 months ago</span>
                
<span class="user" id="user-9202">
<a href="/kb/user/id/9202" title="Leandro Puerari">Leandro Puerari</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_4800">Re: Upgrading from MariaDB 10.1 to MariaDB 10.2</a>
                
            </div><div class="comment_text">
                <p>Thanks!</p>
<p>I've solved the problem removing STRICT_TRANS_TABLES from the sql_mode configuration.</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/upgrading-from-mariadb-101-to-mariadb-102/+comments/4800/flag"
                       data-flag-url="/kb/en/upgrading-from-mariadb-101-to-mariadb-102/+comments/4800/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        
    

    

    

    
        <a name="comment_3065"></a>
        <div class="comment approved" style="margin-left: 0px">
            <div class="info">
                

<span class="datetime" title="2017-10-18 13:27">7 years, 2 months ago</span>
                
<span class="user" id="user-5517">
<a href="/kb/user/id/5517" title="Dermot Brereton">Dermot Brereton</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_3065">Re: Upgrading from MariaDB 10.1 to MariaDB 10.2</a>
                
            </div><div class="comment_text">
                <p>Can MariaDB be upgraded directly from 10.0 to 10.2 or does it have to be done in two steps i.e 10.0 --&gt; 10.1 and then 10.1 --&gt; 10.2</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/upgrading-from-mariadb-101-to-mariadb-102/+comments/3065/flag"
                       data-flag-url="/kb/en/upgrading-from-mariadb-101-to-mariadb-102/+comments/3065/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        <a name="comment_3066"></a>
        <div class="comment approved" style="margin-left: 10px">
            <div class="info">
                

<span class="datetime" title="2017-10-19 10:02">7 years, 2 months ago</span>
                
<span class="user" id="user-1368">
<a href="/kb/user/id/1368" title="Ian Gilfillan">Ian Gilfillan</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_3066">Re: Upgrading from MariaDB 10.1 to MariaDB 10.2</a>
                
            </div><div class="comment_text">
                <p>It's not specifically tested to upgrade multiple major releases in one go, but many people have managed to do this successfully. Go through the changelogs and upgrade notes for each major release carefully, and of course backup and test thoroughly.</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/upgrading-from-mariadb-101-to-mariadb-102/+comments/3066/flag"
                       data-flag-url="/kb/en/upgrading-from-mariadb-101-to-mariadb-102/+comments/3066/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        
    

    

    
        <a name="comment_2926"></a>
        <div class="comment approved" style="margin-left: 0px">
            <div class="info">
                

<span class="datetime" title="2017-06-13 14:03">7 years, 7 months ago</span>
                
<span class="user" id="user-5269">
<a href="/kb/user/id/5269" title="">James Bowery</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_2926">Re: Upgrading from MariaDB 10.1 to MariaDB 10.2</a>
                
            </div><div class="comment_text">
                <p>I've posted a log of the strace of the anomalously slow shutdown of <a href="/kb/en/what-is-mariadb-101/">MariaDB 10.1</a> over at the percona-server link below because it is too long to include in the comments here and appears to be relevant to both versions of MySQL as both suffer from this syndrome.</p>
<p>My slow shutdown is still running -- constantly at 100% CPU</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/upgrading-from-mariadb-101-to-mariadb-102/+comments/2926/flag"
                       data-flag-url="/kb/en/upgrading-from-mariadb-101-to-mariadb-102/+comments/2926/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        <a name="comment_2928"></a>
        <div class="comment approved" style="margin-left: 10px">
            <div class="info">
                

<span class="datetime" title="2017-06-14 09:44">7 years, 7 months ago</span>
                
<span class="user" id="user-1368">
<a href="/kb/user/id/1368" title="Ian Gilfillan">Ian Gilfillan</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_2928">Re: Upgrading from MariaDB 10.1 to MariaDB 10.2</a>
                
            </div><div class="comment_text">
                <p>If not already done, I suggest <a href="/kb/en/reporting-bugs/">reporting as a bug</a>, it'll get more attention than here.</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/upgrading-from-mariadb-101-to-mariadb-102/+comments/2928/flag"
                       data-flag-url="/kb/en/upgrading-from-mariadb-101-to-mariadb-102/+comments/2928/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        
    

    

    
        <a name="comment_2923"></a>
        <div class="comment approved" style="margin-left: 0px">
            <div class="info">
                

<span class="datetime" title="2017-06-13 03:40">7 years, 7 months ago</span>
                
<span class="user" id="user-5269">
<a href="/kb/user/id/5269" title="">James Bowery</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_2923">Re: Upgrading from MariaDB 10.1 to MariaDB 10.2</a>
                
            </div><div class="comment_text">
                <p>Apparently this slow merge problem has cropped up with the percona-server in the last few days:</p>
<p><a href="https://bugs.launchpad.net/percona-server/+bug/1591036">https://bugs.launchpad.net/percona-server/+bug/1591036</a></p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/upgrading-from-mariadb-101-to-mariadb-102/+comments/2923/flag"
                       data-flag-url="/kb/en/upgrading-from-mariadb-101-to-mariadb-102/+comments/2923/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        
    

    
        <a name="comment_2922"></a>
        <div class="comment approved" style="margin-left: 0px">
            <div class="info">
                

<span class="datetime" title="2017-06-13 03:09">7 years, 7 months ago</span>
                
<span class="user" id="user-5269">
<a href="/kb/user/id/5269" title="">James Bowery</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_2922">Re: Upgrading from MariaDB 10.1 to MariaDB 10.2</a>
                
            </div><div class="comment_text">
                <p>I'm stuck on Step 2 shutting down for a few hours now.  There should probably be some kind of warning in step 2 about this.</p>
<p>Every minute, the mysql/error.log emits a message like:</p>
<p>InnoDB: number of bytes of change buffer just merged:  18433</p>
<p>The number changes a bit but not much each time.</p>
<p>I can't query the database's system variables to discover the size of the change buffer so I can't estimate how long it's going to take.</p>
<p>The change buffer defaults to 25% of the buffer pool size which defaults to 128M.</p>
<p>Are my sites going to be down for &gt;24 hours?  That's what the default arithmetic says.</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/upgrading-from-mariadb-101-to-mariadb-102/+comments/2922/flag"
                       data-flag-url="/kb/en/upgrading-from-mariadb-101-to-mariadb-102/+comments/2922/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        
    

    
        <a name="comment_2903"></a>
        <div class="comment approved" style="margin-left: 0px">
            <div class="info">
                

<span class="datetime" title="2017-05-29 09:58">7 years, 7 months ago</span>
                
<span class="user" id="user-3037">
<a href="/kb/user/id/3037" title="Christian Rishøj">Christian Rishøj</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_2903">Re: Upgrading from MariaDB 10.1 to MariaDB 10.2</a>
                
            </div><div class="comment_text">
                <p>A reminder to set `innodb_fast_shutdown` to `0` would be helpful. Otherwise the upgrade may result in the following situation:</p>
<div style="margin-left:2em"><p> [ERROR] InnoDB: Upgrade after a crash is not supported. This redo log was created before <a href="/kb/en/mariadb-1022-release-notes/">MariaDB 10.2.2</a>, and we did not find a valid checkpoint. Please follow the instructions at <a href="http://dev.mysql.com/doc/refman/5.7/en/upgrading.html">http://dev.mysql.com/doc/refman/5.7/en/upgrading.html</a></p>
</div>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/upgrading-from-mariadb-101-to-mariadb-102/+comments/2903/flag"
                       data-flag-url="/kb/en/upgrading-from-mariadb-101-to-mariadb-102/+comments/2903/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        <a name="comment_2904"></a>
        <div class="comment approved" style="margin-left: 10px">
            <div class="info">
                

<span class="datetime" title="2017-05-29 10:24">7 years, 7 months ago</span>
                
<span class="user" id="user-3037">
<a href="/kb/user/id/3037" title="Christian Rishøj">Christian Rishøj</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_2904">Re: Upgrading from MariaDB 10.1 to MariaDB 10.2</a>
                
            </div><div class="comment_text">
                <p>I was only able to complete the upgrade from 10.1 by moving the old binary logs ( `/var/lib/mysql/ib_logfile*`) out of the way, thus letting <a href="/kb/en/what-is-mariadb-102/">MariaDB 10.2</a> create new ones.</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/upgrading-from-mariadb-101-to-mariadb-102/+comments/2904/flag"
                       data-flag-url="/kb/en/upgrading-from-mariadb-101-to-mariadb-102/+comments/2904/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        <a name="comment_3429"></a>
        <div class="comment approved" style="margin-left: 20px">
            <div class="info">
                

<span class="datetime" title="2018-06-25 08:25">6 years, 6 months ago</span>
                
<span class="user" id="user-4920">
<a href="/kb/user/id/4920" title="Marko Mäkelä">Marko Mäkelä</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_3429">Clean (fast) shutdown is enough</a>
                
            </div><div class="comment_text">
                <p>A shutdown with the default setting innodb_fast_shutdown=1 is sufficient before an upgrade. It will create a redo log checkpoint, so that the redo log will be logically empty.</p>
<p>If there is a bug in <a href="/kb/en/what-is-mariadb-102/">MariaDB 10.2</a> or later that causes it to incorrectly refuse an upgrade from 10.1 (failing to detect the redo log as logically empty), please file a bug for it.</p>
<p>The InnoDB redo log (ib_logfile0) works at a lower level than the binary logs (binlog).</p>
<p>Last, a slow shutdown before upgrading MariaDB is not necessary. It is necessary when upgrading to MySQL 5.7 or 8.0, because in both versions, the undo log format was changed in an incompatible way. In MariaDB, the InnoDB undo log format is compatible with earlier versions. <a href="https://jira.mariadb.org/browse/MDEV-12289">MDEV-12289</a> in <a href="/kb/en/what-is-mariadb-102/">MariaDB 10.2</a> guarantees a smooth upgrade from earlier MariaDB versions, but creates an undo log format incompatibility with Oracle MySQL 5.7 and Percona XtraBackup 2.4.</p>
<p>Alas, due to bugs, MySQL would not always empty all undo logs as part of a slow shutdown. In MariaDB Server 10.3, <a href="https://jira.mariadb.org/browse/MDEV-13603">MDEV-13603</a> was fixed. In earlier versions, various shutdown hangs have been fixed. (Maybe your 10.1 server hung during shutdown, and it was forcibly killed, so that crash recovery would have been needed?)</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/upgrading-from-mariadb-101-to-mariadb-102/+comments/3429/flag"
                       data-flag-url="/kb/en/upgrading-from-mariadb-101-to-mariadb-102/+comments/3429/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        
    

    

    

    

</div>


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/services" title="Services">Services</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">About Us</a></h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/download" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2025 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.1587e3a666fc.js" charset="utf-8"></script>

</html>