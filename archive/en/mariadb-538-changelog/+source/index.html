<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>MariaDB 5.3.8 Changelog - Source - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.f7633538c846.css" rel="stylesheet" type="text/css" />

    
        <meta name="robots" content="noindex, nofollow">
    

    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="MariaDB 5.3.8 Changelog - Source" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/en/mariadb-538-changelog/+source/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="" />

    <meta name="description" content="" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes autoresize nodes_source jqui" id="nodes_source">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/mariadb-538-changelog/+source/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2025 MariaDB. All rights reserved.</p>
    </div>
</div>
<div class="violator-wrap d-none" id="top_violator">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12">
                <div class="violator-outer">
                    <div class="violator-inner">
                        <div class="row">
                            <div class="col-xs-12 col-sm-9 col-lg-7 col-lg-offset-2" id="top_violator_content">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="content-link" target="_blank" rel="nofollow noreferrer">
                                    <span>The Ultimate Guide to High Availability with MariaDB</span>
                                </a>
                            </div>
                            <div class="col-xs-12 col-sm-3" id="top_violator_cta">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="btn btn-mariadb" target="_blank" rel="nofollow noreferrer">Download Now</a>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn btn-link close-btn">
                        <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" width="15px" height="15px"><path d="M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/mariadb-538-changelog/+source/" rel="nofollow">Login</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/en/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/en/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/services" title="Services">Services</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="About Us">About Us</a>
    </li>
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/en/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/en/mariadb-server-release-dates/">MariaDB Server Releases</a>
    

    
    » <a class="crumb" href="/kb/en/changelogs/">Changelogs</a>
    

    
    » <a class="crumb" href="/kb/en/changelogs-mariadb-53-series/">Changelogs - MariaDB 5.3 Series</a>
    


    » <a class="node_link crumb" href="/kb/en/mariadb-538-changelog/">MariaDB 5.3.8 Changelog</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/en/">Home</a></li>
                            
                                
                                    <li><a href="/kb/en/+questions/">Open Questions</a></li>
                                
                                <li><a href="/kb/en/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/en/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/en/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/en/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
                        <div>
    

<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-small" href="/kb/en/mariadb-538-changelog/">Return to article</a>
    
</div>
</div>

</div>
                    

                    

































                </aside>
            
            
            
                
            
            
            <section id="content" class="limited_width col-md-10 clearfix">
                
                    <h1>MariaDB 5.3.8 Changelog - Source</h1>
                

                



                <div>
                    

    

    
    <div class="revision_info">
        <dl class="table">
            <dt>Revision</dt>
            <dd><a href="/kb/en/mariadb-538-changelog/+r/32005/">32005</a></dd>
            <dt>User</dt>
            <dd>
<span class="user" id="user-2">
<a href="/kb/user/id/2" title="Daniel Bartholomew">Daniel Bartholomew</a>
</span></dd>
            <dt>Date</dt>
            <dd>

<span class="datetime" title="2022-11-18 02:55">2022-11-18 02:55</span></dd>
        </dl>
    </div>
    


    

    
        
        <textarea id="answer_source" class="creole_source autogrow">[[http://downloads.mariadb.org/mariadb/5.3.8|Download]] | 
[[mariadb-538-release-notes|Release Notes]] | 
**Changelog** |
[[what-is-mariadb-53|Overview of 5.3]]

**Release date:** 28 Aug 2012

For the highlights of this release, see the
[[mariadb-538-release-notes|release notes]].

The revision number links will take you to the revision&#39;s page on Launchpad. On
Launchpad you can view more details of the revision and view diffs of the code
modified in that revision.

* maria53rev:3564
  &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Fri 2012-08-24 23:43:18 +0200&lt;&lt;/style&gt;&gt;
** MDEV-336 oqgraph 5.5 crashes in buildbot
** force -fno-strict-aliasing for oqgraph
* maria53rev:3563
  &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Sat 2012-08-25 09:15:57 +0300&lt;&lt;/style&gt;&gt;
** fix for MDEV-367
** The problem was that was_null and null_value variables was reset in each reexecution of IN subquery, but engine rerun only for non-constant subqueries.
** Fixed checking constant in Item_equal sort.
** Fix constant reporting in Item_subselect.
* maria53rev:3562 [merge]
  &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Fri 2012-08-24 19:13:34 +0200&lt;&lt;/style&gt;&gt;
** Merge from 5.2
** maria53rev:2732.57.15 [merge]
   &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Fri 2012-08-24 19:12:47 +0200&lt;&lt;/style&gt;&gt;
*** Merge from 5.1
*** maria53rev:2643.153.14
    &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Fri 2012-08-24 19:11:54 +0200&lt;&lt;/style&gt;&gt;
**** Fix compiler warning
* maria53rev:3561 [merge]
  &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Fri 2012-08-24 15:39:34 +0200&lt;&lt;/style&gt;&gt;
** Merge from 5.2.
** maria53rev:2732.57.14 [merge]
   &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Fri 2012-08-24 15:37:39 +0200&lt;&lt;/style&gt;&gt;
*** Merge from 5.1.
*** maria53rev:2643.153.13
    &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Fri 2012-08-24 15:32:44 +0200&lt;&lt;/style&gt;&gt;
**** Fix compiler warnings
*** maria53rev:2643.153.12 [merge]
    &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Fri 2012-08-24 10:34:55 +0200&lt;&lt;/style&gt;&gt;
**** Merge with latest 5.1.
** maria53rev:2732.57.13
   &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Fri 2012-08-24 15:30:05 +0200&lt;&lt;/style&gt;&gt;
*** MDEV-484 : allow compilation/packaging on Windows with newly released VS2012
** maria53rev:2732.57.12 [merge]
   &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Fri 2012-08-24 12:57:19 +0200&lt;&lt;/style&gt;&gt;
*** Merge into latest 5.2.
* maria53rev:3560 [merge]
  &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Fri 2012-08-24 14:26:23 +0200&lt;&lt;/style&gt;&gt;
** Merge into latest 5.3
** maria53rev:3556.1.2 [merge]
   &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Fri 2012-08-24 14:02:32 +0200&lt;&lt;/style&gt;&gt;
*** merge from 5.2
*** maria53rev:2732.59.1 [merge]
    &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Fri 2012-08-24 12:32:46 +0200&lt;&lt;/style&gt;&gt;
**** Merge from 5.1.
**** maria53rev:2643.154.1
     &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Fri 2012-08-24 10:06:16 +0200&lt;&lt;/style&gt;&gt;
***** MDEV-382: Incorrect quoting (CVE-2012-4414)
***** Various places in the server replication code was incorrectly quoting
      strings, which could lead to incorrect SQL on the slave/mysqlbinlog.
** maria53rev:3556.1.1 [merge]
   &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Fri 2012-08-24 13:51:16 +0200&lt;&lt;/style&gt;&gt;
*** Merge from 5.2
* maria53rev:3559
  &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Thu 2012-08-23 13:52:36 +0200&lt;&lt;/style&gt;&gt;
** remove mysql-5.1 assert that is already absent in mysql-5.5
* maria53rev:3558
  &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Wed 2012-08-22 18:40:27 +0200&lt;&lt;/style&gt;&gt;
** MDEV-472 &lt;&lt;code&gt;&gt;mysql-test-run --valgrind main.ps_2myisam&lt;&lt;/code&gt;&gt; gives warning about not initialized memory
** &lt;&lt;code&gt;&gt;Item::get_date()&lt;&lt;/code&gt;&gt; should return 1 unless the value is a valid date.
* maria53rev:3557 [merge]
  &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Wed 2012-08-22 16:45:25 +0200&lt;&lt;/style&gt;&gt;
** 5.2 merge.
** two tests still fail:
*** main.innodb_icp and main.range_vs_index_merge_innodb
*** call records_in_range() with both range ends being open
    (which triggers an assert)
** maria53rev:2732.57.11 [merge]
   &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Wed 2012-08-22 16:13:54 +0200&lt;&lt;/style&gt;&gt;
*** 5.1 merge
*** increase xtradb verson from 13.0 to 13.01
*** maria53rev:2643.153.11
    &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Wed 2012-08-22 16:10:31 +0200&lt;&lt;/style&gt;&gt;
**** merge with XtraDB as of Percona-Server-5.1.63-rel13.4
*** maria53rev:2643.153.10 [merge]
    &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Wed 2012-08-22 11:40:39 +0200&lt;&lt;/style&gt;&gt;
**** merge with MySQL 5.1.65
** maria53rev:2732.57.10
   &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Thu 2012-06-21 18:47:13 +0300&lt;&lt;/style&gt;&gt;
*** Fix for lpbug#1001505 and lpbug#1001510
*** We set correct cmp_context during preparation to avoid changing it later by Item_field::equal_fields_propagator.
    (see mysql bugs #57135 #57692 during merging)
* maria53rev:3556
  &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Tue 2012-08-21 22:24:34 +0400&lt;&lt;/style&gt;&gt;
** Better comments
* maria53rev:3555
  &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Tue 2012-08-14 14:25:56 -0700&lt;&lt;/style&gt;&gt;
** Corrected the pactch for mdev-449 to fix valgrind failures.
* maria53rev:3554
  &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Mon 2012-08-13 21:13:14 -0700&lt;&lt;/style&gt;&gt;
** Fixed bug mdev-449.
** The bug could caused a crash when the server executed a query with
   ORDER by and sort_buffer_size was set to a small enough number.
** It happened because the small sort buffer did not allow to allocate
   all merge buffers in it.
** Made sure that the allocated sort buffer would be big enough
   to contain all possible merge buffers.  
* maria53rev:3553 [merge]
  &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Thu 2012-08-02 00:58:13 +0400&lt;&lt;/style&gt;&gt;
** MDEV-369 (Mismatches in MySQL engines test suite)
** Following reasons caused mismatches:
*** different handling of invalid values;
*** different CAST results with fractional seconds;
*** microseconds support in MariaDB;
*** different algorithm of comparing temporal values;
*** differences in error and warning texts and codes;
*** different approach to truncating datetime values to time;
*** additional collations;
*** different record order for queries without ORDER BY;
*** mybug#66034.
** More details in MDEV-369 comments.
** maria53rev:3552.1.2
   &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Mon 2012-07-30 04:16:49 +0400&lt;&lt;/style&gt;&gt;
*** MDEV-369 (Mismatches in MySQL engines test suite)
** maria53rev:3552.1.1
   &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Thu 2012-07-26 23:31:08 +0400&lt;&lt;/style&gt;&gt;
*** Result files were wrong due to MySQL bug#66034 
* maria53rev:3552
  &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Wed 2012-07-18 15:03:05 +0400&lt;&lt;/style&gt;&gt;
** MDEV-398: Sergv related to spacial queries
** index_merge/intersection is unable to work on GIS indexes, because:
### index scans have no Rowid-Ordered-Retrieval property
### When one does an index-only read over a GIS index, they do not 
    get the index tuple, because index only contains bounding box of the geometry.
    This is why key_copy() call crashed.
** This patch fixes #1, which makes the problem go away. Theoretically, it would 
   be nice to check #2, too, but SE API semantics is not sufficiently precise to do it.
* maria53rev:3551
  &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Tue 2012-06-26 21:43:34 +0300&lt;&lt;/style&gt;&gt;
** Fix for lpbug#1007622
** TABLE_LIST::check_single_table made aware about fact that now if table attached to a merged view it can be (unopened) temporary table
   (in 5.2 it was always leaf table or non (in case of several tables)).
* maria53rev:3550 [merge]
  &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Sat 2012-06-23 15:00:05 -0700&lt;&lt;/style&gt;&gt;
** Merge 5.2-&gt;5.3
** maria53rev:2732.57.9
   &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Sat 2012-06-23 12:19:07 -0700&lt;&lt;/style&gt;&gt;
*** Fixed bug mdev-360.
*** The bug was the result of the incomplete fix for bug lp bug 1008293.
** maria53rev:2732.57.8
   &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Mon 2012-06-18 22:32:17 -0700&lt;&lt;/style&gt;&gt;
*** Fixed bug mdev-354.
*** Virtual columns of ENUM and SET data types were not supported properly
    in the original patch that introduced virtual columns into MariaDB 5.2.
*** The problem was that for any  virtual column the patch used the 
    interval_id field of the definition of the column in the frm file as
    a reference to the virtual column expression.
*** The fix stores the optional interval_id of the virtual column in the
    extended header of the virtual column expression. 
* maria53rev:3549
  &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Fri 2012-06-22 14:14:22 +0400&lt;&lt;/style&gt;&gt;
** Added comment about QUICK_RANGE_SELECT::free_cond being unused.
* maria53rev:3548
  &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Thu 2012-06-21 14:33:36 +0400&lt;&lt;/style&gt;&gt;
** Update test results (checked)
* maria53rev:3547
  &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Wed 2012-06-20 22:30:24 +0400&lt;&lt;/style&gt;&gt;
** Update test results.
* maria53rev:3546
  &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Wed 2012-06-20 13:41:31 +0400&lt;&lt;/style&gt;&gt;
** Post-merge fixes:
*** put back the result encoding in func_in.result (messed up by kdiff3)
*** update .result for other tests (checked)
* maria53rev:3545 [merge]
  &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Mon 2012-06-18 22:38:11 +0400&lt;&lt;/style&gt;&gt;
** Merge 5.2-&gt;5.3
** maria53rev:2732.57.7
   &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Tue 2012-06-12 10:06:26 -0700&lt;&lt;/style&gt;&gt;
*** Adjusted results in pbxt.negation_elimination after the fix for lp bug 992380.
** maria53rev:2732.57.6 [merge]
   &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Tue 2012-06-12 00:09:20 -0700&lt;&lt;/style&gt;&gt;
*** Merge.
*** maria53rev:2732.58.1
    &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Mon 2012-06-11 22:12:47 -0700&lt;&lt;/style&gt;&gt;
**** Fixed lpbug#1008293.
*****none One of the reported problems manifested itself in the scenario when one
     thread tried to to get statistics on a key cache while the second thread
     had not finished initialization of the key cache structure yet. 
     The problem was resolved by forcing serialization of such operations
     on key caches.
***** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
***** To serialize function calls to perform certain operations over a key cache
     a new mutex associated with the key cache now is used. It is stored in the
     field op_lock of the KEY_CACHE structure. It is locked when the operation
     is performed. Some of the serialized key cache operations utilize calls 
     for other key cache operations. To avoid recursive locking of op_lock
     the new functions that perform the operations of key cache initialization,
     destruction and re-partitioning with an additional parameter were introduced.
***** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
***** The parameter says whether the operation over op_lock are to be performed or
     are to be omitted. The old functions for the operations of key cache 
     initialization, destruction,and  re-partitioning  now just call the
     corresponding new functions with the additional parameter set to true
     requesting to use op_lock while all other calls of these new function
     have this parameter set to false. 
***** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
***** Another problem reported in the bug entry concerned the operation of
     assigning an index to a key cache. This operation can be called
     while the key cache structures are not initialized yet. In this
     case any call of flush_key_blocks() should return without any actions.
***** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
***** No test case is provided with this patch.
** maria53rev:2732.57.5 [merge]
   &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Sun 2012-06-10 14:04:21 +0400&lt;&lt;/style&gt;&gt;
*** Merge
** maria53rev:2732.57.4 [merge]
   &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Fri 2012-06-01 23:45:54 +0200&lt;&lt;/style&gt;&gt;
*** 5.1 merge
** maria53rev:2643.153.9
   &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Fri 2012-06-01 17:53:59 +0200&lt;&lt;/style&gt;&gt;
*** MDEV-256 lpbug:995501 - mysqltest attempts to parse Perl code inside a block
    with false condition, gets confused and throws wrong errors
** maria53rev:2732.57.3
   &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Fri 2012-05-25 10:29:53 +0300&lt;&lt;/style&gt;&gt;
*** Fix of lpbug#992380 + revise fix_fields about missing with_subselect collection
*** The problem is that some fix_fields do not call Item_func::fix_fields and do not collect with subselect_information.
** maria53rev:2732.57.2
   &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Wed 2012-05-23 18:18:08 +0300&lt;&lt;/style&gt;&gt;
*** Fix lpbug:1001506
*** This is a backport of the (unchaged) fix for MySQL bug #11764372, 57197.
*** Analysis:
****none When the outer query finishes its main execution and computes GROUP BY,
     it needs to construct a new temporary table (and a corresponding JOIN) to
     execute the last DISTINCT operation. At this point JOIN::exec calls
     JOIN::join_free, which calls JOIN::cleanup -&gt; TMP_TABLE_PARAM::cleanup
     for both the outer and the inner JOINs. The call to the inner
     TMP_TABLE_PARAM::cleanup sets copy_field = NULL, but not copy_field_end.
**** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
**** The final execution phase that computes the DISTINCT invokes:
     evaluate_join_record -&gt; end_write -&gt; copy_funcs
     The last function copies the results of all functions into the temp table.
     copy_funcs walks over all functions in join-&gt;tmp_table_param.items_to_copy.
     In this case items_to_copy contains both assignments to user variables.
     The process of copying user variables invokes Item_func_set_user_var::check
     which in turn re-evaluates the arguments of the user variable assignment.
     This in turn triggers re-evaluation of the subquery, and ultimately
     copy_field.
**** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
**** However, the previous call to TMP_TABLE_PARAM::cleanup for the subquery
     already set copy_field to NULL but not its copy_field_end. This results
     in a null pointer access, and a crash.
**** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
*** Fix:
****none Set copy_field_end and save_copy_field_end to null when deleting
     copy fields in TMP_TABLE_PARAM::cleanup().
** maria53rev:2732.57.1
   &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Tue 2012-05-22 08:48:10 +0300&lt;&lt;/style&gt;&gt;
*** Fix of lpbug#992380 + revise fix_fields about missing with_subselect collection
*** The problem is that some fix_fields do not call Item_func::fix_fields and do not collect with subselect_information.
* maria53rev:3544
  &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Fri 2012-06-15 11:33:24 +0300&lt;&lt;/style&gt;&gt;
** Fix lpbug:1008686
** Analysis:
***none The fix for bug lp:985667 implements the method Item_subselect::no_rows_in_result()
    for all main kinds of subqueries. The purpose of this method is to be called from
    return_zero_rows() and set Items to some default value in the case when a query
    returns no rows. Aggregates and subqueries require special treatment in this case.
*** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
*** Every implementation of Item_subselect::no_rows_in_result() called
    Item_subselect::make_const() to set the subquery predicate to its default value
    irrespective of where the predicate was located in the query. Once the predicate
    was set to a constant it was never executed.
*** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
*** At the same time, the JOIN object of the fake select for UNIONs (the one used for
    the final result of the UNION), was set after all subqueries in the union were
    executed. Since we set the subquery as constant, it was never executed, and the
    corresponding JOIN was never created.
*** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
*** In order to decide whether the result of NOT IN is NULL or FALSE, Item_in_optimizer
    needs to check if the subquery result was empty or not. This is where we got the
    crash, because subselect_union_engine::no_rows() checks for
    unit-&gt;fake_select_lex-&gt;join-&gt;send_records, and the join object was NULL.
*** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
** Solution:
***none If a subquery is in the HAVING clause it must be evaluated in order to know its
    result, so that we can properly filter the result records. Once subqueries in the
    HAVING clause are executed even in the case of no result rows, this specific
    crash will be solved, because the UNION will be executed, and its JOIN will be
    constructed. Therefore the fix for this crash is to narrow the fix for lp:985667,
    and to apply Item_subselect::no_rows_in_result() only when the subquery predicate
    is in the SELECT clause.
* maria53rev:3543
  &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Thu 2012-06-14 17:03:09 +0300&lt;&lt;/style&gt;&gt;
** Fix lpbug:1008773
** Analysis:
***none Queries with implicit grouping (there is aggregate, but no group by)
    follow some non-obvious semantics in the case of empty result set.
    Aggregate functions produce some special &#34;natural&#34; value depending on
    the function. For instance MIN/MAX return NULL, COUNT returns 0.
*** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
*** The complexity comes from non-aggregate expressions in the select list.
    If the non-aggregate expression is a constant, it can be computed, so
    we should return its value, however if the expression is non-constant,
    and depends on columns from the empty result set, then the only meaningful
    value is NULL.
*** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
*** The cause of the wrong result was that for subqueries the optimizer didn&#39;t
    make a difference between constant and non-constant ones in the case of
    empty result for implicit grouping.
** Solution:
***none In all implementations of Item_subselect::no_rows_in_result() check if the
    subquery predicate is constant. If it is constant, do not set it to the
    default value for implicit grouping, instead let it be evaluated.
* maria53rev:3542 [merge]
  &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Sun 2012-06-10 14:06:11 +0400&lt;&lt;/style&gt;&gt;
** Merge
** maria53rev:3539.1.1 [merge]
   &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Sun 2012-06-10 13:53:06 +0400&lt;&lt;/style&gt;&gt;
*** Merge lpbug#1010351 from 5.1 to 5.2
*** maria53rev:2732.53.48
    &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Sun 2012-06-10 13:50:21 +0400&lt;&lt;/style&gt;&gt;
**** lpbug#1010351: New &#34;via&#34; keyword in 5.2+ can&#39;t be used as identifier anymore
**** Add the VIA_SYM token into keyword_sp list, which makes it allowed for
     use as keyword and SP label.
* maria53rev:3541
  &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Fri 2012-06-08 19:15:01 +0200&lt;&lt;/style&gt;&gt;
** lpbug:1008334 : Speedup specific datetime queries that got slower with introduction of microseconds in 5.3
*** Item::get_seconds() now skips decimal arithmetic, if decimals is 0. This significantly speeds up from_unixtime() if no fractional part is passed.
*** replace sprintfs used to format temporal values  by hand-coded formatting 
** Query1 (original query in the bug report)
***none BENCHMARK(10000000,DATE_SUB(FROM_UNIXTIME(RAND() * 2147483648), INTERVAL (FLOOR(1 + RAND() * 365)) DAY)) 
** Query2 (Variation of query1 that does not use fractional part in FROM_UNIXTIME parameter)
***none BENCHMARK(10000000,DATE_SUB(FROM_UNIXTIME(FLOOR(RAND() * 2147483648)), INTERVAL (FLOOR(1 + RAND() * 365)) DAY)) 
** Prior to the patch, the runtimes were (32 bit compilation/AMD machine)
***none Query1: 41.53 sec 
*** Query2: 23.90 sec
** With the patch, the runtimes are
***none Query1: 32.32 sec (speed up due to removing sprintf)
*** Query2: 12.06 sec (speed up due to skipping decimal arithmetic)
* maria53rev:3540
  &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Wed 2012-06-06 23:02:21 +0300&lt;&lt;/style&gt;&gt;
** Fixed pbxt test case not run by default.
* maria53rev:3539
  &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Tue 2012-06-05 17:25:10 +0300&lt;&lt;/style&gt;&gt;
** Fixed lpbug:1000649
** Analysis:
***none  When the method JOIN::choose_subquery_plan() decided to apply
    the IN-TO-EXISTS strategy, it set the unit and select_lex
    uncacheable flag to UNCACHEABLE_DEPENDENT_INJECTED unconditionally.
*** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
*** As result, even if IN-TO-EXISTS injected non-correlated predicates,
    the subquery was still treated as correlated.
** Solution:
***none Set the subquery as correlated only if the injected predicate(s) depend
    on the outer query.
* maria53rev:3538
  &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Mon 2012-06-04 23:22:03 +0200&lt;&lt;/style&gt;&gt;
** MDEV-308 lpbug:1008516 - Failing assertion: templ-&gt;mysql_col_len == len
** remove the offending assert.
** take the test case from mybug#58015
* maria53rev:3537 [merge]
  &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Sat 2012-06-02 16:13:05 +0400&lt;&lt;/style&gt;&gt;
** Merge 
** maria53rev:3532.1.1
   &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Sat 2012-06-02 03:25:56 +0400&lt;&lt;/style&gt;&gt;
*** lpbug#1006164: Multi-table DELETE that uses innodb + index_merge/intersect may fail to delete rows
*** Set index columns to be read when using index_merge, even if TABLE-&gt;no_keyread is 
    set for the table (happens for multi-table UPDATEs)
* maria53rev:3536
  &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Fri 2012-06-01 14:56:47 +0200&lt;&lt;/style&gt;&gt;
** MDEV-304: Insufficient buffer allocation for Query_log_event
** The constructor for Query_log_event allocated 2 bytes too few for
   extra space needed by Query cache. (Not sure if this is reproducible
   in practice, as there are often a couple of extra bytes allocated
   for unused string zero terminators, but better safe than sorry).
* maria53rev:3535
  &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Wed 2012-05-30 19:10:18 +0300&lt;&lt;/style&gt;&gt;
** Fix for lpbug:1006231
** Analysis:
***none When a subquery that needs a temp table is executed during
    the prepare or optimize phase of the outer query, at the end
    of the subquery execution all the JOIN_TABs of the subquery
    are replaced by a new JOIN_TAB that selects from the temp table.
    However that temp table has no corresponding TABLE_LIST.
    Once EXPLAIN execution reaches its last phase, it tries to print
    the names of the subquery tables through its TABLE_LISTs, but in
    the case of this bug there is no such TABLE_LIST (it is NULL),
    hence a crash.
** Solution:
***none The fix is to block subquery evaluation inside
    Item_func_like::fix_fields and Item_func_like::select_optimize()
    using the Item::is_expensive() test.
* maria53rev:3534
  &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Tue 2012-05-29 09:59:25 +0500&lt;&lt;/style&gt;&gt;
** MDEV-294 SELECT WHERE ST_CONTAINS doesn&#39;t return all the records where ST_CONTAINS() is 1.
** Optimizator fails using index with ST_Within(g, constant_poly).
** per-file comments:
*** mysql-test/r/gis-rt-precise.result
**** test result fixed.
*** mysql-test/r/gis-rtree.result
**** test result fixed.
*** mysql-test/suite/maria/r/maria-gis-rtree-dynamic.result
**** test result fixed.
*** mysql-test/suite/maria/r/maria-gis-rtree-trans.result
**** test result fixed.
*** mysql-test/suite/maria/r/maria-gis-rtree.result
**** test result fixed.
*** storage/maria/ma_rt_index.c
**** Use MBR_INTERSECT mode when optimizing the select WITH ST_Within.
*** storage/myisam/rt_index.c
**** Use MBR_INTERSECT mode when optimizing the select WITH ST_Within.
* maria53rev:3533 [merge]
  &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Fri 2012-05-25 00:44:43 -0700&lt;&lt;/style&gt;&gt;
** Merge.
** maria53rev:3531.1.1
   &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Fri 2012-05-25 00:07:26 -0700&lt;&lt;/style&gt;&gt;
*** Fixed a performance problem: calls of the function imerge_list_and_tree
    could lead an to exponential growth of the imerge lists.
* maria53rev:3532
  &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Fri 2012-05-25 01:20:40 +0400&lt;&lt;/style&gt;&gt;
** lpbug#1002630: Valgrind warnings &#39;Invalid read&#39; in subselect_engine::calc_const_tables with SELECT
*** In JOIN::exec(), make the having-&gt;update_used_tables() call before we&#39;ve
    made the JOIN::cleanup(full=true) call. The latter frees SJ-Materialization
    structures, which correlated subquery predicate items attempt to walk afterwards.
* maria53rev:3531
  &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Wed 2012-05-23 21:05:53 +0400&lt;&lt;/style&gt;&gt;
** Update test results after the latest push
* maria53rev:3530
  &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Wed 2012-05-23 11:55:14 +0400&lt;&lt;/style&gt;&gt;
** lpbug#1000051: Query with simple join and ORDER BY takes thousands times longer when run with ICP
*** Correct testcases.
* maria53rev:3529
  &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Wed 2012-05-23 11:46:40 +0400&lt;&lt;/style&gt;&gt;
** lpbug#1000051: Query with simple join and ORDER BY takes thousands times longer when run with ICP
*** Disable IndexConditionPushdown for reverse scans.
* maria53rev:3528
  &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Tue 2012-05-22 15:22:55 +0300&lt;&lt;/style&gt;&gt;
** Fix lpbug:1002079
** Analysis:
***none The optimizer detects an empty result through constant table optimization.
    Then it calls return_zero_rows(), which in turns calls inderctly
    Item_maxmin_subselect::no_rows_in_result(). The latter method set &#34;value=0&#34;,
    however &#34;value&#34; is pointer to Item_cache, and not just an integer value.
*** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
*** All of the Item_[maxmin | singlerow]_subselect::val_XXX methods does:&lt;&lt;code lang=text inline=false&gt;&gt;if (forced_const)
  return value-&gt;val_real();
&lt;&lt;/code&gt;&gt;
*** which of course crashes when value is a NULL pointer.
** Solution:
***none When the optimizer discovers an empty result set, set
    Item_singlerow_subselect::value to a FALSE constant Item instead of NULL.
* maria53rev:3527
  &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Mon 2012-05-21 19:37:46 +0500&lt;&lt;/style&gt;&gt;
** MDEV-136 Non-blocking &#34;set read_only&#34;.
** Handle the &#39;set read_only=1&#39; in lighter way, than the FLUSH TABLES READ LOCK;
** For the transactional engines we don&#39;t wait for operations on that tables to finish.
** per-file comments:
*** mysql-test/r/read_only_innodb.result
**** MDEV-136 Non-blocking &#34;set read_only&#34;.
***** test result updated.
*** mysql-test/t/read_only_innodb.test
**** MDEV-136 Non-blocking &#34;set read_only&#34;.
***** test case added.
*** sql/mysql_priv.h
**** MDEV-136 Non-blocking &#34;set read_only&#34;.
***** The close_cached_tables_set_readonly() declared.
*** sql/set_var.cc
**** MDEV-136 Non-blocking &#34;set read_only&#34;.
***** Call close_cached_tables_set_readonly() for the read_only::set_var.
*** sql/sql_base.cc
**** MDEV-136 Non-blocking &#34;set read_only&#34;.
***** Parameters added to the close_cached_tables implementation,
      close_cached_tables_set_readonly declared.
***** Prevent blocking on the transactional tables if the
      set_readonly_mode is on.
* maria53rev:3526 [merge]
  &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Sun 2012-05-20 14:57:29 +0200&lt;&lt;/style&gt;&gt;
** 5.2 merge
** maria53rev:2732.53.47 [merge]
   &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Fri 2012-05-18 14:23:05 +0200&lt;&lt;/style&gt;&gt;
*** 5.1 merge
*** maria53rev:2643.153.8
    &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Fri 2012-05-18 12:42:06 +0200&lt;&lt;/style&gt;&gt;
**** post-merge fixes
*** maria53rev:2643.153.7 [merge]
    &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Thu 2012-05-17 12:12:33 +0200&lt;&lt;/style&gt;&gt;
**** merge with mysql-5.1.63
** maria53rev:2732.53.46
   &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Thu 2012-05-17 10:13:25 +0300&lt;&lt;/style&gt;&gt;
*** fix of lpbug#998321
*** The problem is that we can&#39;t check null_value field of non-basic constant without the item execution.:
* maria53rev:3525 [merge]
  &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Fri 2012-05-18 16:28:11 +0400&lt;&lt;/style&gt;&gt;
** Merge
** maria53rev:3522.1.1
   &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Fri 2012-05-18 16:24:12 +0400&lt;&lt;/style&gt;&gt;
*** lpbug#1000269: Wrong result (extra rows) with semijoin+materialization, IN subqueries, join_cache_level&gt;0
**** make make_cond_after_sjm() correctly handle OR clauses where one branch refers to the semi-join table
     while the other branch refers to the non-semijoin table.
* maria53rev:3524
  &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Thu 2012-05-17 10:45:20 +0300&lt;&lt;/style&gt;&gt;
** Test suite of fixed bug (lpbug#993459).
* maria53rev:3523
  &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Tue 2012-05-15 08:31:07 +0300&lt;&lt;/style&gt;&gt;
** Fix for lpbug#998516
** If we did nothing in resolving unique table conflict we should not retry (it leed to infinite loop).
** Now we retry (recheck) unique table check only in case if we materialized a table.
* maria53rev:3522
  &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Sun 2012-05-13 13:15:17 +0400&lt;&lt;/style&gt;&gt;
** lpbug#998236: Assertion failure or valgrind errors at best_access_path ...
** Let fix_semijoin_strategies_for_picked_join_order() set 
   POSITION::prefix_record_count for POSITION records that it copies from
   SJ_MATERIALIZATION_INFO::tables. 
** (These records do not have prefix_record_count set, because they are optimized
   as joins-inside-semijoin-nests, without full advance_sj_state() processing).  
* maria53rev:3521 [merge]
  &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Sat 2012-05-12 12:27:26 +0400&lt;&lt;/style&gt;&gt;
** Merge 5.2-&gt;5.3
** maria53rev:2732.53.45 [merge]
   &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Sat 2012-05-12 12:12:35 +0400&lt;&lt;/style&gt;&gt;
*** Merge 5.2-&gt;5.3
*** maria53rev:2643.153.6
    &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Sat 2012-05-12 11:53:14 +0400&lt;&lt;/style&gt;&gt;
**** lpbug#997747: Assertion `join-&gt;best_read &lt; ((double)1.79..5e+308L)&#39; failed 
     in greedy_search with LEFT JOINs and unique keys
**** Backport the fix for lpbug#806524 from MariaDB 5.3
* maria53rev:3520 [merge]
  &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Fri 2012-05-11 11:40:23 +0300&lt;&lt;/style&gt;&gt;
** Merge 5.2-&gt;5.3
** maria53rev:2732.53.44
   &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Fri 2012-05-11 09:35:46 +0300&lt;&lt;/style&gt;&gt;
*** fix for lpbug#994392
*** The not_null_tables() of Item_func_not_all and Item_in_optimizer was inherited from
    Item_func by mistake. It made the optimizer think that  subquery
    predicates with ALL/ANY/IN were null-rejecting. This could trigger invalid
    conversions of outer joins into inner joins.
** maria53rev:2732.53.43
   &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Thu 2012-05-10 09:00:21 +0300&lt;&lt;/style&gt;&gt;
*** Fixed typo
** maria53rev:2732.53.42
   &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Tue 2012-05-08 12:38:22 +0200&lt;&lt;/style&gt;&gt;
*** MDEV-262 : log_state occationally fails in buildbot. 
*** The failures are  missing entries in the slow query log.  The reason for
    the failure  are sleep() calls  with short duration 10ms, which is less
    than the default system timer resolution for various WaitForXXXObject
    functions (15.6 ms) and thus can&#39;t work reliably.
*** The fix is to make sleeps tiny bit longer (20ms from 10ms) in the test.
** maria53rev:2732.53.41
   &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Tue 2012-05-08 00:26:41 +0200&lt;&lt;/style&gt;&gt;
*** fixes lpbug:994156
*** MDEV-261 : mysqtest crashes when assigning variable to result of select , like &lt;&lt;code lang=text inline=false&gt;&gt;let x = `SELECT &lt;something&gt;`&lt;&lt;/code&gt;&gt;
*** The fix is to detect the condition &#34;no active connection&#34;,  to report error and die.
*** Note, that the check for no active connection was already in place for ordinary commands, 
    and was missing only for assign-variable command.
** maria53rev:2732.53.40
   &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Mon 2012-05-07 13:26:34 +0300&lt;&lt;/style&gt;&gt;
*** Fix for lpbug#993726
*** Optimization of aggregate functions detected constant under max() and
    evalueted it, but condition in the WHWRE clause (which is always FALSE) was
    not taken into account
** maria53rev:2732.53.39
   &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Mon 2012-05-07 11:02:58 +0300&lt;&lt;/style&gt;&gt;
*** Fix for bug lpbug:992405
*** The patch backports two patches from mysql 5.6:
**** BUG#12640437: USING SQL_BUFFER_RESULT RESULTS IN A DIFFERENT QUERY OUTPUT
**** Bug#12578908: SELECT SQL_BUFFER_RESULT OUTPUTS TOO MANY ROWS WHEN GROUP IS OPTIMIZED AWAY&lt;&lt;code lang=text inline=false&gt;&gt;Original comment:
-----------------
3714 Jorgen Loland	2012-03-01
      BUG#12640437 - USING SQL_BUFFER_RESULT RESULTS IN A DIFFERENT 
                      QUERY OUTPUT
      .
      For all but simple grouped queries, temporary tables are used to
      resolve grouping. In these cases, the list of grouping fields is
      stored in the temporary table and grouping is resolved
      there (e.g. by adding a unique constraint on the involved
      fields). Because of this, grouping is already done when the rows
      are read from the temporary table.
      .
      In the case where a group clause may be optimized away, grouping
      does not have to be resolved using a temporary table. However, if
      a temporary table is explicitly requested (e.g. because the
      SQL_BUFFER_RESULT hint is used, or the statement is
      INSERT...SELECT), a temporary table is used anyway. In this case,
      the temporary table is created with an empty group list (because
      the group clause was optimized away) and it will therefore not
      create groups. Since the temporary table does not take care of
      grouping, JOIN::group shall not be set to false in 
      make_simple_join(). This was fixed in bug 12578908. 
      .
      However, there is an exception where make_simple_join() should
      set JOIN::group to false even if the query uses a temporary table
      that was explicitly requested but is not strictly needed. That
      exception is if the loose index scan access method (explain
      says &#34;Using index for group-by&#34;) is used to read into the 
      temporary table. With loose index scan, grouping is resolved 
      by the access method. This is exactly what happens in this bug.
&lt;&lt;/code&gt;&gt;
** maria53rev:2732.53.38
   &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Thu 2012-05-03 14:49:52 +0300&lt;&lt;/style&gt;&gt;
*** Fix lpbug:993745
*** This is a backport of the fix for MySQL bug #13723054 in 5.6.
*** Original comment:&lt;&lt;code lang=text inline=false&gt;&gt;The crash is caused by arbitrary memory area owerwriting in case of
BLOB fields during attempt to copy BLOB field key image into record
buffer(record buffer is too small to get BLOB key part image).
note:
QUICK_GROUP_MIN_MAX_SELECT can not work with BLOB fields
because it uses record buffer as temporary buffer for key values
however this case is filtered out by covering_keys() check
in get_best_group_min_max() as BLOBs always require key length
modificator in the key declaration and if the key has a BLOB
then it can not be covered key.
The fix is to use &#39;max_used_key_length&#39; key length instead of 0.
&lt;&lt;/code&gt;&gt;
*** Analysis:
****none Spcifically the crash in this bug was a result of the call to key_copy()
     that copied the whole key, inlcuding the BLOB field which is not used
     for index access. Copying the blob field overwrote memory as far as the
     function parameter &#39;key_info&#39;. As a result the contents of key_info was
     all 0, which resulted in a crash when this key_info was accessed few
     lines below in key_cmp().
* maria53rev:3519
  &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Tue 2012-05-08 20:58:41 +0300&lt;&lt;/style&gt;&gt;
** Fix compiler warnings.
* maria53rev:3518
  &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Tue 2012-05-08 19:13:26 +0300&lt;&lt;/style&gt;&gt;
** Addition to the fix to lpbug#994275.
** It is problem of constant propagated to ref* access method (the problem was hiden by using debug binaries for testing).
* maria53rev:3517
  &lt;&lt;style style=&#34;color:gray;font-size:0.8em;font-style:italic;&#34;&gt;&gt;Mon 2012-05-07 21:14:37 +0300&lt;&lt;/style&gt;&gt;
** lpbug#994275 fix.
** In 5.3 we substitute constants in ref access values it can&#39;t be null so we do not need add NOT NULL for early NULL filtering.</textarea>
    


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/services" title="Services">Services</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">About Us</a></h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/download" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2025 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.1587e3a666fc.js" charset="utf-8"></script>

</html>