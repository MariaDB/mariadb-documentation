<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>FLUSH - Source - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.f7633538c846.css" rel="stylesheet" type="text/css" />

    
        <meta name="robots" content="noindex, nofollow">
    

    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="FLUSH - Source" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/en/flush/+source/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="" />

    <meta name="description" content="" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes autoresize nodes_source jqui" id="nodes_source">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/flush/+source/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2024 MariaDB. All rights reserved.</p>
    </div>
</div>
<div class="violator-wrap d-none" id="top_violator">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12">
                <div class="violator-outer">
                    <div class="violator-inner">
                        <div class="row">
                            <div class="col-xs-12 col-sm-9 col-lg-7 col-lg-offset-2" id="top_violator_content">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="content-link" target="_blank" rel="nofollow noreferrer">
                                    <span>The Ultimate Guide to High Availability with MariaDB</span>
                                </a>
                            </div>
                            <div class="col-xs-12 col-sm-3" id="top_violator_cta">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="btn btn-mariadb" target="_blank" rel="nofollow noreferrer">Download Now</a>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn btn-link close-btn">
                        <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" width="15px" height="15px"><path d="M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/flush/+source/" rel="nofollow">Login</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/en/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/en/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/services" title="Services">Services</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="About Us">About Us</a>
    </li>
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/en/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/en/documentation/">MariaDB Server Documentation</a>
    

    
    » <a class="crumb" href="/kb/en/using-mariadb-server/">Using MariaDB Server</a>
    

    
    » <a class="crumb" href="/kb/en/sql-statements-structure/">SQL Statements &amp; Structure</a>
    

    
    » <a class="crumb" href="/kb/en/sql-statements/">SQL Statements</a>
    

    
    » <a class="crumb" href="/kb/en/administrative-sql-statements/">Administrative SQL Statements</a>
    

    
    » <a class="crumb" href="/kb/en/flush-commands/">FLUSH Commands</a>
    


    » <a class="node_link crumb" href="/kb/en/flush/">FLUSH</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/en/">Home</a></li>
                            
                                
                                    <li><a href="/kb/en/+questions/">Open Questions</a></li>
                                
                                <li><a href="/kb/en/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/en/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/en/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/en/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
                        <div>
    

<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-small" href="/kb/en/flush/">Return to article</a>
    
</div>
</div>

</div>
                    

                    

































                </aside>
            
            
            
                
            
            
            <section id="content" class="limited_width col-md-10 clearfix">
                
                    <h1>FLUSH - Source</h1>
                

                



                <div>
                    

    

    
    <div class="revision_info">
        <dl class="table">
            <dt>Revision</dt>
            <dd><a href="/kb/en/flush/+r/143809/">143809</a></dd>
            <dt>User</dt>
            <dd>
<span class="user" id="user-2">
<a href="/kb/user/id/2" title="Daniel Bartholomew">Daniel Bartholomew</a>
</span></dd>
            <dt>Date</dt>
            <dd>

<span class="datetime" title="2024-10-07 21:15">2024-10-07 21:15</span></dd>
        </dl>
    </div>
    


    

    
        
        <textarea id="answer_source" class="creole_source autogrow">== Syntax

&lt;&lt;code&gt;&gt;
FLUSH [NO_WRITE_TO_BINLOG | LOCAL]
    flush_option [, flush_option] ...
&lt;&lt;/code&gt;&gt;

or when flushing tables:

&lt;&lt;code&gt;&gt;
FLUSH [NO_WRITE_TO_BINLOG | LOCAL] TABLES [table_list]  [table_flush_option]
&lt;&lt;/code&gt;&gt;
&lt;&lt;toc&gt;&gt;
where ##table_list## is a list of tables separated by ##,## (comma).

== Description

The ##FLUSH## statement clears or reloads various internal caches used by
MariaDB. To execute ##FLUSH##, you must have the ##RELOAD##
privilege. See [[grant|GRANT]].

The &lt;&lt;code&gt;&gt;RESET&lt;&lt;/code&gt;&gt; statement is similar to ##FLUSH##. See
[[reset|RESET]].

You cannot issue a FLUSH statement from within a [[stored-functions|stored function]] or a [[triggers|trigger]]. Doing so within a stored procedure is permitted, as long as it is not called by a stored function or trigger. See [[stored-routine-limitations|Stored Routine Limitations]], [[stored-function-limitations|Stored Function Limitations]] and [[trigger-limitations|Trigger Limitations]].

If a listed table is a view, an error like the following will be produced:
&lt;&lt;code wrap=true&gt;&gt;
ERROR 1347 (HY000): &#39;test.v&#39; is not BASE TABLE
&lt;&lt;/code&gt;&gt;

By default, ##FLUSH## statements are written to the [[binary-log|binary log]] and will be [[replication|replicated]]. The ##NO_WRITE_TO_BINLOG## keyword (##LOCAL## is an alias) will ensure the statement is not written to the binary log. 

\\\\\\The different flush options are:\\\\\\\\

&lt;&lt;style class=&#34;darkheader-nospace-borders&#34;&gt;&gt;
|= Option |= Description
| ##CHANGED_PAGE_BITMAPS## | [[about-xtradb|XtraDB]] only. Internal command used for backup purposes. See the [[information-schema-changed_page_bitmaps-table|Information Schema CHANGED_PAGE_BITMAPS Table]].
| ##CLIENT_STATISTICS## | Reset client statistics (see [[show-client-statistics|SHOW CLIENT_STATISTICS]]).
| ##DES_KEY_FILE## | Reloads the DES key file (Specified with the [[mysqld-options-full-list|--des-key-file startup option]]).
| ##HOSTS## | Flush the hostname cache (used for converting ip to host names and for unblocking blocked hosts. See [[server-system-variables#max_connect_errors|max_connect_errors]] and [[performance-schema-host_cache-table|performance_schema.host_cache]]
| ##INDEX_STATISTICS## | Reset index statistics (see [[show-index-statistics|SHOW INDEX_STATISTICS]]).
| ##&lt;&lt;code&gt;&gt;[ERROR | ENGINE | GENERAL | SLOW | RELAY] LOGS&lt;&lt;/code&gt;&gt;## | Close and reopen the specified log type, or all log types if none are specified. ##FLUSH RELAY LOGS [connection-name]## can be used to flush the relay logs for a specific connection. Only one connection can be specified per ##FLUSH## command. See [[multi-source-replication|Multi-source replication]]. ##FLUSH ENGINE LOGS## will delete all unneeded [[aria|Aria]] redo logs. ##FLUSH BINARY LOGS DELETE_DOMAIN_ID=(list-of-domains)## can be used to discard obsolete [[gtid|GTID]] domains from the server&#39;s [[binary-log|binary log]] state. In order for this to be successful, no event group from the listed [[gtid|GTID]] domains can be present in existing [[binary-log|binary log]] files. If some still exist, then they must be purged prior to executing this command. If the command completes successfully, then it also rotates the [[binary-log|binary log]].
| ##BINARY LOGS## | ##FLUSH BINARY LOGS## rotates the current [[binary-log|binary log]].
| ##BINARY LOGS DELETE_DOMAIN_ID=(list-of-domains)## | ##FLUSH BINARY LOGS DELETE_DOMAIN_ID## can be used to discard obsolete [[gtid|GTID]] domains from the server&#39;s [[binary-log|binary log]] state. In order for this to be successful, no event group from the listed [[gtid|GTID]] domains can be present in existing [[binary-log|binary log]] files. If some still exist, then they must be purged prior to executing this command. If the command completes successfully, then it also rotates the [[binary-log|binary log]].
| ##MASTER## | Deprecated option, use [[reset|RESET MASTER]] instead.
| ##PRIVILEGES## | Reload all privileges from the privilege tables in the ##mysql## database. If the server is started with ##--skip-grant-table## option, this will activate the privilege tables again.
| ##[[flush-query-cache|QUERY CACHE]]## | Defragment the [[query-cache|query cache]] to better utilize its memory. If you want to reset the query cache, you can do it with [[reset|RESET QUERY CACHE]].
| ##QUERY_RESPONSE_TIME## | See the [[query_response_time-plugin|QUERY_RESPONSE_TIME]] plugin.
| ##QUERY_RESPONSE_TIME_READ## | See the [[query_response_time-plugin|QUERY_RESPONSE_TIME]] plugin. From MariaDB 11.5.
| ##QUERY_RESPONSE_TIME_READ_WRITE## | See the [[query_response_time-plugin|QUERY_RESPONSE_TIME]] plugin. From MariaDB 11.5.
| ##QUERY_RESPONSE_TIME_WRITE## | See the [[query_response_time-plugin|QUERY_RESPONSE_TIME]] plugin. From MariaDB 11.5.
| ##SLAVE## | Deprecated option, use [[reset-replica|RESET REPLICA or RESET SLAVE]] instead.
| ##SSL##| Used to dynamically reinitialize the server&#39;s [[data-in-transit-encryption|TLS]] context by reloading the files defined by several [[ssltls-system-variables|TLS system variables]]. See [[#flush-ssl|FLUSH SSL]] for more information.
| ##&lt;&lt;code&gt;&gt;[ GLOBAL | SESSION ] STATUS&lt;&lt;/code&gt;&gt;## | Resets all [[server-status-variables|server status variables]] that can be reset to 0. Not all global status variables support this, so not all global values are reset. From MariaDB 11.5, ##GLOBAL## or ##SESSION## can be specified. See [[#flush-status|FLUSH STATUS]] for more information.
| ##TABLE##  | Close tables given as options or all open tables if no table list was used. From MariaDB 10.4.1, using without any table list will only close tables not in use, and tables not locked by the FLUSH TABLES connection. If there are no locked tables, FLUSH TABLES will be instant and will not cause any waits, as it no longer waits for tables in use. When a table list is provided, from MariaDB 10.4.1, the server will wait for the end of any transactions that are using the tables. Previously, FLUSH TABLES only waited for the statements to complete.
| ##TABLES## | Same as ##FLUSH TABLE##.
| ##[[flush-tables-for-export|TABLES ... FOR EXPORT]]## | For InnoDB tables, flushes table changes to disk to permit binary table copies while the server is running. See [[flush-tables-for-export|FLUSH TABLES ... FOR EXPORT]] for more.
| ##TABLES WITH READ LOCK## | Closes all open tables. New tables are only allowed to be opened with read locks until an [[transactions-unlock-tables|UNLOCK TABLES]] is given.
| ##TABLES WITH READ LOCK AND DISABLE CHECKPOINT## | As ##TABLES WITH READ LOCK## but also disable all checkpoint writes by transactional table engines. This is useful when doing a disk snapshot of all tables.
| ##TABLE_STATISTICS## | Reset table statistics (see [[show-table-statistics|SHOW TABLE_STATISTICS]]).
| ##USER_RESOURCES## | Resets all per hour [[grant#setting-per-account-resources-limits|user resources]]. This enables clients that have exhausted their resources to connect again.
| ##USER_STATISTICS## | Reset user statistics (see [[show-user-statistics|SHOW USER_STATISTICS]]).
| ##USER_VARIABLES## | Reset user variables (see [[user-defined-variables|User-defined variables]]).
&lt;&lt;/style&gt;&gt;

You can also use the [[mariadb-admin|mariadb-admin]] client to flush things. Use &lt;&lt;fixed&gt;&gt;mariadb-admin --help&lt;&lt;/fixed&gt;&gt; to examine what flush commands it supports.

== ##FLUSH RELAY LOGS##

&lt;&lt;sql&gt;&gt;
FLUSH RELAY LOGS &#39;connection_name&#39;;
&lt;&lt;/sql&gt;&gt;

=== Compatibility with MySQL
&lt;&lt;product MariaDB from=10.7.0&gt;&gt;
The ##FOR CHANNEL## keyword was added for MySQL compatibility. This is identical to
using the channel_name directly after the ##FLUSH command##.

For example, one can now use:
&lt;&lt;sql&gt;&gt;
FLUSH RELAY LOGS FOR CHANNEL &#39;connection_name&#39;;
&lt;&lt;/sql&gt;&gt;
&lt;&lt;/product&gt;&gt;

== FLUSH STATUS

[[server-status-variables|Server status variables]] can be reset by executing the following:

&lt;&lt;sql&gt;&gt;
FLUSH STATUS;
&lt;&lt;/sql&gt;&gt; 

This requires the [[grant/#reload|RELOAD]] privilege

Until MariaDB 11.5, the variables flushed are mainly session, but also some global. Not all session (or global) variables are flushed - the decision was made per variable.
 
&lt;&lt;product mariadb from=11.5&gt;&gt;
From MariaDB 11.5 it is possible to specify FLUSH GLOBAL or FLUSH SESSION. Flushing of global status variables has been moved to ##FLUSH GLOBAL STATUS## (in MariaDB 11.5, this flushes only the global variables previously flushed by ##FLUSH STATUS##. In a future release, it is intended for this to reset all global summary variables.) ##FLUSH SESSION STATUS## is a synonym for ##FLUSH STATUS##. 

One can use ##old-mode=OLD_FLUSH_STATUS## to restore the old behavior of the ##FLUSH STATUS##.
&lt;&lt;/product&gt;&gt;

=== Global Status Variables that Support ##FLUSH STATUS##

Not all global status variables support being reset by ##FLUSH STATUS##. Currently, the following is an incomplete list of status variables are reset by ##FLUSH GLOBAL STATUS## in 11.5 or ##FLUSH STATUS## in earlier versions:

* [[server-status-variables/#aborted_clients|Aborted_clients]]
* [[server-status-variables/#aborted_connects|Aborted_connects]]
* [[replication-and-binary-log-status-variables/#binlog_cache_disk_use|Binlog_cache_disk_use]]
* [[replication-and-binary-log-status-variables/#binlog_cache_use|Binlog_cache_use]]
* [[replication-and-binary-log-status-variables/#binlog_stmt_cache_disk_use|Binlog_stmt_cache_disk_use]]
* [[replication-and-binary-log-status-variables/#binlog_stmt_cache_use|Binlog_stmt_cache_use]]
* [[server-status-variables/#connection_errors_accept|Connection_errors_accept]]
* [[server-status-variables/#connection_errors_internal|Connection_errors_internal]]
* [[server-status-variables/#connection_errors_max_connections|Connection_errors_max_connections]]
* [[server-status-variables/#connection_errors_peer_address|Connection_errors_peer_address]]
* [[server-status-variables/#connection_errors_select|Connection_errors_select]]
* [[server-status-variables/#connection_errors_tcpwrap|Connection_errors_tcpwrap]]
* [[server-status-variables/#created_tmp_files|Created_tmp_files]]
* [[server-status-variables/#delayed_errors|Delayed_errors]]
* [[server-status-variables/#delayed_writes|Delayed_writes]]
* [[server-status-variables/#feature_check_constraint|Feature_check_constraint]]
* [[server-status-variables/#feature_delay_key_write|Feature_delay_key_write]]
* [[server-status-variables/#max_used_connection_time|Max_used_connection_time]]
* [[server-status-variables/#max_used_connections|Max_used_connections]]
* [[server-status-variables/#opened_plugin_libraries|Opened_plugin_libraries]]
* [[performance-schema-status-variables#performance_schema_accounts_lost|Performance_schema_accounts_lost]]
* [[performance-schema-status-variables#performance_schema_cond_instances_lost|Performance_schema_cond_instances_lost]]
* [[performance-schema-status-variables#performance_schema_digest_lost|Performance_schema_digest_lost]]
* [[performance-schema-status-variables#performance_schema_file_handles_lost|Performance_schema_file_handles_lost]]
* [[performance-schema-status-variables#performance_schema_file_instances_lost|Performance_schema_file_instances_lost]]
* [[performance-schema-status-variables#performance_schema_hosts_lost|Performance_schema_hosts_lost]]
* [[performance-schema-status-variables#performance_schema_locker_lost|Performance_schema_locker_lost]]
* [[performance-schema-status-variables#performance_schema_mutex_instances_lost|Performance_schema_mutex_instances_lost]]
* [[performance-schema-status-variables#performance_schema_rwlock_instances_lost|Performance_schema_rwlock_instances_lost]]
* [[performance-schema-status-variables#performance_schema_session_connect_attrs_lost|Performance_schema_session_connect_attrs_lost]]
* [[performance-schema-status-variables#performance_schema_socket_instances_lost|Performance_schema_socket_instances_lost]]
* [[performance-schema-status-variables#performance_schema_stage_classes_lost|Performance_schema_stage_classes_lost]]
* [[performance-schema-status-variables#performance_schema_statement_classes_lost|Performance_schema_statement_classes_lost]]
* [[performance-schema-status-variables#performance_schema_table_handles_lost|Performance_schema_table_handles_lost]]
* [[performance-schema-status-variables#performance_schema_table_instances_lost|Performance_schema_table_instances_lost]]
* [[performance-schema-status-variables#performance_schema_thread_instances_lost|Performance_schema_thread_instances_lost]]
* [[performance-schema-status-variables#performance_schema_users_lost|Performance_schema_users_lost]]
* [[server-status-variables/#qcache_hits|Qcache_hits]]
* [[server-status-variables/#qcache_inserts|Qcache_inserts]]
* [[server-status-variables/#qcache_lowmem_prunes|Qcache_lowmem_prunes]]
* [[server-status-variables/#qcache_not_cached|Qcache_not_cached]]
* [[semisynchronous-replication-plugin-status-variables/#rpl_semi_sync_master_no_times|Rpl_semi_sync_master_no_times]]
* [[semisynchronous-replication-plugin-status-variables/#rpl_semi_sync_master_no_tx|Rpl_semi_sync_master_no_tx]]
* [[semisynchronous-replication-plugin-status-variables/#rpl_semi_sync_master_timefunc_failures|Rpl_semi_sync_master_timefunc_failures]]
* [[semisynchronous-replication-plugin-status-variables/#rpl_semi_sync_master_wait_pos_backtraverse|Rpl_semi_sync_master_wait_pos_backtraverse]]
* [[semisynchronous-replication-plugin-status-variables/#rpl_semi_sync_master_yes_tx|Rpl_semi_sync_master_yes_tx]]
* [[replication-and-binary-log-status-variables/#rpl_transactions_multi_engine|Rpl_transactions_multi_engine]]
* [[mariadb-audit-plugin-status-variables/#server_audit_writes_failed|Server_audit_writes_failed]]
* [[replication-and-binary-log-status-variables/#slave_retried_transactions|Slave_retried_transactions]]
* [[server-status-variables/#slow_launch_threads|Slow_launch_threads]]
* [[ssltls-status-variables/#ssl_accept_renegotiates|Ssl_accept_renegotiates]]
* [[ssltls-status-variables/#ssl_accepts|Ssl_accepts]]
* [[ssltls-status-variables/#ssl_callback_cache_hits|Ssl_callback_cache_hits]]
* [[ssltls-status-variables/#ssl_client_connects|Ssl_client_connects]]
* [[ssltls-status-variables/#ssl_connect_renegotiates|Ssl_connect_renegotiates]]
* [[ssltls-status-variables/#ssl_ctx_verify_depth|Ssl_ctx_verify_depth]]
* [[ssltls-status-variables/#ssl_ctx_verify_mode|Ssl_ctx_verify_mode]]
* [[ssltls-status-variables/#ssl_finished_accepts|Ssl_finished_accepts]]
* [[ssltls-status-variables/#ssl_finished_connects|Ssl_finished_connects]]
* [[ssltls-status-variables/#ssl_session_cache_hits|Ssl_session_cache_hits]]
* [[ssltls-status-variables/#ssl_session_cache_misses|Ssl_session_cache_misses]]
* [[ssltls-status-variables/#ssl_session_cache_overflows|Ssl_session_cache_overflows]]
* [[ssltls-status-variables/#ssl_session_cache_size|Ssl_session_cache_size]]
* [[ssltls-status-variables/#ssl_session_cache_timeouts|Ssl_session_cache_timeouts]]
* [[ssltls-status-variables/#ssl_sessions_reused|Ssl_sessions_reused]]
* [[ssltls-status-variables/#ssl_used_session_cache_entries|Ssl_used_session_cache_entries]]
* [[server-status-variables/#subquery_cache_hit|Subquery_cache_hit]]
* [[server-status-variables/#subquery_cache_miss|Subquery_cache_miss]]
* [[server-status-variables/#table_locks_immediate|Table_locks_immediate]]
* [[server-status-variables/#table_locks_waited|Table_locks_waited]]
* [[server-status-variables/#tc_log_max_pages_used|Tc_log_max_pages_used]]
* [[server-status-variables/#tc_log_page_waits|Tc_log_page_waits]]
* [[replication-and-binary-log-status-variables/#transactions_gtid_foreign_engine|Transactions_gtid_foreign_engine]]
* [[replication-and-binary-log-status-variables/#transactions_multi_engine|Transactions_multi_engine]]

== The different usage of FLUSH TABLES

=== Purpose of FLUSH TABLES

The purpose of ##FLUSH TABLES## is to clean up the open table cache and
table definition cache of tables that are not in use. This frees up memory
and file descriptors. Normally this is not needed as the caches works
on a first-in, first-out basis, but can be useful if the server seems to use too
much memory for some reason.

=== Purpose of FLUSH TABLES WITH READ LOCK

##FLUSH TABLES WITH READ LOCK## is useful if you want to take a backup
of some tables.  When ##FLUSH TABLES WITH READ LOCK## returns, all
write access to tables is blocked and all tables are marked as
&#39;properly closed&#39; on disk.  The tables can still be used for read
operations.

=== Purpose of FLUSH TABLES table_list

##FLUSH TABLES## table_list is useful if you want to copy a table
object or files to or from the server. This command puts a lock that
stops new users of the table and will wait until everyone has stopped
using the table. The table is then removed from the table definition
and table cache.

Note that it&#39;s up to the user to ensure that no one is accessing the
table between ##FLUSH TABLES## and the table is copied to or from the
server. This can be secured by using [[lock-tables|LOCK TABLES]].

If there are any tables locked by the connection that is using ##FLUSH TABLES## all the locked tables will be closed as part of the flush and
reopened and relocked before ##FLUSH TABLES## returns. This allows one
to copy the table after ##FLUSH TABLES## returns without having any
writes on the table.  For now this works works with most tables,
except InnoDB as InnoDB may do background purges on the table even
while it&#39;s write locked.
 
=== Purpose of FLUSH TABLES table_list WITH READ LOCK

##FLUSH TABLES table_list WITH READ LOCK## should work as ##FLUSH TABLES WITH READ LOCK##, but only those tables that are listed will be
properly closed.  However in practice this works exactly like ##FLUSH TABLES WITH READ LOCK## as the ##FLUSH## command has anyway to wait
for all WRITE operations to end because we are depending on a global
read lock for this code.  In the future we should consider fixing this
to instead use meta data locks.

== Implementation of FLUSH TABLES commands from MariaDB 10.4.8

=== Implementation of FLUSH TABLES

* Free memory and file descriptors not in use

=== Implementation of FLUSH TABLES WITH READ LOCK

* Lock all tables read only for simple old style backup.
* All background writes are suspended and tables are marked as closed.
* No statement requiring table changes are allowed for any user until ##UNLOCK TABLES##.

Instead of using ##FLUSH TABLE WITH READ LOCK## one should in most cases instead use
[[backup-stage|BACKUP STAGE BLOCK_COMMIT]].

=== Implementation of FLUSH TABLES table_list

* Free memory and file descriptors for tables not in use from table list.
* Lock given tables as read only.
* Wait until all translations has ended that uses any of the given tables.
* Wait until all background writes are suspended and tables are marked as closed.

=== Implementation of FLUSH TABLES table_list FOR EXPORT

* Free memory and file descriptors for tables not in use from table list
* Lock given tables as read.
* Wait until all background writes are suspended and tables are marked as closed.
* Check that all tables supports ##FOR EXPORT##
* No changes to these tables allowed until ##UNLOCK TABLES##

This is basically the same behavior as in old MariaDB version if one first lock the tables, then do
##FLUSH TABLES##.  The tables will be copyable until ##UNLOCK TABLES##.

== FLUSH SSL

In MariaDB 10.4 and later, the ##FLUSH SSL## command can be used to dynamically reinitialize the server&#39;s [[data-in-transit-encryption|TLS]] context. This is most useful if you need to replace a certificate that is about to expire without restarting the server.

This operation is performed by reloading the files defined by the following [[ssltls-system-variables|TLS system variables]]:

* [[ssltls-system-variables/#ssl_cert|ssl_cert]]
* [[ssltls-system-variables/#ssl_key|ssl_key]]
* [[ssltls-system-variables/#ssl_ca|ssl_ca]]
* [[ssltls-system-variables/#ssl_capath|ssl_capath]]
* [[ssltls-system-variables/#ssl_crl|ssl_crl]]
* [[ssltls-system-variables/#ssl_crlpath|ssl_crlpath]]

These [[ssltls-system-variables|TLS system variables]] are not dynamic, so their values can **not** be changed without restarting the server.

If you want to dynamically reinitialize the server&#39;s [[data-in-transit-encryption|TLS]] context, then you need to change the certificate and key files at the relevant paths defined by these [[ssltls-system-variables|TLS system variables]], without actually changing the values of the variables. See MDEV-19341 for more information.

== Reducing Memory Usage

To flush some of the global caches that take up memory, you could execute the following command:

&lt;&lt;sql&gt;&gt;
FLUSH LOCAL HOSTS,
   QUERY CACHE, 
   TABLE_STATISTICS, 
   INDEX_STATISTICS, 
   USER_STATISTICS;
&lt;&lt;/sql&gt;&gt;</textarea>
    


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/services" title="Services">Services</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">About Us</a></h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/download" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2024 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.1587e3a666fc.js" charset="utf-8"></script>

</html>