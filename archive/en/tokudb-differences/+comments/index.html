



<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>
Comments - TokuDB Differences
 - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.f7633538c846.css" rel="stylesheet" type="text/css" />

    

    
        <meta name="robots" content="noindex, nofollow" />
    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="
Comments - TokuDB Differences
" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/en/tokudb-differences/+comments" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="" />

    <meta name="description" content="" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes node_comments jqui" id="node_comments">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/tokudb-differences/+comments"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2024 MariaDB. All rights reserved.</p>
    </div>
</div>
<div class="violator-wrap d-none" id="top_violator">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12">
                <div class="violator-outer">
                    <div class="violator-inner">
                        <div class="row">
                            <div class="col-xs-12 col-sm-9 col-lg-7 col-lg-offset-2" id="top_violator_content">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="content-link" target="_blank" rel="nofollow noreferrer">
                                    <span>The Ultimate Guide to High Availability with MariaDB</span>
                                </a>
                            </div>
                            <div class="col-xs-12 col-sm-3" id="top_violator_cta">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="btn btn-mariadb" target="_blank" rel="nofollow noreferrer">Download Now</a>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn btn-link close-btn">
                        <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" width="15px" height="15px"><path d="M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/tokudb-differences/+comments" rel="nofollow">Login</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/en/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/en/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/services" title="Services">Services</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="About Us">About Us</a>
    </li>
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/en/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/en/documentation/">MariaDB Server Documentation</a>
    

    
    » <a class="crumb" href="/kb/en/columns-storage-engines-and-plugins/">Columns, Storage Engines, and Plugins</a>
    

    
    » <a class="crumb" href="/kb/en/storage-engines/">Storage Engines</a>
    

    
    » <a class="crumb" href="/kb/en/tokudb/">TokuDB</a>
    


    » <a class="node_link crumb" href="/kb/en/tokudb-differences/">TokuDB Differences</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
            
            
            
            <section id="content" class="limited_width col-md-12 clearfix">
                
                    <h1>
Comments - TokuDB Differences
</h1>
                

                



                <div>
                    
<div id="comments" data-node-id="3821" data-comments-url="/kb/en/tokudb-differences/+comments"
        data-reply-url="/kb/en/tokudb-differences/comments/post/">
<div class="comment_top_menu hidden-print">&nbsp;
            <div class="pull-right">
                <label>
                    Include Archived
                    <input id="include_archived" type="checkbox" name="include_archived" value="1"
                           />
                </label>
            </div>
        </div>
        <a name="comment_1166"></a>
        <div class="comment approved" style="margin-left: 0px">
            <div class="info">
                

<span class="datetime" title="2014-04-08 23:03">10 years, 7 months ago</span>
                
<span class="user" id="user-1176">
<a href="/kb/user/id/1176" title="Jean Weisbuch">Jean Weisbuch</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_1166">Check the compression format of the tables</a>
                
            </div><div class="comment_text">
                <p>Here is a simple one liner to check the compression format of the TokuDB data files using the <em>tokuftdump</em> tool :</p>
<pre>mysql -sNe 'SELECT dictionary_name, internal_file_name FROM information_schema.tokudb_file_map WHERE dictionary = "main" OR dictionary LIKE "key-%"' |perl -F'\t' -ane '@out=qx(tokuftdump --nodata --rootnode /var/lib/mysql/$F[1]); foreach $ftdump (@out) { if($ftdump=~/^ compression_method=([0-9]+)$/) { print $F[0]."\t".$1."\n"; last } }'</pre>
<p>(don't forget to ajust to your datadir path if its not <em>/var/lib/mysql</em>)</p>
<p>The integer corresponds to the compression format, 0 is uncompressed, 8 is ZLIB and 10 is LZMA, the other format correspondances can be found on <em><a href="https://github.com/Tokutek/ft-index/blob/76ffa8a810901a2fb60b01703be8feb7d9f78a97/buildheader/make_tdb.cc#L693">make_tdb.cc</a></em></p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/tokudb-differences/+comments/1166/flag"
                       data-flag-url="/kb/en/tokudb-differences/+comments/1166/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        <a name="comment_1212"></a>
        <div class="comment approved" style="margin-left: 10px">
            <div class="info">
                

<span class="datetime" title="2014-05-05 13:57">10 years, 7 months ago</span>
                
<span class="user" id="user-1176">
<a href="/kb/user/id/1176" title="Jean Weisbuch">Jean Weisbuch</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_1212">Re: Check the compression format of the tables</a>
                
            </div><div class="comment_text">
                <p>On MariaDB5.5.37, the column "dictionary" has changed for "table_dictionary_name", so the right command is now :</p>
<pre>mysql -sNe 'SELECT dictionary_name, internal_file_name FROM information_schema.tokudb_file_map WHERE table_dictionary_name = "main" OR table_dictionary_name LIKE "key-%"' |perl -F'\t' -ane '@out=qx(tokuftdump --nodata --rootnode /var/lib/mysql/$F[1]); foreach $ftdump (@out) { if($ftdump=~/^ compression_method=([0-9]+)$/) { print $F[0]."\t".$1."\n"; last } }'</pre>
<p>Also note that the ZLIB compressed tables are having the value of 11 and not 8 as stated previously.</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/tokudb-differences/+comments/1212/flag"
                       data-flag-url="/kb/en/tokudb-differences/+comments/1212/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        <a name="comment_1964"></a>
        <div class="comment approved" style="margin-left: 20px">
            <div class="info">
                

<span class="datetime" title="2016-02-05 12:00">8 years, 10 months ago</span>
                
<span class="user" id="user-3555">
<a href="/kb/user/id/3555" title="Sergei Khomutov">Sergei Khomutov</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_1964">Re: Check the compression format of the tables</a>
                
            </div><div class="comment_text">
                <p>Hi, it does not work for me. Versions : tokudb_version - 5.6.26-74.0 , version mariaDB - 10.1.10-MariaDB-1jessie-log. </p>
<p>I've added --header to tokuftdump command. Finally it works for me :</p>
<pre> mysql -sNe 'SELECT dictionary_name, internal_file_name FROM information_schema.tokudb_file_map WHERE table_dictionary_name = "main" OR table_dictionary_name LIKE "key-%"' |perl -F'\t' -ane '@out=qx(tokuftdump --nodata --header --rootnode /var/lib/mysql/$F[1]); foreach $ftdump (@out) { if($ftdump=~/^ compression_method=([0-9]+)$/) { print $F[0]."\t".$1."\n"; last } }' </pre>
<p>And i noticed that changing compression method changes size of table on disk. But command</p>
<pre> SELECT 
    table_name AS `Table`, 
    round(((data_length) / 1024 / 1024), 2) `Table  size in MB` ,
    round(((index_length) / 1024 / 1024), 2) `Index  size in MB` 
FROM information_schema.TABLES 
WHERE table_schema = &lt;table&gt;
order by `Table  size in MB` desc; </pre>
<p>shows the same size of tables for different compression methods.  Why  ? </p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/tokudb-differences/+comments/1964/flag"
                       data-flag-url="/kb/en/tokudb-differences/+comments/1964/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        
    

    

    

    
        <a name="comment_854"></a>
        <div class="comment approved" style="margin-left: 0px">
            <div class="info">
                

<span class="datetime" title="2013-09-23 12:58">11 years, 2 months ago</span>
                
<span class="user" id="user-1806">
<a href="/kb/user/id/1806" title="Pawel Pabian">Pawel Pabian</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_854">Clustering</a>
                
            </div><div class="comment_text">
                <p><strong>Documentation CLUSTERED keyword is not correct</strong></p>
<pre>
&gt; CREATE TABLE foo (id int, key (id) CLUSTERED=YES) ENGINE=TokuDB COMPRESSION=TOKUDB_LZMA;
ERROR 1911 (HY000): Unknown option 'CLUSTERED'
</pre>
<p>should be</p>
<pre>
&gt; CREATE TABLE foo (id int, key (id) CLUSTERING=YES) ENGINE=TokuDB COMPRESSION=TOKUDB_LZMA;
Query OK, 0 rows affected (0.01 sec)

&gt; show create table foo\G
*************************** 1. row ***************************
       Table: foo
Create Table: CREATE TABLE `foo` (
  `id` int(11) DEFAULT NULL,
  KEY `id` (`id`) `CLUSTERING`=YES
) ENGINE=TokuDB DEFAULT CHARSET=utf8 `COMPRESSION`=TOKUDB_LZMA
1 row in set (0.00 sec)
</pre>
<p><strong>It is not possible to create PARTITIONED table with CLUSTERING key in one go</strong></p>
<pre>
&gt; CREATE TABLE bar (id int, key (id) CLUSTERING=YES) ENGINE=TokuDB COMPRESSION=TOKUDB_LZMA PARTITION BY HASH(id) PARTITIONS 4;
ERROR 1911 (HY000): Unknown option 'CLUSTERING
</pre>
<p>but adding partitioning later works fine</p>
<pre>
&gt; CREATE TABLE bar (id int, key (id) CLUSTERING=YES) ENGINE=TokuDB COMPRESSION=TOKUDB_LZMA;
Query OK, 0 rows affected (0.02 sec)

&gt; ALTER TABLE bar PARTITION BY HASH(id) PARTITIONS 4;
Query OK, 0 rows affected (0.08 sec)
Records: 0  Duplicates: 0  Warnings: 0

&gt; SHOW CREATE TABLE bar\G
*************************** 1. row ***************************
       Table: bar
Create Table: CREATE TABLE `bar` (
  `id` int(11) DEFAULT NULL,
  KEY `id` (`id`) `CLUSTERING`=YES
) ENGINE=TokuDB DEFAULT CHARSET=utf8 `COMPRESSION`=TOKUDB_LZMA
/*!50100 PARTITION BY HASH (id)
PARTITIONS 4 */
1 row in set (0.00 sec)
</pre>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/tokudb-differences/+comments/854/flag"
                       data-flag-url="/kb/en/tokudb-differences/+comments/854/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        <a name="comment_2066"></a>
        <div class="comment approved" style="margin-left: 10px">
            <div class="info">
                

<span class="datetime" title="2016-02-29 09:44">8 years, 9 months ago</span>
                
<span class="user" id="user-3712">
<a href="/kb/user/id/3712" title="Mariusz Szot">Mariusz Szot</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_2066">Re: Clustering</a>
                
            </div><div class="comment_text">
                <p>If you want to add to the table and index partitioning, clustering,
it is only in the following order:</p>
<p>create table,</p>
<p>1. alter add .... clustering = yes</p>
<p>2. and alter table ... partition to ...</p>
<p>reverse order :</p>
<p>1. alter table ... partition to ...</p>
<p>2. alter add .... clustering = yes</p>
<p>not WORK, rror 1911 (HY000): Unknown option 'clustering'.</p>
<p>EXAMPLE:
drop table t1</p>
<p>   CREATE TABLE `t1` (
  `id_high` bigint(20) unsigned NOT NULL,
  `id_low` bigint(20) unsigned NOT NULL,
  `modified` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP
--  KEY `clstr_time` (`modified`) `clustering` = yes,
--   KEY `clstr_key_id_id` (`id_high`)  `clustering` = yes,
--   PRIMARY KEY (`modified`,`id_high`)
) ENGINE=TokuDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci</p>
<p>alter table n3.t1 add  PRIMARY KEY `t1_pk` (`modified` ASC, `id_high` ASC);
alter table t1 add key clstr_key  (`id_high`) CLUSTERING=YES;</p>
<p>ALTER TABLE t1  PARTITION BY RANGE (UNIX_TIMESTAMP(modified)) (
PARTITION p201410 VALUES LESS THAN (1414796400) ENGINE = TokuDB,
 PARTITION p201411 VALUES LESS THAN (1417388400) ENGINE = TokuDB,
 PARTITION p201412 VALUES LESS THAN (1420066800) ENGINE = TokuDB,
 PARTITION p201501 VALUES LESS THAN (1422745200) ENGINE = TokuDB,
 PARTITION p201502 VALUES LESS THAN (1425164400) ENGINE = TokuDB,
 PARTITION p201503 VALUES LESS THAN (1427839200) ENGINE = TokuDB,
 PARTITION p201504 VALUES LESS THAN (1430431200) ENGINE = TokuDB,
 PARTITION p201505 VALUES LESS THAN (1433109600) ENGINE = TokuDB,
 PARTITION p201506 VALUES LESS THAN (1435701600) ENGINE = TokuDB,
 PARTITION p201507 VALUES LESS THAN (1438380000) ENGINE = TokuDB,
 PARTITION p201508 VALUES LESS THAN (1441058400) ENGINE = TokuDB,
 PARTITION p201509 VALUES LESS THAN (1443650400) ENGINE = TokuDB,
 PARTITION p2015010 VALUES LESS THAN (1446332400) ENGINE = TokuDB,
 PARTITION p_max VALUES LESS THAN MAXVALUE ENGINE = TokuDB
);</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/tokudb-differences/+comments/2066/flag"
                       data-flag-url="/kb/en/tokudb-differences/+comments/2066/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        
    

    
        <a name="comment_855"></a>
        <div class="comment approved" style="margin-left: 10px">
            <div class="info">
                

<span class="datetime" title="2013-09-23 14:06">11 years, 2 months ago</span>
                
<span class="user" id="user-27">
<a href="/kb/user/id/27" title="Sergei Golubchik">Sergei Golubchik</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_855">Re: Clustering</a>
                
            </div><div class="comment_text">
                <p>I've fixed the CLUSTERING syntax, thanks.
As far as partitioning is concerned, I've reported a bug about it: <a href="https://mariadb.atlassian.net/browse/MDEV-5058">https://mariadb.atlassian.net/browse/MDEV-5058</a></p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/tokudb-differences/+comments/855/flag"
                       data-flag-url="/kb/en/tokudb-differences/+comments/855/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        
    

    

    
        <a name="comment_822"></a>
        <div class="comment approved" style="margin-left: 0px">
            <div class="info">
                

<span class="datetime" title="2013-09-13 11:28">11 years, 2 months ago</span>
                
<span class="user" id="user-1139">
<a href="/kb/user/id/1139" title="Tim Callaghan">Tim Callaghan</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_822">Re: TokuDB Differences</a>
                
            </div><div class="comment_text">
                <p>Since the grammar for creating clustered indexes and picking compression type are different than Tokutek's TokuDB for MariaDB can someone please add the syntax to this page?</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/tokudb-differences/+comments/822/flag"
                       data-flag-url="/kb/en/tokudb-differences/+comments/822/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        
    

    
        <a name="comment_820"></a>
        <div class="comment approved" style="margin-left: 0px">
            <div class="info">
                

<span class="datetime" title="2013-09-12 11:30">11 years, 2 months ago</span>
                
<span class="user" id="user-1139">
<a href="/kb/user/id/1139" title="Tim Callaghan">Tim Callaghan</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_820">More differences</a>
                
            </div><div class="comment_text">
                <p>More differences</p>
<p>I'm pretty sure this is a complete list of clarifications and additional changes between the TokuDB from Tokutek and the version from MariaDB.org.</p>
<ul start="1"><li>No "INSERT NOAR" or "UPDATE NOAR" means that Fast Upserts and Fast Updates are not possible.
</li><li>No Hot Indexing (creating indexes while the table is available for insert/update/delete)
</li><li>Index creation will force a complete table rewrite (table is read-only for the duration of the operation as it is rebuilt, all existing indexes are recreated, and new index is created)
</li><li>Auto-increment behavior is as implemented in MyISAM, not TokuDB
</li><li>DDL grammar changes. I'm not sure of the specifics but I believe the clustering keyword for index creation and how you specify compression type is different.
</li><li>Memory Allocator. We ship MySQL and MariaDB with jemalloc statically linked to mysqld.</li></ul>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/tokudb-differences/+comments/820/flag"
                       data-flag-url="/kb/en/tokudb-differences/+comments/820/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        <a name="comment_821"></a>
        <div class="comment approved" style="margin-left: 10px">
            <div class="info">
                

<span class="datetime" title="2013-09-12 11:35">11 years, 2 months ago</span>
                
<span class="user" id="user-27">
<a href="/kb/user/id/27" title="Sergei Golubchik">Sergei Golubchik</a>
</span>
            </div>
            <div class="title">
                <a href="#comment_821">Re: More differences</a>
                
            </div><div class="comment_text">
                <p>DDL grammar and auto-inrement behavior, yes, thanks.</p>
<p>We also link jemalloc statically into mysqld, so that should be the same.</p>

            </div>
            <div class="comment_actions hidden-print">
                
                
                &nbsp;

                <div class="pull-right">
                    
                    <a class="flag btn btn-mini" href="/kb/en/tokudb-differences/+comments/821/flag"
                       data-flag-url="/kb/en/tokudb-differences/+comments/821/flag"
                            title="Flag as Spam/Inappropriate">
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                        </a>
                    
                    
                    
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        
    

    

    

</div>


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/services" title="Services">Services</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">About Us</a></h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/download" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2024 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.1587e3a666fc.js" charset="utf-8"></script>

</html>