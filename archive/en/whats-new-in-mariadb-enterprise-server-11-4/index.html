<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>What&#39;s New in MariaDB Enterprise Server 11.4 - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.f7633538c846.css" rel="stylesheet" type="text/css" />

    

    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="What&#39;s New in MariaDB Enterprise Server 11.4" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/en/whats-new-in-mariadb-enterprise-server-11-4/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="
MariaDB Enterprise Server 11.4 introduces new features to MariaDB Enterprise. Enhancements include JSON functions for validation and comparison, SQL functions for natural sor..." />

    <meta name="description" content="
MariaDB Enterprise Server 11.4 introduces new features to MariaDB Enterprise. Enhancements include JSON functions for validation and comparison, SQL functions for natural sor..." />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes products nodes_view jqui" id="nodes_view">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/whats-new-in-mariadb-enterprise-server-11-4/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2025 MariaDB. All rights reserved.</p>
    </div>
</div>
<div class="violator-wrap d-none" id="top_violator">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12">
                <div class="violator-outer">
                    <div class="violator-inner">
                        <div class="row">
                            <div class="col-xs-12 col-sm-9 col-lg-7 col-lg-offset-2" id="top_violator_content">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="content-link" target="_blank" rel="nofollow noreferrer">
                                    <span>The Ultimate Guide to High Availability with MariaDB</span>
                                </a>
                            </div>
                            <div class="col-xs-12 col-sm-3" id="top_violator_cta">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="btn btn-mariadb" target="_blank" rel="nofollow noreferrer">Download Now</a>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn btn-link close-btn">
                        <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" width="15px" height="15px"><path d="M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/whats-new-in-mariadb-enterprise-server-11-4/" rel="nofollow">Login</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/en/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/en/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/solutions" title="Solutions">Solutions</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="Company">Company</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/en/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/en/mariadb-server-release-dates/">MariaDB Server Releases</a>
    

    
    » <a class="crumb" href="/kb/en/mariadb-enterprise-server-11-4/">MariaDB Enterprise Server 11.4</a>
    


    » <a class="node_link crumb" href="/kb/en/whats-new-in-mariadb-enterprise-server-11-4/">What&#39;s New in MariaDB Enterprise Server 11.4</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/en/">Home</a></li>
                            
                                
                                    <li><a href="/kb/en/+questions/">Open Questions</a></li>
                                
                                <li><a href="/kb/en/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/en/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/en/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/en/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
<div>



<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-blue btn-sm" href="/kb/en/whats-new-in-mariadb-enterprise-server-11-4/+history" rel="nofollow">History</a>
        
        
        
        <a class="btn btn-block btn-blue btn-sm" href="/kb/en/whats-new-in-mariadb-enterprise-server-11-4/+source/">Source</a>
        
        <a class="btn btn-block btn-blue btn-sm flag" href="/kb/en/whats-new-in-mariadb-enterprise-server-11-4/+flag"
                data-flag-url="/kb/en/whats-new-in-mariadb-enterprise-server-11-4/+flag" rel="nofollow">
                Flag as Spam / Inappropriate</a>
        
        <a class="btn btn-block btn-blue btn-sm" href="/kb/en/whats-new-in-mariadb-enterprise-server-11-4/+translate/">
                Translate</a>
        

</div>
</div>





<div class="well well-small box node_info"><div>

    <dl>
        <dt>Created</dt>
        <dd>

<span class="datetime" title="2025-03-20 11:02">1 month, 1 week ago</span></dd>

        <dt>Modified</dt>
        <dd>

<span class="datetime" title="2025-04-15 15:19">1 week, 5 days ago</span></dd>

        <dt>Type</dt>
        <dd>article</dd>

        <dt>Status</dt>
        <dd>active</dd>

        <dt>License</dt>
        <dd>
            
                <a href="/kb/en/whats-new-in-mariadb-enterprise-server-11-4/+license/">CC BY-SA / Gnu FDL</a>
            
        </dd>

        
    </dl>

    
    <ul class="rss_feeds">
        <li><a href="/kb/en/whats-new-in-mariadb-enterprise-server-11-4/+history/feed/">
            History</a>
        </li>
        <li><a href="/kb/en/whats-new-in-mariadb-enterprise-server-11-4/+comments/feed/">
            Comments</a>
        </li>
    </ul>
    

</div>
</div>





    
    
    

<div class="well well-small box attachments"><div><div class="edit_link pull-right"><a href="/kb/en/whats-new-in-mariadb-enterprise-server-11-4/+edit/attachments/">Edit</a></div><h5>Attachments</h5></div><div>

        
            <div class="no_data">No attachments exist</div>
        
    
</div>
</div>

    



    
    






</div>


                    

































                </aside>
            
            
            
                
            
            
                
            
            <section id="content" class="limited_width col-md-8 clearfix">
                
                    <h1>What&#39;s New in MariaDB Enterprise Server 11.4</h1>
                

                



                <div>
                    
    

    
    
    

    <div class="node creole">
        
        
        


    
    <div class="answer formatted">
        <div class="table_of_contents well well-small">
<h3>Contents</h3>
 <ol class="toc">

    <li class=""><a href="#developer-experience" title="Developer Experience">Developer Experience</a>    <ol class="toc">

        <li class=""><a href="#json-enhancements" title="JSON Enhancements">JSON Enhancements</a></li>

        <li class=""><a href="#sql-functions" title="SQL Functions">SQL Functions</a></li>

        <li class=""><a href="#data-types" title="Data Types">Data Types</a></li>

        <li class=""><a href="#stored-routines" title="Stored Routines">Stored Routines</a></li>

        <li class=""><a href="#indexes" title="Indexes">Indexes</a>    </ol>
</li>

    <li class=""><a href="#operational-enhancements" title="Operational Enhancements">Operational Enhancements</a>    <ol class="toc">

        <li class=""><a href="#schema-and-partitioning-management-ddl" title="Schema and Partitioning Management / DDL">Schema and Partitioning Management / DDL</a></li>

        <li class=""><a href="#system-versioned-and-application-time-period-tables" title="System-Versioned and Application-time Period Tables">System-Versioned and Application-time Period Tables</a></li>

        <li class=""><a href="#backup-restore" title="Backup / Restore">Backup / Restore</a></li>

        <li class=""><a href="#character-sets-collations" title="Character Sets / Collations">Character Sets / Collations</a></li>

        <li class=""><a href="#performance" title="Performance">Performance</a>        <ol class="toc">

            <li class=""><a href="#optimizer" title="Optimizer">Optimizer</a>        </ol>
</li>

        <li class=""><a href="#mariadb-enterprise-cluster-powered-by-galera" title="MariaDB Enterprise Cluster (powered by Galera)">MariaDB Enterprise Cluster (powered by Galera)</a>    </ol>
</li>

    <li class=""><a href="#mariadb-replication" title="MariaDB Replication">MariaDB Replication</a>    <ol class="toc">

        <li class=""><a href="#optimistic-alter-table-for-replicas" title="Optimistic ALTER TABLE for Replicas">Optimistic ALTER TABLE for Replicas</a></li>

        <li class=""><a href="#mariadb-binlog" title="MariaDB-binlog">MariaDB-binlog</a>    </ol>
</li>

    <li class=""><a href="#security-and-access-control" title="Security and Access Control">Security and Access Control</a></li>

    <li class=""><a href="#storage-engines" title="Storage Engines">Storage Engines</a>    <ol class="toc">

        <li class=""><a href="#innodb" title="InnoDB">InnoDB</a></li>

        <li class=""><a href="#spider" title="Spider">Spider</a>    </ol>
</li>

    <li class=""><a href="#analyzing-tracing-and-monitoring" title="Analyzing, Tracing, and Monitoring">Analyzing, Tracing, and Monitoring</a></li>

    <li class=""><a href="#available-versions" title="Available Versions">Available Versions</a></li>

    <li class=""><a href="#installation-instructions" title="Installation Instructions">Installation Instructions</a></li>

    <li class=""><a href="#upgrade-instructions" title="Upgrade Instructions">Upgrade Instructions</a></li>

    <li class=""><a href="#whats-new-in-older-release-series" title="What&#39;s new in older release series?">What&#39;s new in older release series?</a> </ol>
</li>
</div><p>
MariaDB Enterprise Server 11.4 introduces new features to MariaDB Enterprise. Enhancements include JSON functions for validation and comparison, SQL functions for natural sorting and custom formatting, and a new UUID data type. Operational improvements include an improved cost-based optimizer, a new feature for non-blocking online schema changes, and faster InnoDB imports. Security is strengthened with default SSL encryption, password reuse prevention, and Galera Cluster security improvements. Replication is enhanced with default GTID, binary log size limits, and optimistic ALTER TABLE. Monitoring benefits from JSON histograms, new thread states, and detailed error reporting. These updates aim to improve developer experience, database administration, and overall performance.</p>
<h2 class="anchored_heading" id="developer-experience">Developer Experience</h2>
<h3 class="anchored_heading" id="json-enhancements">JSON Enhancements</h3>
<ul start="1"><li>New JSON function <code>JSON_SCHEMA_VALID</code> to validate a JSON document against a JSON schema, as documented by the JSON Schema Draft 2020. This function can also be used in a CHECK constraint to verify that only JSON documents are stored in the database which include required items and that the values are within a given range, length, etcetera.
</li></ul>
<ul start="1"><li>New JSON functions <code>JSON_EQUALS()</code> and <code>JSON_NORMALIZE()</code> for easier comparison of two JSON documents and for normalizing JSON objects to be comparable, for example when a unique key based on JSON data is needed.
</li></ul>
<ul start="1"><li>New function <code>JSON_OVERLAPS()</code>, which compares JSON documents to determine if they have any key-value pairs or array elements in common.
</li></ul>
<pre class="fixed indent1"><span class="k">SELECT</span> <span class="n">JSON_OVERLAPS</span><span class="p">(</span><span class="s1">&#39;{&quot;A&quot;: 1, &quot;B&quot;: {&quot;C&quot;:2}}&#39;</span><span class="p">,</span> <span class="s1">&#39;{&quot;A&quot;: 2, &quot;B&quot;: {&quot;C&quot;:2}}&#39;</span><span class="p">)</span> <span class="k">AS</span> <span class="n">is_overlap</span><span class="p">;</span>
</pre><pre class="fixed indent1"><span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="n">is_overlap</span>          <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
<span class="o">|</span> <span class="mi">1</span>                   <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------+</span>
</pre><ul start="1"><li>New function <code>JSON_KEY_VALUE(&lt;json_doc&gt;,&lt;json_path&gt;)</code>, which extracts key/value pairs from a JSON object. The JSON path parameter is used to only return key/value pairs for matching JSON objects.
</li></ul>
<div style="margin-left:2em"><div style="margin-left:2em"><p>○ Example:</p>
</div>
</div>
<pre class="fixed indent2"><span class="k">SELECT</span> <span class="n">JSON_KEY_VALUE</span><span class="p">(</span><span class="s1">&#39;[[1, {&quot;key1&quot;:&quot;val1&quot;, &quot;key2&quot;:&quot;val2&quot;}, 3], 2, 3]&#39;</span><span class="p">,</span> <span class="s1">&#39;$[0][1]&#39;</span><span class="p">);</span>
</pre><pre class="fixed indent2"><span class="o">+</span><span class="c1">-----------------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">JSON_KEY_VALUE</span><span class="p">(</span><span class="s1">&#39;[[1, {&quot;key1&quot;:&quot;val1&quot;, &quot;key2&quot;:&quot;val2&quot;}, 3], 2, 3]&#39;</span><span class="p">,</span> <span class="s1">&#39;$[0][1]&#39;</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="p">[</span><span class="err">{</span><span class="ss">&quot;key&quot;</span><span class="p">:</span> <span class="ss">&quot;key1&quot;</span><span class="p">,</span> <span class="ss">&quot;value&quot;</span><span class="p">:</span> <span class="ss">&quot;val1&quot;</span><span class="err">}</span><span class="p">,</span> <span class="err">{</span><span class="ss">&quot;key&quot;</span><span class="p">:</span> <span class="ss">&quot;key2&quot;</span><span class="p">,</span> <span class="ss">&quot;value&quot;</span><span class="p">:</span> <span class="ss">&quot;val2&quot;</span><span class="err">}</span><span class="p">]</span>        <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------------------------------+</span>
</pre><div style="margin-left:2em"><div style="margin-left:2em"><p>○ The function <code>JSON_KEY_VALUE()</code> can be used as an argument to <code>JSON_TABLE()</code>, which allows adding the key to a result set.<br>
○ Example:</p>
</div>
</div>
<pre class="fixed indent2"><span class="k">SELECT</span> <span class="n">jt</span><span class="p">.</span><span class="o">*</span> <span class="k">FROM</span> <span class="n">JSON_TABLE</span><span class="p">(</span>
<span class="n">JSON_KEY_VALUE</span><span class="p">(</span><span class="s1">&#39;[[1, {&quot;key1&quot;:&quot;val1&quot;, &quot;key2&quot;:&quot;val2&quot;}, 3], 2, 3]&#39;</span><span class="p">,</span> <span class="s1">&#39;$[0][1]&#39;</span><span class="p">),</span><span class="s1">&#39;$[*]&#39;</span>
<span class="n">COLUMNS</span> <span class="p">(</span>
<span class="n">k</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="n">PATH</span> <span class="s1">&#39;$.key&#39;</span><span class="p">,</span>
<span class="n">v</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="n">PATH</span> <span class="s1">&#39;$.value&#39;</span><span class="p">,</span>
<span class="n">id</span> <span class="k">FOR</span> <span class="k">ORDINALITY</span> <span class="p">))</span> <span class="k">AS</span> <span class="n">jt</span><span class="p">;</span>
</pre><pre class="fixed indent2"><span class="o">+</span><span class="c1">------+------+------+</span>
<span class="o">|</span> <span class="n">k</span>    <span class="o">|</span> <span class="n">v</span>    <span class="o">|</span> <span class="n">id</span>   <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+------+</span>
<span class="o">|</span> <span class="n">key1</span> <span class="o">|</span> <span class="n">val1</span> <span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">key2</span> <span class="o">|</span> <span class="n">val2</span> <span class="o">|</span>    <span class="mi">2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+------+</span>
</pre><ul start="1"><li>New function <code>JSON_ARRAY_INTERSECT(&lt;array1&gt;, &lt;array2&gt;)</code>, used to find the intersection between two JSON arrays.
<ul start="1"><li>Example:
</li></ul>
</li></ul>
<pre class="fixed indent2"><span class="k">SET</span> <span class="o">@</span><span class="n">array1</span><span class="o">=</span> <span class="s1">&#39;[1,2,3]&#39;</span><span class="p">;</span>
<span class="k">SET</span> <span class="o">@</span><span class="n">array2</span><span class="o">=</span> <span class="s1">&#39;[1,2,4]&#39;</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="n">json_array_intersect</span><span class="p">(</span><span class="o">@</span><span class="n">array1</span><span class="p">,</span> <span class="o">@</span><span class="n">array2</span><span class="p">)</span> <span class="k">as</span> <span class="k">result</span><span class="p">;</span>
</pre><pre class="fixed indent2"><span class="o">+</span><span class="c1">--------+</span>
<span class="o">|</span> <span class="k">result</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------+</span>
<span class="o">|</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------+</span>
</pre><pre class="fixed indent2"><span class="k">SET</span> <span class="o">@</span><span class="n">json1</span><span class="o">=</span> <span class="s1">&#39;[[1,2,3],[4,5,6],[1,1,1]]&#39;</span><span class="p">;</span>
<span class="k">SET</span> <span class="o">@</span><span class="n">json2</span><span class="o">=</span> <span class="s1">&#39;[[1,2,3],[4,5,6],[1,3,2]]&#39;</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="n">json_array_intersect</span><span class="p">(</span><span class="o">@</span><span class="n">json1</span><span class="p">,</span> <span class="o">@</span><span class="n">json2</span><span class="p">)</span> <span class="k">as</span> <span class="k">result</span><span class="p">;</span>
</pre><pre class="fixed indent2"><span class="o">+</span><span class="c1">------------------------+</span>
<span class="o">|</span> <span class="k">result</span>                 <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+</span>
<span class="o">|</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]]</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+</span>
</pre><ul start="1"><li>The new JSON function <code>JSON_OBJECT_TO_ARRAY(&lt;json_doc&gt;)</code> is used to convert all JSON objects found in a JSON document to JSON arrays where each item in the outer array represents a single key-value pair from the object.
</li></ul>
<div style="margin-left:2em"><div style="margin-left:2em"><p>○ Example:</p>
</div>
</div>
<pre class="fixed indent2"><span class="k">SET</span> <span class="o">@</span><span class="n">json1</span><span class="o">=</span> <span class="s1">&#39;{ &quot;a&quot; : [1,2,3] , &quot;b&quot;: {&quot;key1&quot;: &quot;val1&quot;, &quot;key2&quot;: {&quot;key3&quot;: &quot;val3&quot;}} }&#39;</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="n">JSON_OBJECT_TO_ARRAY</span><span class="p">(</span><span class="o">@</span><span class="n">json1</span><span class="p">)</span> <span class="k">as</span> <span class="k">result</span><span class="p">;</span>
</pre><pre class="fixed indent2"><span class="o">+</span><span class="c1">-----------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="k">result</span>                                                                <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="p">[[</span><span class="ss">&quot;a&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]],</span> <span class="p">[</span><span class="ss">&quot;b&quot;</span><span class="p">,</span> <span class="err">{</span><span class="ss">&quot;key1&quot;</span><span class="p">:</span> <span class="ss">&quot;val1&quot;</span><span class="p">,</span> <span class="ss">&quot;key2&quot;</span><span class="p">:</span> <span class="err">{</span><span class="ss">&quot;key3&quot;</span><span class="p">:</span> <span class="ss">&quot;val3&quot;</span><span class="err">}}</span><span class="p">]]</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------------------------+</span>
</pre><div style="margin-left:2em"><div style="margin-left:2em"><p>○ Resulting arrays can be compared using <code>JSON_ARRAY_INTERSECT()</code>:</p>
</div>
</div>
<pre class="fixed indent2"><span class="k">SET</span> <span class="o">@</span><span class="n">json1</span><span class="o">=</span><span class="s1">&#39;{&quot;a&quot;:[1,2,3],&quot;b&quot;:{&quot;key1&quot;:&quot;val1&quot;,&quot;key2&quot;:{&quot;key3&quot;:&quot;val3&quot;}}}&#39;</span><span class="p">;</span>
<span class="k">SET</span> <span class="o">@</span><span class="n">json2</span><span class="o">=</span><span class="s1">&#39;{&quot;a&quot;:[1,2,3]}&#39;</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="n">JSON_OBJECT_TO_ARRAY</span><span class="p">(</span><span class="o">@</span><span class="n">json1</span><span class="p">)</span> <span class="k">into</span> <span class="o">@</span><span class="n">array1</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="n">JSON_OBJECT_TO_ARRAY</span><span class="p">(</span><span class="o">@</span><span class="n">json2</span><span class="p">)</span> <span class="k">into</span> <span class="o">@</span><span class="n">array2</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="n">JSON_ARRAY_INTERSECT</span><span class="p">(</span><span class="o">@</span><span class="n">array1</span><span class="p">,</span><span class="o">@</span><span class="n">array2</span><span class="p">)</span> <span class="k">as</span> <span class="k">result</span><span class="p">;</span>
</pre><pre class="fixed indent2"><span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="k">result</span>             <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="p">[[</span><span class="ss">&quot;a&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]]</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
</pre><ul start="1"><li>The new JSON function <code>JSON_OBJECT_FILTER_KEYS(&lt;json_doc&gt;,&lt;array_keys&gt;)</code> returns key/value pairs from a JSON string for keys defined in &lt;array_keys&gt;.
</li></ul>
<div style="margin-left:2em"><div style="margin-left:2em"><p>○ Example:</p>
</div>
</div>
<pre class="fixed indent2"><span class="k">SET</span> <span class="o">@</span><span class="n">json1</span><span class="o">=</span> <span class="s1">&#39;{ &quot;a&quot;: 1, &quot;b&quot;: 2, &quot;c&quot;: 3}&#39;</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="n">JSON_OBJECT_FILTER_KEYS</span> <span class="p">(</span><span class="o">@</span><span class="n">json1</span><span class="p">,</span> <span class="s1">&#39; [&quot;b&quot;, &quot;c&quot;] &#39;</span><span class="p">)</span> <span class="k">as</span> <span class="k">result</span><span class="p">;</span>
</pre><pre class="fixed indent2"><span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span> <span class="k">result</span>           <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span> <span class="err">{</span><span class="ss">&quot;b&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="ss">&quot;c&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="err">}</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>
</pre><div style="margin-left:2em"><div style="margin-left:2em"><p>○ By using <code>JSON_ARRAY_INTERSECT()</code> and <code>JSON_KEY()</code> as arguments for <code>JSON_OBJECT_FILTER_KEYS()</code>, a comparison of two JSON strings is possible where only the same keys are compared, not the key/value pairs.<br>
○ Example (only show key/value pairs of json1 where the key exists in json2):</p>
</div>
</div>
<pre class="fixed indent2"><span class="k">SET</span> <span class="o">@</span><span class="n">json1</span><span class="o">=</span> <span class="s1">&#39;{ &quot;a&quot;: 1, &quot;b&quot;: 2, &quot;c&quot;: 3}&#39;</span><span class="p">;</span>
<span class="k">SET</span> <span class="o">@</span><span class="n">json2</span><span class="o">=</span> <span class="s1">&#39;{&quot;b&quot; : 10, &quot;c&quot;: 20, &quot;d&quot;: 30}&#39;</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="n">JSON_OBJECT_FILTER_KEYS</span> <span class="p">(</span><span class="o">@</span><span class="n">json1</span><span class="p">,</span> <span class="n">json_array_intersect</span><span class="p">(</span><span class="n">json_keys</span><span class="p">(</span><span class="o">@</span><span class="n">json1</span><span class="p">),</span> <span class="n">json_keys</span><span class="p">(</span><span class="o">@</span><span class="n">json2</span><span class="p">)))</span> <span class="k">as</span> <span class="k">result</span><span class="p">;</span>
</pre><pre class="fixed indent2"><span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span> <span class="k">result</span>           <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>
<span class="o">|</span> <span class="err">{</span><span class="ss">&quot;b&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="ss">&quot;c&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="err">}</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+</span>
</pre><ul start="1"><li>To define the position in a JSON array from the end to the beginning, negative indexes or last can be used as the last element of an array for an JSON array of a JSON path, where the JSON path is used as a parameter in a JSON function.
</li></ul>
<pre class="fixed indent2"><span class="k">SELECT</span> <span class="n">JSON_REMOVE</span><span class="p">(</span><span class="o">@</span><span class="n">json</span><span class="p">,</span> <span class="s1">&#39;$.A[-10]&#39;</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">JSON_REMOVE</span><span class="p">(</span><span class="o">@</span><span class="n">json</span><span class="p">,</span> <span class="s1">&#39;$.A[last]&#39;</span><span class="p">);</span>
</pre><ul start="1"><li>Range notation for JSON path using the keyword to define a range of elements.
</li></ul>
<pre class="fixed indent2"><span class="k">SELECT</span> <span class="n">JSON_REMOVE</span><span class="p">(</span><span class="o">@</span><span class="n">json</span><span class="p">,</span> <span class="s1">&#39;$.A[1 to 3]&#39;</span><span class="p">);</span>
</pre><h3 class="anchored_heading" id="sql-functions">SQL Functions</h3>
<ul start="1"><li>New function <code>NATURAL_SORT_KEY()</code> which can be used to sort strings naturally.
<ul start="1"><li>Example: A string "v10" would be sorted after a string "v9"
</li></ul>
</li></ul>
<ul start="1"><li>New function <code>SFORMAT()</code> for custom formats of strings. The function uses a string including formatting options and a set of given values to generate a custom formatted string.
</li></ul>
<ul start="1"><li>New function <code>RANDOM_BYTES()</code> which returns a binary string of a length between 1 and 1024 bytes. This nondeterministic value is generated by the random number generator of the SSL library, so it generates an arbitrary length string of cryptographic random bytes that are suitable for cryptographic use.
</li></ul>
<ul start="1"><li>The encryption functions <code>AES_ENCRYPT() / AES_DES_ENCTYPT()</code> now support adding the two new parameters initialization vector (iv) and block encryption mode (mode).
</li></ul>
<div style="margin-left:2em"><div style="margin-left:2em"><p>○ Syntax for older release series:</p>
</div>
</div>
<pre class="fixed indent2"><span class="n">AES_ENCRYPT</span><span class="p">(</span><span class="n">str</span><span class="p">,</span><span class="n">key_str</span><span class="p">)</span>
</pre><div style="margin-left:2em"><div style="margin-left:2em"><p>○ New syntax:</p>
</div>
</div>
<pre class="fixed indent2"><span class="n">AES_ENCRYPT</span><span class="p">(</span><span class="n">str</span><span class="p">,</span> <span class="k">key</span><span class="p">,</span> <span class="p">[,</span> <span class="n">iv</span> <span class="p">[,</span> <span class="k">mode</span><span class="p">]])</span>
</pre><div style="margin-left:2em"><div style="margin-left:2em"><p>○ If no mode is provided it will be used from the new system variable <code>block_encryption_mode</code>.<br>
○ Example (using the mode from system variable block_encryption_mode):</p>
</div>
</div>
<pre class="fixed indent2"><span class="k">SELECT</span> <span class="o">@@</span><span class="n">block_encryption_mode</span><span class="p">;</span>
</pre><pre class="fixed indent2"><span class="o">+</span><span class="c1">-------------------------+</span>
<span class="o">|</span> <span class="o">@@</span><span class="n">block_encryption_mode</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------+</span>
<span class="o">|</span> <span class="n">aes</span><span class="o">-</span><span class="mi">128</span><span class="o">-</span><span class="n">ecb</span>             <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------+</span>
</pre><pre class="fixed indent2"><span class="k">SELECT</span> <span class="n">HEX</span><span class="p">(</span><span class="n">AES_ENCRYPT</span><span class="p">(</span><span class="s1">&#39;MariaDB&#39;</span><span class="p">,</span><span class="s1">&#39;mykey&#39;</span><span class="p">,</span><span class="s1">&#39;vector&#39;</span><span class="p">))</span> <span class="k">as</span> <span class="k">result</span><span class="p">;</span>
</pre><pre class="fixed indent2"><span class="o">+</span><span class="c1">----------------------------------+</span>
<span class="o">|</span> <span class="k">result</span>                           <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------+</span>
<span class="o">|</span> <span class="n">CD0352A4B2FB18A592C04FF8CDA6C2F2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------+</span>
</pre><pre class="fixed indent2"><span class="k">SELECT</span> <span class="n">AES_DECRYPT</span><span class="p">(</span><span class="n">x</span><span class="s1">&#39;CD0352A4B2FB18A592C04FF8CDA6C2F2&#39;</span><span class="p">,</span><span class="s1">&#39;mykey&#39;</span><span class="p">,</span><span class="s1">&#39;vector&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="k">result</span><span class="p">;</span>
</pre><pre class="fixed indent2"><span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span> <span class="k">result</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span> <span class="n">MariaDB</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>
</pre><div style="margin-left:2em"><div style="margin-left:2em"><p>○ Example (mode provided as argument):</p>
</div>
</div>
<pre class="fixed indent2"><span class="k">SELECT</span> <span class="n">HEX</span><span class="p">(</span><span class="n">AES_ENCRYPT</span><span class="p">(</span><span class="s1">&#39;MariaDB&#39;</span><span class="p">,</span><span class="s1">&#39;mykey&#39;</span><span class="p">,</span><span class="s1">&#39;thisismy256vector&#39;</span><span class="p">,</span><span class="s1">&#39;aes-256-cbc&#39;</span><span class="p">))</span> <span class="k">as</span> <span class="k">result</span><span class="p">;</span>
</pre><pre class="fixed indent2"><span class="o">+</span><span class="c1">----------------------------------+</span>
<span class="o">|</span> <span class="k">result</span>                           <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------+</span>
<span class="o">|</span> <span class="n">CD6C47183B89A813557BFD639A893CE3</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------+</span>
</pre><pre class="fixed indent2"><span class="k">SELECT</span> <span class="n">AES_DECRYPT</span><span class="p">(</span><span class="n">x</span><span class="s1">&#39;CD6C47183B89A813557BFD639A893CE3&#39;</span><span class="p">,</span><span class="s1">&#39;mykey&#39;</span><span class="p">,</span><span class="s1">&#39;thisismy256vector&#39;</span><span class="p">,</span><span class="s1">&#39;aes-256-cbc&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="k">result</span><span class="p">;</span>
</pre><pre class="fixed indent2"><span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span> <span class="k">result</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span> <span class="n">MariaDB</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>
</pre><ul start="1"><li>The new options <code>%Z</code> and <code>%z</code> can be used for the format string of the function <pre class="fixed"><span class="n">DATE_FORMAT</span><span class="p">(</span><span class="nb">date</span><span class="p">,</span> <span class="n">format</span><span class="p">)</span>
</pre> for adding time zone information to the date string.
<ul start="1"><li><code>%Z</code> Time zone abbreviation
</li><li><code>%z</code> Numeric time zone +hhmm or -hhmm presenting the hour and minute offset from UTC
</li><li>Example:
</li></ul>
</li></ul>
<pre class="fixed indent2"><span class="k">SELECT</span> <span class="n">DATE_FORMAT</span><span class="p">(</span><span class="n">NOW</span><span class="p">(),</span> <span class="s1">&#39;%W %d %M %Y %H:%i:%s %Z %z&#39;</span><span class="p">);</span>
</pre><pre class="fixed indent2"><span class="o">+</span><span class="c1">--------------------------------------------------+</span>
<span class="o">|</span> <span class="n">DATE_FORMAT</span><span class="p">(</span><span class="n">NOW</span><span class="p">(),</span> <span class="s1">&#39;%W %d %M %Y %H:%i:%s %Z %z&#39;</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------------------+</span>
<span class="o">|</span> <span class="n">Tuesday</span> <span class="mi">21</span> <span class="n">November</span> <span class="mi">2023</span> <span class="mi">13</span><span class="p">:</span><span class="mi">28</span><span class="p">:</span><span class="mi">34</span> <span class="n">EST</span> <span class="o">-</span><span class="mi">0500</span>      <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------------------+</span>
</pre><ul start="1"><li>The SQL function <code>KDF()</code> is a key derivation function, useful for generating encryption keys from a user provided password or a passphrase. It can be used to generate encryption keys for encryption functions such as <code>AES_ENCRYPT</code>.<pre class="fixed"><span class="n">KDF</span><span class="p">(</span><span class="n">key_str</span><span class="p">,</span> <span class="n">salt</span> <span class="p">[,</span> <span class="err">{</span><span class="n">info</span> <span class="o">|</span> <span class="n">iterations</span><span class="err">}</span> <span class="p">[,</span> <span class="n">kdf_name</span> <span class="p">[,</span> <span class="n">width</span> <span class="p">]]])</span>
</pre>
<ul start="1"><li><code>kdf_name</code> is "hkdf" or "pbkdf2_hmac"
</li><li><code>width</code> (in bits) can be any number divisible by 8
</li><li><code>info</code> is a non-secret parameter of the hkdf method, it allows to generate different encryption keys for different purposes from the same secret password
</li><li><code>iterations</code> is a positive numeric parameter of the pbkdf2_hmac method, larger values make the password more difficult to brute-force.
Example:
</li></ul>
</li></ul>
<pre class="fixed indent2"><span class="k">select</span> <span class="n">hex</span><span class="p">(</span><span class="n">kdf</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="s1">&#39;info&#39;</span><span class="p">,</span> <span class="s1">&#39;hkdf&#39;</span><span class="p">));</span>
</pre><pre class="fixed indent2"><span class="o">+</span><span class="c1">----------------------------------------+</span>
<span class="o">|</span> <span class="n">hex</span><span class="p">(</span><span class="n">kdf</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="s1">&#39;info&#39;</span><span class="p">,</span> <span class="s1">&#39;hkdf&#39;</span><span class="p">))</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------+</span>
<span class="o">|</span> <span class="mi">710583081</span><span class="n">D40A55F0B573A76E02D8975</span>       <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------+</span>
<span class="k">insert</span> <span class="k">into</span> <span class="n">tbl</span> <span class="k">values</span> <span class="p">(</span><span class="n">aes_encrypt</span><span class="p">(</span><span class="o">@</span><span class="n">secret_data</span><span class="p">,</span> <span class="n">kdf</span><span class="p">(</span><span class="ss">&quot;Passw0rd&quot;</span><span class="p">,</span> <span class="ss">&quot;NaCl&quot;</span><span class="p">,</span> <span class="ss">&quot;info&quot;</span><span class="p">,</span> <span class="s1">&#39;hkdf&#39;</span><span class="p">),</span> <span class="ss">&quot;iv&quot;</span><span class="p">));</span>
</pre><ul start="1"><li>The function <code>CONV()</code> , which converts a number between numeric base systems, now supports conversions up to base 62. This allows conversions to encodings to capital letters A-Z, lower case letters a-z, and numbers 0-9.  The old limit was 36, not including lower case letters.
<ul start="1"><li>Example:
</li></ul>
</li></ul>
<pre class="fixed indent2"><span class="k">SELECT</span> <span class="n">CONV</span><span class="p">(</span><span class="mi">61</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">36</span><span class="p">);</span>
</pre><pre class="fixed indent2"><span class="o">+</span><span class="c1">----------------+</span>
<span class="o">|</span> <span class="n">CONV</span><span class="p">(</span><span class="mi">61</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">36</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+</span>
<span class="o">|</span> <span class="mi">1</span><span class="n">P</span>             <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+</span>
</pre><pre class="fixed indent2"><span class="k">SELECT</span> <span class="n">CONV</span><span class="p">(</span><span class="mi">61</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">62</span><span class="p">);</span>
</pre><pre class="fixed indent2"><span class="o">+</span><span class="c1">----------------+</span>
<span class="o">|</span> <span class="n">CONV</span><span class="p">(</span><span class="mi">61</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">62</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+</span>
<span class="o">|</span> <span class="n">z</span>              <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+</span>
</pre><h3 class="anchored_heading" id="data-types">Data Types</h3>
<ul start="1"><li>New data type UUID for more efficient storage of UUIDs
</li></ul>
<ul start="1"><li>New data type INET4 to store IPv4 addresses as 4-byte binary strings. Benefits of storing IPv4 addresses in the INET4 data type are:
<ul start="1"><li>Validation of incorrect values
</li><li>Comparisons
</li><li>Sorting
</li><li>Functions like CAST
</li></ul>
</li></ul>
<ul start="1"><li><strong>Changed default behavior</strong> <code>TIMESTAMP</code> field properties
<ul start="1"><li>The default for <code>explicit_defaults_for_timestamp</code> is set to <code>ON</code> resulting in removing the nonstandard behavior for <code>TIMESTAMP</code> fields in <code>CREATE TABLE</code>
<ul start="1"><li>The properties <code>DEFAULT CURRENT_TIMESTAMP</code> or <code>ON UPDATE CURRENT_TIMESTAMP</code> are not set anymore for the first <code>TIMESTAMP</code> field in a table if not explicitly set
</li><li>A <code>TIMESTAMP</code> field does not get the property NOT NULL set anymore if not explicitly set
</li><li>The old behavior can be achieved by setting the properties explicitly or by setting <code>explicit_defaults_for_timestamp</code> to <code>OFF</code>
</li></ul>
</li></ul>
</li></ul>
<h3 class="anchored_heading" id="stored-routines">Stored Routines</h3>
<ul start="1"><li>Stored Functions qualifiers for <code>IN, OUT, INOUT</code>, and <code>IN OUT</code>. The qualifiers are following the syntax already used for stored procedures and take the differences for Oracle into account when using the Oracle compatibility mode (<code>sql_mode=ORACLE</code>).
</li></ul>
<h3 class="anchored_heading" id="indexes">Indexes</h3>
<p>MariaDB Enterprise Server now supports descending indexes. Composite indexes can be used with differently ordered columns to get a significant performance boost in the corresponding <code>ORDER BY</code> use cases.</p>
<h2 class="anchored_heading" id="operational-enhancements">Operational Enhancements</h2>
<h3 class="anchored_heading" id="schema-and-partitioning-management-ddl">Schema and Partitioning Management / DDL</h3>
<div class="cstm-style bluebox"><ul start="1"><li>New server internal Online Schema Change (OSC) which makes all schema changes (<code>ALTER TABLE</code> commands) non-blocking.
<ul start="1"><li>For instant <code>ALTER TABLE</code> operations (e.g., where <code>ALGORITHM=INSTANT</code> is used) OSC is not needed. However, for all other <code>ALTER</code> operations OSC provides significant benefits in reducing the locking time to a bare minimum.
</li><li>The OSC feature works by creating a change buffer for storing changes during the copying of data from the old format to the new one. While data is copied from the old table structure to the new one all changes are stored in the change buffer and the table is fully accessible. Once the copying process is complete the change buffer is applied to the new data structure only requiring a very short locking period.
</li><li>Having an internal OSC in the server eliminates the need for using external command line tools in order to reduce table locks. These external tools often need to create complicated structures in the database (like triggers and stored procedures) and certain race conditions can lead to the operations never finishing.
</li><li>In MariaDB Enterprise Server 11.4 a default <code>ALTER</code> operation will be an OSC operation if possible. If the operation cannot be performed as an OSC then another algorithm will be used. If the option <code>LOCK=NONE</code> is explicitly specified in the <code>ALTER</code> statement, then the operation will fail if it cannot be done as an OSC.
</li></ul>
</li></ul>
</div><ul start="1"><li><code>CONVERT PARTITION</code> and <code>CONVERT TABLE</code> used with <code>ALTER TABLE</code> can be used to convert a partition into a table or vise versa
</li></ul>
<ul start="1"><li>Exchange a Partition or Convert a Table Without Validation
<ul start="1"><li>The process of exchanging a partition with a table or converting a table to a partition can be a very slow operation, especially for larger tables because for each new data row, the partitioning definitions need to be verified to validate that the new row should indeed be in this partition.
</li><li>This process can now be sped up by disabling this validation. This new feature should be used with care, as it can lead to inconsistencies if the partitioning rules are not met.
</li><li>The new addition to ALTER TABLE is:
</li></ul>
</li></ul>
<pre class="fixed indent2"><span class="n">EXCHANGE</span> <span class="n">PARTITION</span> <span class="n">partition_name</span> <span class="k">WITH</span> <span class="k">TABLE</span> <span class="n">tbl_name</span> <span class="p">[</span><span class="err">{</span><span class="k">WITH</span> <span class="o">|</span> <span class="k">WITHOUT</span><span class="err">}</span> <span class="n">VALIDATION</span><span class="p">]</span>

<span class="k">CONVERT</span> <span class="k">TABLE</span> <span class="n">normal_table</span> <span class="k">TO</span> <span class="n">partition_definition</span> <span class="p">[</span><span class="err">{</span><span class="k">WITH</span> <span class="o">|</span> <span class="k">WITHOUT</span><span class="err">}</span> <span class="n">VALIDATION</span><span class="p">]</span>
</pre><ul start="1"><li>Syntax extension to not require <code>PARTITION</code> keyword in each partition definition
</li></ul>
<ul start="1"><li>Stored routines are now taking changes to metadata into account whenever the stored routine is called, done for any object a stored routine depends on.
<ul start="1"><li>In older release series a reconnect was needed before a stored routine was able to update its metadata from altered objects<br>
</li><li>Example:
</li></ul>
</li></ul>
<pre class="fixed indent2"><span class="k">create</span> <span class="k">table</span> <span class="n">t1</span> <span class="p">(</span><span class="n">id</span> <span class="nb">int</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="n">t1</span> <span class="k">values</span> <span class="p">(</span><span class="mi">100</span><span class="p">);</span>
<span class="k">create</span> <span class="k">procedure</span> <span class="n">p1</span><span class="p">()</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t1</span><span class="p">;</span>
<span class="k">call</span> <span class="n">p1</span><span class="p">;</span>
</pre><pre class="fixed indent2"><span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span> <span class="n">id</span>   <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
<span class="o">|</span>  <span class="mi">100</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+</span>
</pre><pre class="fixed indent2"><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="k">ADD</span> <span class="k">COLUMN</span> <span class="n">b</span> <span class="nb">INT</span> <span class="k">DEFAULT</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">call</span> <span class="n">p1</span><span class="p">;</span>
</pre><pre class="fixed indent2"><span class="o">+</span><span class="c1">------+------+</span>
<span class="o">|</span> <span class="n">id</span>   <span class="o">|</span> <span class="n">b</span>    <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+</span>
<span class="o">|</span>  <span class="mi">100</span> <span class="o">|</span>    <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+</span>
</pre><div style="margin-left:2em"><div style="margin-left:2em"><p>○ In the above example both calls of the stored procedure p1 would have returned the same result set with the older release series.</p>
</div>
</div>
<ul start="1"><li>Temporary tables are now included in <code>information_schema.tables</code> and included in <code>SHOW TABLES</code> and <code>SHOW TABLE STATUS</code>
<ul start="1"><li>Example:
</li></ul>
</li></ul>
<pre class="fixed indent2"><span class="k">CREATE</span> <span class="k">DATABASE</span> <span class="n">test</span><span class="p">;</span>
<span class="n">USE</span> <span class="n">test</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="p">(</span><span class="n">id</span> <span class="nb">int</span><span class="p">);</span>
<span class="k">CREATE</span> <span class="k">TEMPORARY</span> <span class="k">TABLE</span> <span class="n">t2_temp</span> <span class="p">(</span><span class="n">id</span> <span class="nb">int</span><span class="p">);</span>
<span class="k">SHOW</span> <span class="k">FULL</span> <span class="k">TABLE</span><span class="p">;</span>
</pre><pre class="fixed indent2"><span class="o">+</span><span class="c1">----------------+-----------------+</span>
<span class="o">|</span> <span class="n">Tables_in_test</span> <span class="o">|</span> <span class="n">Table_type</span>      <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+-----------------+</span>
<span class="o">|</span> <span class="n">t2_temp</span>        <span class="o">|</span> <span class="k">TEMPORARY</span> <span class="k">TABLE</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">t1</span>             <span class="o">|</span> <span class="n">BASE</span> <span class="k">TABLE</span>      <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------+-----------------+</span>
</pre><pre class="fixed indent2"><span class="k">select</span> <span class="n">table_schema</span><span class="p">,</span> <span class="k">table_name</span><span class="p">,</span> <span class="n">table_type</span> <span class="k">from</span> <span class="n">information_schema</span><span class="p">.</span><span class="n">tables</span> <span class="k">where</span> <span class="n">table_schema</span><span class="o">=</span><span class="s1">&#39;test&#39;</span><span class="p">;</span>
</pre><pre class="fixed indent2"><span class="o">+</span><span class="c1">--------------+------------+------------+</span>
<span class="o">|</span> <span class="n">table_schema</span> <span class="o">|</span> <span class="k">table_name</span> <span class="o">|</span> <span class="n">table_type</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+------------+------------+</span>
<span class="o">|</span> <span class="n">test</span>         <span class="o">|</span> <span class="n">t2_temp</span>    <span class="o">|</span> <span class="k">TEMPORARY</span>  <span class="o">|</span>
<span class="o">|</span> <span class="n">test</span>         <span class="o">|</span> <span class="n">t1</span>         <span class="o">|</span> <span class="n">BASE</span> <span class="k">TABLE</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+------------+------------+</span>
</pre><ul start="1"><li>General Support of Packages for Stored Routines
<ul start="1"><li>Before MariaDB Enterprise Server 11.4, the CREATE PACKAGE feature, as well as CREATE PACKAGE BODY, were only supported with sql_mode = ORACLE. They can now be used with any SQL mode.
</li><li>Example:
</li></ul>
</li></ul>
<pre class="fixed indent2"><span class="k">DELIMITER</span> <span class="err">$$</span>

<span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="n">PACKAGE</span> <span class="n">myPkg</span>
  <span class="k">PROCEDURE</span> <span class="n">p1</span><span class="p">();</span>
  <span class="k">FUNCTION</span> <span class="n">f1</span><span class="p">()</span> <span class="k">RETURNS</span> <span class="nb">INT</span><span class="p">;</span>
<span class="k">END</span><span class="p">;</span>

<span class="err">$$</span>

<span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="n">PACKAGE</span> <span class="n">BODY</span> <span class="n">myPkg</span>

  <span class="c1">-- variable declarations</span>
  <span class="k">DECLARE</span> <span class="n">v1</span> <span class="nb">INT</span> <span class="k">DEFAULT</span> <span class="mi">1</span><span class="p">;</span>
  <span class="k">DECLARE</span> <span class="n">v2</span> <span class="nb">INT</span> <span class="k">DEFAULT</span> <span class="mi">10</span><span class="p">;</span>

  <span class="c1">-- routine declarations</span>
  <span class="k">PROCEDURE</span> <span class="n">p1</span><span class="p">()</span>
  <span class="k">BEGIN</span>
    <span class="k">SELECT</span> <span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">;</span>
  <span class="k">END</span><span class="p">;</span>

  <span class="k">FUNCTION</span> <span class="n">f1</span><span class="p">()</span> <span class="k">RETURNS</span> <span class="nb">INT</span>
  <span class="k">BEGIN</span>
    <span class="k">RETURN</span> <span class="n">v1</span><span class="p">;</span>
  <span class="k">END</span><span class="p">;</span>

  <span class="c1">-- package initialization</span>
  <span class="k">SET</span> <span class="n">v1</span><span class="o">=</span><span class="n">v1</span> <span class="o">+</span> <span class="mi">2</span><span class="p">;</span>
<span class="k">END</span><span class="p">;</span>
<span class="err">$$</span>

<span class="k">DELIMITER</span> <span class="p">;</span>

<span class="k">SELECT</span> <span class="n">myPkg</span><span class="p">.</span><span class="n">f1</span><span class="p">();</span>
</pre><pre class="fixed indent2"><span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="n">myPkg</span><span class="p">.</span><span class="n">f1</span><span class="p">()</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span>          <span class="mi">3</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
</pre><pre class="fixed indent2"><span class="k">CALL</span> <span class="n">myPkg</span><span class="p">.</span><span class="n">p1</span><span class="p">();</span>
</pre><pre class="fixed indent2"><span class="o">+</span><span class="c1">------+------+</span>
<span class="o">|</span> <span class="n">v1</span>   <span class="o">|</span> <span class="n">v2</span>   <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+</span>
<span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>   <span class="mi">10</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+</span>
</pre><h3 class="anchored_heading" id="system-versioned-and-application-time-period-tables">System-Versioned and Application-time Period Tables</h3>
<ul start="1"><li>System-Versioned Tables can automate the creation of new HISTORY partitions partitioned by INTERVAL/LIMIT using the keyword AUTO when creating a table.
</li></ul>
<pre class="fixed indent2"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="p">(</span><span class="n">x</span> <span class="nb">int</span><span class="p">)</span> <span class="k">WITH</span> <span class="k">SYSTEM</span> <span class="n">VERSIONING</span>

<span class="n">PARTITION</span> <span class="k">BY</span> <span class="n">system_time</span> <span class="nb">INTERVAL</span> <span class="mi">1</span> <span class="n">months</span> <span class="n">AUTO</span><span class="p">;</span>
</pre><div style="margin-left:2em"><div style="margin-left:2em"><p>○ In this case a new HISTORY partition will be created on a monthly basis, storing old versions of the table data.</p>
</div>
</div>
<ul start="1"><li>Information About Application-time Period Tables
<ul start="1"><li>New views <code>PERIOD</code> and <code>KEY_PERIOD_USAGE</code> are added to information_schema.
</li><li>View <code>PERIODS</code> includes the columns
<ul start="1"><li><code>TABLE_CATALOG</code>
</li><li><code>TABLE_SCHEMA</code>
</li><li><code>TABLE_NAME</code>
</li><li><code>PERIOD_NAME</code>
</li><li><code>START_COLUMN_NAME</code>
</li><li><code>END_COLUMN_NAME</code>
</li><li>to list Application-time period tables, the name defined for a period, and the columns used for start and end timestamps.
</li></ul>
</li><li>View <code>KEY_PERIOD_USAGE</code> includes the columns
<ul start="1"><li><code>CONSTRAINT_CATALOG</code>
</li><li><code>CONSTRAINT_SCHEMA</code>
</li><li><code>CONSTRAINT_NAME</code>
</li><li><code>TABLE_CATALOG</code>
</li><li><code>TABLE_SCHEMA</code>
</li><li><code>TABLE_NAME</code>
</li><li><code>PERIOD_NAME</code>
</li></ul>
</li></ul>
</li></ul>
<ul start="1"><li>Two new columns are added to the <code>COLUMNS</code> view of information_schema
<ul start="1"><li><code>IS_SYSTEM_TIME_PERIOD_START</code>
</li><li><code>IS_SYSTEM_TIME_PERIOD_END</code>
</li></ul>
</li></ul>
<h3 class="anchored_heading" id="backup-restore">Backup / Restore</h3>
<ul start="1"><li>A dump of historical data for system versioned tables is now possible via the new option <code>--as-of</code> for mariadb-dump
</li></ul>
<ul start="1"><li>System versioned tables can now be dumped and restored by mariadb-dump
<ul start="1"><li>The new parameter mariadb-dump parameter <code>--dump-history</code> dumps all historical data
</li><li>To restore from a dump file the new parameter <code>system_versioning_insert_history</code> needs to be enabled to allow direct inserts into <code>ROW_START</code> and <code>ROW_END</code> columns
</li><li>The existing parameter <code>secure_timestamp</code> needs to be set to a value which allows changing session timestamps
</li></ul>
</li></ul>
<ul start="1"><li>The command-line tool mariadb-dump now supports the new option <code>--order-by-size</code>. The new option can be used to create a dump of the tables of a database according to their size, smaller tables first.
</li></ul>
<ul start="1"><li>Parallelism for mariadb-dump
<ul start="1"><li>When mariadb-dump is used with the option <code>-T / --tab=</code> to produce tab-separated text-format data files per table, the new option <code>--parallel</code> (synonym <code>--use-threads</code>) can be used to use several threads in parallel to dump the table data to their .txt files. Parallelism also works if the option <code>--single-tansaction</code> is used.
</li><li>The option <code>--parallel</code> has been added to mariadb-import as a synonym to <code>--use-threads</code>, which has been available before.
</li></ul>
</li></ul>
<h3 class="anchored_heading" id="character-sets-collations">Character Sets / Collations</h3>
<ul start="1"><li>New collations based on the Unicode Collation Algorithm (UCA) 14.0.0 have been added for the character sets utf8mb3, utf8mb4, ucs2, utf16, utf32
<ul start="1"><li>One neutral and 22 language specific collations have been added
</li><li>Case sensitive, case insensitive, and nopad variants have been added
</li><li>Collations (how to compare characters) are now separated from character sets (how to store characters). Collation names no longer have to include character set names, and the same collation can apply to many character sets
</li><li>Improved contraction performance in UCA collations
</li><li>Improved UCA collation performance for utf8mb3 and utf8mb4
</li></ul>
</li></ul>
<ul start="1"><li>Full UNICODE support for MariaDB command-line tools on recent versions of Windows (Windows 10 1909 or later, Windows 11, Windows Server 2020 supported). The server my.ini config file is now also encoded in UTF8. Command-line client mariadb.exe uses utf8mb4 by default.
</li></ul>
<ul start="1"><li>The default collation used for a character set can now be changed globally or for a session via the new system variable character_set_collations. The default collation will be used whenever a character set is defined for a database object without defining the collation.
<ul start="1"><li>When not defining a character set the default collation is still the one defined with the system variable collation_server.
</li><li>This is also preparatory work for changing default collations to use the UCA 14.0.0 standard. In particular, this variable will allow replication between servers with different default collations.
</li></ul>
</li></ul>
<pre class="fixed indent2"><span class="k">SET</span> <span class="o">@@</span><span class="n">character_set_collations</span><span class="o">=</span><span class="s1">&#39;utf8mb4=uca1400_ai_ci&#39;</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="k">DATABASE</span> <span class="n">test_with_charset</span> <span class="nb">CHARACTER</span> <span class="k">SET</span> <span class="n">utf8mb4</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="k">DATABASE</span> <span class="n">test</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="k">SCHEMA_NAME</span><span class="p">,</span><span class="n">DEFAULT_COLLATION_NAME</span> <span class="k">FROM</span> <span class="n">SCHEMATA</span> <span class="k">WHERE</span> <span class="k">SCHEMA_NAME</span> <span class="k">LIKE</span> <span class="ss">&quot;test%&quot;</span><span class="p">;</span>
</pre><pre class="fixed indent2"><span class="o">+</span><span class="c1">-------------------+------------------------+</span>
<span class="o">|</span> <span class="k">SCHEMA_NAME</span>       <span class="o">|</span> <span class="n">DEFAULT_COLLATION_NAME</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+------------------------+</span>
<span class="o">|</span> <span class="n">test_with_charset</span> <span class="o">|</span> <span class="n">utf8mb4_uca1400_ai_ci</span>  <span class="o">|</span>
<span class="o">|</span> <span class="n">test</span>              <span class="o">|</span> <span class="n">utf8mb4_general_ci</span>     <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+------------------------+</span>
</pre><h3 class="anchored_heading" id="performance">Performance</h3>
<ul start="1"><li>Optimizations to information schema system tables
<ul start="1"><li>The information schema provides tables with metadata about stored procedures and stored routines, which are often used by third party tools, and MariaDB Connectors to retrieve details about existing routines. Previously, a high number of rows in these tables would have resulted in a performance impact. We have made a number of internal improvements to eliminate the performance impact completely for use cases, where metadata had to be queried regularly.
</li></ul>
</li></ul>
<h4 class="anchored_heading" id="optimizer">Optimizer</h4>
<div class="cstm-style bluebox"><ul start="1"><li>New optimizer cost model, a change from a more rule-based to a cost-based model. Huge effort went into improving the calculations of the optimizer costs, taking into account state of the art SSD disks. The new implementation also takes the different characteristics of a storage engine into account.
<ul start="1"><li>If a key lookup cannot be used, the optimizer can now make better choices when to use index scan, table scan, index merges, or other methods to join data.
</li><li>While one model may work well for a specific use case, it may not be the right model for other use cases. With the changes we've made, it's now possible to fine-tune the optimizer by changing costs for different metrics.
</li></ul>
</li></ul>
</div><ul start="1"><li>Changes to the optimizer now allow the use of an index for a comparison of a <code>DATE</code> function to a constant value.<pre class="fixed"><span class="nb">DATE</span><span class="p">(</span><span class="n">datetime_column</span><span class="p">)</span> <span class="o">=</span> <span class="n">const</span>
</pre>
</li><li>The optimizer also has been enhanced to allow single-table <code>UPDATE</code> and <code>DELETE</code> to take advantage of semi-join optimization.
</li></ul>
<ul start="1"><li>Improved optimizer performance in a case of join with many <code>eq_ref</code> tables
</li></ul>
<h3 class="anchored_heading" id="mariadb-enterprise-cluster-powered-by-galera">MariaDB Enterprise Cluster (powered by Galera)</h3>
<ul start="1"><li>Automatic SST User Account Management for MariaDB Enterprise Cluster
<ul start="1"><li>The State Snapshot Transfer (SST) method, needed to provide a full data copy to a new node, requires a dedicated account to access the remote server (donor) during the SST process.
</li><li>The new MariaDB Enterprise Cluster (Galera) creates the user internally for the time of an SST, which makes the need to have an account created manually obsolete. This also removes the requirement to have a user and password provided via a configuration file. Having the user created by Galera also ensures that the needed privileges are set.
</li></ul>
</li></ul>
<ul start="1"><li>For MariaDB Galera Cluster, configurations are set using one system variable as a semicolon separated list of options, the system variable wsrep_provider_options. MariaDB Community Server system variables are limited to a length of 2048 characters, which is not sufficient for the Galera options in some use cases, and also hard to maintain as a DBA.
<ul start="1"><li>A new plugin is available, enabled via the plugin-wsrep-provider option. The options are split into separate options, if the plugin is used. The use of the plugin is optional.
</li></ul>
</li></ul>
<h2 class="anchored_heading" id="mariadb-replication">MariaDB Replication</h2>
<ul start="1"><li><em>Incompatibility change</em>: Replication is now using Global Transaction Ids (GTID) by default to make replicas crash safe
<ul start="1"><li>The default of <code>CHANGE MASTER TO</code> for <code>master_use_gtid</code> changes from '``no``' to '``slave_pos``',
</li><li>A fresh slave start, a <code>RESET SLAVE</code>, or a <code>CHANGE MASTER TO</code> without the defining <code>master_use_gtid</code> is replicating in the GTID based mode using '``gtid_slave_pos``' as the position to start downloading transactions from the primary
</li></ul>
</li></ul>
<ul start="1"><li>Global Limitation of Space Used by Binary Logs
<ul start="1"><li>The new system variable <code>max_binlog_total_size</code> (alias <code>binlog_space_limit</code>) enables binary log purging when the total size of all binary logs exceeds the specified threshold. The default for <code>max_binlog_total_size</code> is <code>0</code>, meaning that there is no limit. The system variable can be changed without restarting the server.
</li><li>The new system variable <code>--slave-connections-needed-for-purge</code>, set to <code>1</code> by default, assures that binary log purging will not happen until at least that many replicas are connected, and do not need purged binary logs anymore.
</li><li>The new status variable <code>binlog_disk_use</code> can be used to query the disk space currently used by the binary logs.
</li></ul>
</li></ul>
<ul start="1"><li>Index for Binary Log on GTIDs
<ul start="1"><li>An index is now created on the GTIDs of the binary log, which allows a connecting replica to find the position it should start from without the need to scan the whole binary log.
<ul start="1"><li>The new system variable <code>binlog_gtid_index</code> (default ON) can be used to disable the creation of indexes.
</li><li>The new system variable <code>binlog_gtid_index_page_size</code> (default <code>4096</code>) defines the page size to use for the binary log GTID index.
</li><li>The new system variable <code>binlog_gtid_index_span_min</code> (default <code>65536</code>) controls the sparseness of the binary log GTID index.
</li><li>The new status variables <code>binlog_gtid_index_hit</code> and <code>binlog_gtid_index_miss</code> can be used for monitoring purposes. A miss is an indication that the index file is missing.
</li></ul>
</li></ul>
</li></ul>
<ul start="1"><li>GTID Binlog Events Now Include Thread ID
<ul start="1"><li>The thread ID and the corresponding statement can now be retrieved from binary logs.
</li><li>The output of mariadb-dump also includes the thread ID.
</li></ul>
</li></ul>
<ul start="1"><li>A new option '``slave_max_statement_time``' for the SQL thread has been added to allow to set a maximum allowed execution time for a replicated query
<ul start="1"><li>Allows to control the maximum time a replica can be behind a primary if the primary goal is to have a small replication lack, with the cost to be out of sync. It is therefore disabled by default.
</li></ul>
</li></ul>
<ul start="1"><li>The binary log filter options <code>binlog-do-db</code>, <code>binlog-ignore-db</code>, and <code>binlog-row-event-max-size</code> are now visible as system variables.
<ul start="1"><li>Example:
</li></ul>
</li></ul>
<pre class="fixed indent2"><span class="k">SHOW</span> <span class="k">GLOBAL</span> <span class="n">VARIABLES</span> <span class="k">WHERE</span>
        <span class="n">Variable_name</span> <span class="k">LIKE</span> <span class="s1">&#39;binlog_do_db&#39;</span> <span class="k">OR</span>
        <span class="n">Variable_name</span> <span class="k">LIKE</span> <span class="s1">&#39;binlog_ignore_db&#39;</span> <span class="k">OR</span>
        <span class="n">Variable_name</span> <span class="k">LIKE</span> <span class="s1">&#39;binlog_row_event_max_size&#39;</span><span class="p">;</span>
</pre><pre class="fixed indent2"><span class="o">+</span><span class="c1">---------------------------+-------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>             <span class="o">|</span> <span class="n">Value</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------+-------+</span>
<span class="o">|</span> <span class="n">binlog_do_db</span>              <span class="o">|</span>       <span class="o">|</span>
<span class="o">|</span> <span class="n">binlog_ignore_db</span>          <span class="o">|</span>       <span class="o">|</span>
<span class="o">|</span> <span class="n">binlog_row_event_max_size</span> <span class="o">|</span> <span class="mi">8192</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">---------------------------+-------+</span>
</pre><ul start="1"><li>New <code>"SQL_BEFORE_GTIDS"</code> and <code>"SQL_AFTER_GTIDS"</code> for <code>START REPLICA UNTIL</code>
<ul start="1"><li>The new options <code>SQL_BEFORE_GTIDS</code> and <code>SQL_AFTER_GTIDS</code> for <code>START REPLICA UNTIL</code> allow user control of whether the replica stops before or after a provided GTID state. Its syntax is:<pre class="fixed"><span class="k">START</span> <span class="n">SLAVE</span> <span class="k">UNTIL</span> <span class="p">(</span><span class="n">SQL_BEFORE_GTIDS</span><span class="o">|</span><span class="n">SQL_AFTER_GTIDS</span><span class="p">)</span><span class="o">=</span><span class="ss">&quot;&lt;gtid_list&gt;&quot;</span>
</pre>
</li><li>When providing <code>SQL_BEFORE_GTIDS="&lt;gtid_list&gt;"</code>, for each domain specified in the gtid_list, the replica will execute transactions up to the GTID found, and immediately stop processing events in that domain without executing the transaction of the specified GTID.
</li><li>Once all domains have stopped, the replica will stop. Events originating from domains that are not specified in the list are not replicated.
</li><li><code>START SLAVE UNTIL SQL_AFTER_GTIDS="&lt;gtid_list&gt;"</code> is an alias to the default behavior of <code>START SLAVE UNTIL master_gtid_pos="&lt;gtid_list&gt;"</code>, the known behavior before MariaDB Enterprise Server 11.4.
</li><li>The replica will execute transactions originating from domain ids provided in the list, and will stop once all transactions provided in the UNTIL list have all been executed.
</li><li>Example:
</li></ul>
</li></ul>
<div style="margin-left:2em"><div style="margin-left:2em"><div style="margin-left:2em"><p> If a primary server has a binary log consisting of the following GTIDs:</p>
</div>
</div>
</div>
<pre class="fixed indent2"><span class="mi">0</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="mi">1</span>
<span class="mi">1</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="mi">1</span>
<span class="mi">0</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="mi">2</span>
<span class="mi">1</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="mi">2</span>
<span class="mi">0</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="mi">3</span>
<span class="mi">1</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="mi">3</span>
</pre><div style="margin-left:2em"><div style="margin-left:2em"><div style="margin-left:2em"><p> Given a fresh replica (i.e., one with an empty GTID position, @@gtid_slave_pos=") is started with SQL_BEFORE_GTIDS, i.e.,</p>
</div>
</div>
</div>
<pre class="fixed indent2"><span class="k">START</span> <span class="n">SLAVE</span> <span class="k">UNTIL</span> <span class="n">SQL_BEFORE_GTIDS</span><span class="o">=</span><span class="ss">&quot;1-1-2&quot;</span>
</pre><div style="margin-left:2em"><div style="margin-left:2em"><div style="margin-left:2em"><p> the resulting gtid_slave_pos of the replica will be "1-1-1" because the replica will execute only events from domain 1. When it sees the transaction with sequence number 2 it immediately stops without executing it.</p>
</div>
</div>
</div>
<div style="margin-left:2em"><div style="margin-left:2em"><div style="margin-left:2em"><p> If the replica is started with SQL_AFTER_GTIDS, i.e.,</p>
</div>
</div>
</div>
<pre class="fixed indent2"><span class="k">START</span> <span class="n">SLAVE</span> <span class="k">UNTIL</span> <span class="n">SQL_AFTER_GTIDS</span><span class="o">=</span><span class="ss">&quot;1-1-2&quot;</span>
</pre><div style="margin-left:2em"><div style="margin-left:2em"><div style="margin-left:2em"><p> the resulting gtid_slave_pos of the replica will be "1-1-2" because the replica will execute only events from domain 1. But in this case it stops after executing the provided GTID.</p>
</div>
</div>
</div>
<ul start="1"><li>New, detailed replication lag representation
<ul start="1"><li>The <code>Seconds_Behind_Master</code> field of <code>SHOW REPLICA STATUS</code> can be complex and confusing, especially when parallel replication, delayed replication, or the option <code>sql_slave_skip_counter</code> is used. To help provide a consistent view of replication lag, three new fields have been added to the statement's output to provide specific timing information about the state of the IO and SQL threads.
<ul start="1"><li><code>Master_last_event_time</code>
<ul start="1"><li>Timestamp of the last event read from the primary by the IO thread
</li></ul>
</li><li><code>Slave_last_event_time</code>
<ul start="1"><li>Timestamp from the primary of the last event committed on the replica
</li></ul>
</li><li><code>Master_Slave_time_diff</code>
<ul start="1"><li>The difference of the above two timestamps
</li></ul>
</li></ul>
</li></ul>
</li></ul>
<h3 class="anchored_heading" id="optimistic-alter-table-for-replicas">Optimistic ALTER TABLE for Replicas</h3>
<div class="cstm-style bluebox"><ul start="1"><li>New optimistic <code><code>ALTER TABLE</code></code><code> for replicas. When enabled by </code><code>binlog_alter_two_phase = 1</code><code> (not default), an </code><code>ALTER TABLE</code><code> is executed on the primary server and is replicated and "started" on the replica server more or less in parallel to the primary server. Thus, the possibly huge replication lag between a primary and replica server due to a long running </code><code>ALTER TABLE</code><code> on the primary can be avoided.</code>
</li></ul>
</div><h3 class="anchored_heading" id="mariadb-binlog">MariaDB-binlog</h3>
<ul start="1"><li>The command line tool mariadb-binlog now supports the use of global transaction IDs (GTID) for the options start-position and stop-position. mariadb-binlog can now be used to produce results filtered by the defined GTIDs.
</li></ul>
<ul start="1"><li>The command-line tool mariadb-binlog now supports the new options <code>--do-domain-ids</code>, <code>--ignore-domain-ids</code>, and <code>--ignore-server-ids</code>. mariadb-binlog can now be used to produce results filtered by domain ids server ids.
</li></ul>
<h2 class="anchored_heading" id="security-and-access-control">Security and Access Control</h2>
<ul start="1"><li>Client to Server connection now SSL Encrypted by Default
<ul start="1"><li>Using SSL/TLS has been simplified with MariaDB Enterprise Server 11.4. Before version 11.4, proper SSL configuration required multiple manual steps for the server, and all the clients connecting to it.
</li><li>Now the client can verify the server self-signed certificate without any configuration whatsoever. The server completely automatically generates the SSL certificate and the client automatically verifies it as needed.
</li><li>This simplification allows the server to now require SSL encrypted connections by default and to refuse unencrypted connections. Additionally, MariaDB Enterprise Server 11.4 allows users to verify SSL certificates using their fingerprints.
</li></ul>
</li></ul>
<ul start="1"><li>New Authentication Plugin — <code>PARSEC</code> (Password Authentication using Response Signed with Elliptic Curves).
<ul start="1"><li><code>PARSEC</code> improves security over old authentication plugins by introducing salted passwords, time consuming key derivation function, and a client-side scramble to ensure that man-in-the-middle attackers cannot control the client response.
</li><li>Example on how to create a user using the new authentication plugin:<pre class="fixed"><span class="k">CREATE</span> <span class="k">USER</span> <span class="s1">&#39;MariaDBUser&#39;</span><span class="o">@</span><span class="s1">&#39;%&#39;</span> <span class="n">IDENTIFIED</span> <span class="n">VIA</span> <span class="n">PARSEC</span> <span class="k">USING</span> <span class="n">PASSWORD</span><span class="p">(</span><span class="s1">&#39;MyPassword123!&#39;</span><span class="p">);</span>
</pre>
</li><li>This will result in:
</li></ul>
</li></ul>
<pre class="fixed indent2"><span class="k">SHOW</span> <span class="n">GRANTS</span> <span class="k">FOR</span> <span class="n">MariaDBUser</span><span class="o">@</span><span class="s1">&#39;%&#39;</span><span class="p">;</span>

<span class="n">Grants</span> <span class="k">for</span> <span class="n">MariaDBUser</span><span class="o">@%</span>
<span class="k">GRANT</span> <span class="k">USAGE</span> <span class="k">ON</span> <span class="o">*</span><span class="p">.</span><span class="o">*</span> <span class="k">TO</span> <span class="o">`</span><span class="n">MariaDBUser</span><span class="o">`@`%`</span> <span class="n">IDENTIFIED</span> <span class="n">VIA</span> <span class="n">parsec</span> <span class="k">USING</span> <span class="s1">&#39;P0:lhXyNv1cIxpB8EnTxR7ON7S7:1l3rWRW1/jw45yrvYXB8eh02wzk7lcJcz4CMcWw2b+8&#39;</span>
</pre><ul start="1"><li>The new plugin password_reuse_check can be used to validate that a password cannot be reused. The number of days until a password can be reused can be configured via a new parameter password_reuse_check_interval
</li></ul>
<ul start="1"><li>New allowlist for MariaDB Galera Cluster node to restrict the nodes which can join a cluster to increase security .
<ul start="1"><li>A new system variable wsrep_allowlist can be used to define a list of IP addresses. Only nodes from these IP addresses can join a running
</li></ul>
</li></ul>
<ul start="1"><li>The new SQL syntax <code>GRANT .. TO PUBLIC</code> can now be used to easily grant privileges to databases or tables for any user, who has access to the server.
<ul start="1"><li><code>SHOW GRANTS FOR PUBLIC</code> is an enhancement to the existing <code>SHOW GRANTS</code> syntax to retrieve all privileges granted to public
</li></ul>
</li></ul>
<ul start="1"><li>The fine grained privileges have been removed from the <code>SUPER</code> privilege.
<ul start="1"><li>The <code>SUPER</code> privilege is still used for some special cases, like using <code>DES_ENCRYPT</code> and <code>DES_DECRYPT</code> without an explicit key, for debug settings, and some system variables for changing them with <code>SET GLOBAL</code>.
</li><li>With MariaDB Enterprise Server 11.4, changes were made to privileges to allow real read only replicas with no other privileges. This was achieved by removing the <code>READ ONLY ADMIN</code> privilege from the <code>SUPER</code> privilege and making it a new privilege. Hence the <code>READ ONLY ADMIN</code> privilege now needs to be granted explicitly, if this user should have write access to a read only replica (a replica having <code>read_only=1</code> set).
</li></ul>
</li></ul>
<ul start="1"><li>New privilege <code>SHOW CREATE ROUTINE</code>
<ul start="1"><li>Before MariaDB Enterprise Server 11.4 a user only could see the definition of a routine, a stored feature, or function, when either of the following was met:
<ul start="1"><li>They had been granted the <code>SELECT</code> privilege for the <code>mysql.procs</code> table
</li><li>The user was the definer of the Stored Procedure
</li></ul>
</li><li>The new privilege <code>SHOW CREATE ROUTINE</code>, has been introduced to enable any user with this privilege to view the definition of a stored routine.
</li><li>Example without privilege <code>SHOW CREATE ROUTINE</code>:
</li></ul>
</li></ul>
<pre class="fixed indent2"><span class="k">show</span> <span class="n">grants</span><span class="p">;</span>

<span class="o">&lt;&lt;</span><span class="k">sql</span> <span class="n">inline</span><span class="o">=</span><span class="k">false</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="o">&gt;&gt;</span>
<span class="o">+</span><span class="c1">--------------------------------------------------+</span>
<span class="o">|</span> <span class="n">Grants</span> <span class="k">for</span> <span class="n">user1</span><span class="o">@%</span>                               <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------------------+</span>
<span class="o">|</span> <span class="k">GRANT</span> <span class="k">USAGE</span> <span class="k">ON</span> <span class="o">*</span><span class="p">.</span><span class="o">*</span> <span class="k">TO</span> <span class="o">`</span><span class="n">user1</span><span class="o">`@`%`</span>                <span class="o">|</span>
<span class="o">|</span> <span class="k">GRANT</span> <span class="k">SELECT</span><span class="p">,</span> <span class="k">EXECUTE</span> <span class="k">ON</span> <span class="o">`</span><span class="n">test</span><span class="o">`</span><span class="p">.</span><span class="o">*</span> <span class="k">TO</span> <span class="o">`</span><span class="n">user1</span><span class="o">`@`%`</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------------------------+</span>
</pre><pre class="fixed indent2"><span class="k">show</span> <span class="k">create</span> <span class="k">procedure</span> <span class="n">myProc</span> <span class="err">\</span><span class="k">G</span>
</pre><pre class="fixed indent2"><span class="o">***************************</span> <span class="mi">1</span><span class="p">.</span> <span class="k">row</span> <span class="o">***************************</span>
           <span class="k">Procedure</span><span class="p">:</span> <span class="n">myProc</span>
            <span class="n">sql_mode</span><span class="p">:</span> <span class="n">STRICT_TRANS_TABLES</span><span class="p">,</span><span class="n">ERROR_FOR_DIVISION_BY_ZERO</span><span class="p">,</span><span class="n">NO_AUTO_CREATE_USER</span><span class="p">,</span><span class="n">NO_ENGINE_SUBSTITUTION</span>
    <span class="k">Create</span> <span class="k">Procedure</span><span class="p">:</span> <span class="k">NULL</span>
<span class="n">character_set_client</span><span class="p">:</span> <span class="n">utf8mb3</span>
<span class="n">collation_connection</span><span class="p">:</span> <span class="n">utf8mb3_general_ci</span>
  <span class="k">Database</span> <span class="k">Collation</span><span class="p">:</span> <span class="n">utf8mb4_general_ci</span>
</pre><div style="margin-left:2em"><div style="margin-left:2em"><p>○ Example with the new privilege <code>SHOW CREATE ROUTINE</code>:</p>
</div>
</div>
<pre class="fixed indent2"><span class="k">show</span> <span class="n">grants</span><span class="p">;</span>
</pre><pre class="fixed indent2"><span class="o">+</span><span class="c1">-----------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">Grants</span> <span class="k">for</span> <span class="n">user1</span><span class="o">@%</span>                                                    <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="k">GRANT</span> <span class="k">USAGE</span> <span class="k">ON</span> <span class="o">*</span><span class="p">.</span><span class="o">*</span> <span class="k">TO</span> <span class="o">`</span><span class="n">user1</span><span class="o">`@`%`</span>                                     <span class="o">|</span>
<span class="o">|</span> <span class="k">GRANT</span> <span class="k">SELECT</span><span class="p">,</span> <span class="k">EXECUTE</span><span class="p">,</span> <span class="k">SHOW</span> <span class="k">CREATE</span> <span class="k">ROUTINE</span> <span class="k">ON</span> <span class="o">`</span><span class="n">test</span><span class="o">`</span><span class="p">.</span><span class="o">*</span> <span class="k">TO</span> <span class="o">`</span><span class="n">user1</span><span class="o">`@`%`</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------------------------------------------------+</span>
</pre><pre class="fixed indent2"><span class="k">show</span> <span class="k">create</span> <span class="k">procedure</span> <span class="n">myProc</span> <span class="err">\</span><span class="k">G</span>
</pre><pre class="fixed indent2"><span class="o">***************************</span> <span class="mi">1</span><span class="p">.</span> <span class="k">row</span> <span class="o">***************************</span>
           <span class="k">Procedure</span><span class="p">:</span> <span class="n">myProc</span>
            <span class="n">sql_mode</span><span class="p">:</span> <span class="n">STRICT_TRANS_TABLES</span><span class="p">,</span><span class="n">ERROR_FOR_DIVISION_BY_ZERO</span><span class="p">,</span><span class="n">NO_AUTO_CREATE_USER</span><span class="p">,</span><span class="n">NO_ENGINE_SUBSTITUTION</span>
    <span class="k">Create</span> <span class="k">Procedure</span><span class="p">:</span> <span class="k">CREATE</span> <span class="k">DEFINER</span><span class="o">=`</span><span class="n">root</span><span class="o">`@`</span><span class="n">localhost</span><span class="o">`</span> <span class="k">PROCEDURE</span> <span class="o">`</span><span class="n">myProc</span><span class="o">`</span><span class="p">()</span>
<span class="k">BEGIN</span>
    <span class="k">SELECT</span> <span class="ss">&quot;My Definiton of a Stored Procedure&quot;</span><span class="p">;</span>
<span class="k">END</span>
<span class="n">character_set_client</span><span class="p">:</span> <span class="n">utf8mb3</span>
<span class="n">collation_connection</span><span class="p">:</span> <span class="n">utf8mb3_general_ci</span>
  <span class="k">Database</span> <span class="k">Collation</span><span class="p">:</span> <span class="n">utf8mb4_general_ci</span>
</pre><div style="margin-left:2em"><div style="margin-left:2em"><p>○ <code>SHOW CREATE ROUTINE</code> privilege can be granted globally, per schema, or on individual routines.</p>
</div>
</div>
<ul start="1"><li>Retrieve Users Privileges on a Specific Table
<ul start="1"><li>MariaDB Server provides information about privileges a user has to a table in different views in the <code>INFORMATION_SCHEMA</code>, split between global, schema, and table privileges. Before MariaDB Enterprise Server 11.4, there was no easy way to list all the tables a user has access to, this information has to be queried from several tables.
</li><li>MariaDB Enterprise Server 11.4 now provides a new view <code>privileges_by_table_by_level</code> in the <code>SYS</code> schema that lists the privilege and privilege level per user, schema, and table.
</li><li>Example:
</li></ul>
</li></ul>
<pre class="fixed indent2"><span class="k">CREATE</span> <span class="k">DATABASE</span> <span class="n">test</span><span class="p">;</span>
<span class="n">use</span> <span class="n">test</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t1</span> <span class="p">(</span><span class="n">id</span> <span class="nb">int</span><span class="p">);</span>
<span class="k">CREATE</span> <span class="k">USER</span> <span class="n">user1</span><span class="p">;</span>
<span class="k">GRANT</span> <span class="k">SELECT</span><span class="p">,</span> <span class="k">UPDATE</span> <span class="k">ON</span> <span class="o">*</span><span class="p">.</span><span class="o">*</span> <span class="k">TO</span> <span class="n">user1</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="k">USER</span> <span class="n">user2</span><span class="p">;</span>
<span class="k">GRANT</span> <span class="k">SELECT</span> <span class="k">ON</span> <span class="n">test</span><span class="p">.</span><span class="o">*</span> <span class="k">TO</span> <span class="n">user2</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="k">USER</span> <span class="n">user3</span><span class="p">;</span>
<span class="k">GRANT</span> <span class="k">SELECT</span> <span class="k">ON</span> <span class="n">test</span><span class="p">.</span><span class="n">t1</span> <span class="k">TO</span> <span class="n">user3</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">sys</span><span class="p">.</span><span class="n">privileges_by_table_by_level</span> <span class="k">WHERE</span> <span class="n">GRANTEE</span> <span class="k">NOT</span> <span class="k">LIKE</span> <span class="ss">&quot;&#39;root&#39;@&#39;%&#39;&quot;</span><span class="p">;</span>
</pre><pre class="fixed indent2"><span class="o">+</span><span class="c1">--------------+------------+-------------+-----------+--------+</span>
<span class="o">|</span> <span class="n">TABLE_SCHEMA</span> <span class="o">|</span> <span class="k">TABLE_NAME</span> <span class="o">|</span> <span class="n">GRANTEE</span>     <span class="o">|</span> <span class="n">PRIVILEGE</span> <span class="o">|</span> <span class="k">LEVEL</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+------------+-------------+-----------+--------+</span>
<span class="o">|</span> <span class="n">test</span>         <span class="o">|</span> <span class="n">t1</span>         <span class="o">|</span> <span class="s1">&#39;user1&#39;</span><span class="o">@</span><span class="s1">&#39;%&#39;</span> <span class="o">|</span> <span class="k">SELECT</span>    <span class="o">|</span> <span class="k">GLOBAL</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">test</span>         <span class="o">|</span> <span class="n">t1</span>         <span class="o">|</span> <span class="s1">&#39;user1&#39;</span><span class="o">@</span><span class="s1">&#39;%&#39;</span> <span class="o">|</span> <span class="k">UPDATE</span>    <span class="o">|</span> <span class="k">GLOBAL</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">test</span>         <span class="o">|</span> <span class="n">t1</span>         <span class="o">|</span> <span class="s1">&#39;user2&#39;</span><span class="o">@</span><span class="s1">&#39;%&#39;</span> <span class="o">|</span> <span class="k">SELECT</span>    <span class="o">|</span> <span class="k">SCHEMA</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">test</span>         <span class="o">|</span> <span class="n">t1</span>         <span class="o">|</span> <span class="s1">&#39;user3&#39;</span><span class="o">@</span><span class="s1">&#39;%&#39;</span> <span class="o">|</span> <span class="k">SELECT</span>    <span class="o">|</span> <span class="k">TABLE</span>  <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+------------+-------------+-----------+--------+</span>
</pre><ul start="1"><li>A new information Schema view, <code>USERS</code>, has been added, which DBAs can use to get insights about password related information for a user.
<ul start="1"><li>This information can be used:
<ul start="1"><li>by an application to inform a user about a password about to expire or an account which is at risk of being blocked due to the number of wrong passwords entered
</li><li>by DBAs to query users which have been blocked because of too many invalid passwords entered
</li></ul>
</li><li>The new view includes the fields:
<ul start="1"><li><code>USER</code> - A string including user name and host
</li><li><code>PASSWORD_ERRORS</code> - A counter with the current number of wrong passwords entered
<ul start="1"><li>Reset to 0 when a correct password has been entered
</li><li>An account is blocked, if <code>max_password_errors</code> is reached
</li><li><code>NULL</code> for accounts with privilege <code>CONNECTION ADMIN</code>
</li></ul>
</li><li><code>PASSWORD_EXPIRATION_TIME</code> - The date and time when the password expires or NULL, if the password never expires
</li></ul>
</li></ul>
</li></ul>
<h2 class="anchored_heading" id="storage-engines">Storage Engines</h2>
<ul start="1"><li>Engine-defined attributes can now also be defined per-partition for more flexible configurations.
</li></ul>
<h3 class="anchored_heading" id="innodb">InnoDB</h3>
<ul start="1"><li>The space occupied by freed pages within the InnoDB system tablespace can be reclaimed by adding an :<code>#autoshrink</code># attribute to <code>#innodb_data_file_path</code>#, like:<pre class="fixed"><span class="p">[</span><span class="n">mariadb</span><span class="p">]</span>
<span class="p">...</span>
<span class="n">innodb_data_file_path</span><span class="o">=</span><span class="n">ibdata1</span><span class="p">:</span><span class="mi">12</span><span class="n">M</span><span class="p">;</span><span class="n">ibdata2</span><span class="p">:</span><span class="mi">50</span><span class="n">M</span><span class="p">:</span><span class="n">autoextend</span><span class="p">:</span><span class="n">autoshrink</span>
</pre>
<ul start="1"><li>This allows the system tablespace to be truncated after the last allocated page within it, all the way to the specified minimum size (here: <code>12MiB</code>). In older release series InnoDB data files never shrink in size during normal operation. One could shrink .ibd files by rebuilding tables with <code>OPTIMIZE TABLE</code>, or the undo tablespace files by <code>SET GLOBAL innodb_undo_log_truncate=ON</code>.
</li></ul>
</li></ul>
<ul start="1"><li>Shrink temporary InnoDB tablespaces without restart
<ul start="1"><li>Before MariaDB Enterprise Server 11.4 the only way to reclaim disk space used by temporary InnoDB tablespaces was to restart the server, as temporary tablespaces are deleted when you stop the server, and are recreated with their configured size.
</li><li>Restarting the server is not always possible, while you still need to reclaim disk space. MariaDB Enterprise Server 11.4 can solve this problem by executing<pre class="fixed"><span class="k">SET</span> <span class="k">GLOBAL</span> <span class="n">innodb_truncate_temporary_tablespace_now</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
</pre>This triggers to reclaim the disk space, but existing tables will not be removed.
</li><li>Example:
</li></ul>
</li></ul>
<pre class="fixed indent2"><span class="k">CREATE</span> <span class="k">TEMPORARY</span> <span class="k">TABLE</span> <span class="n">t1</span><span class="p">(</span><span class="n">f1</span> <span class="nb">INT</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span> <span class="n">f2</span> <span class="nb">INT</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">)</span><span class="n">ENGINE</span><span class="o">=</span><span class="n">InnoDB</span><span class="p">;</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t1</span> <span class="k">SELECT</span> <span class="n">seq</span><span class="p">,</span> <span class="n">seq</span> <span class="k">FROM</span> <span class="n">seq_1_to_65536</span><span class="p">;</span>
<span class="k">DROP</span> <span class="k">TABLE</span> <span class="n">t1</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="n">NAME</span><span class="p">,</span> <span class="n">FILE_SIZE</span> <span class="k">FROM</span> <span class="n">INFORMATION_SCHEMA</span><span class="p">.</span><span class="n">INNODB_SYS_TABLESPACES</span> <span class="k">WHERE</span> <span class="n">NAME</span><span class="o">=</span><span class="ss">&quot;innodb_temp</span>
<span class="ss">orary&quot;</span><span class="p">;</span>
</pre><pre class="fixed indent2"><span class="o">+</span><span class="c1">------------------+-----------+</span>
<span class="o">|</span> <span class="n">NAME</span>             <span class="o">|</span> <span class="n">FILE_SIZE</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+-----------+</span>
<span class="o">|</span> <span class="n">innodb_temporary</span> <span class="o">|</span>  <span class="mi">79691776</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+-----------+</span>
</pre><pre class="fixed indent2"><span class="k">SET</span> <span class="k">GLOBAL</span> <span class="n">INNODB_TRUNCATE_TEMPORARY_TABLESPACE_NOW</span><span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="n">NAME</span><span class="p">,</span> <span class="n">FILE_SIZE</span> <span class="k">FROM</span> <span class="n">INFORMATION_SCHEMA</span><span class="p">.</span><span class="n">INNODB_SYS_TABLESPACES</span> <span class="k">WHERE</span> <span class="n">NAME</span><span class="o">=</span><span class="ss">&quot;innodb_temp</span>
<span class="ss">orary&quot;</span><span class="p">;</span>
</pre><pre class="fixed indent2"><span class="o">+</span><span class="c1">------------------+-----------+</span>
<span class="o">|</span> <span class="n">NAME</span>             <span class="o">|</span> <span class="n">FILE_SIZE</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+-----------+</span>
<span class="o">|</span> <span class="n">innodb_temporary</span> <span class="o">|</span>  <span class="mi">12582912</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------+-----------+</span>
</pre><ul start="1"><li>The process to import a InnoDB tablespace is now simplified. While the old process required to first create a table and to discard the tablespace before executing<br> <code>ALTER TABLE IMPORT TABLESPACE, now ALTER TABLE IMPORT TABLESPACE</code> is the only command needed.
<ul start="1"><li>Example:
</li></ul>
</li></ul>
<pre class="fixed indent2"><span class="n">FLUSH</span> <span class="n">TABLES</span> <span class="n">t1</span> <span class="k">FOR</span> <span class="n">EXPORT</span><span class="p">;</span>
<span class="c1">--copy_file $MYSQLD_DATADIR/test/t1.cfg $MYSQLD_DATADIR/test/t2.cfg</span>
<span class="c1">--copy_file $MYSQLD_DATADIR/test/t1.frm $MYSQLD_DATADIR/test/t2.frm</span>
<span class="c1">--copy_file $MYSQLD_DATADIR/test/t1.ibd $MYSQLD_DATADIR/test/t2.ibd</span>
<span class="n">UNLOCK</span> <span class="n">TABLES</span><span class="p">;</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">t2</span> <span class="n">IMPORT</span> <span class="n">TABLESPACE</span><span class="p">;</span>
</pre><ul start="1"><li>The InnoDB storage engine has gone through additional code cleanup and we have removed some configuration parameters used by the InnoDB Change Buffering feature, a feature which was disabled for earlier release series.
<ul start="1"><li>New system variables like <code>innodb_log_file_buffering</code>, <code>innodb_data_file_buffering</code>, <code>innodb_log_file_write_through</code>, and <code>innodb_data_file_write_through</code> have been added to allow better control for log files and data files. They can be set dynamically while the Server is running.
</li></ul>
</li></ul>
<ul start="1"><li>Changes to the InnoDB redo log format to reduce write amplification, which can result in better performance.
</li></ul>
<ul start="1"><li>The system variables innodb_write_io_threads and innodb_read_io_threads are now dynamic, and their values can be changed without restarting the server
</li></ul>
<h3 class="anchored_heading" id="spider">Spider</h3>
<ul start="1"><li>The <code>SPIDER</code> storage engine now allows the use of engine-defined attributes (table options), similar to other storage engines, and more convenient than the current method of providing parameters via <code>COMMENT</code> for a table.
</li></ul>
<h2 class="anchored_heading" id="analyzing-tracing-and-monitoring">Analyzing, Tracing, and Monitoring</h2>
<ul start="1"><li>Improved error reporting for INSERT that inserts multiple rows. The property <code>ROW_NUMBER</code> in <code>GET DIAGNOSTICS</code> allows retrieval of the row number that caused the error or warning.
</li></ul>
<ul start="1"><li>Implementation of JSON histograms with detailed histogram collection, used when <code>histogram_type=JSON_HB</code> (not the default) is set. Using JSON histograms results in more precise data statistics over string data types or when columns have highly-uneven data distribution. More precise statistics allow the optimizer to create better query plans resulting in faster queries.
</li></ul>
<ul start="1"><li><code>ANALYZE [FORMAT=JSON] &lt;select&gt;</code> has been extended to allow analyzing a query which is currently running in another connection by running <code>SHOW ANALYZE FORMAT=JSON for &lt;conn_id&gt;</code>.
</li></ul>
<ul start="1"><li>ANALYZE FORMAT=JSON now shows the time spent in the query optimizer
<ul start="1"><li>In some cases optimizing the query can take a while. <code>ANALYZE FORMAT=JSON</code> now reports time as <code>"query_optimization"</code>: {  <code>"r_total_time_ms": NNNN.NNN</code> } in the JSON string
</li></ul>
</li></ul>
<ul start="1"><li><code>SHOW EXPLAIN</code> for <code>&lt;conn_id&gt;</code>, which returns an <code>EXPLAIN</code> for a query running in another connection, has been extended to return the more detailed JSON output by using the syntax <code>SHOW EXPLAIN [FORMAT=JSON] FOR &lt;conn_id&gt;</code>.
<ul start="1"><li>Syntax EXPLAIN <code>[ FORMAT=JSON] FOR CONNECTION &lt;conn_id&gt;</code> is also supported.
</li></ul>
</li></ul>
<ul start="1"><li>New status monitoring features for MariaDB Enterprise Cluster:
<ul start="1"><li>New thread states in <code>PROCESSLIST</code> for MariaDB Galera Cluster allow better tracking of a session status
<ul start="1"><li>"waiting to execute in isolation"
</li><li>"waiting for TOI DDL"
</li><li>"waiting for flow control"
</li><li>"waiting for certification"
</li></ul>
</li><li>MariaDB Enterprise Cluster has added a new feature to save wsrep node status changes in a dedicated machine readable JSON file. This allows an easier way for reading and interpreting the status file by an external monitoring tool. A filename needs to be specified via the option <code>wsrep_status_file</code> to enable the feature.
<ul start="1"><li>This JSON file also includes details about a node eviction status to the JSON file to report that a Galera node needs to be restarted to join the cluster.
</li></ul>
</li><li>MariaDB Enterprise Cluster now includes progress reporting of MariaDB Enterprise Backup based SST when <code>wsrep-debug=1</code> is set and the tool <code>pv</code> is installed. The SST progress report is then written into the server log:
</li></ul>
</li></ul>
<div style="margin-left:2em"><div style="margin-left:2em"><div style="margin-left:2em"><div style="margin-left:2em"><div style="margin-left:2em"><p> 2022-03-24 13:10:43 0 [Note] WSREP: REPORTING SST PROGRESS: '{ "from": 1, "to": 3, "total": 23106759472, "done": 23106759472, "indefinite": -1 }'</p>
</div>
</div>
</div>
</div>
</div>
<ul start="1"><li>The new value <code>SENT_ROWS</code> in the information schema table <code>PROCESSLIST</code> includes the number of rows sent by the current statement, shown in the processlist.
<ul start="1"><li>Selects with functions show the total number of rows sent by the main statement and all functions
</li><li>Stored procedures show the total number of rows sent per stored procedure statement
</li><li><code>INSERT RETURNING</code> and <code>DELETE RETURNING</code> show the total number of rows sent for the returning data set
</li><li>Example:
</li></ul>
</li></ul>
<pre class="fixed indent2"><span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">processlist</span><span class="err">\</span><span class="k">G</span>
</pre><pre class="fixed indent2"><span class="o">***************************</span> <span class="mi">1</span><span class="p">.</span> <span class="k">row</span> <span class="o">***************************</span>
<span class="p">...</span>
<span class="o">***************************</span> <span class="mi">2</span><span class="p">.</span> <span class="k">row</span> <span class="o">***************************</span>
             <span class="n">ID</span><span class="p">:</span> <span class="mi">6</span>
           <span class="k">USER</span><span class="p">:</span> <span class="n">root</span>
           <span class="k">HOST</span><span class="p">:</span> <span class="n">localhost</span>
             <span class="n">DB</span><span class="p">:</span> <span class="n">test</span>
        <span class="n">COMMAND</span><span class="p">:</span> <span class="n">Query</span>
           <span class="n">TIME</span><span class="p">:</span> <span class="mi">1</span>
          <span class="k">STATE</span><span class="p">:</span> <span class="n">Sending</span> <span class="k">data</span>
           <span class="n">INFO</span><span class="p">:</span> <span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">t1</span>
        <span class="n">TIME_MS</span><span class="p">:</span> <span class="mi">1340</span><span class="p">.</span><span class="mi">406</span>
          <span class="n">STAGE</span><span class="p">:</span> <span class="mi">0</span>
      <span class="n">MAX_STAGE</span><span class="p">:</span> <span class="mi">0</span>
       <span class="n">PROGRESS</span><span class="p">:</span> <span class="mi">0</span><span class="p">.</span><span class="mi">000</span>
    <span class="n">MEMORY_USED</span><span class="p">:</span> <span class="mi">89856</span>
<span class="n">MAX_MEMORY_USED</span><span class="p">:</span> <span class="mi">392544</span>
  <span class="n">EXAMINED_ROWS</span><span class="p">:</span> <span class="mi">0</span>
      <span class="n">SENT_ROWS</span><span class="p">:</span> <span class="mi">3895737</span>
       <span class="n">QUERY_ID</span><span class="p">:</span> <span class="mi">436</span>
    <span class="n">INFO_BINARY</span><span class="p">:</span> <span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">t1</span>
            <span class="n">TID</span><span class="p">:</span> <span class="mi">100</span>
</pre><ul start="1"><li>The SQL Error Log Plugin can be used to log errors sent to clients for later analysis. When option <code>sql_error_log_with_db_and_thread_info=ON</code> is set, the log file is now also showing thread id, and the current default schema for the error.
</li></ul>
<h2 class="anchored_heading" id="available-versions">Available Versions</h2>
<ul start="1"><li><a href="https://mariadb.com/kb/en/release-notes-for-mariadb-enterprise-server-11-4-5-3">MariaDB Enterprise Server 11.4.5-3</a>
</li></ul>
<ul start="1"><li><a href="https://mariadb.com/kb/en/release-notes-for-mariadb-enterprise-server-11-4-4-2">MariaDB Enterprise Server 11.4.4-2</a>
</li></ul>
<ul start="1"><li><a href="https://mariadb.com/kb/en/release-notes-for-mariadb-enterprise-server-11-4-0-1">MariaDB Enterprise Server 11.4.0-1</a>
</li></ul>
<ul start="1"><li><a href="https://mariadb.com/kb/en/release-notes-for-mariadb-enterprise-server-11-4-3-1">MariaDB Enterprise Server 11.4.3-1</a>
</li></ul>
<h2 class="anchored_heading" id="installation-instructions">Installation Instructions</h2>
<ul start="1"><li><a href="https://mariadb.com/docs/server/deploy/topologies/single-node/enterprise-server-11-4">MariaDB Enterprise Server 11.4</a>
</li></ul>
<ul start="1"><li><a href="https://mariadb.com/docs/server/deploy/topologies/galera-cluster/enterprise-server-11-4">Enterprise Cluster Topology with MariaDB Enterprise Server 11.4</a>
</li></ul>
<ul start="1"><li><a href="https://mariadb.com/docs/server/deploy/topologies/primary-replica/enterprise-server-11-4">Primary/Replica Topology with MariaDB Enterprise Server 11.4</a>
</li></ul>
<ul start="1"><li><a href="https://mariadb.com/docs/server/deploy/topologies/columnstore-object-storage/enterprise-server-11-4">ColumnStore Object Storage Topology with MariaDB Enterprise Server 11.4 and MariaDB Enterprise ColumnStore 23.02</a>
</li></ul>
<ul start="1"><li><a href="https://mariadb.com/docs/server/deploy/topologies/columnstore-shared-local-storage/enterprise-server-11-4">ColumnStore Shared Local Storage Topology with MariaDB Enterprise Server 11.4 and MariaDB Enterprise ColumnStore 23.02</a>
</li></ul>
<ul start="1"><li><a href="https://mariadb.com/docs/server/deploy/topologies/columnstore-htap/enterprise-server-11-4">HTAP Topology with MariaDB Enterprise Server 11.4 and MariaDB Enterprise ColumnStore 23.02</a>
</li></ul>
<ul start="1"><li><a href="https://mariadb.com/docs/server/deploy/topologies/single-node/enterprise-columnstore-es11-4-object">Single-Node Enterprise ColumnStore 23.02 with MariaDB Enterprise Server 11.4 and Object Storage</a>
</li></ul>
<ul start="1"><li><a href="https://mariadb.com/docs/server/deploy/topologies/single-node/enterprise-columnstore-es11-4-local">Single-Node Enterprise ColumnStore 23.02 with MariaDB Enterprise Server 11.4</a>
</li></ul>
<ul start="1"><li><a href="https://mariadb.com/docs/server/deploy/topologies/spider-sharded/enterprise-server-11-4">Enterprise Spider Sharded Topology with MariaDB Enterprise Server 11.4</a>
</li></ul>
<ul start="1"><li><a href="https://mariadb.com/docs/server/deploy/topologies/spider-federated/enterprise-server-11-4">Enterprise Spider Federated Topology with MariaDB Enterprise Server 11.4</a>
</li></ul>
<h2 class="anchored_heading" id="upgrade-instructions">Upgrade Instructions</h2>
<ul start="1"><li><a href="/kb/en/upgrading-from-mariadb-11-3-to-mariadb-11-4/">Upgrade to MariaDB Enterprise Server 11.4</a>
</li></ul>
<ul start="1"><li><a href="/kb/en/upgrading-between-major-mariadb-versions/">Upgrade from MariaDB Community Server to MariaDB Enterprise Server 11.4</a>
</li></ul>
<h2 class="anchored_heading" id="whats-new-in-older-release-series">What's new in older release series?</h2>
<ul start="1"><li><a href="/kb/en/whats-new-in-mariadb-enterprise-server-10-2/">What's New in MariaDB Enterprise Server 10.2?</a>
</li></ul>
<ul start="1"><li><a href="/kb/en/whats-new-in-mariadb-enterprise-server-10-3/">What's New in MariaDB Enterprise Server 10.3?</a>
</li></ul>
<ul start="1"><li><a href="/kb/en/whats-new-in-mariadb-enterprise-server-10-4/">What's New in MariaDB Enterprise Server 10.4?</a>
</li></ul>
<ul start="1"><li><a href="/kb/en/whats-new-in-mariadb-enterprise-server-10-5/">What's New in MariaDB Enterprise Server 10.5?</a>
</li></ul>
<ul start="1"><li><a href="/kb/en/whats-new-in-mariadb-enterprise-server-10-6/">What's New in MariaDB Enterprise Server 10.6?</a></li></ul>

    </div>


        
            <div id="subscribe" class="well well-small hide hidden-print"
                 data-subscribe-url="/kb/en/whats-new-in-mariadb-enterprise-server-11-4/+subscriptions/add"
                 data-unsubscribe-url="/kb/en/whats-new-in-mariadb-enterprise-server-11-4/+subscriptions/remove">
            </div>
        

        
        
    
        <div class="simple_section_nav">
            <ul class="nav nav-pills">
                
                
                    <li><a href="/kb/en/mariadb-enterprise-server-11-4/">
                        ↑ MariaDB Enterprise Server 11.4 ↑
                    </a>
                    </li>
                
                
                    <li class="pull-right"><a href="/kb/en/release-notes-for-mariadb-enterprise-server-11-4-5-3/">
                        Release Notes for MariaDB Enterprise Server 11.4.5-3 →
                    </a>
                    </li>
                
            </ul>
        </div>
    

        

        
        <h2>Comments</h2>
        
    
    <div id="comments" data-node-id="16049" data-comments-url="/kb/en/whats-new-in-mariadb-enterprise-server-11-4/+comments"
         data-reply-url="/kb/en/whats-new-in-mariadb-enterprise-server-11-4/comments/post/">
        Comments loading...
    </div>

        

    </div>


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
                <div id="right_bar" class="col-md-2">
                    
    
        
        <ul class="section_navigation well well-small hidden-xs hidden-sm">
            
                <li class="parent"><a href="/kb/en/mariadb-enterprise-server-11-4/">
                    ↑ MariaDB Enterprise Server 11.4 ↑
                </a>
                </li>
            
            
                
                    <li class="active">
                        <span>What&#39;s New in MariaDB Enterprise Server 11.4</span>
                        
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/release-notes-for-mariadb-enterprise-server-11-4-5-3/">
                            
                            Release Notes for MariaDB Enterprise Server 11.4.5-3
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/changelog-for-mariadb-enterprise-server-11-4-5-3/">
                            
                            Changelog for MariaDB Enterprise Server 11.4.5-3
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/release-notes-for-mariadb-enterprise-server-11-4-4-2/">
                            
                            Release Notes for MariaDB Enterprise Server 11.4.4-2
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/release-notes-for-mariadb-enterprise-server-11-4-3-1/">
                            
                            Release Notes for MariaDB Enterprise Server 11.4.3-1
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/release-notes-for-mariadb-enterprise-server-11-4-0-1/">
                            
                            Release Notes for MariaDB Enterprise Server 11.4.0-1
                        </a>
                    </li>
                
            
        </ul>
    
    

                </div>
            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/solutions" title="Solutions">Solutions</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">Company</a></h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        
                        
                        <li>
                            <h5><a href="https://mariadb.com/downloads" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2025 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.1587e3a666fc.js" charset="utf-8"></script>

</html>