<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>EXPLAIN - Source - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.f7633538c846.css" rel="stylesheet" type="text/css" />

    
        <meta name="robots" content="noindex, nofollow">
    

    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="EXPLAIN - Source" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/en/explain/+source/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="" />

    <meta name="description" content="" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes autoresize nodes_source jqui" id="nodes_source">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/explain/+source/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2024 MariaDB. All rights reserved.</p>
    </div>
</div>
<div class="violator-wrap d-none" id="top_violator">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12">
                <div class="violator-outer">
                    <div class="violator-inner">
                        <div class="row">
                            <div class="col-xs-12 col-sm-9 col-lg-7 col-lg-offset-2" id="top_violator_content">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="content-link" target="_blank" rel="nofollow noreferrer">
                                    <span>The Ultimate Guide to High Availability with MariaDB</span>
                                </a>
                            </div>
                            <div class="col-xs-12 col-sm-3" id="top_violator_cta">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="btn btn-mariadb" target="_blank" rel="nofollow noreferrer">Download Now</a>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn btn-link close-btn">
                        <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" width="15px" height="15px"><path d="M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/explain/+source/" rel="nofollow">Login</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/en/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/en/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/services" title="Services">Services</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="About Us">About Us</a>
    </li>
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/en/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/en/documentation/">MariaDB Server Documentation</a>
    

    
    » <a class="crumb" href="/kb/en/using-mariadb-server/">Using MariaDB Server</a>
    

    
    » <a class="crumb" href="/kb/en/sql-statements-structure/">SQL Statements &amp; Structure</a>
    

    
    » <a class="crumb" href="/kb/en/sql-statements/">SQL Statements</a>
    

    
    » <a class="crumb" href="/kb/en/administrative-sql-statements/">Administrative SQL Statements</a>
    

    
    » <a class="crumb" href="/kb/en/analyze-and-explain-statements/">ANALYZE and EXPLAIN Statements</a>
    


    » <a class="node_link crumb" href="/kb/en/explain/">EXPLAIN</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/en/">Home</a></li>
                            
                                
                                    <li><a href="/kb/en/+questions/">Open Questions</a></li>
                                
                                <li><a href="/kb/en/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/en/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/en/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/en/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
                        <div>
    

<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-small" href="/kb/en/explain/">Return to article</a>
    
</div>
</div>

</div>
                    

                    

































                </aside>
            
            
            
                
            
            
            <section id="content" class="limited_width col-md-10 clearfix">
                
                    <h1>EXPLAIN - Source</h1>
                

                



                <div>
                    

    

    
    <div class="revision_info">
        <dl class="table">
            <dt>Revision</dt>
            <dd><a href="/kb/en/explain/+r/123041/">123041</a></dd>
            <dt>User</dt>
            <dd>
<span class="user" id="user-2">
<a href="/kb/user/id/2" title="Daniel Bartholomew">Daniel Bartholomew</a>
</span></dd>
            <dt>Date</dt>
            <dd>

<span class="datetime" title="2023-01-24 15:21">2023-01-24 15:21</span></dd>
        </dl>
    </div>
    


    

    
        
        <textarea id="answer_source" class="creole_source autogrow">== Syntax

&lt;&lt;code&gt;&gt;
EXPLAIN tbl_name [col_name | wild]
&lt;&lt;/code&gt;&gt;

Or

&lt;&lt;code&gt;&gt;
EXPLAIN [EXTENDED | PARTITIONS | FORMAT=JSON] 
  {SELECT select_options | UPDATE update_options | DELETE delete_options}
&lt;&lt;/code&gt;&gt;
&lt;&lt;toc&gt;&gt;
== Description

The &lt;&lt;fixed&gt;&gt;EXPLAIN&lt;&lt;/fixed&gt;&gt; statement can be used either as a synonym for
[[describe|DESCRIBE]] or as a way to obtain information about how MariaDB
executes a &lt;&lt;fixed&gt;&gt;SELECT&lt;&lt;/fixed&gt;&gt;, ##UPDATE## or ##DELETE## statement:

* &lt;&lt;fixed&gt;&gt;&#39;EXPLAIN tbl_name&#39;&lt;&lt;/fixed&gt;&gt; is synonymous with 
  &lt;&lt;fixed&gt;&gt;&#39;[[describe|DESCRIBE]] tbl_name&#39;&lt;&lt;/fixed&gt;&gt; or 
  &lt;&lt;fixed&gt;&gt;&#39;[[show-columns|SHOW COLUMNS]] FROM tbl_name&#39;&lt;&lt;/fixed&gt;&gt;.
* When you precede a &lt;&lt;fixed&gt;&gt;SELECT&lt;&lt;/fixed&gt;&gt;, ##UPDATE## or a ##DELETE## statement with the keyword 
  &lt;&lt;fixed&gt;&gt;EXPLAIN&lt;&lt;/fixed&gt;&gt;, MariaDB displays information from the optimizer
  about the query execution plan. That is, MariaDB explains how it would
  process the &lt;&lt;fixed&gt;&gt;SELECT&lt;&lt;/fixed&gt;&gt;, ##UPDATE## or ##DELETE##, including information about how tables
  are joined and in which order. &lt;&lt;fixed&gt;&gt;EXPLAIN EXTENDED&lt;&lt;/fixed&gt;&gt; can be
  used to provide additional information.\\
* &lt;&lt;fixed&gt;&gt;EXPLAIN PARTITIONS&lt;&lt;/fixed&gt;&gt; is useful only when examining queries involving partitioned tables.\\ For details, see [[partition-pruning-and-selection|Partition pruning and selection]].
* [[analyze-statement|ANALYZE statement]] performs the query as well as producing EXPLAIN output, and provides actual as well as estimated statistics.
* ##EXPLAIN## output can be printed in the [[slow-query-log|slow query log]]. See [[explain-in-the-slow-query-log|EXPLAIN in the Slow Query Log]] for details.

[[show-explain|SHOW EXPLAIN]] shows the output of a running statement. In some cases, its output can be closer to reality than ##EXPLAIN##.

The [[analyze-statement|ANALYZE statement]] runs a statement and returns information about its execution plan. It also shows additional columns, to check how much the optimizer&#39;s estimation about filtering and found rows are close to reality.

There is an online [[explain-analyzer|EXPLAIN Analyzer]] that you can use to share ##EXPLAIN## and ##EXPLAIN EXTENDED## output with others.

&lt;&lt;style class=&#34;graybox&#34;&gt;&gt;
##EXPLAIN## can acquire metadata locks in the same way that ##SELECT## does, as it needs to know table metadata and, sometimes, data as well.
&lt;&lt;/style&gt;&gt;

=== Columns in EXPLAIN ... SELECT
&lt;&lt;style class=&#34;darkheader-nospace-borders&#34;&gt;&gt;
|= Column name      |= Description |
|##id##             | Sequence number that shows in which order tables are joined.|
|##select_type##    | What kind of ##SELECT## the table comes from.|
|##table##          | Alias name of table. Materialized temporary tables for sub queries are named &lt;subquery#&gt;|
|##type##           | How rows are found from the table (join type).|
|##possible_keys##  | keys in table that could be used to find rows in the table
|##key##            | The name of the key that is used to retrieve rows. ##NULL## is no key was used.|
|##key_len##        | How many bytes of the key that was used (shows if we are using only parts of the multi-column key).|
|##ref##            | The reference that is used as the key value.|
|##rows##           | An estimate of how many rows we will find in the table for each key lookup.|
|##Extra##          | Extra information about this join.|
&lt;&lt;/style&gt;&gt;

Here are descriptions of the values for some of the more complex columns in ##EXPLAIN ... SELECT##:

==== &#34;Select_type&#34; Column

The ##select_type## column can have the following values:

&lt;&lt;style class=&#34;darkheader-nospace-borders&#34;&gt;&gt;
|= Value                    |= Description  |= Comment
|  ##DEPENDENT SUBQUERY##   |  The ##SUBQUERY## is ##DEPENDENT##. | |
|  ##DEPENDENT UNION##      |  The ##UNION## is ##DEPENDENT##. | |
|  ##DERIVED##              |  The ##SELECT## is ##DERIVED## from the ##PRIMARY##. | |
| ##MATERIALIZED## | The ##SUBQUERY## is ##[[semi-join-materialization-strategy|MATERIALIZED]]##. | Materialized tables will be populated at first access and will be accessed by the primary key (= one key lookup). Number of rows in EXPLAIN shows the cost of populating the table |
|  ##PRIMARY##              |  The ##SELECT## is in the outermost query, but there is also a ##SUBQUERY## within it. | |
|  ##SIMPLE##               |  It is a simple ##SELECT## query without any ##SUBQUERY## or ##UNION##. | |
|  ##SUBQUERY##             |  The ##SELECT## is a ##SUBQUERY## of the ##PRIMARY##. | |
|  ##UNCACHEABLE SUBQUERY## |  The ##SUBQUERY## is ##UNCACHEABLE##. | |
|  ##UNCACHEABLE UNION##    |  The ##UNION## is ##UNCACHEABLE##. | |
|  ##UNION##                |  The ##SELECT## is a ##UNION## of the ##PRIMARY##. | |
|  ##UNION RESULT##         |  The result of the ##UNION##. | |
| ##LATERAL DERIVED## | The ##SELECT## uses a [[lateral-derived-optimization|Lateral Derived optimization]] | |
&lt;&lt;/style&gt;&gt;

==== &#34;Type&#34; Column

This column contains information on how the table is accessed.
&lt;&lt;style class=&#34;darkheader-nospace-borders&#34;&gt;&gt;
|= Value                |= Description
|  ##ALL##              | A full table scan is done for the table (all rows are read). This is bad if the table is large and the table is joined against a previous table!  This happens when the optimizer could not find any usable index to access rows.
|  ##const##            | There is only one possibly matching row in the table. The row is read before the optimization phase and all columns in the table are treated as constants.
|  ##eq_ref##           | A unique index is used to find the rows. This is the best possible plan to find the row.
|  ##fulltext##         | A fulltext index is used to access the rows.
|  ##index_merge##      | A &#39;range&#39; access is done for for several index and the found rows are merged. The key column shows which keys are used.
|  ##index_subquery##   | This is similar as ref, but used for sub queries that are transformed to key lookups.
|  ##index##            | A full scan over the used index.  Better than ALL but still bad if index is large and the table is joined against a previous table.
|  ##range##            | The table will be accessed with a key over one or more value ranges.
|  ##ref_or_null##      | Like &#39;ref&#39; but in addition another search for the &#39;null&#39; value is done if the first value was not found. This happens usually with sub queries.
|  ##ref##              | A non unique index or prefix of an unique index is used to find the rows. Good if the prefix doesn&#39;t match many rows.
|  ##system##           | The table has 0 or 1 rows.
|  ##unique_subquery##  | This is similar as eq_ref, but used for sub queries that are transformed to key lookups
&lt;&lt;/style&gt;&gt;

==== &#34;Extra&#34; Column

This column consists of one or more of the following values, separated by &#39;;&#39;

 //Note that some of these values are detected after the optimization phase.//

The optimization phase can do the following changes to the ##WHERE## clause:

* Add the expressions from the ##ON## and ##USING## clauses to the ##WHERE##
  clause.
* Constant propagation:  If there is ##column=constant##, replace all column
  instances with this constant.
* Replace all columns from &#39;##const##&#39; tables with their values.
* Remove the used key columns from the ##WHERE## (as this will be tested as
  part of the key lookup).
* Remove impossible constant sub expressions.
  For example ##WHERE &#39;(a=1 and a=2) OR b=1&#39;## becomes ##&#39;b=1&#39;##.
* Replace columns with other columns that has identical values:
  Example:  ##WHERE## ##a=b## and ##a=c## may be treated
  as ##&#39;WHERE a=b and a=c and b=c&#39;##.
* Add extra conditions to detect impossible row conditions earlier. This
  happens mainly with ##OUTER JOIN## where we in some cases add detection
  of ##NULL## values in the ##WHERE## (Part of &#39;##Not exists##&#39; optimization).
  This can cause an unexpected &#39;##Using where##&#39; in the Extra column.
* For each table level we remove expressions that have already been tested when
  we read the previous row. Example: When joining tables ##t1## with ##t2##
  using the following ##WHERE &#39;t1.a=1 and t1.a=t2.b&#39;##, we don&#39;t have to
  test ##&#39;t1.a=1&#39;## when checking rows in ##t2## as we already know that this
  expression is true. 

&lt;&lt;style class=&#34;darkheader-nospace-borders&#34;&gt;&gt;
|= Value |= Description
|##const row not found##| The table was a system table (a table with should exactly one row), but no row was found.
|##Distinct##| If distinct optimization (remove duplicates) was used. This is marked only for the last table in the ##SELECT##.
|##Full scan on NULL key##| The table is a part of the sub query and if the value that is used to match the sub query will be ##NULL##, we will do a full table scan.
|##Impossible HAVING##| The used ##HAVING## clause is always false so the ##SELECT## will return no rows.
|##Impossible WHERE## ##noticed## ##after## ##reading## ##const## ##tables.##| The used ##WHERE## clause is always false so the ##SELECT## will return no rows. This case was detected after we had read all &#39;const&#39; tables and used the column values as constant in the ##WHERE## clause. For example: ##WHERE const_column=5## and ##const_column## had a value of 4.
|##Impossible WHERE##| The used ##WHERE## clause is always false so the ##SELECT## will return no rows. For example: ##WHERE 1=2##
|##No matching min/max row##| During early optimization of ##MIN()##/##MAX()## values it was detected that no row could match the ##WHERE## clause. The ##MIN()##/##MAX()## function will return ##NULL##.
|##no matching row## ##in## ##const## ##table##| The table was a const table (a table with only one possible matching row), but no row was found.
|##No tables used##|The ##SELECT## was a sub query that did not use any tables. For example a there was no ##FROM## clause or a ##FROM DUAL## clause.
|##Not exists##| Stop searching after more row if we find one single matching row. This optimization is used with ##LEFT JOIN## where one is explicitly searching for rows that doesn&#39;t exists in the ##LEFT JOIN TABLE##. Example: ##SELECT * FROM t1 LEFT JOIN t2 on (...) WHERE t2.not_null_column IS NULL##.  As ##t2.not_null_column## can only be ##NULL## if there was no matching row for on condition, we can stop searching if we find a single matching row.
|##Open_frm_only##| For ##information_schema## tables.  Only the ##frm## (table definition file was opened) was opened for each matching row.
|##Open_full_table##| For ##information_schema## tables. A full table open for each matching row is done to retrieve the requested information. (Slow)
|##Open_trigger_only##| For ##information_schema## tables. Only the trigger file definition was opened for each matching row.
|##Range checked## ##for## ##each## ##record## ##(index map: ...)## | This only happens when there was no good default index to use but there may some index that could be used when we can treat all columns from previous table as constants.  For each row combination the optimizer will decide which index to use (if any) to fetch a row from this table. This is not fast, but faster than a full table scan that is the only other choice. The index map is a bitmask that shows which index are considered for each row condition.
|##Scanned 0/1/all databases##| For ##information_schema## tables. Shows how many times we had to do a directory scan.
|##Select tables## ##optimized## ##away##| All tables in the join was optimized away. This happens when we are only using ##COUNT(*)##, ##MIN()## and ##MAX()## functions in the ##SELECT## and we where able to replace all of these with constants.
|##Skip_open_table##| For ##information_schema## tables. The queried table didn&#39;t need to be opened.
|##unique row not found##| The table was detected to be a const table (a table with only one possible matching row) during the early optimization phase, but no row was found.
|##Using filesort##| Filesort is needed to resolve the query. This means an extra phase where we first collect all columns to sort, sort them with a disk based merge sort and then use the sorted set to retrieve the rows in sorted order. If the column set is small, we store all the columns in the sort file to not have to go to the database to retrieve them again.
|##Using index##| Only the index is used to retrieve the needed information from the table. There is no need to perform an extra seek to retrieve the actual record.
|##Using index condition##| Like &#39;##Using where##&#39; but the where condition is pushed down to the table engine for internal optimization at the index level.
|##Using index condition(BKA)##| Like &#39;##Using index condition##&#39; but in addition we use batch key access to retrieve rows.
|##Using index for group-by##| The index is being used to resolve a ##GROUP BY## or ##DISTINCT## query. The rows are not read.  This is very efficient if the table has a lot of identical index entries as duplicates are quickly jumped over.
|##Using intersect(...)##| For ##index_merge## joins. Shows which index are part of the intersect.
|##Using join buffer##| We store previous row combinations in a row buffer to be able to match each row against all of the rows combinations in the join buffer at one go.
|##Using sort_union(...)##| For ##index_merge## joins. Shows which index are part of the union.
|##Using temporary##| A temporary table is created to hold the result. This typically happens if you are using ##GROUP BY##, ##DISTINCT## or ##ORDER BY##.
|##Using where##| A ##WHERE## expression (in additional to the possible key lookup) is used to check if the row should be accepted. If you don&#39;t have &#39;Using where&#39; together with a join type of ##ALL##, you are probably doing something wrong!
|##Using where## ##with## ##pushed## ##condition##| Like &#39;##Using where##&#39; but the where condition is pushed down to the table engine for internal optimization at the row level.
|##Using buffer## | The ##UPDATE## statement will first buffer the rows, and then run the updates, rather than do updates on the fly. See [[using-buffer-update-algorithm|Using Buffer UPDATE Algorithm]] for a detailed explanation.
&lt;&lt;/style&gt;&gt;

=== EXPLAIN EXTENDED
The ##EXTENDED## keyword adds another column, //filtered//, to the output. This is a percentage estimate of the table rows that will be filtered by the condition.

An ##EXPLAIN EXTENDED## will always throw a warning, as it adds extra //Message// information to a subsequent ##[[show-warnings|SHOW WARNINGS]]## statement. This includes what the ##SELECT## query would look like after optimizing and rewriting rules are applied and how the optimizer qualifies columns and tables.

== Examples

As synonym for ##DESCRIBE## or ##SHOW COLUMNS FROM##:
&lt;&lt;sql&gt;&gt;
DESCRIBE city;
+------------+----------+------+-----+---------+----------------+
| Field      | Type     | Null | Key | Default | Extra          |
+------------+----------+------+-----+---------+----------------+
| Id         | int(11)  | NO   | PRI | NULL    | auto_increment |
| Name       | char(35) | YES  |     | NULL    |                |
| Country    | char(3)  | NO   | UNI |         |                |
| District   | char(20) | YES  | MUL |         |                |
| Population | int(11)  | YES  |     | NULL    |                |
+------------+----------+------+-----+---------+----------------+
&lt;&lt;/sql&gt;&gt;

A simple set of examples to see how ##EXPLAIN## can identify poor index usage:
&lt;&lt;code lang=sql wrap=true&gt;&gt;
CREATE TABLE IF NOT EXISTS `employees_example` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `first_name` varchar(30) NOT NULL,
  `last_name` varchar(40) NOT NULL,
  `position` varchar(25) NOT NULL,
  `home_address` varchar(50) NOT NULL,
  `home_phone` varchar(12) NOT NULL,
  `employee_code` varchar(25) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `employee_code` (`employee_code`),
  KEY `first_name` (`first_name`,`last_name`)
) ENGINE=Aria;

INSERT INTO `employees_example` (`first_name`, `last_name`, `position`, `home_address`, `home_phone`, `employee_code`)
  VALUES
  (&#39;Mustapha&#39;, &#39;Mond&#39;, &#39;Chief Executive Officer&#39;, &#39;692 Promiscuous Plaza&#39;, &#39;326-555-3492&#39;, &#39;MM1&#39;),
  (&#39;Henry&#39;, &#39;Foster&#39;, &#39;Store Manager&#39;, &#39;314 Savage Circle&#39;, &#39;326-555-3847&#39;, &#39;HF1&#39;),
  (&#39;Bernard&#39;, &#39;Marx&#39;, &#39;Cashier&#39;, &#39;1240 Ambient Avenue&#39;, &#39;326-555-8456&#39;, &#39;BM1&#39;),
  (&#39;Lenina&#39;, &#39;Crowne&#39;, &#39;Cashier&#39;, &#39;281 Bumblepuppy Boulevard&#39;, &#39;328-555-2349&#39;, &#39;LC1&#39;),
  (&#39;Fanny&#39;, &#39;Crowne&#39;, &#39;Restocker&#39;, &#39;1023 Bokanovsky Lane&#39;, &#39;326-555-6329&#39;, &#39;FC1&#39;),
  (&#39;Helmholtz&#39;, &#39;Watson&#39;, &#39;Janitor&#39;, &#39;944 Soma Court&#39;, &#39;329-555-2478&#39;, &#39;HW1&#39;);

SHOW INDEXES FROM employees_example;
+-------------------+------------+---------------+--------------+---------------+-----------+-------------+----------+--------+------+------------+---------+---------------+
| Table             | Non_unique | Key_name      | Seq_in_index | Column_name   | Collation | Cardinality | Sub_part | Packed | Null | Index_type | Comment | Index_comment |
+-------------------+------------+---------------+--------------+---------------+-----------+-------------+----------+--------+------+------------+---------+---------------+
| employees_example |          0 | PRIMARY       |            1 | id            | A         |           7 |     NULL | NULL   |      | BTREE      |         |               |
| employees_example |          0 | employee_code |            1 | employee_code | A         |           7 |     NULL | NULL   |      | BTREE      |         |               |
| employees_example |          1 | first_name    |            1 | first_name    | A         |        NULL |     NULL | NULL   |      | BTREE      |         |               |
| employees_example |          1 | first_name    |            2 | last_name     | A         |        NULL |     NULL | NULL   |      | BTREE      |         |               |
+-------------------+------------+---------------+--------------+---------------+-----------+-------------+----------+--------+------+------------+---------+---------------+
&lt;&lt;/code&gt;&gt;
##SELECT## on a primary key:
&lt;&lt;code lang=sql wrap=true&gt;&gt;
EXPLAIN SELECT * FROM employees_example WHERE id=1;
+------+-------------+-------------------+-------+---------------+---------+---------+-------+------+-------+
| id   | select_type | table             | type  | possible_keys | key     | key_len | ref   | rows | Extra |
+------+-------------+-------------------+-------+---------------+---------+---------+-------+------+-------+
|    1 | SIMPLE      | employees_example | const | PRIMARY       | PRIMARY | 4       | const |    1 |       |
+------+-------------+-------------------+-------+---------------+---------+---------+-------+------+-------+
&lt;&lt;/code&gt;&gt;
The type is //const//, which means that only one possible result could be returned. 
Now, returning the same record but searching by their phone number:
&lt;&lt;code lang=sql wrap=true&gt;&gt;
EXPLAIN SELECT * FROM employees_example WHERE home_phone=&#39;326-555-3492&#39;;
+------+-------------+-------------------+------+---------------+------+---------+------+------+-------------+
| id   | select_type | table             | type | possible_keys | key  | key_len | ref  | rows | Extra       |
+------+-------------+-------------------+------+---------------+------+---------+------+------+-------------+
|    1 | SIMPLE      | employees_example | ALL  | NULL          | NULL | NULL    | NULL |    6 | Using where |
+------+-------------+-------------------+------+---------------+------+---------+------+------+-------------+
&lt;&lt;/code&gt;&gt; 
Here, the type is //All//, which means no index could be used. Looking at the rows count, a full table scan (all six rows) had to be performed in order to retrieve the record. If it&#39;s a requirement to search by phone number, an index will have to be created.

[[show-explain|SHOW EXPLAIN]] example:
&lt;&lt;sql&gt;&gt;
SHOW EXPLAIN FOR 1;
+------+-------------+-------+-------+---------------+------+---------+------+---------+-------------+
| id   | select_type | table | type  | possible_keys | key  | key_len | ref  | rows    | Extra       |
+------+-------------+-------+-------+---------------+------+---------+------+---------+-------------+
|    1 | SIMPLE      | tbl   | index | NULL          | a    | 5       | NULL | 1000107 | Using index |
+------+-------------+-------+-------+---------------+------+---------+------+---------+-------------+
1 row in set, 1 warning (0.00 sec)
&lt;&lt;/sql&gt;&gt;

=== Example of &lt;&lt;fixed&gt;&gt;ref_or_null&lt;&lt;/fixed&gt;&gt; Optimization

&lt;&lt;sql&gt;&gt;
SELECT * FROM table_name
  WHERE key_column=expr OR key_column IS NULL;
&lt;&lt;/sql&gt;&gt;

&lt;&lt;fixed&gt;&gt;ref_or_null&lt;&lt;/fixed&gt;&gt; is something that often happens when you use subqueries with &lt;&lt;fixed&gt;&gt;NOT IN&lt;&lt;/fixed&gt;&gt; as then one has to do an extra check for ##NULL## values if the first value didn&#39;t have a matching row. 

== See Also
* [[show-explain|SHOW EXPLAIN]]
* [[ignored-indexes|Ignored Indexes]]</textarea>
    


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/services" title="Services">Services</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">About Us</a></h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/download" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2024 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.1587e3a666fc.js" charset="utf-8"></script>

</html>