<?xml version="1.0" encoding="utf-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>MariaDB Knowledge Base Comments for: MySQL: Number of on-disk temporary tables created per second is high (over 10 for 5m)</title><link>https://mariadb.com/kb/en/support-questions-mysql-number-of-on-disk-temporary-tables-created-per-seco/+comments/feed/</link><description></description><atom:link href="https://mariadb.com/kb/en/support-questions-mysql-number-of-on-disk-temporary-tables-created-per-seco/+comments/feed/" rel="self"></atom:link><language>en-us</language><lastBuildDate>Mon, 09 Dec 2024 07:45:37 +0000</lastBuildDate><item><title>Re: MySQL: Number of on-disk temporary tables created per second is high (over 10 for 5m)</title><link>https://mariadb.com/kb/en/support-questions-mysql-number-of-on-disk-temporary-tables-created-per-seco/+comments/6493</link><description>&lt;p&gt;Per &lt;a href="/kb/en/aria-system-variables/#aria_used_for_temp_tables"&gt;aria_used_for_temp_tables&lt;/a&gt; the &lt;a href="/kb/en/memory-storage-engine/"&gt;MEMORY STORAGE engine&lt;/a&gt; is used for temporary tables.&lt;/p&gt;
&lt;p&gt;One of its restrictions is that it cannot support text/blob types (&lt;a href="https://jira.mariadb.org/browse/MDEV-19"&gt;MDEV-19&lt;/a&gt;), and because of this, JOINs create with these tables will go to disk.&lt;/p&gt;
&lt;p&gt;Using &lt;a href="/kb/en/server-system-variables/#log_slow_filter"&gt;log_slow_filter=tmp_table_on_disk&lt;/a&gt;, &lt;a href="/kb/en/server-system-variables/#long_query_time"&gt;long_query_time=0&lt;/a&gt; and an enabled slow query log will identify which query is related.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Daniel Black</dc:creator><guid>https://mariadb.com/kb/en/support-questions-mysql-number-of-on-disk-temporary-tables-created-per-seco/+comments/6493</guid></item><item><title>Re: MySQL: Number of on-disk temporary tables created per second is high (over 10 for 5m)</title><link>https://mariadb.com/kb/en/support-questions-mysql-number-of-on-disk-temporary-tables-created-per-seco/+comments/6488</link><description>&lt;p&gt;Hi pls can I ask You if it is some tools or how to analyzed size of tmp_table_size amd max_head_table_size . I increased it gradually up to 2GB but still the some event fro  zabix . Do you have any idea pls ?&lt;/p&gt;
&lt;p&gt;thank you Brano&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Branislav Dobrotka</dc:creator><guid>https://mariadb.com/kb/en/support-questions-mysql-number-of-on-disk-temporary-tables-created-per-seco/+comments/6488</guid></item><item><title>Re: MySQL: Number of on-disk temporary tables created per second is high (over 10 for 5m)</title><link>https://mariadb.com/kb/en/support-questions-mysql-number-of-on-disk-temporary-tables-created-per-seco/+comments/6392</link><description>&lt;p&gt;Thank You for descriotion&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Branislav Dobrotka</dc:creator><guid>https://mariadb.com/kb/en/support-questions-mysql-number-of-on-disk-temporary-tables-created-per-seco/+comments/6392</guid></item><item><title>Re: MySQL: Number of on-disk temporary tables created per second is high (over 10 for 5m)</title><link>https://mariadb.com/kb/en/support-questions-mysql-number-of-on-disk-temporary-tables-created-per-seco/+comments/6385</link><description>&lt;p&gt;The warning is because there are a large number of queries that require on-disk temporary tables to be created, which may not be ideal. You said you increased the &lt;a href="/kb/en/server-system-variables/#sort_buffer_size"&gt;sort_buffer_size&lt;/a&gt; (did you have a specific reason for trying this?) and enabled the slow query log, but it didn't help you. The &lt;a href="/kb/en/slow-query-log/"&gt;slow query log&lt;/a&gt; by default should show you the problematic queries, which is a start in identifying what is going on. It could be poorly-indexed queries as well as non-optimal settings. Take a look at the description at &lt;a href="/kb/en/server-system-variables/#tmp_table_size"&gt;tmp_table_size&lt;/a&gt;  to get an idea of the ratio of tmp tables to tmp tables on disk. It may help to increase tmp_table_size and/or &lt;a href="/kb/en/server-system-variables/#max_heap_table_size"&gt;max_heap_table_size&lt;/a&gt;.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Ian Gilfillan</dc:creator><guid>https://mariadb.com/kb/en/support-questions-mysql-number-of-on-disk-temporary-tables-created-per-seco/+comments/6385</guid></item></channel></rss>