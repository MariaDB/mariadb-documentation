<?xml version="1.0" encoding="utf-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>MariaDB Knowledge Base Comments for: Upgrading Between Minor Versions on Linux</title><link>https://mariadb.com/kb/en/upgrading-between-minor-versions-on-linux/+comments/feed/</link><description></description><atom:link href="https://mariadb.com/kb/en/upgrading-between-minor-versions-on-linux/+comments/feed/" rel="self"></atom:link><language>en-us</language><lastBuildDate>Mon, 29 Jul 2024 03:34:09 +0000</lastBuildDate><item><title>Re: Upgrading Between Minor Versions on Linux</title><link>https://mariadb.com/kb/en/upgrading-between-minor-versions-on-linux/+comments/6483</link><description>&lt;p&gt;Hope someone can help me with the following:&lt;/p&gt;
&lt;p&gt;I upgraded my MariaDB installation from version 10.5.21-1.fc38 to version 10.5.22-1.fc38. I used mariadb-upgrade all went successfull, no errors. Now I restarted services, rebooted, etc and still see the message in systemctl status mysqld. Also, maria logs are located at the bottom. I have run a couple of times mariadb-upgrade but still the same. Any ideas will be appreciated.&lt;/p&gt;
&lt;p&gt;● mariadb.service - &lt;a href="/kb/en/what-is-mariadb-105/"&gt;MariaDB 10.5&lt;/a&gt; database server
     Loaded: loaded (/usr/lib/systemd/system/mariadb.service; enabled; preset: disabled)
    Drop-In: /usr/lib/systemd/system/service.d
             └─10-timeout-abort.conf
     Active: active (running) since Wed 2023-11-15 12:16:59 EST; 1h 9min ago
       Docs: man:mariadbd(8)
             &lt;a href="https://mariadb.com/kb/en/library/systemd/"&gt;https://mariadb.com/kb/en/library/systemd/&lt;/a&gt;
    Process: 1143481 ExecStartPre=/usr/libexec/mariadb-check-socket (code=exited, status=0/SUCCESS)
    Process: 1143503 ExecStartPre=/usr/libexec/mariadb-prepare-db-dir mariadb.service (code=exited, status=0/SUCCESS)
    Process: 1143548 ExecStartPost=/usr/libexec/mariadb-check-upgrade (code=exited, status=0/SUCCESS)
   Main PID: 1143538 (mariadbd)
     Status: "Taking your SQL requests now..."
      Tasks: 8 (limit: 192883)
     Memory: 318.4M
        CPU: 15min 9.735s
     CGroup: /system.slice/mariadb.service
             └─1143538 /usr/libexec/mariadbd --basedir=/usr&lt;/p&gt;
&lt;p&gt;Nov 15 12:16:58 systemd[1]: Starting mariadb.service - &lt;a href="/kb/en/what-is-mariadb-105/"&gt;MariaDB 10.5&lt;/a&gt; database server...
Nov 15 12:16:59  mariadb-prepare-db-dir[1143503]: Database MariaDB is probably initialized in /var/lib/mysql already, nothing is done.
Nov 15 12:16:59 mariadb-prepare-db-dir[1143503]: If this is not the case, make sure the /var/lib/mysql is empty before running mariadb-prepare-db-dir.
Nov 15 12:16:59  mariadb-check-upgrade[1143570]: The datadir located at /var/lib/mysql needs to be upgraded using 'mariadb-upgrade' tool. This can be done using the fol&amp;gt;
Nov 15 12:16:59  mariadb-check-upgrade[1143570]:   1. Back-up your data before with 'mariadb-upgrade'
Nov 15 12:16:59 mariadb-check-upgrade[1143570]:   2. Start the database daemon using 'systemctl start mariadb.service'
Nov 15 12:16:59  mariadb-check-upgrade[1143570]:   3. Run 'mariadb-upgrade' with a database user that has sufficient privileges
Nov 15 12:16:59  mariadb-check-upgrade[1143570]: Read more about 'mariadb-upgrade' usage at:
Nov 15 12:16:59  mariadb-check-upgrade[1143570]: &lt;a href="https://mariadb.com/kb/en/mysql_upgrade/"&gt;https://mariadb.com/kb/en/mysql_upgrade/&lt;/a&gt;
Nov 15 12:16:59  systemd[1]: Started mariadb.service - &lt;a href="/kb/en/what-is-mariadb-105/"&gt;MariaDB 10.5&lt;/a&gt; database server.&lt;/p&gt;
&lt;p&gt;2023-11-12 19:43:58 0 [Note] /usr/libexec/mariadbd (initiated by: unknown): Normal shutdown
2023-11-12 19:43:58 0 [Note] Event Scheduler: Purging the queue. 0 events
2023-11-12 19:43:58 0 [Note] InnoDB: FTS optimize thread exiting.
2023-11-12 19:43:58 0 [Note] InnoDB: Starting shutdown...
2023-11-12 19:43:58 0 [Note] InnoDB: Dumping buffer pool(s) to /var/lib/mysql/ib_buffer_pool
2023-11-12 19:43:58 0 [Note] InnoDB: Restricted to 2016 pages due to innodb_buf_pool_dump_pct=25
2023-11-12 19:43:58 0 [Note] InnoDB: Buffer pool(s) dump completed at 231112 19:43:58
2023-11-12 19:43:58 0 [Note] InnoDB: Removed temporary tablespace data file: "ibtmp1"
2023-11-12 19:43:58 0 [Note] InnoDB: Shutdown completed; log sequence number 83689938560; transaction id 1814776
2023-11-12 19:43:58 0 [Note] /usr/libexec/mariadbd: Shutdown complete&lt;/p&gt;
&lt;p&gt;2023-11-12 19:51:29 0 [Note] Starting &lt;a href="/kb/en/mariadb-10522-release-notes/"&gt;MariaDB 10.5.22&lt;/a&gt;-MariaDB source revision 7e650253dc488debcb0898ebe6d385bf6dfa3656 as process 9654
2023-11-12 19:51:29 0 [Note] InnoDB: Uses event mutexes
2023-11-12 19:51:29 0 [Note] InnoDB: Compressed tables use zlib 1.2.13
2023-11-12 19:51:29 0 [Note] InnoDB: Number of pools: 1
2023-11-12 19:51:29 0 [Note] InnoDB: Using crc32 + pclmulqdq instructions
2023-11-12 19:51:29 0 [Note] InnoDB: Using Linux native AIO
2023-11-12 19:51:29 0 [Note] InnoDB: Initializing buffer pool, total size = 134217728, chunk size = 134217728
2023-11-12 19:51:29 0 [Note] InnoDB: Completed initialization of buffer pool
2023-11-12 19:51:29 0 [Note] InnoDB: 128 rollback segments are active.
2023-11-12 19:51:30 0 [Note] InnoDB: Creating shared tablespace for temporary tables
2023-11-12 19:51:30 0 [Note] InnoDB: Setting file './ibtmp1' size to 12 MB. Physically writing the file full; Please wait ...
2023-11-12 19:51:30 0 [Note] InnoDB: File './ibtmp1' size is now 12 MB.
2023-11-12 19:51:30 0 [Note] InnoDB: 10.5.22 started; log sequence number 83689938560; transaction id 1813038
2023-11-12 19:51:30 0 [Note] Plugin 'FEEDBACK' is disabled.
2023-11-12 19:51:30 0 [Note] InnoDB: Loading buffer pool(s) from /var/lib/mysql/ib_buffer_pool
2023-11-12 19:51:30 0 [Note] Server socket created on IP: '0.0.0.0'.
2023-11-12 19:51:30 0 [Note] Reading of all Master_info entries succeeded
2023-11-12 19:51:30 0 [Note] Added new Master_info '' to hash table
2023-11-12 19:51:30 0 [Note] /usr/libexec/mariadbd: ready for connections.
Version: '10.5.22-MariaDB' socket: '/var/lib/mysql/mysql.sock' port: 3306 MariaDB Server
2023-11-12 19:51:32 0 [Note] InnoDB: Buffer pool(s) load completed at 231112 19:51:32&lt;/p&gt;
&lt;p&gt;Status information:&lt;/p&gt;
&lt;p&gt;Current dir: /var/lib/mysql/
Running threads: 0 Cached threads: 0 Stack size: 299008&lt;/p&gt;
&lt;p&gt;Key caches:
default
Buffer_size:   134217728
Block_size:      1024
Division_limit:    100
Age_threshold:     300
Partitions:       0
blocks used:       0
not flushed:       0
w_requests:       0
writes:         0
r_requests:       0
reads:          0&lt;/p&gt;
&lt;p&gt;handler status:
read_key:     7502
read_next:    50758
read_rnd       0
read_first:    182
write:        0
delete        0
update:       0&lt;/p&gt;
&lt;p&gt;Table status:
Opened tables:    1842
Open tables:      0
Open files:       4
Open streams:      4&lt;/p&gt;
&lt;p&gt;Alarm status:
Active alarms:  0
Max used alarms: 0
Next alarm time: 0&lt;/p&gt;
&lt;p&gt;Memory status:
Non-mmapped space allocated from system: 57556992
Number of free chunks:          5221
Number of fastbin blocks:        88
Number of mmapped regions:        8
Space in mmapped regions:        41029632
Maximum total allocated space:      0
Space available in freed fastbin blocks: 7008
Total allocated space:          16998704
Total free space:            40558288
Top-most, releasable space:       86144
Estimated memory (with thread stack):  98586624
Global memory allocated by server:    35371920
Memory allocated by threads:       0&lt;/p&gt;
&lt;p&gt;Events status:
LLA = Last Locked At LUA = Last Unlocked At
WOC = Waiting On Condition DL = Data Locked&lt;/p&gt;
&lt;p&gt;Event scheduler status:
State   : INITIALIZED
Thread id : 0
LLA    : n/a:0
LUA    : n/a:0
WOC    : NO
Workers  : 0
Executed  : 0
Data locked: NO&lt;/p&gt;
&lt;p&gt;Event queue status:
Element count  : 0
Data locked   : NO
Attempting lock : NO
LLA       : init_queue:141
LUA       : init_queue:151
WOC       : NO
Next activation : never&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Luis Torres</dc:creator><guid>https://mariadb.com/kb/en/upgrading-between-minor-versions-on-linux/+comments/6483</guid></item><item><title>Re: Upgrading Between Minor Versions on Linux</title><link>https://mariadb.com/kb/en/upgrading-between-minor-versions-on-linux/+comments/5881</link><description>&lt;p&gt;2. Uninstall the old version of MariaDB.
3. Install the new version of MariaDB. &lt;/p&gt;
&lt;p&gt;There is a problem here, since cmake is braindead, there is no make uninstall, unlike with autotools thats been a feature for decades.&lt;/p&gt;
&lt;p&gt;This means all the hassle of d/ling old version, spending 50 mins biulding it, installing over existing, then using a horribly botched way pof shell redirect from a manifest file to remove it, before make installking the new version.&lt;/p&gt;
&lt;p&gt;remind me again WHY you opted to move to this cmake garbage...&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Noel Butler</dc:creator><guid>https://mariadb.com/kb/en/upgrading-between-minor-versions-on-linux/+comments/5881</guid></item></channel></rss>