<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>Replication Filters - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.f7633538c846.css" rel="stylesheet" type="text/css" />

    

    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="Replication Filters" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/en/replication-filters/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="Replication filters allow users to configure replicas to intentionally skip certain events." />

    <meta name="description" content="Replication filters allow users to configure replicas to intentionally skip certain events." />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes products nodes_view jqui" id="nodes_view">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/replication-filters/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2025 MariaDB. All rights reserved.</p>
    </div>
</div>
<div class="violator-wrap d-none" id="top_violator">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12">
                <div class="violator-outer">
                    <div class="violator-inner">
                        <div class="row">
                            <div class="col-xs-12 col-sm-9 col-lg-7 col-lg-offset-2" id="top_violator_content">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="content-link" target="_blank" rel="nofollow noreferrer">
                                    <span>The Ultimate Guide to High Availability with MariaDB</span>
                                </a>
                            </div>
                            <div class="col-xs-12 col-sm-3" id="top_violator_cta">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="btn btn-mariadb" target="_blank" rel="nofollow noreferrer">Download Now</a>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn btn-link close-btn">
                        <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" width="15px" height="15px"><path d="M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/replication-filters/" rel="nofollow">Login</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/en/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/en/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/solutions" title="Solutions">Solutions</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="Company">Company</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/en/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/en/documentation/">MariaDB Server Documentation</a>
    

    
    » <a class="crumb" href="/kb/en/replication-cluster-multi-master/">High Availability &amp; Performance Tuning</a>
    

    
    » <a class="crumb" href="/kb/en/standard-replication/">MariaDB Replication</a>
    


    » <a class="node_link crumb" href="/kb/en/replication-filters/">Replication Filters</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/en/">Home</a></li>
                            
                                
                                    <li><a href="/kb/en/+questions/">Open Questions</a></li>
                                
                                <li><a href="/kb/en/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/en/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/en/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/en/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
<div>



<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-blue btn-sm" href="/kb/en/replication-filters/+history" rel="nofollow">History</a>
        
        
        
        <a class="btn btn-block btn-blue btn-sm" href="/kb/en/replication-filters/+source/">Source</a>
        
        <a class="btn btn-block btn-blue btn-sm flag" href="/kb/en/replication-filters/+flag"
                data-flag-url="/kb/en/replication-filters/+flag" rel="nofollow">
                Flag as Spam / Inappropriate</a>
        
        <a class="btn btn-block btn-blue btn-sm" href="/kb/en/replication-filters/+translate/">
                Translate</a>
        

</div>
</div>





<div class="well well-small box node_info"><div>

    <dl>
        <dt>Created</dt>
        <dd>

<span class="datetime" title="2012-03-23 19:26">13 years ago</span></dd>

        <dt>Modified</dt>
        <dd>

<span class="datetime" title="2023-06-21 20:19">1 year, 9 months ago</span></dd>

        <dt>Type</dt>
        <dd>article</dd>

        <dt>Status</dt>
        <dd>active</dd>

        <dt>License</dt>
        <dd>
            
                <a href="/kb/en/replication-filters/+license/">CC BY-SA / Gnu FDL</a>
            
        </dd>

        
    </dl>

    
    <ul class="rss_feeds">
        <li><a href="/kb/en/replication-filters/+history/feed/">
            History</a>
        </li>
        <li><a href="/kb/en/replication-filters/+comments/feed/">
            Comments</a>
        </li>
    </ul>
    

</div>
</div>





    
    
    

<div class="well well-small box attachments"><div><div class="edit_link pull-right"><a href="/kb/en/replication-filters/+edit/attachments/">Edit</a></div><h5>Attachments</h5></div><div>

        
            <div class="no_data">No attachments exist</div>
        
    
</div>
</div>

    



    
    
        

<div class="well well-small box"><div><h5>Localized Versions</h5></div><div>

        <ul>
            
            <li><a href="/kb/it/dynamic-replication-variables/">Variabili dinamiche per la replica</a> [it]</li>
            
        </ul>
        
</div>
</div>

    






</div>


                    

































                </aside>
            
            
            
                
            
            
                
            
            <section id="content" class="limited_width col-md-8 clearfix">
                
                    <h1>Replication Filters</h1>
                

                



                <div>
                    
    

    
    
    

    <div class="node creole">
        
        
        


    
    <div class="answer formatted">
        <div class="cstm-style bluebox text"><p>The terms <em>master</em> and <em>slave</em> have historically been used in replication, and MariaDB has begun the process of adding <em>primary</em> and <em>replica</em> synonyms. The old terms will continue to be used to maintain backward compatibility - see <a href="https://jira.mariadb.org/browse/MDEV-18777">MDEV-18777</a> to follow progress on this effort.</p>
</div>
<div class="table_of_contents well well-small">
<h3>Contents</h3>
 <ol class="toc">

    <li class=""><a href="#binary-log-filters-for-replication-primaries" title="Binary Log Filters for Replication Primaries">Binary Log Filters for Replication Primaries</a>    <ol class="toc">

        <li class=""><a href="#binary-log-filter-options" title="Binary Log Filter Options">Binary Log Filter Options</a>        <ol class="toc">

            <li class=""><a href="#binlog_do_db" title="binlog_do_db">binlog_do_db</a></li>

            <li class=""><a href="#binlog_ignore_db" title="binlog_ignore_db">binlog_ignore_db</a>        </ol>
    </ol>
</li>

    <li class=""><a href="#replication-filters-for-replicas" title="Replication Filters for Replicas">Replication Filters for Replicas</a>    <ol class="toc">

        <li class=""><a href="#replication-filter-options" title="Replication Filter Options">Replication Filter Options</a>        <ol class="toc">

            <li class=""><a href="#replicate_rewrite_db" title="replicate_rewrite_db">replicate_rewrite_db</a></li>

            <li class=""><a href="#replicate_do_db" title="replicate_do_db">replicate_do_db</a></li>

            <li class=""><a href="#replicate_ignore_db" title="replicate_ignore_db">replicate_ignore_db</a></li>

            <li class=""><a href="#replicate_do_table" title="replicate_do_table">replicate_do_table</a></li>

            <li class=""><a href="#replicate_ignore_table" title="replicate_ignore_table">replicate_ignore_table</a></li>

            <li class=""><a href="#replicate_wild_do_table" title="replicate_wild_do_table">replicate_wild_do_table</a></li>

            <li class=""><a href="#replicate_wild_ignore_table" title="replicate_wild_ignore_table">replicate_wild_ignore_table</a></li>

            <li class=""><a href="#configuring-replication-filter-options-with-multi-source-replication" title="Configuring Replication Filter Options with Multi-Source Replication">Configuring Replication Filter Options with Multi-Source Replication</a>            <ol class="toc">

                <li class=""><a href="#setting-replication-filter-options-dynamically-with-multi-source-replication" title="Setting Replication Filter Options Dynamically with Multi-Source Replication">Setting Replication Filter Options Dynamically with Multi-Source Replication</a></li>

                <li class=""><a href="#setting-replication-filter-options-in-option-files-with-multi-source-replication" title="Setting Replication Filter Options in Option Files with Multi-Source Replication">Setting Replication Filter Options in Option Files with Multi-Source Replication</a>            </ol>
        </ol>
</li>

        <li class=""><a href="#change-master-options" title="CHANGE MASTER Options">CHANGE MASTER Options</a>        <ol class="toc">

            <li class=""><a href="#ignore_server_ids" title="IGNORE_SERVER_IDS">IGNORE_SERVER_IDS</a></li>

            <li class=""><a href="#do_domain_ids" title="DO_DOMAIN_IDS">DO_DOMAIN_IDS</a></li>

            <li class=""><a href="#ignore_domain_ids" title="IGNORE_DOMAIN_IDS">IGNORE_DOMAIN_IDS</a>        </ol>
    </ol>
</li>

    <li class=""><a href="#replication-filters-and-binary-log-formats" title="Replication Filters and Binary Log Formats">Replication Filters and Binary Log Formats</a>    <ol class="toc">

        <li class=""><a href="#statement-based-logging" title="Statement-Based Logging">Statement-Based Logging</a></li>

        <li class=""><a href="#row-based-logging" title="Row-Based Logging">Row-Based Logging</a>    </ol>
</li>

    <li class=""><a href="#replication-filters-and-galera-cluster" title="Replication Filters and Galera Cluster">Replication Filters and Galera Cluster</a></li>

    <li class=""><a href="#see-also" title="See Also">See Also</a> </ol>
</li>
</div>
<p>Replication filters allow users to configure <a href="/kb/en/replication-overview/">replicas</a> to intentionally skip certain events.</p>
<h2 class="anchored_heading" id="binary-log-filters-for-replication-primaries">Binary Log Filters for Replication Primaries</h2>
<p>MariaDB provides options that can be used on a <a href="/kb/en/replication/">replication primary</a> to restrict local changes to specific databases from getting written to the <a href="/kb/en/binary-log/">binary log</a>, which also determines whether any replicas replicate those changes.</p>
<h3 class="anchored_heading" id="binary-log-filter-options">Binary Log Filter Options</h3>
<p>The following options are available, and they are evaluated in the order that they are listed below. If there are conflicting settings, <em>binlog_do_db</em> prevails. Before <a href="/kb/en/mariadb-11-2-0-release-notes/">MariaDB 11.2.0</a>, they are only available as options; from <a href="/kb/en/mariadb-11-2-0-release-notes/">MariaDB 11.2.0</a> they are also available as system variables.</p>
<h4 class="anchored_heading" id="binlog_do_db"><code>binlog_do_db</code></h4>
<p>The  <a href="/kb/en/mysqld-options/#-binlog-do-db">binlog_do_db</a> option allows you to configure a <a href="/kb/en/replication/">replication primary</a> to write statements and transactions affecting databases that match a specified name into its <a href="/kb/en/binary-log/">binary log</a>. Since the filtered statements or transactions will not be present in the <a href="/kb/en/binary-log/">binary log</a>, its replicas will not be able to replicate them.</p>
<p>This option will <strong>not</strong> work with cross-database updates with <a href="/kb/en/binary-log-formats/#statement-based-logging">statement-based logging</a>. See the <a href="#statement-based-logging">Statement-Based Logging</a> section for more information.</p>
<p>This option can <strong>not</strong> be set dynamically.</p>
<p>When setting it on the command-line or in a server <a href="/kb/en/configuring-mariadb-with-option-files/#option-groups">option group</a> in an <a href="/kb/en/configuring-mariadb-with-option-files/">option file</a>, the option does not accept a comma-separated list. If you would like to specify multiple filters, then you need to specify the option multiple times. For example:</p>
<pre class="fixed">[mariadb]
...
binlog_do_db=db1
binlog_do_db=db2
</pre><p>This will tell the primary to do the following:</p>
<ul start="1"><li>Write statements and transactions affecting the database named <em>db1</em> into the <a href="/kb/en/binary-log/">binary log</a>.
</li><li>Write statements and transactions affecting the database named <em>db2</em> into the <a href="/kb/en/binary-log/">binary log</a>.
</li><li>Don't write statements and transactions affecting any other databases into the <a href="/kb/en/binary-log/">binary log</a>.
</li></ul>
<h4 class="anchored_heading" id="binlog_ignore_db"><code>binlog_ignore_db</code></h4>
<p>The <a href="/kb/en/mysqld-options/#-binlog-ignore-db">binlog_ignore_db</a> option allows you to configure a <a href="/kb/en/replication/">replication primary</a> to <strong>not</strong> write statements and transactions affecting databases that match a specified name into its <a href="/kb/en/binary-log/">binary log</a>. Since the filtered statements or transactions will not be present in the <a href="/kb/en/binary-log/">binary log</a>, its replicas will not be able to replicate them.</p>
<p>This option will <strong>not</strong> work with cross-database updates with <a href="/kb/en/binary-log-formats/#statement-based-logging">statement-based logging</a>. See the <a href="#statement-based-logging">Statement-Based Logging</a> section for more information.</p>
<p>This option can <strong>not</strong> be set dynamically.</p>
<p>When setting it on the command-line or in a server <a href="/kb/en/configuring-mariadb-with-option-files/#option-groups">option group</a> in an <a href="/kb/en/configuring-mariadb-with-option-files/">option file</a>, the option does not accept a comma-separated list. If you would like to specify multiple filters, then you need to specify the option multiple times. For example:</p>
<pre class="fixed">[mariadb]
...
binlog_ignore_db=db1
binlog_ignore_db=db2
</pre><p>This will tell the primary to do the following:</p>
<ul start="1"><li>Don't write statements and transactions affecting the database named <em>db1</em> into the <a href="/kb/en/binary-log/">binary log</a>.
</li><li>Don't write statements and transactions affecting the database named <em>db2</em> into the <a href="/kb/en/binary-log/">binary log</a>.
</li><li>Write statements and transactions affecting any other databases into the <a href="/kb/en/binary-log/">binary log</a>.
</li></ul>
<div class="cstm-style greenbox"><p>The <a href="#binlog_ignore_db">binlog_ignore_db</a> option is effectively ignored if the <a href="#binlog_do_db">binlog_do_db</a> option is set, so those two options should not be set together.</p>
</div><h2 class="anchored_heading" id="replication-filters-for-replicas">Replication Filters for Replicas</h2>
<p>MariaDB provides options and system variables that can be used on used on a <a href="/kb/en/replication/">replicas</a> to filter events replicated in the <a href="/kb/en/binary-log/">binary log</a>.</p>
<h3 class="anchored_heading" id="replication-filter-options">Replication Filter Options</h3>
<p>The following options and system variables are available, and they are evaluated in the order that they are listed below. If there are conflicting settings, the respective <em>replicate_do_</em> prevails.</p>
<h4 class="anchored_heading" id="replicate_rewrite_db"><code>replicate_rewrite_db</code></h4>
<p>The <a href="/kb/en/replication-and-binary-log-system-variables/#replicate_rewrite_db">replicate_rewrite_db</a> option (and, from <a href="/kb/en/what-is-mariadb-1011/">MariaDB 10.11</a>, system variable), allows you to configure a <a href="/kb/en/replication/">replica</a> to rewrite database names. It uses the format <code>primary_database-&gt;replica_database</code>. If a replica encounters a <a href="/kb/en/binary-log/">binary log</a> event in which the default database (i.e. the one selected by the <a href="/kb/en/use/">USE</a> statement) is <code>primary_database</code>, then the replica will apply the event in <code>replica_database</code> instead.</p>
<p>This option will <strong>not</strong> work with cross-database updates with <a href="/kb/en/binary-log-formats/#statement-based-logging">statement-based logging</a>. See the <a href="#statement-based-logging">Statement-Based Logging</a> section for more information.</p>
<p>This option only affects statements that involve tables. This option does not affect statements involving the database itself, such as <a href="/kb/en/create-database/">CREATE DATABASE</a>, <a href="/kb/en/alter-database/">ALTER DATABASE</a>, and <a href="/kb/en/drop-database/">DROP DATABASE</a>. </p>
<p>This option's rewrites are evaluated <em>before</em> any other replication filters configured by the <code>replicate_*</code> system variables.</p>
<p>Statements that use table names qualified with database names do not work with other replication filters such as <a href="#replicate_do_table">replicate_do_table</a>.</p>
<p>Until <a href="/kb/en/what-is-mariadb-1011/">MariaDB 10.11</a>, this option could not be set dynamically.</p>
<p>When setting it on the command-line or in a server <a href="/kb/en/configuring-mariadb-with-option-files/#option-groups">option group</a> in an <a href="/kb/en/configuring-mariadb-with-option-files/">option file</a>, the option does not accept a comma-separated list. If you would like to specify multiple filters, then you need to specify the option multiple times. For example:</p>
<pre class="fixed">[mariadb]
...
replicate_rewrite_db=db1-&gt;db3
replicate_rewrite_db=db2-&gt;db4
</pre><p>This will tell the replica to do the following:</p>
<ul start="1"><li>If a <a href="/kb/en/binary-log/">binary log</a> event is encountered in which the default database was <em>db1</em>, then apply the event in <em>db3</em> instead.
</li><li>If a <a href="/kb/en/binary-log/">binary log</a> event is encountered in which the default database was <em>db2</em>, then apply the event in <em>db4</em> instead.
</li></ul>
<p>See <a href="#configuring-replication-filter-options-with-multi-source-replication">Configuring Replication Filter Options with Multi-Source Replication</a> for how to configure this system variable with <a href="/kb/en/multi-source-replication/">multi-source replication</a>.</p>
<h4 class="anchored_heading" id="replicate_do_db"><code>replicate_do_db</code></h4>
<p>The <a href="/kb/en/replication-and-binary-log-server-system-variables/#replicate_do_db">replicate_do_db</a> system variable allows you to configure a <a href="/kb/en/replication/">replica</a> to apply statements and transactions affecting databases that match a specified name.</p>
<p>This system variable will <strong>not</strong> work with cross-database updates with <a href="/kb/en/binary-log-formats/#statement-based-logging">statement-based logging</a> or when using <a href="/kb/en/binary-log-formats/#statement-based-logging">mixed-based logging</a> and the statement is logged statement based. For statement-based replication, only the default database (that is, the one selected by USE) is considered, not any explicitly mentioned tables in the query.
See the <a href="#statement-based-logging">Statement-Based Logging</a> section for more information.</p>
<p>When setting it dynamically with <a href="/kb/en/set/#global-session">SET GLOBAL</a>, the system variable accepts a comma-separated list of filters.</p>
<p>When setting it dynamically, it is not possible to specify database names that contain commas. If you need to specify database names that contain commas, then you will need to specify them by either providing the command-line options or configuring them in a server <a href="/kb/en/configuring-mariadb-with-option-files/#option-groups">option group</a> in an <a href="/kb/en/configuring-mariadb-with-option-files/">option file</a> when the server is <a href="/kb/en/starting-and-stopping-mariadb-starting-and-stopping-mariadb/">started</a>. </p>
<p>When setting it dynamically, the <a href="/kb/en/replication-threads/#threads-on-the-slave">replica threads</a> must be stopped. For example:</p>
<pre class="fixed">STOP SLAVE;
SET GLOBAL replicate_do_db='db1,db2';
START SLAVE;
</pre><p>When setting it on the command-line or in a server <a href="/kb/en/configuring-mariadb-with-option-files/#option-groups">option group</a> in an <a href="/kb/en/configuring-mariadb-with-option-files/">option file</a>, the system variable does not accept a comma-separated list. If you would like to specify multiple filters, then you need to specify the system variable multiple times. For example:</p>
<pre class="fixed">[mariadb]
...
replicate_do_db=db1
replicate_do_db=db2
</pre><p>This will tell the replica to do the following:</p>
<ul start="1"><li>Replicate statements and transactions affecting the database named <em>db1</em>.
</li><li>Replicate statements and transactions affecting the database named <em>db2</em>.
</li><li>Ignore statements and transactions affecting any other databases.
</li></ul>
<p>See <a href="#configuring-replication-filter-options-with-multi-source-replication">Configuring Replication Filter Options with Multi-Source Replication</a> for how to configure this system variable with <a href="/kb/en/multi-source-replication/">multi-source replication</a>.</p>
<h4 class="anchored_heading" id="replicate_ignore_db"><code>replicate_ignore_db</code></h4>
<p>The <a href="/kb/en/replication-and-binary-log-server-system-variables/#replicate_ignore_db">replicate_ignore_db</a> system variable allows you to configure a <a href="/kb/en/replication/">replica</a> to ignore statements and transactions affecting databases that match a specified name.</p>
<p>This system variable will <strong>not</strong> work with cross-database updates with <a href="/kb/en/binary-log-formats/#statement-based-logging">statement-based logging</a> or when using <a href="/kb/en/binary-log-formats/#statement-based-logging">mixed-based logging</a> and the statement is logged statement based. For statement-based replication, only the default database (that is, the one selected by USE) is considered, not any explicitly mentioned tables in the query.
See the <a href="#statement-based-logging">Statement-Based Logging</a> section for more information.</p>
<p>When setting it dynamically with <a href="/kb/en/set/#global-session">SET GLOBAL</a>, the system variable accepts a comma-separated list of filters.</p>
<p>When setting it dynamically, it is not possible to specify database names that contain commas. If you need to specify names or patterns that contain commas, then you will need to specify them by either providing the command-line options or configuring them in a server <a href="/kb/en/configuring-mariadb-with-option-files/#option-groups">option group</a> in an <a href="/kb/en/configuring-mariadb-with-option-files/">option file</a> when the server is <a href="/kb/en/starting-and-stopping-mariadb-starting-and-stopping-mariadb/">started</a>. </p>
<p>When setting it dynamically, the <a href="/kb/en/replication-threads/#threads-on-the-slave">replica threads</a> must be stopped. For example:</p>
<pre class="fixed">STOP SLAVE;
SET GLOBAL replicate_ignore_db='db1,db2';
START SLAVE;
</pre><p>When setting it on the command-line or in a server <a href="/kb/en/configuring-mariadb-with-option-files/#option-groups">option group</a> in an <a href="/kb/en/configuring-mariadb-with-option-files/">option file</a>, the system variable does not accept a comma-separated list. If you would like to specify multiple filters, then you need to specify the system variable multiple times. For example:</p>
<pre class="fixed">[mariadb]
...
replicate_ignore_db=db1
replicate_ignore_db=db2
</pre><p>This will tell the replica to do the following:</p>
<ul start="1"><li>Ignore statements and transactions affecting databases named <em>db1</em>.
</li><li>Ignore statements and transactions affecting databases named <em>db2</em>.
</li><li>Replicate statements and transactions affecting any other databases.
</li></ul>
<div class="cstm-style greenbox"><p>The <a href="#replicate_ignore_db">replicate_ignore_db</a> system variable is effectively ignored if the <a href="#replicate_do_db">replicate_do_db</a> system variable is set, so those two system variables should not be set together.</p>
</div><p>See <a href="#configuring-replication-filter-options-with-multi-source-replication">Configuring Replication Filter Options with Multi-Source Replication</a> for how to configure this system variable with <a href="/kb/en/multi-source-replication/">multi-source replication</a>.</p>
<h4 class="anchored_heading" id="replicate_do_table"><code>replicate_do_table</code></h4>
<p>The <a href="/kb/en/replication-and-binary-log-server-system-variables/#replicate_do_table">replicate_do_table</a> system variable allows you to configure a <a href="/kb/en/replication/">replica</a> to apply statements and transactions that affect tables that match a specified name. The table name is specified in the format: <code>dbname.tablename</code>. </p>
<p>This system variable will <strong>not</strong> work with cross-database updates with <a href="/kb/en/binary-log-formats/#statement-based-logging">statement-based logging</a>. See the <a href="#statement-based-logging">Statement-Based Logging</a> section for more information.</p>
<p>This option only affects statements that involve tables. This option does not affect statements involving the database itself, such as <a href="/kb/en/create-database/">CREATE DATABASE</a>, <a href="/kb/en/alter-database/">ALTER DATABASE</a>, and <a href="/kb/en/drop-database/">DROP DATABASE</a>. </p>
<p>When setting it dynamically with <a href="/kb/en/set/#global-session">SET GLOBAL</a>, the system variable accepts a comma-separated list of filters.</p>
<p>When setting it dynamically, it is not possible to specify database or table names
or patterns that contain commas. If you need to specify database or table names that contain commas, then you will need to specify them by either providing the command-line options or configuring them in a server <a href="/kb/en/configuring-mariadb-with-option-files/#option-groups">option group</a> in an <a href="/kb/en/configuring-mariadb-with-option-files/">option file</a> when the server is <a href="/kb/en/starting-and-stopping-mariadb-starting-and-stopping-mariadb/">started</a>. </p>
<p>When setting it dynamically, the <a href="/kb/en/replication-threads/#threads-on-the-slave">replica threads</a> must be stopped. For example:</p>
<pre class="fixed">STOP SLAVE;
SET GLOBAL replicate_do_table='db1.tab,db2.tab';
START SLAVE;
</pre><p>When setting it on the command-line or in a server <a href="/kb/en/configuring-mariadb-with-option-files/#option-groups">option group</a> in an <a href="/kb/en/configuring-mariadb-with-option-files/">option file</a>, the system variable does not accept a comma-separated list. If you would like to specify multiple filters, then you need to specify the system variable multiple times. For example:</p>
<pre class="fixed">[mariadb]
...
replicate_do_table=db1.tab
replicate_do_table=db2.tab
</pre><p>This will tell the replica to do the following:</p>
<ul start="1"><li>Replicate statements and transactions affecting tables in databases named <em>db1</em> and which are named <em>tab</em>.
</li><li>Replicate statements and transactions affecting tables in databases named <em>db2</em> and which are named <em>tab</em>.
</li><li>Ignore statements and transactions affecting any other tables.
</li></ul>
<p>See <a href="#configuring-replication-filter-options-with-multi-source-replication">Configuring Replication Filter Options with Multi-Source Replication</a> for how to configure this system variable with <a href="/kb/en/multi-source-replication/">multi-source replication</a>.</p>
<h4 class="anchored_heading" id="replicate_ignore_table"><code>replicate_ignore_table</code></h4>
<p>The <a href="/kb/en/replication-and-binary-log-server-system-variables/#replicate_ignore_table">replicate_ignore_table</a> system variable allows you to configure a <a href="/kb/en/replication/">replica</a> to ignore statements and transactions that affect tables that match a specified name. The table name is specified in the format: <code>dbname.tablename</code>. </p>
<p>This system variable will <strong>not</strong> work with cross-database updates with <a href="/kb/en/binary-log-formats/#statement-based-logging">statement-based logging</a>. See the <a href="#statement-based-logging">Statement-Based Logging</a> section for more information.</p>
<p>When setting it dynamically with <a href="/kb/en/set/#global-session">SET GLOBAL</a>, the system variable accepts a comma-separated list of filters.</p>
<p>When setting it dynamically, it is not possible to specify database or table names that contain commas. If you need to specify database or table names that contain commas, then you will need to specify them by either providing the command-line options or configuring them in a server <a href="/kb/en/configuring-mariadb-with-option-files/#option-groups">option group</a> in an <a href="/kb/en/configuring-mariadb-with-option-files/">option file</a> when the server is <a href="/kb/en/starting-and-stopping-mariadb-starting-and-stopping-mariadb/">started</a>. </p>
<p>When setting it dynamically, the <a href="/kb/en/replication-threads/#threads-on-the-slave">replica threads</a> must be stopped. For example:</p>
<pre class="fixed">STOP SLAVE;
SET GLOBAL replicate_ignore_table='db1.tab,db2.tab';
START SLAVE;
</pre><p>When setting it on the command-line or in a server <a href="/kb/en/configuring-mariadb-with-option-files/#option-groups">option group</a> in an <a href="/kb/en/configuring-mariadb-with-option-files/">option file</a>, the system variable does not accept a comma-separated list. If you would like to specify multiple filters, then you need to specify the system variable multiple times. For example:</p>
<pre class="fixed">[mariadb]
...
replicate_ignore_table=db1.tab
replicate_ignore_table=db2.tab
</pre><p>This will tell the replica to do the following:</p>
<ul start="1"><li>Ignore statements and transactions affecting tables in databases named <em>db1</em> and which are named <em>tab</em>.
</li><li>Ignore statements and transactions affecting tables in databases named <em>db2</em> and which are named <em>tab</em>.
</li><li>Replicate statements and transactions affecting any other tables.
</li></ul>
<div class="cstm-style greenbox"><p>The <a href="#replicate_ignore_table">replicate_ignore_table</a> system variable is effectively ignored if either the <a href="#replicate_do_table">replicate_do_table</a> system variable or the <a href="#replicate_wild_do_table">replicate_wild_do_table</a> system variable is set, so the <a href="#replicate_ignore_table">replicate_ignore_table</a> system variable should not be used with those two system variables.</p>
</div><p>See <a href="#configuring-replication-filter-options-with-multi-source-replication">Configuring Replication Filter Options with Multi-Source Replication</a> for how to configure this system variable with <a href="/kb/en/multi-source-replication/">multi-source replication</a>.</p>
<h4 class="anchored_heading" id="replicate_wild_do_table"><code>replicate_wild_do_table</code></h4>
<p>The <a href="/kb/en/replication-and-binary-log-server-system-variables/#replicate_wild_do_table">replicate_wild_do_table</a> system variable allows you to configure a <a href="/kb/en/replication/">replica</a> to apply statements and transactions that affect tables that match a specified wildcard pattern.</p>
<p>The wildcard pattern uses the same semantics as the <a href="/kb/en/like/">LIKE</a> operator. This means that the the following characters have a special meaning:</p>
<ul start="1"><li><code>_</code> - The <code>_</code> character matches any single character.
</li><li><code>%</code> - The <code>%</code> character matches zero or more characters.
</li><li><code>\</code> - The <code>\</code> character is used to escape the other special characters in cases where you need the literal character.
</li></ul>
<p>This system variable will work with cross-database updates with <a href="/kb/en/binary-log-formats/#statement-based-logging">statement-based logging</a>. See the <a href="#statement-based-logging">Statement-Based Logging</a> section for more information.</p>
<p>The system variable does filter databases, tables, <a href="/kb/en/views/">views</a> and <a href="/kb/en/triggers/">triggers</a>.</p>
<p>The system variable does not filter <a href="/kb/en/stored-procedures/">stored procedures</a>, <a href="/kb/en/stored-functions/">stored functions</a>, and <a href="/kb/en/stored-programs-and-views-events/">events</a>. The <a href="/kb/en/replication-and-binary-log-server-system-variables/#replicate_do_db">replicate_do_db</a> system variable will need to be used to filter those.</p>
<p>If the table name pattern for a filter is just specified as <code>%</code>, then all tables in the database will be matched. In this case, the filter will also affect certain database-level statements, such as <a href="/kb/en/create-database/">CREATE DATABASE</a>, <a href="/kb/en/alter-database/">ALTER DATABASE</a> and <a href="/kb/en/drop-database/">DROP DATABASE</a>.</p>
<p>When setting it dynamically with <a href="/kb/en/set/#global-session">SET GLOBAL</a>, the system variable accepts a comma-separated list of filters.</p>
<p>When setting it dynamically, it is not possible to specify database or table names or patterns that contain commas. If you need to specify database or table names or patterns that contain commas, then you will need to specify them by either providing the command-line options or configuring them in a server <a href="/kb/en/configuring-mariadb-with-option-files/#option-groups">option group</a> in an <a href="/kb/en/configuring-mariadb-with-option-files/">option file</a> when the server is <a href="/kb/en/starting-and-stopping-mariadb-starting-and-stopping-mariadb/">started</a>. </p>
<p>When setting it dynamically, the <a href="/kb/en/replication-threads/#threads-on-the-slave">replica threads</a> must be stopped. For example:</p>
<pre class="fixed">STOP SLAVE;
SET GLOBAL replicate_wild_do_table='db%.tab%,app1.%';
START SLAVE;
</pre><p>When setting it on the command-line or in a server <a href="/kb/en/configuring-mariadb-with-option-files/#option-groups">option group</a> in an <a href="/kb/en/configuring-mariadb-with-option-files/">option file</a>, the system variable does not accept a comma-separated list. If you would like to specify multiple filters, then you need to specify the system variable multiple times. For example:</p>
<pre class="fixed">[mariadb]
...
replicate_wild_do_table=db%.tab%
replicate_wild_do_table=app1.%
</pre><p>This will tell the replica to do the following:</p>
<ul start="1"><li>Replicate statements and transactions affecting tables in databases that start with <em>db</em> and whose table names start with <em>tab</em>.
</li><li>Replicate statements and transactions affecting the database named <em>app1</em>.
</li><li>Ignore statements and transactions affecting any other tables and databases.
</li></ul>
<p>See <a href="#configuring-replication-filter-options-with-multi-source-replication">Configuring Replication Filter Options with Multi-Source Replication</a> for how to configure this system variable with <a href="/kb/en/multi-source-replication/">multi-source replication</a>.</p>
<h4 class="anchored_heading" id="replicate_wild_ignore_table"><code>replicate_wild_ignore_table</code></h4>
<p>The <a href="/kb/en/replication-and-binary-log-server-system-variables/#replicate_wild_ignore_table">replicate_wild_ignore_table</a> system variable allows you to configure a <a href="/kb/en/replication/">replica</a> to ignore statements and transactions that affect tables that match a specified wildcard pattern.</p>
<p>The wildcard pattern uses the same semantics as the <a href="/kb/en/like/">LIKE</a> operator. This means that the the following characters have a special meaning:</p>
<ul start="1"><li><code>_</code> - The <code>_</code> character matches any single character.
</li><li><code>%</code> - The <code>%</code> character matches zero or more characters.
</li><li><code>\</code> - The <code>\</code> character is used to escape the other special characters in cases where you need the literal character.
</li></ul>
<p>This system variable will work with cross-database updates with <a href="/kb/en/binary-log-formats/#statement-based-logging">statement-based logging</a>. See the <a href="#statement-based-logging">Statement-Based Logging</a> section for more information.</p>
<p>The system variable does filter databases, tables, <a href="/kb/en/views/">views</a> and <a href="/kb/en/triggers/">triggers</a>.</p>
<p>The system variable does not filter <a href="/kb/en/stored-procedures/">stored procedures</a>, <a href="/kb/en/stored-functions/">stored functions</a>, and <a href="/kb/en/stored-programs-and-views-events/">events</a>. The <a href="/kb/en/replication-and-binary-log-server-system-variables/#replicate_ignore_db">replicate_ignore_db</a> system variable will need to be used to filter those.</p>
<p>If the table name pattern for a filter is just specified as <code>%</code>, then all tables in the database will be matched. In this case, the filter will also affect certain database-level statements, such as <a href="/kb/en/create-database/">CREATE DATABASE</a>, <a href="/kb/en/alter-database/">ALTER DATABASE</a> and <a href="/kb/en/drop-database/">DROP DATABASE</a>.</p>
<p>When setting it dynamically with <a href="/kb/en/set/#global-session">SET GLOBAL</a>, the system variable accepts a comma-separated list of filters.</p>
<p>When setting it dynamically, it is not possible to specify database or table names or patterns that contain commas. If you need to specify database or table names or patterns that contain commas, then you will need to specify them by either providing the command-line options or configuring them in a server <a href="/kb/en/configuring-mariadb-with-option-files/#option-groups">option group</a> in an <a href="/kb/en/configuring-mariadb-with-option-files/">option file</a> when the server is <a href="/kb/en/starting-and-stopping-mariadb-starting-and-stopping-mariadb/">started</a>. </p>
<p>When setting it dynamically, the <a href="/kb/en/replication-threads/#threads-on-the-slave">replica threads</a> must be stopped. For example:</p>
<pre class="fixed">STOP SLAVE;
SET GLOBAL replicate_wild_ignore_table='db%.tab%,app1.%';
START SLAVE;
</pre><p>When setting it on the command-line or in a server <a href="/kb/en/configuring-mariadb-with-option-files/#option-groups">option group</a> in an <a href="/kb/en/configuring-mariadb-with-option-files/">option file</a>, the system variable does not accept a comma-separated list. If you would like to specify multiple filters, then you need to specify the system variable multiple times. For example:</p>
<pre class="fixed">[mariadb]
...
replicate_wild_ignore_table=db%.tab%
replicate_wild_ignore_table=app1.%
</pre><p>This will tell the replica to do the following:</p>
<ul start="1"><li>Ignore statements and transactions affecting tables in databases that start with <em>db</em> and whose table names start with <em>tab</em>.
</li><li>Ignore statements and transactions affecting all the tables in the database named <em>app1</em>.
</li><li>Replicate statements and transactions affecting any other tables and databases.
</li></ul>
<div class="cstm-style greenbox"><p>The <a href="#replicate_wild_ignore_table">replicate_ignore_table</a> system variable is effectively ignored if either the <a href="#replicate_do_table">replicate_do_table</a> system variable or the <a href="#replicate_wild_do_table">replicate_wild_do_table</a> system variable is set, so the <a href="#replicate_wild_ignore_table">replicate_ignore_table</a> system variable should not be used with those two system variables.</p>
</div><p>See <a href="#configuring-replication-filter-options-with-multi-source-replication">Configuring Replication Filter Options with Multi-Source Replication</a> for how to configure this system variable with <a href="/kb/en/multi-source-replication/">multi-source replication</a>.</p>
<h4 class="anchored_heading" id="configuring-replication-filter-options-with-multi-source-replication">Configuring Replication Filter Options with Multi-Source Replication</h4>
<p>How you configure replication filters with <a href="/kb/en/multi-source-replication/">multi-source replication</a> depends on whether you are configuring them dynamically or whether you are configuring them in a server <a href="/kb/en/configuring-mariadb-with-option-files/#option-groups">option group</a> in an <a href="/kb/en/configuring-mariadb-with-option-files/">option file</a>.</p>
<h5 class="anchored_heading" id="setting-replication-filter-options-dynamically-with-multi-source-replication">Setting Replication Filter Options Dynamically with Multi-Source Replication</h5>
<p>The usage of dynamic replication filters changes somewhat when <a href="/kb/en/multi-source-replication/">multi-source replication</a> is in use. By default, the variables are addressed to the default connection, so in a multi-source environment, the required connection needs to be specified. There are two ways to do this.</p>
<h6 class="anchored_heading" id="prefixing-the-replication-filter-option-with-the-connection-name">Prefixing the Replication Filter Option with the Connection Name</h6>
<p>One way to change a replication filter for a multi-source connection is to explicitly specify the name when changing the filter. For example:</p>
<pre class="fixed"><span class="n">STOP</span> <span class="n">SLAVE</span> <span class="s1">&#39;gandalf&#39;</span><span class="p">;</span>
<span class="k">SET</span> <span class="k">GLOBAL</span> <span class="n">gandalf</span><span class="p">.</span><span class="n">replicate_do_table</span><span class="o">=</span><span class="s1">&#39;database1.table1,database1.table2,database1.table3&#39;</span><span class="p">;</span>
<span class="k">START</span> <span class="n">SLAVE</span> <span class="s1">&#39;gandalf&#39;</span><span class="p">;</span>
</pre><h6 class="anchored_heading" id="changing-the-default-connection">Changing the Default Connection</h6>
<p>Alternatively, the default connection can be changed by setting the <a href="/kb/en/replication-and-binary-log-server-system-variables/#default_master_connection">default_master_connection</a> system variable, and then the replication filter can be changed in the usual fashion. For example:</p>
<pre class="fixed">SET default_master_connection = 'gandalf';
STOP SLAVE; 
SET GLOBAL replicate_do_table='database1.table1,database1.table2,database1.table3';
START SLAVE;
</pre><h5 class="anchored_heading" id="setting-replication-filter-options-in-option-files-with-multi-source-replication">Setting Replication Filter Options in Option Files with Multi-Source Replication</h5>
<p>If you are using <a href="/kb/en/multi-source-replication/">multi-source replication</a> and if you would like to make this filter persist server restarts by adding it to a server <a href="/kb/en/configuring-mariadb-with-option-files/#option-groups">option group</a> in an <a href="/kb/en/configuring-mariadb-with-option-files/">option file</a>, then the option file can also include the connection name that each filter would apply to. For example:</p>
<pre class="fixed">[mariadb]
...
gandalf.replicate_do_db=database1
saruman.replicate_do_db=database2
</pre><h3 class="anchored_heading" id="change-master-options">CHANGE MASTER Options</h3>
<p>The <a href="/kb/en/change-master-to/">CHANGE MASTER</a> statement has a few options that can be used to filter certain types of <a href="/kb/en/binary-log/">binary log</a> events.</p>
<h4 class="anchored_heading" id="ignore_server_ids"><code>IGNORE_SERVER_IDS</code></h4>
<p>The <a href="/kb/en/change-master-to/#ignore_server_ids">IGNORE_SERVER_IDS</a> option for <code>CHANGE MASTER</code> can be used to configure a <a href="/kb/en/replication/">replica</a> to ignore <a href="binary_log">binary log</a> events that originated from certain servers. Filtered <a href="binary_log">binary log</a> events will not get logged to the replica’s <a href="/kb/en/relay-log/">relay log</a>, and they will not be applied by the replica.</p>
<h4 class="anchored_heading" id="do_domain_ids"><code>DO_DOMAIN_IDS</code></h4>
<p>The <a href="/kb/en/change-master-to/#do_domain_ids">DO_DOMAIN_IDS</a> option for <code>CHANGE MASTER</code> can be used to configure a <a href="/kb/en/replication/">replica</a> to only apply <a href="binary_log">binary log</a> events if the transaction's <a href="/kb/en/global-transaction-id/">GTID</a> is in a specific <a href="/kb/en/gtid/#gtid_domain_id">gtid_domain_id</a> value. Filtered <a href="binary_log">binary log</a> events will not get logged to the replica’s <a href="/kb/en/relay-log/">relay log</a>, and they will not be applied by the replica.</p>
<h4 class="anchored_heading" id="ignore_domain_ids"><code>IGNORE_DOMAIN_IDS</code></h4>
<p>The <a href="/kb/en/change-master-to/#ignore_domain_ids">IGNORE_DOMAIN_IDS</a> option for <code>CHANGE MASTER</code> can be used to configure a <a href="/kb/en/replication/">replica</a> to ignore <a href="binary_log">binary log</a> events if the transaction's <a href="/kb/en/global-transaction-id/">GTID</a> is in a specific <a href="/kb/en/gtid/#gtid_domain_id">gtid_domain_id</a> value. Filtered <a href="binary_log">binary log</a> events will not get logged to the replica’s <a href="/kb/en/relay-log/">relay log</a>, and they will not be applied by the replica.</p>
<h2 class="anchored_heading" id="replication-filters-and-binary-log-formats">Replication Filters and Binary Log Formats</h2>
<p>The way that a replication filter is interpreted can depend on the <a href="/kb/en/binary-log-formats/">binary log format</a>.</p>
<h3 class="anchored_heading" id="statement-based-logging">Statement-Based Logging</h3>
<p>When an event is logged in its statement-based format, many replication filters that affect a database will test the filter against the default database (i.e. the one selected by the <a href="/kb/en/use/">USE</a> statement). This applies to the following replication filters:</p>
<ul start="1"><li><a href="#binlog_do_db">binlog_do_db</a>
</li><li><a href="#binlog_ignore_db">binlog_ignore_db</a>
</li><li><a href="#replicate_rewrite_db">replicate_rewrite_db</a>
</li><li><a href="#replicate_do_db">replicate_do_db</a>
</li><li><a href="#replicate_ignore_db">replicate_ignore_db</a>
</li></ul>
<p>When an event is logged in its statement-based format, many replication filters that affect a table will test the filter against the table in the default database (i.e. the one selected by the <a href="/kb/en/use/">USE</a> statement). This applies to the following replication filters:</p>
<ul start="1"><li><a href="#replicate_do_table">replicate_do_table</a>
</li><li><a href="#replicate_ignore_table">replicate_ignore_table</a>
</li></ul>
<p>This means that cross-database updates <strong>not</strong> work with replication filters and statement-based binary logging. For example, if <a href="replicate_do_table%3Ddb2.tab">replicate_do_table=db2.tab</a> were set, then the following would not replicate with statement-based binary logging:</p>
<pre class="fixed"><span class="n">USE</span> <span class="n">db1</span><span class="p">;</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">db2</span><span class="p">.</span><span class="n">tab</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">);</span>
</pre><p>If you need to be able to support cross-database updates with replication filters and statement-based binary logging, then you should use the following replication filters:</p>
<ul start="1"><li><a href="#replicate_wild_do_table">replicate_wild_do_table</a>
</li><li><a href="#replicate_wild_ignore_table">replicate_wild_ignore_table</a>
</li></ul>
<h3 class="anchored_heading" id="row-based-logging">Row-Based Logging</h3>
<p>When an event is logged in its row-based format, many replication filters that affect a database will test the filter against the database that is actually affected by the event.</p>
<p>Similarly, when an event is logged in its row-based format, many replication filters that affect a table will test the filter against the table in the the database that is actually affected by the event.</p>
<p>This means that cross-database updates work with replication filters and statement-based binary logging.</p>
<div class="cstm-style greenbox"><p>Keep in mind that DDL statements are always logged to the <a href="/kb/en/binary-log/">binary log</a> in statement-based format, even when the <a href="/kb/en/replication-and-binary-log-system-variables/#binlog_format">binlog_format</a> system variable is set to <code>ROW</code>. This means that the notes mentioned in <a href="#statement-based-logging">Statement-Based Logging</a> always apply to DDL.</p>
</div><h2 class="anchored_heading" id="replication-filters-and-galera-cluster">Replication Filters and Galera Cluster</h2>
<p>When using Galera cluster, replication filters should be used with caution. See <a href="/kb/en/configuring-mariadb-galera-cluster/#replication-filters">Configuring MariaDB Galera Cluster: Replication Filters</a> for more details.</p>
<h2 class="anchored_heading" id="see-also">See Also</h2>
<ul start="1"><li><a href="https://mariadb.org/dynamic-replication-filters-our-wheel-will-be-square/">Dynamic replication filters — our wheel will be square!</a></li></ul>

    </div>


        
            <div id="subscribe" class="well well-small hide hidden-print"
                 data-subscribe-url="/kb/en/replication-filters/+subscriptions/add"
                 data-unsubscribe-url="/kb/en/replication-filters/+subscriptions/remove">
            </div>
        

        
        
    
        <div class="simple_section_nav">
            <ul class="nav nav-pills">
                
                    <li><a href="/kb/en/row-based-replication-with-no-primary-key/">
                        ← Row-based Replication With No Primary Key
                    </a>
                    </li>
                
                
                    <li><a href="/kb/en/high-availability-performance-tuning-mariadb-replication/">
                        ↑ MariaDB Replication ↑
                    </a>
                    </li>
                
                
                    <li class="pull-right"><a href="/kb/en/running-triggers-on-the-replica-for-row-based-events/">
                        Running Triggers on the Replica for Row-based Events →
                    </a>
                    </li>
                
            </ul>
        </div>
    

        

        
        <h2>Comments</h2>
        
    
    <div id="comments" data-node-id="2536" data-comments-url="/kb/en/replication-filters/+comments"
         data-reply-url="/kb/en/replication-filters/comments/post/">
        Comments loading...
    </div>

        

    </div>


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
                <div id="right_bar" class="col-md-2">
                    
    
        
        <ul class="section_navigation well well-small hidden-xs hidden-sm">
            
                <li class="parent"><a href="/kb/en/high-availability-performance-tuning-mariadb-replication/">
                    ↑ MariaDB Replication ↑
                </a>
                </li>
            
            
                
                    <li>
                        <a href="/kb/en/replication-overview/">
                            
                            Replication Overview
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/replication-statements/">
                            <span class="pull-right not_primary"></span>
                            Replication Statements
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/setting-up-replication/">
                            
                            Setting Up Replication
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/setting-up-a-replica-with-mariabackup/">
                            <span class="pull-right not_primary"></span>
                            Setting up a Replica with Mariabackup
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/read-only-replicas/">
                            
                            Read-Only Replicas
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/replication-as-a-backup-solution/">
                            <span class="pull-right not_primary"></span>
                            Replication as a Backup Solution
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/multi-source-replication/">
                            
                            Multi-Source Replication
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/multi-master-ring-replication/">
                            
                            Multi-Master Ring Replication
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/using-mariadb-replication-with-mariadb-galera-cluster/">
                            <span class="pull-right not_primary"></span>
                            Using MariaDB Replication with MariaDB Galera Cluster
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/delayed-replication/">
                            
                            Delayed Replication
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/parallel-replication/">
                            
                            Parallel Replication
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/semisynchronous-replication/">
                            
                            Semisynchronous Replication
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/replication-threads/">
                            
                            Replication Threads
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/binary-log/">
                            <span class="pull-right not_primary"></span>
                            Binary Log
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/relay-log/">
                            <span class="pull-right not_primary"></span>
                            Relay Log
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/gtid/">
                            
                            Global Transaction ID
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/replication-and-binary-log-system-variables/">
                            
                            Replication and Binary Log System Variables
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/replication-and-binary-log-status-variables/">
                            
                            Replication and Binary Log Status Variables
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/unsafe-statements-for-statement-based-replication/">
                            
                            Unsafe Statements for Statement-based Replication
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/replication-and-foreign-keys/">
                            
                            Replication and Foreign Keys
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/enhancements-for-start-transaction-with-consistent-snapshot/">
                            
                            Enhancements for START TRANSACTION WITH CONSISTENT SNAPSHOT
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/group-commit-for-the-binary-log/">
                            <span class="pull-right not_primary"></span>
                            Group Commit for the Binary Log
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/selectively-skipping-replication-of-binlog-events/">
                            
                            Selectively Skipping Replication of Binlog Events
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/binlog-event-checksums/">
                            
                            Binlog Event Checksums
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/binlog-event-checksum-interoperability/">
                            
                            Binlog Event Checksum Interoperability
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/annotate_rows_log_event/">
                            <span class="pull-right not_primary"></span>
                            Annotate_rows_log_event
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/row-based-replication-with-no-primary-key/">
                            
                            Row-based Replication With No Primary Key
                        </a>
                    </li>
                
            
                
                    <li class="active">
                        <span>Replication Filters</span>
                        
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/running-triggers-on-the-replica-for-row-based-events/">
                            
                            Running Triggers on the Replica for Row-based Events
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/replication-when-the-primary-and-replica-have-different-table-definitions/">
                            
                            Replication When the Primary and Replica Have Different Table Definitions
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/restricting-speed-of-reading-binlog-from-primary-by-a-replica/">
                            
                            Restricting Speed of Reading Binlog from Primary by a Replica
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/changing-a-replica-to-become-the-primary/">
                            
                            Changing a Replica to Become the Primary
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/replication-with-secure-connections/">
                            <span class="pull-right not_primary"></span>
                            Replication with Secure Connections
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/obsolete-replication-information/">
                            
                            Obsolete Replication Information
                        </a>
                    </li>
                
            
        </ul>
    
    

                </div>
            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/solutions" title="Solutions">Solutions</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">Company</a></h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        
                        
                        <li>
                            <h5><a href="https://mariadb.com/downloads" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2025 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.1587e3a666fc.js" charset="utf-8"></script>

</html>