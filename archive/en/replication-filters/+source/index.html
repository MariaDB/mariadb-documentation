<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>Replication Filters - Source - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.f7633538c846.css" rel="stylesheet" type="text/css" />

    
        <meta name="robots" content="noindex, nofollow">
    

    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="Replication Filters - Source" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/en/replication-filters/+source/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="" />

    <meta name="description" content="" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes autoresize nodes_source jqui" id="nodes_source">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/replication-filters/+source/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2024 MariaDB. All rights reserved.</p>
    </div>
</div>
<div class="violator-wrap d-none" id="top_violator">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12">
                <div class="violator-outer">
                    <div class="violator-inner">
                        <div class="row">
                            <div class="col-xs-12 col-sm-9 col-lg-7 col-lg-offset-2" id="top_violator_content">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="content-link" target="_blank" rel="nofollow noreferrer">
                                    <span>The Ultimate Guide to High Availability with MariaDB</span>
                                </a>
                            </div>
                            <div class="col-xs-12 col-sm-3" id="top_violator_cta">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="btn btn-mariadb" target="_blank" rel="nofollow noreferrer">Download Now</a>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn btn-link close-btn">
                        <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" width="15px" height="15px"><path d="M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/replication-filters/+source/" rel="nofollow">Login</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/en/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/en/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/services" title="Services">Services</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="About Us">About Us</a>
    </li>
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/en/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/en/documentation/">MariaDB Server Documentation</a>
    

    
    » <a class="crumb" href="/kb/en/replication-cluster-multi-master/">High Availability &amp; Performance Tuning</a>
    

    
    » <a class="crumb" href="/kb/en/standard-replication/">MariaDB Replication</a>
    


    » <a class="node_link crumb" href="/kb/en/replication-filters/">Replication Filters</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/en/">Home</a></li>
                            
                                
                                    <li><a href="/kb/en/+questions/">Open Questions</a></li>
                                
                                <li><a href="/kb/en/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/en/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/en/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/en/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
                        <div>
    

<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-small" href="/kb/en/replication-filters/">Return to article</a>
    
</div>
</div>

</div>
                    

                    

































                </aside>
            
            
            
                
            
            
            <section id="content" class="limited_width col-md-10 clearfix">
                
                    <h1>Replication Filters - Source</h1>
                

                



                <div>
                    

    

    
    <div class="revision_info">
        <dl class="table">
            <dt>Revision</dt>
            <dd><a href="/kb/en/replication-filters/+r/127467/">127467</a></dd>
            <dt>User</dt>
            <dd>
<span class="user" id="user-2">
<a href="/kb/user/id/2" title="Daniel Bartholomew">Daniel Bartholomew</a>
</span></dd>
            <dt>Date</dt>
            <dd>

<span class="datetime" title="2023-06-21 20:19">2023-06-21 20:19</span></dd>
        </dl>
    </div>
    


    

    
        
        <textarea id="answer_source" class="creole_source autogrow">&lt;&lt;include slug=&#34;replica_slave&#34;&gt;&gt;
&lt;&lt;toc&gt;&gt;

Replication filters allow users to configure [[replication-overview|replicas]] to intentionally skip certain events.

== Binary Log Filters for Replication Primaries

MariaDB provides options that can be used on a [[replication|replication primary]] to restrict local changes to specific databases from getting written to the [[binary-log|binary log]], which also determines whether any replicas replicate those changes.

=== Binary Log Filter Options

The following options are available, and they are evaluated in the order that they are listed below. If there are conflicting settings, //binlog_do_db// prevails. Before MariaDB 11.2.0, they are only available as options; from MariaDB 11.2.0 they are also available as system variables.

====  ##binlog_do_db##

The  [[mysqld-options/#-binlog-do-db|binlog_do_db]] option allows you to configure a [[replication|replication primary]] to write statements and transactions affecting databases that match a specified name into its [[binary-log|binary log]]. Since the filtered statements or transactions will not be present in the [[binary-log|binary log]], its replicas will not be able to replicate them.

This option will **not** work with cross-database updates with [[binary-log-formats/#statement-based-logging|statement-based logging]]. See the [[#statement-based-logging|Statement-Based Logging]] section for more information.

This option can **not** be set dynamically.

When setting it on the command-line or in a server [[configuring-mariadb-with-option-files/#option-groups|option group]] in an [[configuring-mariadb-with-option-files|option file]], the option does not accept a comma-separated list. If you would like to specify multiple filters, then you need to specify the option multiple times. For example:

&lt;&lt;code&gt;&gt;
[mariadb]
...
binlog_do_db=db1
binlog_do_db=db2
&lt;&lt;/code&gt;&gt;

This will tell the primary to do the following:

* Write statements and transactions affecting the database named //db1// into the [[binary-log|binary log]].
* Write statements and transactions affecting the database named //db2// into the [[binary-log|binary log]].
* Don&#39;t write statements and transactions affecting any other databases into the [[binary-log|binary log]].

==== ##binlog_ignore_db##

The [[mysqld-options/#-binlog-ignore-db|binlog_ignore_db]] option allows you to configure a [[replication|replication primary]] to **not** write statements and transactions affecting databases that match a specified name into its [[binary-log|binary log]]. Since the filtered statements or transactions will not be present in the [[binary-log|binary log]], its replicas will not be able to replicate them.

This option will **not** work with cross-database updates with [[binary-log-formats/#statement-based-logging|statement-based logging]]. See the [[#statement-based-logging|Statement-Based Logging]] section for more information.

This option can **not** be set dynamically.

When setting it on the command-line or in a server [[configuring-mariadb-with-option-files/#option-groups|option group]] in an [[configuring-mariadb-with-option-files|option file]], the option does not accept a comma-separated list. If you would like to specify multiple filters, then you need to specify the option multiple times. For example:

&lt;&lt;code&gt;&gt;
[mariadb]
...
binlog_ignore_db=db1
binlog_ignore_db=db2
&lt;&lt;/code&gt;&gt;

This will tell the primary to do the following:

* Don&#39;t write statements and transactions affecting the database named //db1// into the [[binary-log|binary log]].
* Don&#39;t write statements and transactions affecting the database named //db2// into the [[binary-log|binary log]].
* Write statements and transactions affecting any other databases into the [[binary-log|binary log]].

&lt;&lt;style class=&#34;greenbox&#34;&gt;&gt;
The [[#binlog_ignore_db|binlog_ignore_db]] option is effectively ignored if the [[#binlog_do_db|binlog_do_db]] option is set, so those two options should not be set together.
&lt;&lt;/style&gt;&gt;

== Replication Filters for Replicas

MariaDB provides options and system variables that can be used on used on a [[replication|replicas]] to filter events replicated in the [[binary-log|binary log]].

=== Replication Filter Options

The following options and system variables are available, and they are evaluated in the order that they are listed below. If there are conflicting settings, the respective //replicate_do_// prevails.

==== ##replicate_rewrite_db##

The [[replication-and-binary-log-system-variables/#replicate_rewrite_db|replicate_rewrite_db]] option (and, from MariaDB 10.11, system variable), allows you to configure a [[replication|replica]] to rewrite database names. It uses the format ##primary_database-&gt;replica_database##. If a replica encounters a [[binary-log|binary log]] event in which the default database (i.e. the one selected by the [[use|USE]] statement) is ##primary_database##, then the replica will apply the event in ##replica_database## instead.

This option will **not** work with cross-database updates with [[binary-log-formats/#statement-based-logging|statement-based logging]]. See the [[#statement-based-logging|Statement-Based Logging]] section for more information.

This option only affects statements that involve tables. This option does not affect statements involving the database itself, such as [[create-database|CREATE DATABASE]], [[alter-database|ALTER DATABASE]], and [[drop-database|DROP DATABASE]]. 

This option&#39;s rewrites are evaluated //before// any other replication filters configured by the ##replicate_*## system variables.

Statements that use table names qualified with database names do not work with other replication filters such as [[#replicate_do_table|replicate_do_table]].

Until MariaDB 10.11, this option could not be set dynamically.

When setting it on the command-line or in a server [[configuring-mariadb-with-option-files/#option-groups|option group]] in an [[configuring-mariadb-with-option-files|option file]], the option does not accept a comma-separated list. If you would like to specify multiple filters, then you need to specify the option multiple times. For example:

&lt;&lt;code&gt;&gt;
[mariadb]
...
replicate_rewrite_db=db1-&gt;db3
replicate_rewrite_db=db2-&gt;db4
&lt;&lt;/code&gt;&gt;

This will tell the replica to do the following:

* If a [[binary-log|binary log]] event is encountered in which the default database was //db1//, then apply the event in //db3// instead.
* If a [[binary-log|binary log]] event is encountered in which the default database was //db2//, then apply the event in //db4// instead.

See [[#configuring-replication-filter-options-with-multi-source-replication|Configuring Replication Filter Options with Multi-Source Replication]] for how to configure this system variable with [[multi-source-replication|multi-source replication]].

==== ##replicate_do_db##

The [[replication-and-binary-log-server-system-variables#replicate_do_db|replicate_do_db]] system variable allows you to configure a [[replication|replica]] to apply statements and transactions affecting databases that match a specified name.

This system variable will **not** work with cross-database updates with [[binary-log-formats/#statement-based-logging|statement-based logging]] or when using [[binary-log-formats/#statement-based-logging|mixed-based logging]] and the statement is logged statement based. For statement-based replication, only the default database (that is, the one selected by USE) is considered, not any explicitly mentioned tables in the query.
See the [[#statement-based-logging|Statement-Based Logging]] section for more information.

When setting it dynamically with [[set/#global-session|SET GLOBAL]], the system variable accepts a comma-separated list of filters.

When setting it dynamically, it is not possible to specify database names that contain commas. If you need to specify database names that contain commas, then you will need to specify them by either providing the command-line options or configuring them in a server [[configuring-mariadb-with-option-files/#option-groups|option group]] in an [[configuring-mariadb-with-option-files|option file]] when the server is [[starting-and-stopping-mariadb-starting-and-stopping-mariadb|started]]. 

When setting it dynamically, the [[replication-threads/#threads-on-the-slave|replica threads]] must be stopped. For example:

&lt;&lt;code&gt;&gt;
STOP SLAVE;
SET GLOBAL replicate_do_db=&#39;db1,db2&#39;;
START SLAVE;
&lt;&lt;/code&gt;&gt;

When setting it on the command-line or in a server [[configuring-mariadb-with-option-files/#option-groups|option group]] in an [[configuring-mariadb-with-option-files|option file]], the system variable does not accept a comma-separated list. If you would like to specify multiple filters, then you need to specify the system variable multiple times. For example:

&lt;&lt;code&gt;&gt;
[mariadb]
...
replicate_do_db=db1
replicate_do_db=db2
&lt;&lt;/code&gt;&gt;

This will tell the replica to do the following:

* Replicate statements and transactions affecting the database named //db1//.
* Replicate statements and transactions affecting the database named //db2//.
* Ignore statements and transactions affecting any other databases.

See [[#configuring-replication-filter-options-with-multi-source-replication|Configuring Replication Filter Options with Multi-Source Replication]] for how to configure this system variable with [[multi-source-replication|multi-source replication]].

==== ##replicate_ignore_db##

The [[replication-and-binary-log-server-system-variables#replicate_ignore_db|replicate_ignore_db]] system variable allows you to configure a [[replication|replica]] to ignore statements and transactions affecting databases that match a specified name.

This system variable will **not** work with cross-database updates with [[binary-log-formats/#statement-based-logging|statement-based logging]] or when using [[binary-log-formats/#statement-based-logging|mixed-based logging]] and the statement is logged statement based. For statement-based replication, only the default database (that is, the one selected by USE) is considered, not any explicitly mentioned tables in the query.
See the [[#statement-based-logging|Statement-Based Logging]] section for more information.

When setting it dynamically with [[set/#global-session|SET GLOBAL]], the system variable accepts a comma-separated list of filters.

When setting it dynamically, it is not possible to specify database names that contain commas. If you need to specify names or patterns that contain commas, then you will need to specify them by either providing the command-line options or configuring them in a server [[configuring-mariadb-with-option-files/#option-groups|option group]] in an [[configuring-mariadb-with-option-files|option file]] when the server is [[starting-and-stopping-mariadb-starting-and-stopping-mariadb|started]]. 

When setting it dynamically, the [[replication-threads/#threads-on-the-slave|replica threads]] must be stopped. For example:

&lt;&lt;code&gt;&gt;
STOP SLAVE;
SET GLOBAL replicate_ignore_db=&#39;db1,db2&#39;;
START SLAVE;
&lt;&lt;/code&gt;&gt;

When setting it on the command-line or in a server [[configuring-mariadb-with-option-files/#option-groups|option group]] in an [[configuring-mariadb-with-option-files|option file]], the system variable does not accept a comma-separated list. If you would like to specify multiple filters, then you need to specify the system variable multiple times. For example:

&lt;&lt;code&gt;&gt;
[mariadb]
...
replicate_ignore_db=db1
replicate_ignore_db=db2
&lt;&lt;/code&gt;&gt;

This will tell the replica to do the following:

* Ignore statements and transactions affecting databases named //db1//.
* Ignore statements and transactions affecting databases named //db2//.
* Replicate statements and transactions affecting any other databases.

&lt;&lt;style class=&#34;greenbox&#34;&gt;&gt;
The [[#replicate_ignore_db|replicate_ignore_db]] system variable is effectively ignored if the [[#replicate_do_db|replicate_do_db]] system variable is set, so those two system variables should not be set together.
&lt;&lt;/style&gt;&gt;

See [[#configuring-replication-filter-options-with-multi-source-replication|Configuring Replication Filter Options with Multi-Source Replication]] for how to configure this system variable with [[multi-source-replication|multi-source replication]].

==== ##replicate_do_table##

The [[replication-and-binary-log-server-system-variables#replicate_do_table|replicate_do_table]] system variable allows you to configure a [[replication|replica]] to apply statements and transactions that affect tables that match a specified name. The table name is specified in the format: ##dbname.tablename##. 

This system variable will **not** work with cross-database updates with [[binary-log-formats/#statement-based-logging|statement-based logging]]. See the [[#statement-based-logging|Statement-Based Logging]] section for more information.

This option only affects statements that involve tables. This option does not affect statements involving the database itself, such as [[create-database|CREATE DATABASE]], [[alter-database|ALTER DATABASE]], and [[drop-database|DROP DATABASE]]. 

When setting it dynamically with [[set/#global-session|SET GLOBAL]], the system variable accepts a comma-separated list of filters.

When setting it dynamically, it is not possible to specify database or table names
or patterns that contain commas. If you need to specify database or table names that contain commas, then you will need to specify them by either providing the command-line options or configuring them in a server [[configuring-mariadb-with-option-files/#option-groups|option group]] in an [[configuring-mariadb-with-option-files|option file]] when the server is [[starting-and-stopping-mariadb-starting-and-stopping-mariadb|started]]. 

When setting it dynamically, the [[replication-threads/#threads-on-the-slave|replica threads]] must be stopped. For example:

&lt;&lt;code&gt;&gt;
STOP SLAVE;
SET GLOBAL replicate_do_table=&#39;db1.tab,db2.tab&#39;;
START SLAVE;
&lt;&lt;/code&gt;&gt;

When setting it on the command-line or in a server [[configuring-mariadb-with-option-files/#option-groups|option group]] in an [[configuring-mariadb-with-option-files|option file]], the system variable does not accept a comma-separated list. If you would like to specify multiple filters, then you need to specify the system variable multiple times. For example:

&lt;&lt;code&gt;&gt;
[mariadb]
...
replicate_do_table=db1.tab
replicate_do_table=db2.tab
&lt;&lt;/code&gt;&gt;

This will tell the replica to do the following:

* Replicate statements and transactions affecting tables in databases named //db1// and which are named //tab//.
* Replicate statements and transactions affecting tables in databases named //db2// and which are named //tab//.
* Ignore statements and transactions affecting any other tables.

See [[#configuring-replication-filter-options-with-multi-source-replication|Configuring Replication Filter Options with Multi-Source Replication]] for how to configure this system variable with [[multi-source-replication|multi-source replication]].

==== ##replicate_ignore_table##

The [[replication-and-binary-log-server-system-variables#replicate_ignore_table|replicate_ignore_table]] system variable allows you to configure a [[replication|replica]] to ignore statements and transactions that affect tables that match a specified name. The table name is specified in the format: ##dbname.tablename##. 

This system variable will **not** work with cross-database updates with [[binary-log-formats/#statement-based-logging|statement-based logging]]. See the [[#statement-based-logging|Statement-Based Logging]] section for more information.

When setting it dynamically with [[set/#global-session|SET GLOBAL]], the system variable accepts a comma-separated list of filters.

When setting it dynamically, it is not possible to specify database or table names that contain commas. If you need to specify database or table names that contain commas, then you will need to specify them by either providing the command-line options or configuring them in a server [[configuring-mariadb-with-option-files/#option-groups|option group]] in an [[configuring-mariadb-with-option-files|option file]] when the server is [[starting-and-stopping-mariadb-starting-and-stopping-mariadb|started]]. 

When setting it dynamically, the [[replication-threads/#threads-on-the-slave|replica threads]] must be stopped. For example:

&lt;&lt;code&gt;&gt;
STOP SLAVE;
SET GLOBAL replicate_ignore_table=&#39;db1.tab,db2.tab&#39;;
START SLAVE;
&lt;&lt;/code&gt;&gt;

When setting it on the command-line or in a server [[configuring-mariadb-with-option-files/#option-groups|option group]] in an [[configuring-mariadb-with-option-files|option file]], the system variable does not accept a comma-separated list. If you would like to specify multiple filters, then you need to specify the system variable multiple times. For example:

&lt;&lt;code&gt;&gt;
[mariadb]
...
replicate_ignore_table=db1.tab
replicate_ignore_table=db2.tab
&lt;&lt;/code&gt;&gt;

This will tell the replica to do the following:

* Ignore statements and transactions affecting tables in databases named //db1// and which are named //tab//.
* Ignore statements and transactions affecting tables in databases named //db2// and which are named //tab//.
* Replicate statements and transactions affecting any other tables.

&lt;&lt;style class=&#34;greenbox&#34;&gt;&gt;
The [[#replicate_ignore_table|replicate_ignore_table]] system variable is effectively ignored if either the [[#replicate_do_table|replicate_do_table]] system variable or the [[#replicate_wild_do_table|replicate_wild_do_table]] system variable is set, so the [[#replicate_ignore_table|replicate_ignore_table]] system variable should not be used with those two system variables.
&lt;&lt;/style&gt;&gt;

See [[#configuring-replication-filter-options-with-multi-source-replication|Configuring Replication Filter Options with Multi-Source Replication]] for how to configure this system variable with [[multi-source-replication|multi-source replication]].

==== ##replicate_wild_do_table##

The [[replication-and-binary-log-server-system-variables#replicate_wild_do_table|replicate_wild_do_table]] system variable allows you to configure a [[replication|replica]] to apply statements and transactions that affect tables that match a specified wildcard pattern.

The wildcard pattern uses the same semantics as the [[like|LIKE]] operator. This means that the the following characters have a special meaning:

* ##_## - The ##_## character matches any single character.
* ##%## - The ##%## character matches zero or more characters.
* ##\## - The ##\## character is used to escape the other special characters in cases where you need the literal character.

This system variable will work with cross-database updates with [[binary-log-formats/#statement-based-logging|statement-based logging]]. See the [[#statement-based-logging|Statement-Based Logging]] section for more information.

The system variable does filter databases, tables, [[views|views]] and [[triggers|triggers]].

The system variable does not filter [[stored-procedures|stored procedures]], [[stored-functions|stored functions]], and [[stored-programs-and-views-events|events]]. The [[replication-and-binary-log-server-system-variables#replicate_do_db|replicate_do_db]] system variable will need to be used to filter those.

If the table name pattern for a filter is just specified as ##%##, then all tables in the database will be matched. In this case, the filter will also affect certain database-level statements, such as [[create-database|CREATE DATABASE]], [[alter-database|ALTER DATABASE]] and [[drop-database|DROP DATABASE]].

When setting it dynamically with [[set/#global-session|SET GLOBAL]], the system variable accepts a comma-separated list of filters.

When setting it dynamically, it is not possible to specify database or table names or patterns that contain commas. If you need to specify database or table names or patterns that contain commas, then you will need to specify them by either providing the command-line options or configuring them in a server [[configuring-mariadb-with-option-files/#option-groups|option group]] in an [[configuring-mariadb-with-option-files|option file]] when the server is [[starting-and-stopping-mariadb-starting-and-stopping-mariadb|started]]. 

When setting it dynamically, the [[replication-threads/#threads-on-the-slave|replica threads]] must be stopped. For example:

&lt;&lt;code&gt;&gt;
STOP SLAVE;
SET GLOBAL replicate_wild_do_table=&#39;db%.tab%,app1.%&#39;;
START SLAVE;
&lt;&lt;/code&gt;&gt;

When setting it on the command-line or in a server [[configuring-mariadb-with-option-files/#option-groups|option group]] in an [[configuring-mariadb-with-option-files|option file]], the system variable does not accept a comma-separated list. If you would like to specify multiple filters, then you need to specify the system variable multiple times. For example:

&lt;&lt;code&gt;&gt;
[mariadb]
...
replicate_wild_do_table=db%.tab%
replicate_wild_do_table=app1.%
&lt;&lt;/code&gt;&gt;

This will tell the replica to do the following:

* Replicate statements and transactions affecting tables in databases that start with //db// and whose table names start with //tab//.
* Replicate statements and transactions affecting the database named //app1//.
* Ignore statements and transactions affecting any other tables and databases.

See [[#configuring-replication-filter-options-with-multi-source-replication|Configuring Replication Filter Options with Multi-Source Replication]] for how to configure this system variable with [[multi-source-replication|multi-source replication]].

==== ##replicate_wild_ignore_table##

The [[replication-and-binary-log-server-system-variables#replicate_wild_ignore_table|replicate_wild_ignore_table]] system variable allows you to configure a [[replication|replica]] to ignore statements and transactions that affect tables that match a specified wildcard pattern.

The wildcard pattern uses the same semantics as the [[like|LIKE]] operator. This means that the the following characters have a special meaning:

* ##_## - The ##_## character matches any single character.
* ##%## - The ##%## character matches zero or more characters.
* ##\## - The ##\## character is used to escape the other special characters in cases where you need the literal character.

This system variable will work with cross-database updates with [[binary-log-formats/#statement-based-logging|statement-based logging]]. See the [[#statement-based-logging|Statement-Based Logging]] section for more information.

The system variable does filter databases, tables, [[views|views]] and [[triggers|triggers]].

The system variable does not filter [[stored-procedures|stored procedures]], [[stored-functions|stored functions]], and [[stored-programs-and-views-events|events]]. The [[replication-and-binary-log-server-system-variables#replicate_ignore_db|replicate_ignore_db]] system variable will need to be used to filter those.

If the table name pattern for a filter is just specified as ##%##, then all tables in the database will be matched. In this case, the filter will also affect certain database-level statements, such as [[create-database|CREATE DATABASE]], [[alter-database|ALTER DATABASE]] and [[drop-database|DROP DATABASE]].

When setting it dynamically with [[set/#global-session|SET GLOBAL]], the system variable accepts a comma-separated list of filters.

When setting it dynamically, it is not possible to specify database or table names or patterns that contain commas. If you need to specify database or table names or patterns that contain commas, then you will need to specify them by either providing the command-line options or configuring them in a server [[configuring-mariadb-with-option-files/#option-groups|option group]] in an [[configuring-mariadb-with-option-files|option file]] when the server is [[starting-and-stopping-mariadb-starting-and-stopping-mariadb|started]]. 

When setting it dynamically, the [[replication-threads/#threads-on-the-slave|replica threads]] must be stopped. For example:

&lt;&lt;code&gt;&gt;
STOP SLAVE;
SET GLOBAL replicate_wild_ignore_table=&#39;db%.tab%,app1.%&#39;;
START SLAVE;
&lt;&lt;/code&gt;&gt;

When setting it on the command-line or in a server [[configuring-mariadb-with-option-files/#option-groups|option group]] in an [[configuring-mariadb-with-option-files|option file]], the system variable does not accept a comma-separated list. If you would like to specify multiple filters, then you need to specify the system variable multiple times. For example:

&lt;&lt;code&gt;&gt;
[mariadb]
...
replicate_wild_ignore_table=db%.tab%
replicate_wild_ignore_table=app1.%
&lt;&lt;/code&gt;&gt;

This will tell the replica to do the following:

* Ignore statements and transactions affecting tables in databases that start with //db// and whose table names start with //tab//.
* Ignore statements and transactions affecting all the tables in the database named //app1//.
* Replicate statements and transactions affecting any other tables and databases.

&lt;&lt;style class=&#34;greenbox&#34;&gt;&gt;
The [[#replicate_wild_ignore_table|replicate_ignore_table]] system variable is effectively ignored if either the [[#replicate_do_table|replicate_do_table]] system variable or the [[#replicate_wild_do_table|replicate_wild_do_table]] system variable is set, so the [[#replicate_wild_ignore_table|replicate_ignore_table]] system variable should not be used with those two system variables.
&lt;&lt;/style&gt;&gt;

See [[#configuring-replication-filter-options-with-multi-source-replication|Configuring Replication Filter Options with Multi-Source Replication]] for how to configure this system variable with [[multi-source-replication|multi-source replication]].

==== Configuring Replication Filter Options with Multi-Source Replication

How you configure replication filters with [[multi-source-replication|multi-source replication]] depends on whether you are configuring them dynamically or whether you are configuring them in a server [[configuring-mariadb-with-option-files/#option-groups|option group]] in an [[configuring-mariadb-with-option-files|option file]].

===== Setting Replication Filter Options Dynamically with Multi-Source Replication

The usage of dynamic replication filters changes somewhat when [[multi-source-replication|multi-source replication]] is in use. By default, the variables are addressed to the default connection, so in a multi-source environment, the required connection needs to be specified. There are two ways to do this.

====== Prefixing the Replication Filter Option with the Connection Name

One way to change a replication filter for a multi-source connection is to explicitly specify the name when changing the filter. For example:

&lt;&lt;sql&gt;&gt;
STOP SLAVE &#39;gandalf&#39;;
SET GLOBAL gandalf.replicate_do_table=&#39;database1.table1,database1.table2,database1.table3&#39;;
START SLAVE &#39;gandalf&#39;;
&lt;&lt;/sql&gt;&gt;

====== Changing the Default Connection

Alternatively, the default connection can be changed by setting the [[replication-and-binary-log-server-system-variables/#default_master_connection|default_master_connection]] system variable, and then the replication filter can be changed in the usual fashion. For example:

&lt;&lt;code&gt;&gt;
SET default_master_connection = &#39;gandalf&#39;;
STOP SLAVE; 
SET GLOBAL replicate_do_table=&#39;database1.table1,database1.table2,database1.table3&#39;;
START SLAVE;
&lt;&lt;/code&gt;&gt;

===== Setting Replication Filter Options in Option Files with Multi-Source Replication

If you are using [[multi-source-replication|multi-source replication]] and if you would like to make this filter persist server restarts by adding it to a server [[configuring-mariadb-with-option-files/#option-groups|option group]] in an [[configuring-mariadb-with-option-files|option file]], then the option file can also include the connection name that each filter would apply to. For example:

&lt;&lt;code&gt;&gt;
[mariadb]
...
gandalf.replicate_do_db=database1
saruman.replicate_do_db=database2
&lt;&lt;/code&gt;&gt;

=== CHANGE MASTER Options

The [[change-master-to|CHANGE MASTER]] statement has a few options that can be used to filter certain types of [[binary-log|binary log]] events.

==== ##IGNORE_SERVER_IDS##

The [[change-master-to/#ignore_server_ids|IGNORE_SERVER_IDS]] option for ##CHANGE MASTER## can be used to configure a [[replication|replica]] to ignore [[binary log]] events that originated from certain servers. Filtered [[binary log]] events will not get logged to the replica’s [[relay-log|relay log]], and they will not be applied by the replica.

==== ##DO_DOMAIN_IDS##

The [[change-master-to/#do_domain_ids|DO_DOMAIN_IDS]] option for ##CHANGE MASTER## can be used to configure a [[replication|replica]] to only apply [[binary log]] events if the transaction&#39;s [[global-transaction-id|GTID]] is in a specific [[gtid/#gtid_domain_id|gtid_domain_id]] value. Filtered [[binary log]] events will not get logged to the replica’s [[relay-log|relay log]], and they will not be applied by the replica.

==== ##IGNORE_DOMAIN_IDS##

The [[change-master-to/#ignore_domain_ids|IGNORE_DOMAIN_IDS]] option for ##CHANGE MASTER## can be used to configure a [[replication|replica]] to ignore [[binary log]] events if the transaction&#39;s [[global-transaction-id|GTID]] is in a specific [[gtid/#gtid_domain_id|gtid_domain_id]] value. Filtered [[binary log]] events will not get logged to the replica’s [[relay-log|relay log]], and they will not be applied by the replica.

== Replication Filters and Binary Log Formats

The way that a replication filter is interpreted can depend on the [[binary-log-formats|binary log format]].

=== Statement-Based Logging

When an event is logged in its statement-based format, many replication filters that affect a database will test the filter against the default database (i.e. the one selected by the [[use|USE]] statement). This applies to the following replication filters:

* [[#binlog_do_db|binlog_do_db]]
* [[#binlog_ignore_db|binlog_ignore_db]]
* [[#replicate_rewrite_db|replicate_rewrite_db]]
* [[#replicate_do_db|replicate_do_db]]
* [[#replicate_ignore_db|replicate_ignore_db]]

When an event is logged in its statement-based format, many replication filters that affect a table will test the filter against the table in the default database (i.e. the one selected by the [[use|USE]] statement). This applies to the following replication filters:

* [[#replicate_do_table|replicate_do_table]]
* [[#replicate_ignore_table|replicate_ignore_table]]

This means that cross-database updates **not** work with replication filters and statement-based binary logging. For example, if [[replicate_do_table=db2.tab]] were set, then the following would not replicate with statement-based binary logging:

&lt;&lt;sql&gt;&gt;
USE db1;
INSERT INTO db2.tab VALUES (1);
&lt;&lt;/sql&gt;&gt;

If you need to be able to support cross-database updates with replication filters and statement-based binary logging, then you should use the following replication filters:

* [[#replicate_wild_do_table|replicate_wild_do_table]]
* [[#replicate_wild_ignore_table|replicate_wild_ignore_table]]

=== Row-Based Logging

When an event is logged in its row-based format, many replication filters that affect a database will test the filter against the database that is actually affected by the event.

Similarly, when an event is logged in its row-based format, many replication filters that affect a table will test the filter against the table in the the database that is actually affected by the event.

This means that cross-database updates work with replication filters and statement-based binary logging.

&lt;&lt;style class=&#34;greenbox&#34;&gt;&gt;
Keep in mind that DDL statements are always logged to the [[binary-log|binary log]] in statement-based format, even when the [[replication-and-binary-log-system-variables/#binlog_format|binlog_format]] system variable is set to ##ROW##. This means that the notes mentioned in [[#statement-based-logging|Statement-Based Logging]] always apply to DDL.
&lt;&lt;/style&gt;&gt;

== Replication Filters and Galera Cluster

When using Galera cluster, replication filters should be used with caution. See [[configuring-mariadb-galera-cluster/#replication-filters|Configuring MariaDB Galera Cluster: Replication Filters]] for more details.

== See Also

* [[https://mariadb.org/dynamic-replication-filters-our-wheel-will-be-square/|Dynamic replication filters — our wheel will be square!]]</textarea>
    


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/services" title="Services">Services</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">About Us</a></h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/download" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2024 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.1587e3a666fc.js" charset="utf-8"></script>

</html>