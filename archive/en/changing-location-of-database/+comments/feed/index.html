<?xml version="1.0" encoding="utf-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>MariaDB Knowledge Base Comments for: Changing location of database</title><link>https://mariadb.com/kb/en/changing-location-of-database/+comments/feed/</link><description></description><atom:link href="https://mariadb.com/kb/en/changing-location-of-database/+comments/feed/" rel="self"></atom:link><language>en-us</language><lastBuildDate>Mon, 17 Feb 2025 15:46:49 +0000</lastBuildDate><item><title>Re: Changing location of database</title><link>https://mariadb.com/kb/en/changing-location-of-database/+comments/685</link><description>&lt;p&gt;OK I have submitted bug &lt;a href="https://jira.mariadb.org/browse/MDEV-4745"&gt;MDEV-4745&lt;/a&gt; and given as much info as possible. Hope this helps. I wouldn't know where to start looking for startup scripts. I know about fstab but that's about it!&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Michael Davies</dc:creator><guid>https://mariadb.com/kb/en/changing-location-of-database/+comments/685</guid></item><item><title>Re: Changing location of database</title><link>https://mariadb.com/kb/en/changing-location-of-database/+comments/684</link><description>&lt;p&gt;I mean "incorrect path inside innodb". it would not affect logging in or SHOW DATABASES.&lt;/p&gt;
&lt;p&gt;I cannot know whether MariaDB starts before or after your drives are mounted, it depends on how your startup scripts are configured. If needed, you can force the correct order, by adding dependencies to your startups scripts.&lt;/p&gt;
&lt;p&gt;Still, if you'll be able to create a test case â€” please submit a bug report.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Sergei Golubchik</dc:creator><guid>https://mariadb.com/kb/en/changing-location-of-database/+comments/684</guid></item><item><title>Re: Changing location of database</title><link>https://mariadb.com/kb/en/changing-location-of-database/+comments/683</link><description>&lt;p&gt;Thanks Sergii, Correct path is being used as the databases are being recognised and I can log in; it just reports that tables do not exist. Did you move the data to a separate physical drive and did you reboot? Here is a thought. If I reboot does MariaDb start before the data drive gets mounted thus causing the corruption? I will do some further testing now that I have time.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Michael Davies</dc:creator><guid>https://mariadb.com/kb/en/changing-location-of-database/+comments/683</guid></item><item><title>Re: Changing location of database</title><link>https://mariadb.com/kb/en/changing-location-of-database/+comments/681</link><description>&lt;p&gt;may be innodb uses the incorrect path or it gets the datadir before basedir is used. In that case it'd be a bug.&lt;/p&gt;
&lt;p&gt;If you can create a repeatable bug report, please submit it at &lt;a href="http://mariadb.org/jira"&gt;http://mariadb.org/jira&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;I've tried to repeat it (start the server, create innodb table, stop the server, move the datadir, start the server with --basedir, access innodb table). Everything worked for me.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Sergei Golubchik</dc:creator><guid>https://mariadb.com/kb/en/changing-location-of-database/+comments/681</guid></item><item><title>Re: Changing location of database</title><link>https://mariadb.com/kb/en/changing-location-of-database/+comments/674</link><description>&lt;p&gt;Yes, I did. Also ran checktable on every table. Since writing I have also dropped all schemas and recreated them from scripts. Again all ok until I reboot. Thinking it could be to do with permissions because linux sets all permissions on NTFS drives to root and everybody. Does not use sudo or mysql accounts and doesn't allow them to be changed.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Michael Davies</dc:creator><guid>https://mariadb.com/kb/en/changing-location-of-database/+comments/674</guid></item><item><title>Re: Changing location of database</title><link>https://mariadb.com/kb/en/changing-location-of-database/+comments/671</link><description>&lt;p&gt;Silly question, but you said you stopped the database, reset the basedir in your my.cnf, and then restarted... did you move the data in the datadir to the new location?&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Daniel Bartholomew</dc:creator><guid>https://mariadb.com/kb/en/changing-location-of-database/+comments/671</guid></item></channel></rss>