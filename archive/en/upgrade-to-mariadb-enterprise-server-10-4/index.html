<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>Upgrade to MariaDB Enterprise Server 10.4 - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.f7633538c846.css" rel="stylesheet" type="text/css" />

    

    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="Upgrade to MariaDB Enterprise Server 10.4" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/en/upgrade-to-mariadb-enterprise-server-10-4/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="
Overview
These instructions detail the upgrade from a previous version of MariaDB Enterprise Server to MariaDB Enterprise Server 10.4 on a range of supported Operating System..." />

    <meta name="description" content="
Overview
These instructions detail the upgrade from a previous version of MariaDB Enterprise Server to MariaDB Enterprise Server 10.4 on a range of supported Operating System..." />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes products nodes_view jqui" id="nodes_view">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/upgrade-to-mariadb-enterprise-server-10-4/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2025 MariaDB. All rights reserved.</p>
    </div>
</div>
<div class="violator-wrap d-none" id="top_violator">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12">
                <div class="violator-outer">
                    <div class="violator-inner">
                        <div class="row">
                            <div class="col-xs-12 col-sm-9 col-lg-7 col-lg-offset-2" id="top_violator_content">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="content-link" target="_blank" rel="nofollow noreferrer">
                                    <span>The Ultimate Guide to High Availability with MariaDB</span>
                                </a>
                            </div>
                            <div class="col-xs-12 col-sm-3" id="top_violator_cta">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="btn btn-mariadb" target="_blank" rel="nofollow noreferrer">Download Now</a>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn btn-link close-btn">
                        <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" width="15px" height="15px"><path d="M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/upgrade-to-mariadb-enterprise-server-10-4/" rel="nofollow">Login</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/en/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/en/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/solutions" title="Solutions">Solutions</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="Company">Company</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/en/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/en/documentation/">MariaDB Server Documentation</a>
    

    
    » <a class="crumb" href="/kb/en/mariadb-administration/">MariaDB Administration</a>
    

    
    » <a class="crumb" href="/kb/en/getting-installing-and-upgrading-mariadb/">Getting, Installing, and Upgrading MariaDB</a>
    

    
    » <a class="crumb" href="/kb/en/upgrading/">Upgrading MariaDB</a>
    

    
    » <a class="crumb" href="/kb/en/upgrade-to-mariadb-enterprise-server/">Upgrade to MariaDB Enterprise Server</a>
    


    » <a class="node_link crumb" href="/kb/en/upgrade-to-mariadb-enterprise-server-10-4/">Upgrade to MariaDB Enterprise Server 10.4</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/en/">Home</a></li>
                            
                                
                                    <li><a href="/kb/en/+questions/">Open Questions</a></li>
                                
                                <li><a href="/kb/en/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/en/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/en/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/en/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
<div>



<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-blue btn-sm" href="/kb/en/upgrade-to-mariadb-enterprise-server-10-4/+history" rel="nofollow">History</a>
        
        
        
        <a class="btn btn-block btn-blue btn-sm" href="/kb/en/upgrade-to-mariadb-enterprise-server-10-4/+source/">Source</a>
        
        <a class="btn btn-block btn-blue btn-sm flag" href="/kb/en/upgrade-to-mariadb-enterprise-server-10-4/+flag"
                data-flag-url="/kb/en/upgrade-to-mariadb-enterprise-server-10-4/+flag" rel="nofollow">
                Flag as Spam / Inappropriate</a>
        
        <a class="btn btn-block btn-blue btn-sm" href="/kb/en/upgrade-to-mariadb-enterprise-server-10-4/+translate/">
                Translate</a>
        

</div>
</div>





<div class="well well-small box node_info"><div>

    <dl>
        <dt>Created</dt>
        <dd>

<span class="datetime" title="2025-05-28 14:52">1 week, 6 days ago</span></dd>

        <dt>Modified</dt>
        <dd>

<span class="datetime" title="2025-06-04 13:01">6 days, 11 hours ago</span></dd>

        <dt>Type</dt>
        <dd>article</dd>

        <dt>Status</dt>
        <dd>active</dd>

        <dt>License</dt>
        <dd>
            
                <a href="/kb/en/upgrade-to-mariadb-enterprise-server-10-4/+license/">CC BY-SA / Gnu FDL</a>
            
        </dd>

        
    </dl>

    
    <ul class="rss_feeds">
        <li><a href="/kb/en/upgrade-to-mariadb-enterprise-server-10-4/+history/feed/">
            History</a>
        </li>
        <li><a href="/kb/en/upgrade-to-mariadb-enterprise-server-10-4/+comments/feed/">
            Comments</a>
        </li>
    </ul>
    

</div>
</div>





    
    
    

<div class="well well-small box attachments"><div><div class="edit_link pull-right"><a href="/kb/en/upgrade-to-mariadb-enterprise-server-10-4/+edit/attachments/">Edit</a></div><h5>Attachments</h5></div><div>

        
            <div class="no_data">No attachments exist</div>
        
    
</div>
</div>

    



    
    






</div>


                    

































                </aside>
            
            
            
                
            
            
                
            
            <section id="content" class="limited_width col-md-8 clearfix">
                
                    <h1>Upgrade to MariaDB Enterprise Server 10.4</h1>
                

                



                <div>
                    
    

    
    
    

    <div class="node creole">
        
        
        


    
    <div class="answer formatted">
        <div class="table_of_contents well well-small">
<h3>Contents</h3>
 <ol class="toc">

 <li class=""><a href="#overview" title="Overview">Overview</a></li>

 <li class=""><a href="#data-backup" title="Data Backup">Data Backup</a></li>

 <li class=""><a href="#audit-plugin-considerations" title="Audit Plugin Considerations">Audit Plugin Considerations</a></li>

 <li class=""><a href="#uninstall-the-old-version" title="Uninstall the Old Version">Uninstall the Old Version</a> <ol class="toc">

    <li class=""><a href="#stop-the-mariadb-server-process" title="Stop the MariaDB Server Process">Stop the MariaDB Server Process</a></li>

    <li class=""><a href="#uninstall-via-yum-rhel-almalinux-centos-rocky-linux" title="Uninstall via YUM (RHEL, AlmaLinux, CentOS, Rocky Linux)">Uninstall via YUM (RHEL, AlmaLinux, CentOS, Rocky Linux)</a></li>

    <li class=""><a href="#uninstall-via-apt-debian-ubuntu" title="Uninstall via APT (Debian, Ubuntu)">Uninstall via APT (Debian, Ubuntu)</a></li>

    <li class=""><a href="#uninstall-via-zypp-sles" title="Uninstall via ZYpp (SLES)">Uninstall via ZYpp (SLES)</a> </ol>
</li>

 <li class=""><a href="#install-the-new-version" title="Install the New Version">Install the New Version</a> <ol class="toc">

    <li class=""><a href="#install-via-yum-rhel-almalinux-centos-rocky-linux" title="Install via YUM (RHEL, AlmaLinux, CentOS, Rocky Linux)">Install via YUM (RHEL, AlmaLinux, CentOS, Rocky Linux)</a></li>

    <li class=""><a href="#install-via-apt-debian-ubuntu" title="Install via APT (Debian, Ubuntu)">Install via APT (Debian, Ubuntu)</a></li>

    <li class=""><a href="#install-via-zypp-sles" title="Install via ZYpp (SLES)">Install via ZYpp (SLES)</a> </ol>
</li>

 <li class=""><a href="#configuration" title="Configuration">Configuration</a></li>

 <li class=""><a href="#starting-the-server" title="Starting the Server">Starting the Server</a></li>

 <li class=""><a href="#upgrading-the-data-directory" title="Upgrading the Data Directory">Upgrading the Data Directory</a></li>

 <li class=""><a href="#testing" title="Testing">Testing</a></li>
</div>
<h1 class="anchored_heading" id="overview">Overview</h1>
<p>These instructions detail the <strong>upgrade</strong> from a previous version of <strong>MariaDB Enterprise Server</strong> to <strong>MariaDB Enterprise Server 10.4</strong> on a range of <a href="https://mariadb.com/engineering-policies/">supported Operating Systems</a>.</p>
<p>When <a href="/kb/en/mariadb-enterprise-server/">MariaDB Enterprise Server</a> is upgraded, the old version needs to be uninstalled, and the new version needs to be installed.</p>
<p>See <a href="/kb/en/whats-new-in-mariadb-enterprise-server-10-4/">What's New in MariaDB Enterprise Server 10.4</a>.</p>
<h1 class="anchored_heading" id="data-backup">Data Backup</h1>
<p>Occasionally, issues can be encountered during upgrades. These issues can even potentially corrupt the database's data files, preventing you from easily reverting to the old installation. Therefore, it is generally best to perform a backup before upgrading. If an issue is encountered during the upgrade, you can use the backup to restore your MariaDB Server database to the old version. If the upgrade finishes without issue, then the backup can be deleted.</p>
<p>The instructions below show how to perform a backup using <a href="/kb/en/mariabackup/">MariaDB Backup</a>. For more information about backing up and restoring the database, please see the <a href="/kb/en/backup-and-restore-with-mariadb-enterprise-server/">Recovery Guide</a>.</p>
<p>1. Take a full backup. On MariaDB Enterprise Server 10.4 and later:</p>
<pre class="fixed">$ sudo mariadb-backup --backup \
      --user=mariabackup_user \
      --password=mariabackup_passwd \
      --target-dir=/data/backup/preupgrade_backup
</pre><p>Confirm successful completion of the backup operation.</p>
<p>2. The backup must be prepared. On the MariaDB Enterprise Server 10.4 and later:</p>
<pre class="fixed">$ sudo mariadb-backup --prepare \
      --target-dir=/data/backup/preupgrade_backup
</pre><p>Confirm successful completion of the prepare operation.</p>
<p>3. Backups should be tested before they are trusted.</p>
<h1 class="anchored_heading" id="audit-plugin-considerations">Audit Plugin Considerations</h1>
<p>If you have the <a href="/kb/en/mariadb-audit-plugin/">MariaDB Audit Plugin</a> installed and if you are upgrading to MariaDB Enterprise Server 10.4 or later, then the audit plugin should be removed prior to the upgrade to prevent conflict with the <a href="/kb/en/mariadb-enterprise-audit/">MariaDB Enterprise Audit Plugin</a> that is present in MariaDB Enterprise Server 10.4 or later.
It can be removed by using the <a href="/kb/en/uninstall-soname/">UNINSTALL SONAME</a> statement:</p>
<pre class="fixed">UNINSTALL SONAME 'server_audit';
</pre><p>And if you load the plugin in a configuration file using the plugin_load_addoption, then the option should also be removed.
The <a href="/kb/en/mariadb-enterprise-audit/">MariaDB Enterprise Audit Plugin</a> will automatically be installed after installing MariaDB Enterprise Server 10.4 or later.</p>
<h1 class="anchored_heading" id="uninstall-the-old-version">Uninstall the Old Version</h1>
<p>When upgrading to a new major release of MariaDB Enterprise Server, it is necessary to remove the existing installation of MariaDB Enterprise Server before installing the new version of MariaDB Enterprise Server. Otherwise, the package manager will refuse to install the new version of MariaDB Enterprise Server.</p>
<h2 class="anchored_heading" id="stop-the-mariadb-server-process">Stop the MariaDB Server Process</h2>
<p>Before the old version can be uninstalled, we first need to stop the current MariaDB Server process.</p>
<p>1. Set the <a href="/kb/en/innodb-system-variables/#innodb_fast_shutdown">innodb_fast_shutdown</a> system variable to 1:</p>
<pre class="fixed">SET GLOBAL innodb_fast_shutdown = 1;
</pre><p>2. Use <a href="/kb/en/xa-transactions/#xa-recover">XA RECOVER</a> to confirm that there are no external <a href="/kb/en/xa-transactions/">XA transactions</a> in a prepared state:</p>
<pre class="fixed">XA RECOVER;
</pre>
<p>Commit or roll back any open <a href="/kb/en/xa-transactions/">XA transactions</a> before stopping the node for upgrade.</p>
<p>3. Stop the server process: For distributions that use <code>systemd</code> (most supported OSes), you can manage the server process using the <code>systemctl</code> command:</p>
<pre class="fixed">$ sudo systemctl stop mariadb
</pre><h2 class="anchored_heading" id="uninstall-via-yum-rhel-almalinux-centos-rocky-linux">Uninstall via YUM (RHEL, AlmaLinux, CentOS, Rocky Linux)</h2>
<p>1. Uninstall all of the MariaDB Enterprise Server packages. Note that a wildcard character is used to ensure that all MariaDB Enterprise Server packages are uninstalled:</p>
<pre class="fixed">$ sudo yum remove &#34;MariaDB-*&#34;
</pre><p>Be sure to check that this wildcard does not unintentionally refer to any of your custom applications:</p>
<p>2. Uninstall the Galera package as well. The name of the package depends on the specific version of MariaDB Enterprise Server. When upgrading from MariaDB Enterprise Server 10.4 or later, the package is called <code>galera-enterprise-4</code>:</p>
<pre class="fixed">$ sudo yum remove galera-enterprise-4
</pre><p>3. Before proceeding, verify that all MariaDB Enterprise Server packages are uninstalled. The following command should not return any results:</p>
<pre class="fixed">$ rpm --query --all | grep -i -E &#34;mariadb|galera&#34;
</pre><h2 class="anchored_heading" id="uninstall-via-apt-debian-ubuntu">Uninstall via APT (Debian, Ubuntu)</h2>
<p>1. Uninstall all of the MariaDB Enterprise Server packages. Note that a wildcard character is used to ensure that all MariaDB Enterprise Server packages are uninstalled:</p>
<pre class="fixed">$ sudo apt-get remove &#34;mariadb-*&#34;
</pre><p>Be sure to check that this wildcard does not unintentionally refer to any of your custom applications.</p>
<p>2. Uninstall the Galera package as well. The name of the package depends on the specific version of MariaDB Enterprise Server. When upgrading from MariaDB Enterprise Server 10.4 or later, the package is called galera-enterprise-4:</p>
<pre class="fixed">$ sudo apt remove galera-enterprise-4
</pre><p>3. Before proceeding, verify that all MariaDB Enterprise Server packages are uninstalled. The following command should not return any results:</p>
<pre class="fixed">$ apt list --installed | grep -i -E &#34;mariadb|galera&#34;
</pre><h2 class="anchored_heading" id="uninstall-via-zypp-sles">Uninstall via ZYpp (SLES)</h2>
<p>1. Uninstall all of the MariaDB Enterprise Server packages. Note that a wildcard character is used to ensure that all MariaDB Enterprise Server packages are uninstalled:</p>
<pre class="fixed">$ sudo zypper remove &#34;MariaDB-*&#34;
</pre><p>Be sure to check that this wildcard does not unintentionally refer to any of your custom applications.</p>
<p>2. Uninstall the Galera package as well. The name of the package depends on the specific version of MariaDB Enterprise Server. When upgrading from MariaDB Enterprise Server 10.4 or later, the package is called galera-enterprise-4:</p>
<pre class="fixed">$ sudo zypper remove galera-enterprise-4
</pre><p>3. Before proceeding, verify that all MariaDB Enterprise Server packages are uninstalled. The following command should not return any results:</p>
<pre class="fixed">$ rpm --query --all | grep -i -E &#34;mariadb|galera&#34;
</pre><h1 class="anchored_heading" id="install-the-new-version">Install the New Version</h1>
<p>MariaDB Corporation provides package repositories for YUM (RHEL, AlmaLinux, CentOS, Rocky Linux), APT (Debian, Ubuntu), and ZYpp (SLES).</p>
<h2 class="anchored_heading" id="install-via-yum-rhel-almalinux-centos-rocky-linux">Install via YUM (RHEL, AlmaLinux, CentOS, Rocky Linux)</h2>
<p>1. Retrieve your Customer Download Token at <a href="https://customers.mariadb.com/downloads/token">https:<em>customers.mariadb.com/downloads/token</em></a> and substitute for <code>CUSTOMER_DOWNLOAD_TOKEN</code> in the following directions.</p>
<p>2. Configure the YUM package repository. Installable versions of MariaDB Enterprise Server are <code>11.4, 10.6, 10.5, 10.4, and 10.3.</code> Pass the version to install using the <code>--mariadb-server-version</code> flag to <code>mariadb_es_repo_setup</code>. The following directions reference 10.4.</p>
<p>To configure YUM package repositories:</p>
<pre class="fixed">$ sudo yum install curl 
</pre><pre class="fixed">$ curl -LsSO https://dlm.mariadb.com/enterprise-release-helpers/mariadb_es_repo_setup
</pre><pre class="fixed">$ echo &#34;4d483b4df193831a0101d3dfa7fb3e17411dda7fc06c31be4f9e089c325403c0  mariadb_es_repo_setup&#34; \
    | sha256sum -c -
</pre><pre class="fixed">$ chmod +x mariadb_es_repo_setup
</pre><pre class="fixed">$ sudo ./mariadb_es_repo_setup --token=&#34;CUSTOMER_DOWNLOAD_TOKEN&#34; --apply \
   --mariadb-server-version=&#34;10.4&#34;
</pre><p>3. Install MariaDB Enterprise Server and package dependencies:</p>
<pre class="fixed">$ sudo yum install MariaDB-server MariaDB-backup
</pre><p>Installation of additional packages may be required for some plugins.</p>
<p>4. Configure MariaDB. Installation only loads MariaDB Enterprise Server onto the system. MariaDB Enterprise Server requires configuration before the database server is ready for use.</p>
<h2 class="anchored_heading" id="install-via-apt-debian-ubuntu">Install via APT (Debian, Ubuntu)</h2>
<p>1. Retrieve your Customer Download Token at <a href="https://customers.mariadb.com/downloads/token">https:<em>customers.mariadb.com/downloads/token/</em></a> and substitute for <code>CUSTOMER_DOWNLOAD_TOKEN</code> in the following directions.</p>
<p>2. Configure the APT package repository.
Installable versions of MariaDB Enterprise Server are <code>11.4, 10.6, 10.5, 10.4, and 10.3.</code> Pass the version to install using the <code>--mariadb-server-version</code> flag to <code>mariadb_es_repo_setup</code>. The following directions reference 10.4.</p>
<p>To configure APT package repositories:</p>
<pre class="fixed">$ sudo apt install curl
</pre><pre class="fixed">$ curl -LsSO https://dlm.mariadb.com/enterprise-release-helpers/mariadb_es_repo_setup
</pre><pre class="fixed">$ echo &#34;4d483b4df193831a0101d3dfa7fb3e17411dda7fc06c31be4f9e089c325403c0  mariadb_es_repo_setup&#34; \
    | sha256sum -c -
</pre><pre class="fixed">$ chmod +x mariadb_es_repo_setup
</pre><pre class="fixed">$ sudo ./mariadb_es_repo_setup --token=&#34;CUSTOMER_DOWNLOAD_TOKEN&#34; --apply \
   --mariadb-server-version=&#34;11.8&#34;
</pre><pre class="fixed">$ sudo apt update
</pre><p>3. Install MariaDB Enterprise Server and package dependencies:</p>
<pre class="fixed">$ sudo apt install mariadb-server mariadb-backup
</pre><p>4. Installation of additional packages may be required for some plugins.
Configure MariaDB. Installation only loads MariaDB Enterprise Server to the system. MariaDB Enterprise Server requires configuration before the database server is ready for use.</p>
<h2 class="anchored_heading" id="install-via-zypp-sles">Install via ZYpp (SLES)</h2>
<p>1. Retrieve your Customer Download Token at <a href="https://customers.mariadb.com/downloads/token">https:<em>customers.mariadb.com/downloads/token/</em></a> and substitute for <code>CUSTOMER_DOWNLOAD_TOKEN</code> in the following directions.</p>
<p>2. Configure the ZYpp package repository.
Installable versions of MariaDB Enterprise Server are <code>11.4, 10.6, 10.5, 10.4, and 10.3.</code> Pass the version to install using the <code>--mariadb-server-version</code> flag to <code>mariadb_es_repo_setup</code>. The following directions reference 10.4.</p>
<p>To configure ZYpp package repositories:</p>
<pre class="fixed">$ sudo zypper install curl
</pre><pre class="fixed">$ curl -LsSO https://dlm.mariadb.com/enterprise-release-helpers/mariadb_es_repo_setup

&lt;&lt;code&gt;&gt;
$ echo &#34;4d483b4df193831a0101d3dfa7fb3e17411dda7fc06c31be4f9e089c325403c0  mariadb_es_repo_setup&#34; \
    | sha256sum -c -
</pre><pre class="fixed">$ chmod +x mariadb_es_repo_setup
</pre><pre class="fixed">$ sudo ./mariadb_es_repo_setup --token=&#34;CUSTOMER_DOWNLOAD_TOKEN&#34; --apply \
   --mariadb-server-version=&#34;10.4&#34;
</pre><p>3. Install MariaDB Enterprise Server and package dependencies:</p>
<pre class="fixed">$ sudo zypper install MariaDB-server MariaDB-backup
</pre><p>Installation of additional packages may be required for some plugins.</p>
<p>4. Configure MariaDB. Installation only loads MariaDB Enterprise Server onto the system. MariaDB Enterprise Server requires configuration before the database server is ready for use.</p>
<h1 class="anchored_heading" id="configuration">Configuration</h1>
<p>For platforms that use YUM or ZYpp as a package manager:
MariaDB Enterprise Server's packages bundle several configuration files:</p>
<ul start="1"><li>/etc/my.cnf
</li><li>/etc/my.cnf.d/client.cnf
</li><li>/etc/my.cnf.d/mariadb-enterprise.cnf
</li><li>/etc/my.cnf.d/mysql-clients.cnf
</li><li>/etc/my.cnf.d/server.cnf
</li></ul>
<p>If your version of any of these configuration files contained any custom edits, then the package manager may save your edited version with the <code>.rpmsave</code> extension during the upgrade process. If you want to continue using your version with the custom edits, then you may need to move it back. </p>
<p>For example, to move <code>server.cnf</code> back in place:</p>
<pre class="fixed">$ sudo mv /etc/my.cnf.d/server.cnf /etc/my.cnf.d/server.cnf.original
</pre><pre class="fixed">$ sudo mv /etc/my.cnf.d/server.cnf.rpmsave /etc/my.cnf.d/server.cnf
</pre><h1 class="anchored_heading" id="starting-the-server">Starting the Server</h1>
<p>MariaDB Enterprise Server includes configuration to <code>start, stop, restart, enable/disable</code> on boot, and check the status of the Server using the operating system's default process management system.</p>
<p>For distributions that use <code>systemd</code>, you can manage the Server process using the <code>systemctl</code> command:</p>
<div class="cstm-style darkheader-nospace-borders left"><table><tr><th>Operation</th><th>Command</th></tr>
<tr><td>Start</td><td>sudo systemctl start mariadb</td></tr>
<tr><td>Stop</td><td>sudo systemctl stop mariadb</td></tr>
<tr><td>Restart</td><td>sudo systemctl restart mariadb</td></tr>
<tr><td>Enable during startup</td><td>sudo systemctl enable mariadb</td></tr>
<tr><td>Disable during startup</td><td>sudo systemctl disable mariadb</td></tr>
<tr><td>Status</td><td>sudo systemctl status mariadb</td></tr>
</table>
</div><h1 class="anchored_heading" id="upgrading-the-data-directory">Upgrading the Data Directory</h1>
<p>MariaDB Enterprise Server ships with a utility that can be used to identify and correct compatibility issues in the new version. After you upgrade your Server and start the server process, run this utility to upgrade the data directory.</p>
<p>The utility is called <code>mariadb-upgrade in MariaDB Enterprise Server 10.4 and later:</code></p>
<pre class="fixed">$ sudo mariadb-upgrade
</pre><h1 class="anchored_heading" id="testing">Testing</h1>
<p>When MariaDB Enterprise Server is up and running on your system, you should test that it is working and there weren't any issues during startup.</p>
<p>1. Connect to the server using MariaDB Client using the <code>root@localhost</code> user account.
MariaDB Client is called <code>mariadb</code> (ES 10.4 and later):</p>
<pre class="fixed">$ sudo mariadb
</pre><pre class="fixed">Welcome to the MariaDB monitor.  Commands end with ; or \g.
Your MariaDB connection id is 9
Server version: 10.4.34-24-MariaDB-Enterprise MariaDB Enterprise Server

Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

MariaDB [(none)]&gt;
</pre><p>2. You can also verify the server version by checking the value of the <a href="/kb/en/server-system-variables/#version">version</a> system variable with the <a href="/kb/en/show-status/">SHOW GLOBAL STATUS</a> statement:
SHOW GLOBAL VARIABLES LIKE 'version';</p>
<pre class="fixed">+---------------+-----------------------------+
| Variable_name | Value                       |
+---------------+-----------------------------+
| version       | 10.4.34-24-MariaDB-Enterprise |
+---------------+-----------------------------+
</pre><p>3. You can also verify the server version by calling the <a href="/kb/en/version/">VERSION()</a> function:</p>
<pre class="fixed">SELECT VERSION();
+-----------------------------+
| VERSION()                   |
+-----------------------------+
| 10.4.34-24-MariaDB-Enterprise |
+-----------------------------+
</pre>
    </div>


        
            <div id="subscribe" class="well well-small hide hidden-print"
                 data-subscribe-url="/kb/en/upgrade-to-mariadb-enterprise-server-10-4/+subscriptions/add"
                 data-unsubscribe-url="/kb/en/upgrade-to-mariadb-enterprise-server-10-4/+subscriptions/remove">
            </div>
        

        
        
    
        <div class="simple_section_nav">
            <ul class="nav nav-pills">
                
                    <li><a href="/kb/en/upgrade-to-mariadb-enterprise-server-10-5/">
                        ← Upgrade to MariaDB Enterprise Server 10.5
                    </a>
                    </li>
                
                
                    <li><a href="/kb/en/upgrade-to-mariadb-enterprise-server/">
                        ↑ Upgrade to MariaDB Enterprise Server ↑
                    </a>
                    </li>
                
                
                    <li class="pull-right"><a href="/kb/en/upgrade-to-mariadb-enterprise-server-10-3/">
                        Upgrade to MariaDB Enterprise Server 10.3 →
                    </a>
                    </li>
                
            </ul>
        </div>
    

        

        
        <h2>Comments</h2>
        
    
    <div id="comments" data-node-id="16262" data-comments-url="/kb/en/upgrade-to-mariadb-enterprise-server-10-4/+comments"
         data-reply-url="/kb/en/upgrade-to-mariadb-enterprise-server-10-4/comments/post/">
        Comments loading...
    </div>

        

    </div>


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
                <div id="right_bar" class="col-md-2">
                    
    
        
        <ul class="section_navigation well well-small hidden-xs hidden-sm">
            
                <li class="parent"><a href="/kb/en/upgrade-to-mariadb-enterprise-server/">
                    ↑ Upgrade to MariaDB Enterprise Server ↑
                </a>
                </li>
            
            
                
                    <li>
                        <a href="/kb/en/upgrade-to-mariadb-enterprise-server-11-8/">
                            
                            Upgrade to MariaDB Enterprise Server 11.8
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/upgrade-to-mariadb-enterprise-server-11-4/">
                            
                            Upgrade to MariaDB Enterprise Server 11.4
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/upgrade-to-mariadb-enterprise-server-10-6/">
                            
                            Upgrade to MariaDB Enterprise Server 10.6
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/upgrade-to-mariadb-enterprise-server-10-5/">
                            
                            Upgrade to MariaDB Enterprise Server 10.5
                        </a>
                    </li>
                
            
                
                    <li class="active">
                        <span>Upgrade to MariaDB Enterprise Server 10.4</span>
                        
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/upgrade-to-mariadb-enterprise-server-10-3/">
                            
                            Upgrade to MariaDB Enterprise Server 10.3
                        </a>
                    </li>
                
            
        </ul>
    
    

                </div>
            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/solutions" title="Solutions">Solutions</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">Company</a></h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        
                        
                        <li>
                            <h5><a href="https://mariadb.com/downloads" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2025 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.1587e3a666fc.js" charset="utf-8"></script>

</html>