<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>Install Cassandra on Fulltest VMs - Source - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.b9e1e104f007.css" rel="stylesheet" type="text/css" />

    
        <meta name="robots" content="noindex, nofollow">
    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="Install Cassandra on Fulltest VMs - Source" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/en/install-cassandra-on-fulltest-vms/+source/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="" />

    <meta name="description" content="" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes autoresize nodes_source jqui" id="nodes_source">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/install-cassandra-on-fulltest-vms/+source/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2024 MariaDB. All rights reserved.</p>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/install-cassandra-on-fulltest-vms/+source/" rel="nofollow">Login</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/en/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/en/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/services" title="Services">Services</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="About Us">About Us</a>
    </li>
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/en/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/en/training-tutorials/">Training &amp; Tutorials</a>
    

    
    » <a class="crumb" href="/kb/en/advanced-mariadb-articles/">Advanced MariaDB Articles</a>
    

    
    » <a class="crumb" href="/kb/en/development-articles/">Development Articles</a>
    

    
    » <a class="crumb" href="/kb/en/tools/">MariaDB Development Tools</a>
    

    
    » <a class="crumb" href="/kb/en/buildbot/">Buildbot</a>
    

    
    » <a class="crumb" href="/kb/en/buildbot-setup/">Buildbot Setup</a>
    

    
    » <a class="crumb" href="/kb/en/buildbot-setup-for-virtual-machines/">Buildbot Setup for Virtual Machines</a>
    

    
    » <a class="crumb" href="/kb/en/buildbot-setup-for-virtual-machines-additional-steps/">Buildbot Setup for Virtual Machines - Additional Steps</a>
    


    » <a class="node_link crumb" href="/kb/en/install-cassandra-on-fulltest-vms/">Install Cassandra on Fulltest VMs</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/en/">Home</a></li>
                            
                                
                                    <li><a href="/kb/en/+questions/">Open Questions</a></li>
                                
                                <li><a href="/kb/en/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/en/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/en/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/en/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
                        <div>
    

<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-small" href="/kb/en/install-cassandra-on-fulltest-vms/">Return to article</a>
    
</div>
</div>

</div>
                    

                    

































                </aside>
            
            
            
                
            
            
            <section id="content" class="limited_width col-md-10 clearfix">
                
                    <h1>Install Cassandra on Fulltest VMs - Source</h1>
                

                



                <div>
                    

    

    
    <div class="revision_info">
        <dl class="table">
            <dt>Revision</dt>
            <dd><a href="/kb/en/install-cassandra-on-fulltest-vms/+r/97577/">97577</a></dd>
            <dt>User</dt>
            <dd>
<span class="user" id="user-2">
<a href="/kb/user/id/2" title="Daniel Bartholomew">Daniel Bartholomew</a>
</span></dd>
            <dt>Date</dt>
            <dd>

<span class="datetime" title="2020-07-15 12:52">2020-07-15 12:52</span></dd>
        </dl>
    </div>
    


    

    
        
        <textarea id="answer_source" class="creole_source autogrow">&lt;&lt;include slug=&#34;cassandra-removed&#34;&gt;&gt;

Here are the steps I took to install Cassandra on the Fulltest VMs.

#.1 backed up the fulltest VMs with:

&lt;&lt;code indent=1 lang=sh inline=false&gt;&gt;
rsync -avP /kvm/vms/*fulltest* host:/destination/path/
&lt;&lt;/code&gt;&gt;

#.2 boot the amd64 fulltest VM:

&lt;&lt;code indent=1 lang=sh inline=false&gt;&gt;
vm=vm-precise-amd64-fulltest.qcow2
kvm -m 2048 -hda /kvm/vms/${vm} -boot c -smp 2 -cpu qemu64 -net nic,model=virtio -net user,hostfwd=tcp:127.0.0.1:22666-:22 -nographic
&lt;&lt;/code&gt;&gt;

#.3 login to the VM:

&lt;&lt;code indent=1 lang=sh inline=false&gt;&gt;
ssh -t -p 22666 -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no -i /kvm/vms/ssh-keys/id_dsa dbart@localhost
&lt;&lt;/code&gt;&gt;

#.4 in the VM, install Cassandra:

&lt;&lt;code indent=1 lang=sh inline=false&gt;&gt;
sudo vi /etc/apt/sources.list.d/cassandra.list

# paste in the following two lines:
deb http://www.apache.org/dist/cassandra/debian 11x main
deb-src http://www.apache.org/dist/cassandra/debian 11x main

gpg --keyserver pgp.mit.edu --recv-keys F758CE318D77295D
gpg --export --armor F758CE318D77295D | sudo apt-key add -

gpg --keyserver pgp.mit.edu --recv-keys 2B5C1B00
gpg --export --armor 2B5C1B00 | sudo apt-key add -

sudo apt-get update
sudo apt-get install cassandra
&lt;&lt;/code&gt;&gt;

#.5 in the VM, launch the ##cassandra-cli## program and test the Cassandra installation:

&lt;&lt;code indent=1 lang=sh inline=false&gt;&gt;
create keyspace DEMO; 
use DEMO; 

create column family Users 
with key_validation_class = &#39;UTF8Type&#39; 
and comparator = &#39;UTF8Type&#39; 
and default_validation_class = &#39;UTF8Type&#39;; 

set Users[1234][name] = scott; 
set Users[1234][password] = tiger; 
get Users[1234]; 
quit; 
&lt;&lt;/code&gt;&gt;

*none Output of the above:

&lt;&lt;code indent=1 lang=sh inline=false&gt;&gt;
dbart@ubuntu-precise-amd64:~$ &lt;&lt;highlight&gt;&gt;cassandra-cli&lt;&lt;/highlight&gt;&gt;
Connected to: &#34;Test Cluster&#34; on 127.0.0.1/9160
Welcome to Cassandra CLI version 1.1.9

Type &#39;help;&#39; or &#39;?&#39; for help.
Type &#39;quit;&#39; or &#39;exit;&#39; to quit.

[default@unknown] &lt;&lt;highlight&gt;&gt;create keyspace DEMO;&lt;&lt;/highlight&gt;&gt;
622a672f-dd03-37bf-bf78-f3e99a8f18a6
Waiting for schema agreement...
... schemas agree across the cluster
[default@unknown] &lt;&lt;highlight&gt;&gt;use DEMO;&lt;&lt;/highlight&gt;&gt;
Authenticated to keyspace: DEMO
[default@DEMO] &lt;&lt;highlight&gt;&gt;create column family Users&lt;&lt;/highlight&gt;&gt;
...     &lt;&lt;highlight&gt;&gt;with key_validation_class = &#39;UTF8Type&#39;&lt;&lt;/highlight&gt;&gt;
...     &lt;&lt;highlight&gt;&gt;and comparator = &#39;UTF8Type&#39;&lt;&lt;/highlight&gt;&gt;
...     &lt;&lt;highlight&gt;&gt;and default_validation_class = &#39;UTF8Type&#39;;&lt;&lt;/highlight&gt;&gt;
605eea14-d3e5-3d1d-ab1d-f4863c814538
Waiting for schema agreement...
... schemas agree across the cluster
[default@DEMO] &lt;&lt;highlight&gt;&gt;set Users[1234][name] = scott;&lt;&lt;/highlight&gt;&gt;
Value inserted.
Elapsed time: 46 msec(s).
[default@DEMO] &lt;&lt;highlight&gt;&gt;set Users[1234][password] = tiger;&lt;&lt;/highlight&gt;&gt;
Value inserted.
Elapsed time: 2.77 msec(s).
[default@DEMO] &lt;&lt;highlight&gt;&gt;get Users[1234];&lt;&lt;/highlight&gt;&gt;
=&gt; (column=name, value=scott, timestamp=1361818884084000)
=&gt; (column=password, value=tiger, timestamp=1361818887944000)
Returned 2 results.
Elapsed time: 53 msec(s).
[default@DEMO] &lt;&lt;highlight&gt;&gt;quit;&lt;&lt;/highlight&gt;&gt;
&lt;&lt;/code&gt;&gt;

#.6 in the VM, shut it down:

&lt;&lt;code indent=1 lang=sh inline=false&gt;&gt;
sudo shutdown -h now
&lt;&lt;/code&gt;&gt;

#.7 Do steps 2-6 for ##vm-precise-i386-fulltest.qcow2##. The output of the testing step was:

&lt;&lt;code indent=1 lang=sh inline=false&gt;&gt;
dbart@ubuntu-precise-i386:~$ &lt;&lt;highlight&gt;&gt;cassandra-cli&lt;&lt;/highlight&gt;&gt;
Connected to: &#34;Test Cluster&#34; on 127.0.0.1/9160
Welcome to Cassandra CLI version 1.1.9

Type &#39;help;&#39; or &#39;?&#39; for help.
Type &#39;quit;&#39; or &#39;exit;&#39; to quit.

[default@unknown] &lt;&lt;highlight&gt;&gt;create keyspace DEMO;&lt;&lt;/highlight&gt;&gt;
5eafc25e-71b6-3585-9db1-891b3348790c
Waiting for schema agreement...
... schemas agree across the cluster
[default@unknown] &lt;&lt;highlight&gt;&gt;use DEMO;&lt;&lt;/highlight&gt;&gt;
Authenticated to keyspace: DEMO
[default@DEMO] &lt;&lt;highlight&gt;&gt;create column family Users&lt;&lt;/highlight&gt;&gt;
...     &lt;&lt;highlight&gt;&gt;with key_validation_class = &#39;UTF8Type&#39;&lt;&lt;/highlight&gt;&gt;
...     &lt;&lt;highlight&gt;&gt;and comparator = &#39;UTF8Type&#39;&lt;&lt;/highlight&gt;&gt;
...     &lt;&lt;highlight&gt;&gt;and default_validation_class = &#39;UTF8Type&#39;;&lt;&lt;/highlight&gt;&gt;
9c2ad7bc-8dc0-35ce-8067-4dc4577319f1
Waiting for schema agreement...
... schemas agree across the cluster
[default@DEMO] &lt;&lt;highlight&gt;&gt;set Users[1234][name] = scott;&lt;&lt;/highlight&gt;&gt;
Value inserted.
Elapsed time: 51 msec(s).
[default@DEMO] &lt;&lt;highlight&gt;&gt;set Users[1234][password] = tiger;&lt;&lt;/highlight&gt;&gt;
Value inserted.
Elapsed time: 2.44 msec(s).
[default@DEMO] &lt;&lt;highlight&gt;&gt;get Users[1234];&lt;&lt;/highlight&gt;&gt;
=&gt; (column=name, value=scott, timestamp=1361819341068000)
=&gt; (column=password, value=tiger, timestamp=1361819345337000)
Returned 2 results.
Elapsed time: 57 msec(s).
[default@DEMO] &lt;&lt;highlight&gt;&gt;quit;&lt;&lt;/highlight&gt;&gt;
&lt;&lt;/code&gt;&gt;

#.8 on the other build hosts, rsync the files over:

&lt;&lt;code indent=1 lang=sh inline=false&gt;&gt;
rsync -avP host::kvm/vms/*fulltest* /kvm/vms/
&lt;&lt;/code&gt;&gt;</textarea>
    


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/services" title="Services">Services</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">About Us</a></h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/download" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2024 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.fed4ec768178.js" charset="utf-8"></script>

</html>