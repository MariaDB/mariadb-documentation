<?xml version="1.0" encoding="utf-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>MariaDB Knowledge Base Comments for: Unsupported command in prepared statement using the new JDBC Driver 3.0.3</title><link>https://mariadb.com/kb/en/unsupported-command-in-prepared-statement-using-the-new-jdbc-driver-303/+comments/feed/</link><description></description><atom:link href="https://mariadb.com/kb/en/unsupported-command-in-prepared-statement-using-the-new-jdbc-driver-303/+comments/feed/" rel="self"></atom:link><language>en-us</language><lastBuildDate>Mon, 30 Dec 2024 11:50:31 +0000</lastBuildDate><item><title>Re: Unsupported command in prepared statement using the new JDBC Driver 3.0.3</title><link>https://mariadb.com/kb/en/unsupported-command-in-prepared-statement-using-the-new-jdbc-driver-303/+comments/5638</link><description>&lt;p&gt;With batches, driver use a BULK dedicated command that has a known issue with INSERT ... SELECT. See &lt;a href="https://jira.mariadb.org/browse/MDEV-26673"&gt;https://jira.mariadb.org/browse/MDEV-26673&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;So you can either disable BULK setting option useBulkStmts=false. 
or rewrite this specific part to not using batches. &lt;/p&gt;
&lt;p&gt;The reason of why that differ compared to 2.7 is that now, when server support it, PREPARE + EXECUTE/BULK are send 'pipelining', permitting better performance. 
The only bad thing is that when PREPARE fails, there cannot be a workaround using   a client prepared statement replacement.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Diego Dupin</dc:creator><guid>https://mariadb.com/kb/en/unsupported-command-in-prepared-statement-using-the-new-jdbc-driver-303/+comments/5638</guid></item><item><title>Re: Unsupported command in prepared statement using the new JDBC Driver 3.0.3</title><link>https://mariadb.com/kb/en/unsupported-command-in-prepared-statement-using-the-new-jdbc-driver-303/+comments/5631</link><description>&lt;p&gt;If, as a workaround, I move/wrap the offending SQL statement in stored procedure does it makes it ?&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Thierry Giguere</dc:creator><guid>https://mariadb.com/kb/en/unsupported-command-in-prepared-statement-using-the-new-jdbc-driver-303/+comments/5631</guid></item><item><title>Re: Unsupported command in prepared statement using the new JDBC Driver 3.0.3</title><link>https://mariadb.com/kb/en/unsupported-command-in-prepared-statement-using-the-new-jdbc-driver-303/+comments/5623</link><description>&lt;p&gt;May be I could turnoff  this option but I thought it was the right setup to get the very best performance and benefit from the performance improvement brought out by this new JDBC Driver version. I ll take a look at it although there is a lot of different queries embedded in our application that needs to be double checked for performance regression should I turn off this option. Thanks&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Thierry Giguere</dc:creator><guid>https://mariadb.com/kb/en/unsupported-command-in-prepared-statement-using-the-new-jdbc-driver-303/+comments/5623</guid></item><item><title>Re: Unsupported command in prepared statement using the new JDBC Driver 3.0.3</title><link>https://mariadb.com/kb/en/unsupported-command-in-prepared-statement-using-the-new-jdbc-driver-303/+comments/5622</link><description>&lt;p&gt;You do not have to use useServerPrepStmts=true, do you?&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Vladislav Vaintroub</dc:creator><guid>https://mariadb.com/kb/en/unsupported-command-in-prepared-statement-using-the-new-jdbc-driver-303/+comments/5622</guid></item></channel></rss>