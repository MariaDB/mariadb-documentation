<?xml version="1.0" encoding="utf-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>MariaDB Knowledge Base Comments for: The maria/5.3-gis tree on Launchpad.</title><link>https://mariadb.com/kb/en/the-maria53-gis-tree-on-launchpad/+comments/feed/</link><description></description><atom:link href="https://mariadb.com/kb/en/the-maria53-gis-tree-on-launchpad/+comments/feed/" rel="self"></atom:link><language>en-us</language><lastBuildDate>Mon, 28 Apr 2025 03:00:20 +0000</lastBuildDate><item><title>Re: is spatial indexon aria geometry columns really supported?</title><link>https://mariadb.com/kb/en/the-maria53-gis-tree-on-launchpad/+comments/387</link><description>&lt;p&gt;Unfortunately, dynamic row format patch for MariaDB was never finished. We've started porting it, but then it was put on hold.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Sergei Golubchik</dc:creator><guid>https://mariadb.com/kb/en/the-maria53-gis-tree-on-launchpad/+comments/387</guid></item><item><title>Re: is spatial indexon aria geometry columns really supported?</title><link>https://mariadb.com/kb/en/the-maria53-gis-tree-on-launchpad/+comments/386</link><description>&lt;p&gt;thanks for all the replies!&lt;/p&gt;
&lt;p&gt;If I may, in evaluating the switch to MariDB, we will need the functionality we use in Percona Server now, specifically, the MEMORY engine dynamic row format patch that allows to support TEXT fields. 
- I hope it is present in &lt;a href="/kb/en/what-is-mariadb-55/"&gt;MariaDB 5.5&lt;/a&gt; (my googling indicates this but not conclusively). 
- And while at it, was MariaDB ever improved to use this DFR patch for the internal tmp tables? I Googled and could not locate anything written on this subject, except a year old Percona blog post mentioning that they intended to do it some day: &lt;a href="http://www.mysqlperformanceblog.com/2011/09/06/dynamic-row-format-for-memory-tables/"&gt;http://www.mysqlperformanceblog.com/2011/09/06/dynamic-row-format-for-memory-tables/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Many Thanks,
Gene&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Gene Vayngrib</dc:creator><guid>https://mariadb.com/kb/en/the-maria53-gis-tree-on-launchpad/+comments/386</guid></item><item><title>Re: is spatial indexon aria geometry columns really supported?</title><link>https://mariadb.com/kb/en/the-maria53-gis-tree-on-launchpad/+comments/385</link><description>&lt;p&gt;That's right. These 'ST_functions' are available in MariaDB.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Alexey Botchkov</dc:creator><guid>https://mariadb.com/kb/en/the-maria53-gis-tree-on-launchpad/+comments/385</guid></item><item><title>Re: is spatial indexon aria geometry columns really supported?</title><link>https://mariadb.com/kb/en/the-maria53-gis-tree-on-launchpad/+comments/384</link><description>&lt;p&gt;good to know, thx. I presume you mean geo functions starting with ST_ prefix.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Gene Vayngrib</dc:creator><guid>https://mariadb.com/kb/en/the-maria53-gis-tree-on-launchpad/+comments/384</guid></item><item><title>Re: is spatial indexon aria geometry columns really supported?</title><link>https://mariadb.com/kb/en/the-maria53-gis-tree-on-launchpad/+comments/382</link><description>&lt;p&gt;Hm. MariaDB supports precise object shapes since the version 5.3, which went GA on 29-02-2012. While MySQL 5.6 is still a milestone release.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Sergei Golubchik</dc:creator><guid>https://mariadb.com/kb/en/the-maria53-gis-tree-on-launchpad/+comments/382</guid></item><item><title>Re: is spatial indexon aria geometry columns really supported?</title><link>https://mariadb.com/kb/en/the-maria53-gis-tree-on-launchpad/+comments/381</link><description>&lt;p&gt;You make a good point, I will as on Percona forum. When the official MySQL builds stopped coming a couple of years ago, we actually switched to MariaDB. Then MariaDB development seemed to have slowed down and the features we wanted were availble only in PerconaServer, so we switched to it. Each transition had its own problems and I am not yet ready to introduce another disturbance into our production environment, especially since MariaDB is not yet at the MySQL 5.6 level (we need precise object shapes support and are evaluating a move to MySQL 5.6) and fully ACID-compliant Aria 2.0 is not ready yet (we need spatial tables with spatial indexes to be part of the transaction that involves InnoDB tables). If you could offer any thoughts on addressing issues at hand, I would be very greatful.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Gene Vayngrib</dc:creator><guid>https://mariadb.com/kb/en/the-maria53-gis-tree-on-launchpad/+comments/381</guid></item><item><title>Re: is spatial indexon aria geometry columns really supported?</title><link>https://mariadb.com/kb/en/the-maria53-gis-tree-on-launchpad/+comments/380</link><description>&lt;div style="margin-left:2em"&gt;&lt;p&gt; thx, but the real question now is, how do I include Aria egine into Percona Server?&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;The real question is why do you want to have Aria engine in Percona Server, if you can have MariaDB that already includes useful parts of PerconaServer as well as Aria engine? :)&lt;/p&gt;
&lt;p&gt;On a more serious note, it might be possible to include Aria or other storage engines into Percona Server (since it has MySQL "pluggability" as well). Likely some hacking in build scripts would be necessary. We never tried it here. I think appropriate place to ask a PerconaServer related question like this question is &lt;a href="http://forum.percona.com/"&gt;http://forum.percona.com/&lt;/a&gt;&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Vladislav Vaintroub</dc:creator><guid>https://mariadb.com/kb/en/the-maria53-gis-tree-on-launchpad/+comments/380</guid></item><item><title>Re: is spatial indexon aria geometry columns really supported?</title><link>https://mariadb.com/kb/en/the-maria53-gis-tree-on-launchpad/+comments/378</link><description>&lt;p&gt;thx, but the real question now is, how do I include Aria egine into Percona Server?&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Gene Vayngrib</dc:creator><guid>https://mariadb.com/kb/en/the-maria53-gis-tree-on-launchpad/+comments/378</guid></item><item><title>Re: is spatial indexon aria geometry columns really supported?</title><link>https://mariadb.com/kb/en/the-maria53-gis-tree-on-launchpad/+comments/376</link><description>&lt;p&gt;You can see that your statement&lt;/p&gt;
&lt;pre class="fixed"&gt;CREATE TABLE geom (g GEOMETRY NOT NULL) ENGINE=aria; 
Query OK, 0 rows affected, 2 warnings (0.30 sec)
&lt;/pre&gt;&lt;p&gt;produced 2 warnings. If you run&lt;/p&gt;
&lt;pre class="fixed"&gt;SHOW WARNINGS;
&lt;/pre&gt;&lt;p&gt;right afterwards, you'll see that the unknown engine was substituted by a default one. To avoid this behavior, you can set sql_mode to NO_ENGINE_SUBSTITUTION.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Elena Stepanova</dc:creator><guid>https://mariadb.com/kb/en/the-maria53-gis-tree-on-launchpad/+comments/376</guid></item><item><title>Re: is spatial indexon aria geometry columns really supported?</title><link>https://mariadb.com/kb/en/the-maria53-gis-tree-on-launchpad/+comments/375</link><description>&lt;p&gt;clarification: I changed aria to aria1 in create table and MySQL performed it without a problem.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Gene Vayngrib</dc:creator><guid>https://mariadb.com/kb/en/the-maria53-gis-tree-on-launchpad/+comments/375</guid></item><item><title>Re: is spatial indexon aria geometry columns really supported?</title><link>https://mariadb.com/kb/en/the-maria53-gis-tree-on-launchpad/+comments/374</link><description>&lt;ul start="1"&gt;&lt;li&gt;it seemed to me that Aria was present, judging by this: 
&lt;/li&gt;&lt;/ul&gt;
&lt;p&gt;mysql&amp;gt; CREATE TABLE geom (g GEOMETRY NOT NULL) ENGINE=aria;
Query OK, 0 rows affected, 2 warnings (0.30 sec)&lt;/p&gt;
&lt;p&gt;mysql&amp;gt; insert into geom  (g) values (GeomFromText('POLYGON ((30 20, 10 40, 45 40, 30 20))'));
Query OK, 1 row affected (0.06 sec)&lt;/p&gt;
&lt;p&gt;mysql&amp;gt; select * from geom;
+-----------------------------------------------------------------------------------+&lt;/p&gt;
&lt;table&gt;&lt;tr&gt;&lt;td&gt;g&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;
&lt;p&gt;+-----------------------------------------------------------------------------------+&lt;/p&gt;
&lt;table&gt;&lt;tr&gt;&lt;td&gt;??   ?   ?         &amp;gt;@      4@      $@      D@     ï¿½F@      D@      &amp;gt;@      4@&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;
&lt;p&gt;+-----------------------------------------------------------------------------------+
1 row in set (0.00 sec)&lt;/p&gt;
&lt;ul start="1"&gt;&lt;li&gt;then I did "show engines" and it is not there (see below), so I changed aria to aria one in create table and MySQL did not complain. Looks like MySQL ignores non-existent engine and uses MyISAM.
&lt;/li&gt;&lt;/ul&gt;
&lt;p&gt;mysql&amp;gt; show engines;
+--------------------+---------+----------------------------------------------------------------------------+--------------+------+------------+&lt;/p&gt;
&lt;table&gt;&lt;tr&gt;&lt;td&gt;Engine&lt;/td&gt;&lt;td&gt;Support&lt;/td&gt;&lt;td&gt;Comment&lt;/td&gt;&lt;td&gt;Transactions&lt;/td&gt;&lt;td&gt;XA&lt;/td&gt;&lt;td&gt;Savepoints&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;
&lt;p&gt;+--------------------+---------+----------------------------------------------------------------------------+--------------+------+------------+&lt;/p&gt;
&lt;table&gt;&lt;tr&gt;&lt;td&gt;PERFORMANCE_SCHEMA&lt;/td&gt;&lt;td&gt;YES&lt;/td&gt;&lt;td&gt;Performance Schema&lt;/td&gt;&lt;td&gt;NO&lt;/td&gt;&lt;td&gt;NO&lt;/td&gt;&lt;td&gt;NO&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;MRG_MYISAM&lt;/td&gt;&lt;td&gt;YES&lt;/td&gt;&lt;td&gt;Collection of identical MyISAM tables&lt;/td&gt;&lt;td&gt;NO&lt;/td&gt;&lt;td&gt;NO&lt;/td&gt;&lt;td&gt;NO&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;MyISAM&lt;/td&gt;&lt;td&gt;YES&lt;/td&gt;&lt;td&gt;MyISAM storage engine&lt;/td&gt;&lt;td&gt;NO&lt;/td&gt;&lt;td&gt;NO&lt;/td&gt;&lt;td&gt;NO&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;BLACKHOLE&lt;/td&gt;&lt;td&gt;YES&lt;/td&gt;&lt;td&gt;/dev/null storage engine (anything you write to it disappears)&lt;/td&gt;&lt;td&gt;NO&lt;/td&gt;&lt;td&gt;NO&lt;/td&gt;&lt;td&gt;NO&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;MEMORY&lt;/td&gt;&lt;td&gt;YES&lt;/td&gt;&lt;td&gt;Hash based, stored in memory, useful for temporary tables&lt;/td&gt;&lt;td&gt;NO&lt;/td&gt;&lt;td&gt;NO&lt;/td&gt;&lt;td&gt;NO&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;CSV&lt;/td&gt;&lt;td&gt;YES&lt;/td&gt;&lt;td&gt;CSV storage engine&lt;/td&gt;&lt;td&gt;NO&lt;/td&gt;&lt;td&gt;NO&lt;/td&gt;&lt;td&gt;NO&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;ARCHIVE&lt;/td&gt;&lt;td&gt;YES&lt;/td&gt;&lt;td&gt;Archive storage engine&lt;/td&gt;&lt;td&gt;NO&lt;/td&gt;&lt;td&gt;NO&lt;/td&gt;&lt;td&gt;NO&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;InnoDB&lt;/td&gt;&lt;td&gt;DEFAULT&lt;/td&gt;&lt;td&gt;Percona-XtraDB, Supports transactions, row-level locking, and foreign keys&lt;/td&gt;&lt;td&gt;YES&lt;/td&gt;&lt;td&gt;YES&lt;/td&gt;&lt;td&gt;YES&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;FEDERATED&lt;/td&gt;&lt;td&gt;NO&lt;/td&gt;&lt;td&gt;Federated MySQL storage engine&lt;/td&gt;&lt;td&gt;NULL&lt;/td&gt;&lt;td&gt;NULL&lt;/td&gt;&lt;td&gt;NULL&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;
&lt;p&gt;9 rows in set (0.00 sec)&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Gene Vayngrib</dc:creator><guid>https://mariadb.com/kb/en/the-maria53-gis-tree-on-launchpad/+comments/374</guid></item><item><title>Re: is spatial indexon aria geometry columns really supported?</title><link>https://mariadb.com/kb/en/the-maria53-gis-tree-on-launchpad/+comments/372</link><description>&lt;p&gt;I don't think that Percona Server has Aria storage engine. Please run SHOW ENGINES to make sure. 
If it doesn't, then, just as Holyfoot said, it substitutes it with a default storage engine (which is of course InnoDB/XtraDB), and throws the error.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Elena Stepanova</dc:creator><guid>https://mariadb.com/kb/en/the-maria53-gis-tree-on-launchpad/+comments/372</guid></item><item><title>Re: is spatial indexon aria geometry columns really supported?</title><link>https://mariadb.com/kb/en/the-maria53-gis-tree-on-launchpad/+comments/371</link><description>&lt;p&gt;here is the same statement working well with MyISAM:&lt;/p&gt;
&lt;p&gt;CREATE TABLE geom (g GEOMETRY NOT NULL, SPATIAL INDEX(g)) ENGINE=myisam;
Query OK, 0 rows affected (0.12 sec)&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Gene Vayngrib</dc:creator><guid>https://mariadb.com/kb/en/the-maria53-gis-tree-on-launchpad/+comments/371</guid></item><item><title>Re: is spatial indexon aria geometry columns really supported?</title><link>https://mariadb.com/kb/en/the-maria53-gis-tree-on-launchpad/+comments/370</link><description>&lt;p&gt;here is the output of mysql client:&lt;/p&gt;
&lt;p&gt;Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 52
Server version: 5.5.27-28.1 Percona Server (GPL), Release 28.1&lt;/p&gt;
&lt;p&gt;Copyright &lt;span&gt;&amp;copy;&lt;/span&gt; 2000, 2011, Oracle and/or its affiliates. All rights reserved.&lt;/p&gt;
&lt;p&gt;Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.&lt;/p&gt;
&lt;p&gt;Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.&lt;/p&gt;
&lt;p&gt;mysql&amp;gt; connect gwb
Connection id:    53
Current database: gwb&lt;/p&gt;
&lt;p&gt;mysql&amp;gt; CREATE TABLE geom (g GEOMETRY NOT NULL, SPATIAL INDEX(g)) ENGINE=aria;
ERROR 1464 (HY000): The used table type doesn't support SPATIAL indexes&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Gene Vayngrib</dc:creator><guid>https://mariadb.com/kb/en/the-maria53-gis-tree-on-launchpad/+comments/370</guid></item><item><title>Re: is spatial indexon aria geometry columns really supported?</title><link>https://mariadb.com/kb/en/the-maria53-gis-tree-on-launchpad/+comments/369</link><description>&lt;p&gt;That sounds quite weird. 
The SPATIAL keys were in the ARIA engine if not from the very beginning. At least they surely work in the maria5.1.
I'll try that Percona server as soon as i can, but at the moment i only can suspect that the server tries to create that table using INNODB or XtraDB engine.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Alexey Botchkov</dc:creator><guid>https://mariadb.com/kb/en/the-maria53-gis-tree-on-launchpad/+comments/369</guid></item><item><title>is spatial indexon aria geometry columns really supported?</title><link>https://mariadb.com/kb/en/the-maria53-gis-tree-on-launchpad/+comments/368</link><description>&lt;p&gt;we use Percona 5.5 in production and its aria storage engine says that spatial index is not supported. Was this capability added recently? I tried to find a way to deternine the version of aria engine but did not find how.&lt;/p&gt;
&lt;p&gt;Thank you,
Gene&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Gene Vayngrib</dc:creator><guid>https://mariadb.com/kb/en/the-maria53-gis-tree-on-launchpad/+comments/368</guid></item></channel></rss>