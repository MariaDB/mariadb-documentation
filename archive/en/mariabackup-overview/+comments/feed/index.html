<?xml version="1.0" encoding="utf-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>MariaDB Knowledge Base Comments for: Mariabackup Overview</title><link>https://mariadb.com/kb/en/mariabackup-overview/+comments/feed/</link><description></description><atom:link href="https://mariadb.com/kb/en/mariabackup-overview/+comments/feed/" rel="self"></atom:link><language>en-us</language><lastBuildDate>Mon, 11 Mar 2024 21:07:20 +0000</lastBuildDate><item><title>Re: Mariabackup Overview</title><link>https://mariadb.com/kb/en/mariabackup-overview/+comments/4921</link><description>&lt;p&gt;Mariabackup makes use of the binary log to perform point-in-time recovery. See the &lt;a href="/kb/en/mariabackup-options/#-binlog-info"&gt;--binlog-info&lt;/a&gt; option.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Ian Gilfillan</dc:creator><guid>https://mariadb.com/kb/en/mariabackup-overview/+comments/4921</guid></item><item><title>Re: Mariabackup Overview</title><link>https://mariadb.com/kb/en/mariabackup-overview/+comments/4911</link><description>&lt;p&gt;I have some vague memory that the Mariabackup was somehow dependent on the binary log but can't find anything in the documentation. Does the Mariabackup tool make use in any way of the binary log, is it safe to disable it?&lt;/p&gt;
&lt;p&gt;I am not using replication and the database is relatively busy and the binary-log is filling up free space sometimes too quickly and I would rather disable it.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Emil Angelov</dc:creator><guid>https://mariadb.com/kb/en/mariabackup-overview/+comments/4911</guid></item><item><title>Re: Mariabackup Overview</title><link>https://mariadb.com/kb/en/mariabackup-overview/+comments/4671</link><description>&lt;p&gt;This should help &lt;a href="https://mariadb.com/kb/en/setting-up-a-replication-slave-with-mariabackup/"&gt;Setting up a Replication Slave with Mariabackup&lt;/a&gt; - right under the "File and Position" section.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Islam Essam</dc:creator><guid>https://mariadb.com/kb/en/mariabackup-overview/+comments/4671</guid></item><item><title>Re: Mariabackup Overview</title><link>https://mariadb.com/kb/en/mariabackup-overview/+comments/4670</link><description>&lt;p&gt;Try to update your repository first &lt;code class="fixed" style="white-space:pre-wrap"&gt;sudo apt-get update&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Is your server's hostname &lt;code class="fixed" style="white-space:pre-wrap"&gt;DEV-MARIADB-015&lt;/code&gt;? If this is the case then the problem could basically be lying in your /etc/hostname or /etc/hosts.&lt;/p&gt;
&lt;p&gt;Make sure your /etc/hostname file has your actual hostname. Then double check /etc/hosts and make sure an entry similar to this exists:&lt;/p&gt;
&lt;p&gt;&lt;code class="fixed" style="white-space:pre-wrap"&gt;127.0.0.1 localhost localhost.localdomain DEV-MARIADB-015&lt;/code&gt;&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Alexandre D</dc:creator><guid>https://mariadb.com/kb/en/mariabackup-overview/+comments/4670</guid></item><item><title>Re: Mariabackup Overview</title><link>https://mariadb.com/kb/en/mariabackup-overview/+comments/4645</link><description>&lt;p&gt;I am having a problem when installing maria-backup. Here are command and logs:&lt;/p&gt;
&lt;p&gt;sudo apt-get install mariadb-backup
sudo: unable to resolve host DEV-MARIADB-015
Reading package lists... Done
Building dependency tree       
Reading state information... Done
E: Unable to locate package mariadb-backup&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Quang VÅ© Blog</dc:creator><guid>https://mariadb.com/kb/en/mariabackup-overview/+comments/4645</guid></item><item><title>Re: Mariabackup Overview</title><link>https://mariadb.com/kb/en/mariabackup-overview/+comments/4585</link><description>&lt;p&gt;I have a problem when I backup as below, I can not backup with mariabackup command:&lt;/p&gt;
&lt;p&gt;mariabackup --backup --target-dir=/data/sms_replicate/ --datadir=/var/lib/mysql/ -u root --password=&lt;strong&gt;*&lt;/strong&gt;*
[00] 2020-05-27 08:53:56 Connecting to MySQL server host: localhost, user: root, password: set, port: not set, socket: not set
[00] 2020-05-27 08:53:56 Using server version 10.3.8-MariaDB-log
mariabackup based on MariaDB server 10.3.23-MariaDB Linux (x86_64)
[00] 2020-05-27 08:53:56 uses posix_fadvise().
[00] 2020-05-27 08:53:56 cd to /var/lib/mysql/
[00] 2020-05-27 08:53:56 open files limit requested 0, set to 65536
[00] 2020-05-27 08:53:56 mariabackup: using the following InnoDB configuration:
[00] 2020-05-27 08:53:56 innodb_data_home_dir = 
[00] 2020-05-27 08:53:56 innodb_data_file_path = ibdata1:12M:autoextend
[00] 2020-05-27 08:53:56 innodb_log_group_home_dir = ./
[00] 2020-05-27 08:53:56 InnoDB: Using Linux native AIO
2020-05-27  8:53:56 0 [Note] InnoDB: Number of pools: 1
[00] 2020-05-27 08:53:56 mariabackup: Generating a list of tablespaces
2020-05-27  8:53:56 0 [Warning] InnoDB: Allocated tablespace ID 343 for portal_hdbank/users, old maximum was 0
[00] 2020-05-27 08:53:57 mariabackup: Incompatible TRUNCATE operation detected. Use --lock-ddl-per-table to lock all tables before backup.
[00] 2020-05-27 08:53:57 Error: copying the log failed
[00] FATAL ERROR: 2020-05-27 08:53:57 xtrabackup_copy_logfile() failed.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Doan Dung</dc:creator><guid>https://mariadb.com/kb/en/mariabackup-overview/+comments/4585</guid></item><item><title>Re: Mariabackup Overview</title><link>https://mariadb.com/kb/en/mariabackup-overview/+comments/4314</link><description>&lt;p&gt;Is there a way to back up the binary log file and position when using the slave-info option?&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">SangJea Park</dc:creator><guid>https://mariadb.com/kb/en/mariabackup-overview/+comments/4314</guid></item><item><title>Re: mbstream</title><link>https://mariadb.com/kb/en/mariabackup-overview/+comments/3722</link><description>&lt;p&gt;Most of the time you are going to use it to provision/rebuild new/existing slaves/replicas. The same command you run with Xtrabackup can be utilized with MariaBackup, changing the xbstream part by mbstream - works like a charm and it's part of a daily basis DBOps.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Wagner Bianchi</dc:creator><guid>https://mariadb.com/kb/en/mariabackup-overview/+comments/3722</guid></item><item><title>Re: Mariabackup Overview</title><link>https://mariadb.com/kb/en/mariabackup-overview/+comments/3587</link><description>&lt;p&gt;I am wrong. 
It WILL work also with Galera, aithout restarting any online databases. &lt;/p&gt;
&lt;p&gt;My error was that I overlooked the simple task of setting *both* wsrep_auth AND wsrep_method on the DONOR (And on JOINER I guess, in config file(s)) &lt;/p&gt;
&lt;p&gt;So: 
DONOR-MYSQL&amp;gt; SET GLOBAL WSREP_AUTH="username:password"
DONOR-MYSQL&amp;gt; SET GLOBAL WSREP_METHOD="maribackup"&lt;/p&gt;
&lt;p&gt;Start mariadb on the JOINER node that  needs SST running non-blocking. 
It works fine. &lt;/p&gt;
&lt;p&gt;My bad!&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">brian ryberg</dc:creator><guid>https://mariadb.com/kb/en/mariabackup-overview/+comments/3587</guid></item><item><title>Re: Mariabackup Overview</title><link>https://mariadb.com/kb/en/mariabackup-overview/+comments/3581</link><description>&lt;p&gt;I'm talking in terms of general backup, you're talking about Galera, nodes, SST , which I do not know at all. Sorry.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Vladislav Vaintroub</dc:creator><guid>https://mariadb.com/kb/en/mariabackup-overview/+comments/3581</guid></item><item><title>Re: Mariabackup Overview</title><link>https://mariadb.com/kb/en/mariabackup-overview/+comments/3580</link><description>&lt;p&gt;Well, I've just tried it. 
Installing mariabackup on a galera cluster to switch from rsync to mariabackup for non-blocking SST. 
(Ubuntu , &lt;a href="/kb/en/mariadb-10218-release-notes/"&gt;MariaDB 10.2.18&lt;/a&gt;) 
node1 running mariadb
node2 running mariadb
node3 running mariadb
Galera working fine. &lt;/p&gt;
&lt;p&gt;Then stop node2 and node3 &lt;/p&gt;
&lt;p&gt;Install mariadb on all 3 nodes, while node1 is running. (Incl changing my.cnf and the required wsrep_sst_method/ ..._auth on all 3 nodes)
Try to start node2, and see SST fail miserably. Node1 is unable to read swrep_sst_auth and sst_method is still set to rsync. 
It doesn't help changing wsrep_sst_method online on node1, SST still fails. &lt;/p&gt;
&lt;p&gt;Restart of node1, makes it aware of mariabackup sst settings and SST succeeds. &lt;/p&gt;
&lt;p&gt;That's why I claim it requires restart,but I'd love to hear where I might assume wrong or forget an important detail ;) ?&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">brian ryberg</dc:creator><guid>https://mariadb.com/kb/en/mariabackup-overview/+comments/3580</guid></item><item><title>Re: Mariabackup Overview</title><link>https://mariadb.com/kb/en/mariabackup-overview/+comments/3579</link><description>&lt;p&gt;Why would database need a restart? I can't find a compelling reason. Server is unaware about mariabackup, it can not detect its presence even.&lt;/p&gt;
&lt;p&gt;As for upgrade information, mariabackup should match the version of the mysqld, ideally 100% . I hope it is automated by DEB and RPMs.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Vladislav Vaintroub</dc:creator><guid>https://mariadb.com/kb/en/mariabackup-overview/+comments/3579</guid></item><item><title>Re: Mariabackup Overview</title><link>https://mariadb.com/kb/en/mariabackup-overview/+comments/3578</link><description>&lt;p&gt;Would it be an idea to include information here: 
&lt;a href="https://mariadb.com/kb/en/library/mariabackup-overview/#installing-on-linux"&gt;https://mariadb.com/kb/en/library/mariabackup-overview/#installing-on-linux&lt;/a&gt; &lt;/p&gt;
&lt;p&gt;- about the apparent fact that database needs to be restarted in order for it to re-read the information about mariabackup (does it also load libraries/plugins/mudules?) before it will work in any way? &lt;/p&gt;
&lt;p&gt;( and maybe upgrade version informations? , there's a 10.2 now )&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">brian ryberg</dc:creator><guid>https://mariadb.com/kb/en/mariabackup-overview/+comments/3578</guid></item><item><title>Re: MariaDB Backup Overview</title><link>https://mariadb.com/kb/en/mariabackup-overview/+comments/3084</link><description>&lt;p&gt;Hi,&lt;/p&gt;
&lt;p&gt;I created a mariabackup scripts based on xtrabackup since I couldn't find any backup scripts specific to mariadb.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/nullart/debian-ubuntu-mariadb-backup"&gt;https://github.com/nullart/debian-ubuntu-mariadb-backup&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;cheers!&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/"> </dc:creator><guid>https://mariadb.com/kb/en/mariabackup-overview/+comments/3084</guid></item><item><title>mbstream</title><link>https://mariadb.com/kb/en/mariabackup-overview/+comments/2969</link><description>&lt;p&gt;MariaDB includes a binary named mbstream which is a copy of Percona XtraBackup xbstream that can be used to extract backup that were created using the --stream=xbstream option.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">JF D</dc:creator><guid>https://mariadb.com/kb/en/mariabackup-overview/+comments/2969</guid></item></channel></rss>