<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>MariaDB 5.5.25 Changelog - Source - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.9a0d7dcebefd.css" rel="stylesheet" type="text/css" />

    
        <meta name="robots" content="noindex, nofollow">
    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="MariaDB 5.5.25 Changelog - Source" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/en/mariadb-5525-changelog/+source/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="" />

    <meta name="description" content="" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes autoresize nodes_source jqui" id="nodes_source">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/mariadb-5525-changelog/+source/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2023 MariaDB. All rights reserved.</p>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/mariadb-5525-changelog/+source/" rel="nofollow">Login</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/en/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/en/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/services" title="Services">Services</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="About Us">About Us</a>
    </li>
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/en/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/en/mariadb-server-release-dates/">MariaDB Server Releases</a>
    

    
    » <a class="crumb" href="/kb/en/changelogs/">Changelogs</a>
    

    
    » <a class="crumb" href="/kb/en/changelogs-mariadb-55-series/">Changelogs - MariaDB 5.5 Series</a>
    


    » <a class="node_link crumb" href="/kb/en/mariadb-5525-changelog/">MariaDB 5.5.25 Changelog</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/en/">Home</a></li>
                            
                                
                                    <li><a href="/kb/en/+questions/">Open Questions</a></li>
                                
                                <li><a href="/kb/en/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/en/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/en/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/en/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
                        <div>
    

<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-small" href="/kb/en/mariadb-5525-changelog/">Return to article</a>
    
</div>
</div>

</div>
                    

                    

































                </aside>
            
            
            
                
            
            
            <section id="content" class="limited_width col-md-10 clearfix">
                
                    <h1>MariaDB 5.5.25 Changelog - Source</h1>
                

                



                <div>
                    

    

    
    <div class="revision_info">
        <dl class="table">
            <dt>Revision</dt>
            <dd><a href="/kb/en/mariadb-5525-changelog/+r/28194/">28194</a></dd>
            <dt>User</dt>
            <dd>
<span class="user" id="user-2">
<a href="/kb/user/id/2" title="Daniel Bartholomew">Daniel Bartholomew</a>
</span></dd>
            <dt>Date</dt>
            <dd>

<span class="datetime" title="2022-11-18 02:31">2022-11-18 02:31</span></dd>
        </dl>
    </div>
    


    

    
        
        <textarea id="answer_source" class="creole_source autogrow">&lt;&lt;include slug=&#34;latest-55&#34;&gt;&gt;
[[http://downloads.mariadb.org/mariadb/5.5.25|Download]] | 
[[mariadb-5525-release-notes|Release Notes]] | 
**Changelog** |
[[what-is-mariadb-55|Overview of 5.5]]

**Release date:** 22 Jun 2012

For the highlights of this release, see the
[[mariadb-5525-release-notes|release notes]].

The revision number links will take you to the revision&#39;s page on Launchpad. On
Launchpad you can view more details of the revision and view diffs of the code
modified in that revision.


* maria55rev:3455
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Thu 2012-06-21 21:17:34 +0200&lt;&lt;/style&gt;&gt;
** MDEV-342: Do not mark old binlog file as cleanly closed during rotate until
   the new file is fully synced to disk and binlog index. This fixes a window
   where a crash would leave next server restart unable to detect that a crash
   occured, causing recovery to fail.
* maria55rev:3454
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Thu 2012-06-21 19:02:53 +0200&lt;&lt;/style&gt;&gt;
** MDEV-359: Fix another case where switch-off semisync could cause a race that ended with server crash.
** This one was when the code releases and reaquires the lock with pthread_cond_wait() - and semisync is switched off meanwhile.
* maria55rev:3453
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Thu 2012-06-21 17:39:21 +0200&lt;&lt;/style&gt;&gt;
** Use the portable form of INSTALL PLUGIN in rpl_mdev359.test
* maria55rev:3452
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Thu 2012-06-21 14:00:19 +0200&lt;&lt;/style&gt;&gt;
** fixing the order of includes in the rpl_mdev359.test
* maria55rev:3451
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Thu 2012-06-21 11:52:54 +0200&lt;&lt;/style&gt;&gt;
** MDEV-359: Server crash when SET GLOBAL rpl_semi_sync_master_enabled = OFF
** The semisync code does a fast-but-unsafe check for enabled or not without lock,
   followed by a slow-but-safe check under lock. However, if the slow check failed,
   the code still referenced not valid data (in an assert() expression), causing a
   crash.
** Fixed by not running the incorrect assert when semisync is disabled.
* maria55rev:3450
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Thu 2012-06-21 11:26:53 +0200&lt;&lt;/style&gt;&gt;
** MDEV-349 5.5 xtradb innodb_prefix_index_liftedlimit crash with valgrind
** This is XtraDB bug lpbug:1015109, introduced by innodb_split_buf_pool_mutex.patch
** Comment the offending assertion, until the fixed XtraDB is available
* maria55rev:3449
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Thu 2012-06-21 00:49:24 +0200&lt;&lt;/style&gt;&gt;
** MDEV-361 - Fix handle leak in os_thread_create (Windows)
* maria55rev:3448
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Wed 2012-06-20 14:23:23 +0200&lt;&lt;/style&gt;&gt;
** Fix memory leak introduced with merge of mysql 5.5.
** MySQL introduced a class Deferred_log_events. This class keeps a pointer
   last_added. The code was keeping this pointer around even after the memory
   pointed to was freed, and later comparing the bogus pointer against other
   allocated memory. This is illegal, and can randomly produce false equal
   comparisons depending on whatever the malloc() subsystem decides to return.
* maria55rev:3447 [merge]
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Wed 2012-06-20 14:50:44 +0300&lt;&lt;/style&gt;&gt;
** Automatic merge
** maria55rev:3445.1.1
   &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Wed 2012-06-20 14:37:37 +0300&lt;&lt;/style&gt;&gt;
*** Fixed MDEV-348: 5.5 valgrind warinings on maria tests
* maria55rev:3446 [merge]
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Wed 2012-06-20 15:01:28 +0400&lt;&lt;/style&gt;&gt;
** Merge 5.3 -&gt; 5.5
** maria55rev:2502.561.7
   &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Wed 2012-06-20 13:41:31 +0400&lt;&lt;/style&gt;&gt;
*** Post-merge fixes:
**** put back the result encoding in func_in.result (messed up by kdiff3)
**** update .result for other tests (checked)
** maria55rev:2502.561.6 [merge]
   &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Mon 2012-06-18 22:38:11 +0400&lt;&lt;/style&gt;&gt;
*** Merge 5.2-&gt;5.3
*** maria55rev:2502.562.7
    &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Tue 2012-06-12 10:06:26 -0700&lt;&lt;/style&gt;&gt;
**** Adjusted results in pbxt.negation_elimination after the fix for lp bug 992380.
*** maria55rev:2502.562.6 [merge]
    &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Tue 2012-06-12 00:09:20 -0700&lt;&lt;/style&gt;&gt;
**** Merge.
**** maria55rev:2502.563.1
     &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Mon 2012-06-11 22:12:47 -0700&lt;&lt;/style&gt;&gt;
***** Fixed lpbug#1008293.
***** One of the reported problems manifested itself in the scenario when one
      thread tried to to get statistics on a key cache while the second thread
      had not finished initialization of the key cache structure yet. 
      The problem was resolved by forcing serialization of such operations
      on key caches.
***** To serialize function calls to perform certain operations over a key cache
      a new mutex associated with the key cache now is used. It is stored in the
      field op_lock of the KEY_CACHE structure. It is locked when the operation
      is performed. Some of the serialized key cache operations utilize calls 
      for other key cache operations. To avoid recursive locking of op_lock
      the new functions that perform the operations of key cache initialization,
      destruction and re-partitioning with an additional parameter were introduced.
      The parameter says whether the operation over op_lock are to be performed or
      are to be omitted. The old functions for the operations of key cache 
      initialization, destruction,and  re-partitioning  now just call the
      corresponding new functions with the additional parameter set to true
      requesting to use op_lock while all other calls of these new function
      have this parameter set to false. 
***** Another problem reported in the bug entry concerned the operation of
      assigning an index to a key cache. This operation can be called
      while the key cache structures are not initialized yet. In this
      case any call of flush_key_blocks() should return without any actions.
***** No test case is provided with this patch.
*** maria55rev:2502.562.5 [merge]
    &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Sun 2012-06-10 14:04:21 +0400&lt;&lt;/style&gt;&gt;
**** Merge
*** maria55rev:2502.562.4 [merge]
    &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Fri 2012-06-01 23:45:54 +0200&lt;&lt;/style&gt;&gt;
**** 5.1 merge
**** maria55rev:2502.554.9
     &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Fri 2012-06-01 17:53:59 +0200&lt;&lt;/style&gt;&gt;
***** MDEV-256 lpbug:995501 - mysqltest attempts to parse Perl code inside a block
      with false condition, gets confused and throws wrong errors
*** maria55rev:2502.562.3
    &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Fri 2012-05-25 10:29:53 +0300&lt;&lt;/style&gt;&gt;
**** Fix of lpbug#992380 + revise fix_fields about missing with_subselect collection
**** The problem is that some fix_fields do not call Item_func::fix_fields and do not collect with subselect_information.
*** maria55rev:2502.562.2
    &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Wed 2012-05-23 18:18:08 +0300&lt;&lt;/style&gt;&gt;
**** Fix lpbug:1001506
**** This is a backport of the (unchaged) fix for MySQL bug #11764372, 57197.
**** Analysis:
*****none When the outer query finishes its main execution and computes GROUP BY,
      it needs to construct a new temporary table (and a corresponding JOIN) to
      execute the last DISTINCT operation. At this point JOIN::exec calls
      JOIN::join_free, which calls JOIN::cleanup -&gt; TMP_TABLE_PARAM::cleanup
      for both the outer and the inner JOINs. The call to the inner
      TMP_TABLE_PARAM::cleanup sets copy_field = NULL, but not copy_field_end.
***** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
***** The final execution phase that computes the DISTINCT invokes:
      evaluate_join_record -&gt; end_write -&gt; copy_funcs
      The last function copies the results of all functions into the temp table.
      copy_funcs walks over all functions in join-&gt;tmp_table_param.items_to_copy.
      In this case items_to_copy contains both assignments to user variables.
      The process of copying user variables invokes Item_func_set_user_var::check
      which in turn re-evaluates the arguments of the user variable assignment.
      This in turn triggers re-evaluation of the subquery, and ultimately
      copy_field.
***** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
***** However, the previous call to TMP_TABLE_PARAM::cleanup for the subquery
      already set copy_field to NULL but not its copy_field_end. This results
      in a null pointer access, and a crash.
***** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
**** Fix:
*****none Set copy_field_end and save_copy_field_end to null when deleting
      copy fields in TMP_TABLE_PARAM::cleanup().
*** maria55rev:2502.562.1
    &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Tue 2012-05-22 08:48:10 +0300&lt;&lt;/style&gt;&gt;
**** Fix of lpbug#992380 + revise fix_fields about missing with_subselect collection
**** The problem is that some fix_fields do not call Item_func::fix_fields and do not collect with subselect_information.
* maria55rev:3445 [merge]
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Tue 2012-06-19 15:06:45 +0300&lt;&lt;/style&gt;&gt;
** Merged the fix for bug lpbug:944706, mdev-193
** maria55rev:3434.2.1 [merge]
   &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Thu 2012-06-14 23:55:22 +0300&lt;&lt;/style&gt;&gt;
*** Merge the fix for lpbug:944706, mdev-193
*** maria55rev:3428.1.1 [merge]
    &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Wed 2012-06-06 22:26:40 +0300&lt;&lt;/style&gt;&gt;
**** Merge the fix for lpbug:944706, mdev-193
**** maria55rev:3402.1.5
     &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Fri 2012-06-01 14:10:15 +0300&lt;&lt;/style&gt;&gt;
***** Fixed bug MDEV-288
***** CHEAP SQ: Valgrind warnings &#34;Memory lost&#34; with IN and EXISTS nested subquery, materialization+semijoin
***** Analysis:
******none The memory leak was a result of the interaction of semi-join optimization
       with early optimization of constant subqueries. The function:
       setup_jtbm_semi_joins() created a dummy temporary table &#34;dummy_table&#34;
       in order to make some JOIN_TAB objects complete. Normally, such temporary
       tables are freed inside JOIN_TAB::cleanup.
****** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
****** However, the inner-most subquery is pre-optimized, which allows the
       optimization fo the MAX subquery to determine that its WHERE is TRUE,
       and thus to compute the result of the MAX during optimization. This
       ultimately allows the optimize phase of the outer query to find that
       it WHERE clause is FALSE. Once JOIN::optimize finds that the result
       set is empty, it sets zero_result_cause, and returns *before* it ever
       reached make_join_statistics(). As a result the query plan has no
       JOIN_TABs at all. Since the temporary table is supposed to be cleanup
       via JOIN_TAB::cleanup, this never happens because there is no JOIN_TAB
       for this table. Hence we get a memory leak.
****** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
***** Solution:
******none Whenever there are no JOIN_TABs, iterate over all table reference in
       JOIN::join_list, and free the ones that contain semi-join temporary
       tables.
**** maria55rev:3402.1.4
     &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Wed 2012-05-30 00:18:53 +0300&lt;&lt;/style&gt;&gt;
***** Patch for mdev-287: CHEAP SQ: A query with subquery in SELECT list, EXISTS, inner joins takes hundreds times longer
***** Analysis:
******none The fix for lpbug:944706 introduces early subquery optimization.
              While a subquery is being optimized some of its predicates may be
              removed. In the test case, the EXISTS subquery is constant, and is
              evaluated to TRUE. As a result the whole OR is TRUE, and thus the
              correlated condition &#34;b = alias1.b&#34; is optimized away. The subquery
              becomes non-correlated.
****** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
****** The subquery cache is designed to work only for correlated subqueries.
              If constant subquery optimization is disallowed, then the constant
              subquery is not evaluated, the subquery remains correlated, and its
              execution is cached. As a result execution is fast.
****** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
****** However, when the constant subquery was optimized away, it was neither
              cached by the subquery cache, nor it was cached by the internal subquery
              caching. The latter was due to the fact that the subquery still appeared
              as correlated to the subselect_XYZ_engine::exec methods, and they
              re-executed the subquery on each call to Item_subselect::exec.
****** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
***** Solution:
******none The solution is to update the correlated status of the subquery after it has
        been optimized. This status consists of:
****** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
******* st_select_lex::is_correlated
******* Item_subselect::is_correlated
******* SELECT_LEX::uncacheable
******* SELECT_LEX_UNIT::uncacheable
****** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
****** The status is updated by st_select_lex::update_correlated_cache(), and its
       caller st_select_lex::optimize_unflattened_subqueries. The solution relies
       on the fact that the optimizer already called
       st_select_lex::update_used_tables() for each subquery. This allows to
       efficiently update the correlated status of each subquery without walking
       the whole subquery tree.
****** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
****** Notice that his patch is an improvement over MySQL 5.6 and older, where
       subqueries are not pre-optimized, and the above analysis is not possible.
**** maria55rev:3402.1.3
     &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Thu 2012-05-24 14:08:28 +0300&lt;&lt;/style&gt;&gt;
***** Test case for lpbug:1001117, MySQL BUG#12330344
***** Analysis:
******none The problem in the original MySQL bug is that the range optimizer
       performs its analysis in a separate MEM_ROOT object that is freed
       after the range optimzier is done. During range analysis get_mm_tree
       calls Item_func_like::select_optimize, which in turn evaluates its
       right argument. In the test case the right argument is a subquery.
****** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
****** In MySQL, subqueries are optimized lazyly, thus the call to val_str
       triggers optimization for the subquery. All objects needed by the
       subquery plan end up in the temporary MEM_ROOT used by the range
       optimizer. When execution ends, the JOIN::cleanup process tries to
       cleanup objects of the subquery plan, but all these objects are gone
       with the temporary MEM_ROOT. The solution for MySQL is to switch the
       mem_root.
****** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
****** In MariaDB with the patch for bug lp:944706, all constant subqueries
       that may be used by the optimization process are preoptimized. Therefore
       Item_func_like::select_optimize only triggers subquery execution, and
       the above problem is not present.
****** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
****** The patch however adds a test whether the evaluated right argument of
       the LIKE predicate is expensive. This is consistent with our approach
       not to evaluate expensive expressions during optimization.
**** maria55rev:3402.1.2
     &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Fri 2012-05-18 14:52:01 +0300&lt;&lt;/style&gt;&gt;
***** Fixed bug mdev-277 as part of the fix for lpbug:944706
***** The cause for this bug is that the method JOIN::get_examined_rows iterates over all
      JOIN_TABs of the join assuming they are just a sequence. In the query above, the
      innermost subquery is merged into its parent query. When we call
      JOIN::get_examined_rows for the second-level subquery, the iteration that
      assumes sequential order of join tabs goes outside the join_tab array and calls
      the method JOIN_TAB::get_examined_rows on uninitialized memory. 
***** The fix is to iterate over JOIN_TABs in a way that takes into account the nested
      semi-join structure of JOIN_TABs. In particular iterate as select_describe.
**** maria55rev:3402.1.1
     &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Thu 2012-05-17 13:46:05 +0300&lt;&lt;/style&gt;&gt;
***** Fix for bug lpbug:944706, task MDEV-193
***** The patch enables back constant subquery execution during
      query optimization after it was disabled during the development
      of MWL#89 (cost-based choice of IN-TO-EXISTS vs MATERIALIZATION).
***** The main idea is that constant subqueries are allowed to be executed
      during optimization if their execution is not expensive.
***** The approach is as follows:
******none Constant subqueries are recursively optimized in the beginning of
       JOIN::optimize of the outer query. This is done by the new method
       JOIN::optimize_constant_subqueries(). This is done so that the cost
       of executing these queries can be estimated.
****** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
****** Optimization of the outer query proceeds normally. During this phase
       the optimizer may request execution of non-expensive constant subqueries.
       Each place where the optimizer may potentially execute an expensive
       expression is guarded with the predicate Item::is_expensive().
****** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
****** The implementation of Item_subselect::is_expensive has been extended
       to use the number of examined rows (estimated by the optimizer) as a
       way to determine whether the subquery is expensive or not.
****** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
****** The new system variable &#34;expensive_subquery_limit&#34; controls how many
       examined rows are considered to be not expensive. The default is 100.
****** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
***** In addition, multiple changes were needed to make this solution work
      in the light of the changes made by MWL#89. These changes were needed
      to fix various crashes and wrong results, and legacy bugs discovered
      during development.
* maria55rev:3444
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Mon 2012-06-18 17:29:05 -0400&lt;&lt;/style&gt;&gt;
** fixed some urls that the previous update missed
* maria55rev:3443
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Mon 2012-06-18 16:57:58 -0400&lt;&lt;/style&gt;&gt;
** various documentation updates
* maria55rev:3442 [merge]
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Mon 2012-06-18 16:50:16 +0400&lt;&lt;/style&gt;&gt;
** 5.3-&gt;5.5 merge
** maria55rev:2502.561.5
   &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Fri 2012-06-15 11:33:24 +0300&lt;&lt;/style&gt;&gt;
*** Fix lpbug:1008686
*** Analysis:
****none The fix for bug lp:985667 implements the method Item_subselect::no_rows_in_result()
     for all main kinds of subqueries. The purpose of this method is to be called from
     return_zero_rows() and set Items to some default value in the case when a query
     returns no rows. Aggregates and subqueries require special treatment in this case.
**** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
**** Every implementation of Item_subselect::no_rows_in_result() called
     Item_subselect::make_const() to set the subquery predicate to its default value
     irrespective of where the predicate was located in the query. Once the predicate
     was set to a constant it was never executed.
**** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
**** At the same time, the JOIN object of the fake select for UNIONs (the one used for
     the final result of the UNION), was set after all subqueries in the union were
     executed. Since we set the subquery as constant, it was never executed, and the
     corresponding JOIN was never created.
**** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
**** In order to decide whether the result of NOT IN is NULL or FALSE, Item_in_optimizer
     needs to check if the subquery result was empty or not. This is where we got the
     crash, because subselect_union_engine::no_rows() checks for
     unit-&gt;fake_select_lex-&gt;join-&gt;send_records, and the join object was NULL.
**** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
*** Solution:
****none If a subquery is in the HAVING clause it must be evaluated in order to know its
     result, so that we can properly filter the result records. Once subqueries in the
     HAVING clause are executed even in the case of no result rows, this specific
     crash will be solved, because the UNION will be executed, and its JOIN will be
     constructed. Therefore the fix for this crash is to narrow the fix for lp:985667,
     and to apply Item_subselect::no_rows_in_result() only when the subquery predicate
     is in the SELECT clause.
** maria55rev:2502.561.4
   &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Thu 2012-06-14 17:03:09 +0300&lt;&lt;/style&gt;&gt;
*** Fix lpbug:1008773
*** Analysis:
****none Queries with implicit grouping (there is aggregate, but no group by)
     follow some non-obvious semantics in the case of empty result set.
     Aggregate functions produce some special &#34;natural&#34; value depending on
     the function. For instance MIN/MAX return NULL, COUNT returns 0.
**** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
**** The complexity comes from non-aggregate expressions in the select list.
     If the non-aggregate expression is a constant, it can be computed, so
     we should return its value, however if the expression is non-constant,
     and depends on columns from the empty result set, then the only meaningful
     value is NULL.
**** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
**** The cause of the wrong result was that for subqueries the optimizer didn&#39;t
     make a difference between constant and non-constant ones in the case of
     empty result for implicit grouping.
**** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
*** Solution:
****none In all implementations of Item_subselect::no_rows_in_result() check if the
     subquery predicate is constant. If it is constant, do not set it to the
     default value for implicit grouping, instead let it be evaluated.
** maria55rev:2502.561.3 [merge]
   &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Sun 2012-06-10 14:06:11 +0400&lt;&lt;/style&gt;&gt;
*** Merge
* maria55rev:3441
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Mon 2012-06-18 14:26:36 +0200&lt;&lt;/style&gt;&gt;
** MDEV-346: 5.5 upgrade test fails on precise.
** Attempt to make it easier to upgrade mysql-&gt;mariadb on Ubuntu precise.
   It looks like we were missing conflicts: and replaces: on packages
   mysql-server-5.5 and mysql-client-5.5.
* maria55rev:3440
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Sun 2012-06-17 16:09:16 +0200&lt;&lt;/style&gt;&gt;
** fix an overly agressive optimization in Item_func_conv_charset
* maria55rev:3439
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Sat 2012-06-16 14:58:00 +0200&lt;&lt;/style&gt;&gt;
** fix innodb_bug12902967 to pass when aio check on /dev/shm fails
* maria55rev:3438 [merge]
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Sat 2012-06-16 09:03:07 +0200&lt;&lt;/style&gt;&gt;
** merge
** maria55rev:3433.2.8
   &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Fri 2012-06-15 17:22:49 +0200&lt;&lt;/style&gt;&gt;
*** MDEV-316 lpbug:1009085 Assertion failed: warn_item, file item_cmpfunc.cc, line 3613
*** make sure that find_date_time_item() is called before agg_arg_charsets_for_comparison().
*** optimize Item_func_conv_charset to avoid conversion if no string result is needed
** maria55rev:3433.2.7 [merge]
   &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Fri 2012-06-15 14:54:23 +0200&lt;&lt;/style&gt;&gt;
*** merged with XtraDB 1.1.8-26.0
*** maria55rev:0.12.53
    &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Fri 2012-06-15 10:23:33 +0200&lt;&lt;/style&gt;&gt;
**** XtraDB 1.1.8-20.1 from 
     Percona-Server 5.5.24-rel26.0
** maria55rev:3433.2.6
   &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Fri 2012-06-15 10:26:06 +0200&lt;&lt;/style&gt;&gt;
*** comments
** maria55rev:3433.2.5 [merge]
   &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Thu 2012-06-14 20:05:31 +0200&lt;&lt;/style&gt;&gt;
*** mysql-5.5 merge
** maria55rev:3433.2.4
   &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Fri 2012-06-08 14:50:50 +0200&lt;&lt;/style&gt;&gt;
*** apply mysql fix for bug#58421 to XtraDB
** maria55rev:3433.2.3
   &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Thu 2012-06-07 19:15:41 +0200&lt;&lt;/style&gt;&gt;
*** client&#39;s option is default-character-set, server&#39;s is character-set-server
** maria55rev:3433.2.2
   &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Wed 2012-06-06 16:41:13 +0200&lt;&lt;/style&gt;&gt;
*** fixes for bintar mtr failures:
**** look for plugins in the correct path.
**** skip &lt;&lt;code&gt;&gt;--plugin-load&lt;&lt;/code&gt;&gt; if it has the empty soname part, not only if the whole argument is empty.
** maria55rev:3433.2.1
   &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Wed 2012-06-06 14:15:29 +0200&lt;&lt;/style&gt;&gt;
*** MDEV-302 lpbug:988204 MariaDB 5.5.23 binaries don&#39;t use libaio
*** simplify debian/dist/*/rules slightly.
*** move hard-coded config value to cmake files.
*** (the actual fix is -DBUILD_CONFIG=mysql_release)
* maria55rev:3437 [merge]
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Fri 2012-06-15 18:32:04 +0200&lt;&lt;/style&gt;&gt;
** merge
** maria55rev:3433.1.1
   &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Fri 2012-06-15 17:21:06 +0200&lt;&lt;/style&gt;&gt;
*** MDEV-339, lpbug:1001340 - system_time_zone is wrong on Windows
*** On localized Windows versions, Windows uses localized time zone names and contain non-ASCII characters.  non-ASCII characters appear broken when displayed by clients
*** The fix is to declare system_time_zone variable to have UTF8 encoding and to convert tzname to UTF8.
* maria55rev:3436 [merge]
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Fri 2012-06-15 13:39:07 +0300&lt;&lt;/style&gt;&gt;
** Automatic merge
** maria55rev:3434.1.3
   &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Fri 2012-06-15 13:36:34 +0300&lt;&lt;/style&gt;&gt;
*** Removed one variable from the test output that was depending on timing.
** maria55rev:3434.1.2
   &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Fri 2012-06-15 13:08:10 +0300&lt;&lt;/style&gt;&gt;
*** Fix for: lpbug:1013432 and MySQL#64800: 
*** mysqldump with &lt;&lt;code&gt;&gt;--include-master-host-port&lt;&lt;/code&gt;&gt; putting quotes around port number
*** Patch from Stewart Smith
** maria55rev:3434.1.1
   &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Fri 2012-06-15 12:52:58 +0300&lt;&lt;/style&gt;&gt;
*** Fixed MDEV-306 / lpbug:1007967 - Assertion `table-&gt;file-&gt;stats.records &gt; 0 || error&#39; failed join_read_const_table on concurrent SELECT and DROP/ADD INDEX
* maria55rev:3435
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Fri 2012-06-15 00:01:20 -0700&lt;&lt;/style&gt;&gt;
** Fixed lpbug#1002157.
** The class Item_func missed an implementation of the virtual 
   function update_null_value.
** Back-ported the fix for bug 62125 from mysql 5.6 code line.
** The test case was also back-ported. 
* maria55rev:3434 [merge]
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Wed 2012-06-13 16:28:47 -0700&lt;&lt;/style&gt;&gt;
** Merge.
** maria55rev:3426.1.1
   &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Fri 2012-06-08 22:15:49 -0700&lt;&lt;/style&gt;&gt;
*** Fixed lpbug#1010729.
*** The bug prevented acceptance of UNION queries whose non-first select 
    clauses contained join expressions with degenerated single-table nests
    as valid queries.
*** The bug was introduced into mysql-5.5 code line by the patch for
    bug 33204.
* maria55rev:3433 [merge]
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Wed 2012-06-13 11:37:51 +0200&lt;&lt;/style&gt;&gt;
** merge
** maria55rev:2502.561.2
   &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Fri 2012-06-08 19:15:01 +0200&lt;&lt;/style&gt;&gt;
*** lpbug:1008334 : Speedup specific datetime queries that got slower with introduction of microseconds in 5.3
**** Item::get_seconds() now skips decimal arithmetic, if decimals is 0. This significantly speeds up from_unixtime() if no fractional part is passed.
**** replace sprintfs used to format temporal values  by hand-coded formatting 
**** Query1 (original query in the bug report)
***** BENCHMARK(10000000,DATE_SUB(FROM_UNIXTIME(RAND() * 2147483648), INTERVAL (FLOOR(1 + RAND() * 365)) DAY)) 
**** Query2 (Variation of query1 that does not use fractional part in FROM_UNIXTIME parameter)
***** BENCHMARK(10000000,DATE_SUB(FROM_UNIXTIME(FLOOR(RAND() * 2147483648)), INTERVAL (FLOOR(1 + RAND() * 365)) DAY)) 
**** Prior to the patch, the runtimes were (32 bit compilation/AMD machine)
***** Query1: 41.53 sec 
***** Query2: 23.90 sec
**** With the patch, the runtimes are
***** Query1: 32.32 sec (speed up due to removing sprintf)
***** Query2: 12.06 sec (speed up due to skipping decimal arithmetic)
** maria55rev:2502.561.1
   &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Wed 2012-06-06 23:02:21 +0300&lt;&lt;/style&gt;&gt;
*** Fixed pbxt test case not run by default.
* maria55rev:3432 [merge]
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Sun 2012-06-10 14:12:50 +0400&lt;&lt;/style&gt;&gt;
** Merge BUG#1010351 from 5.2 to 5.5
** maria55rev:2502.546.80 [merge]
   &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Sun 2012-06-10 13:53:06 +0400&lt;&lt;/style&gt;&gt;
*** Merge BUG#1010351 from 5.1 to 5.2
*** maria55rev:2502.528.48
    &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Sun 2012-06-10 13:50:21 +0400&lt;&lt;/style&gt;&gt;
**** lpbug#1010351: New &#34;via&#34; keyword in 5.2+ can&#39;t be used as identifier anymore
**** Add the VIA_SYM token into keyword_sp list, which makes it allowed for
     use as keyword and SP label.
* maria55rev:3431
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Fri 2012-06-08 22:13:38 +0300&lt;&lt;/style&gt;&gt;
** Moved init_log() to be later to not write log entries when one uses &lt;&lt;code&gt;&gt;--example&lt;&lt;/code&gt;&gt;
* maria55rev:3430
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Fri 2012-06-08 22:12:44 +0300&lt;&lt;/style&gt;&gt;
** Changed last_insert_id() to be unsigned.
** Fixed MDEV-331: last_insert_id() returns a signed number
* maria55rev:3429
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Fri 2012-06-08 11:18:56 +0200&lt;&lt;/style&gt;&gt;
** MDEV-329: MariaDB 5.5 does not use fdatasync().
** The &lt;&lt;code&gt;&gt;--debug-no-sync&lt;&lt;/code&gt;&gt; incorrectly defaulted to ON, disabling sync calls
   by default which can loose data or cause corruption. Also, the code
   used fsync() instead of the sometimes more efficient fdatasync().
* maria55rev:3428 [merge]
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Wed 2012-06-06 16:19:48 +0300&lt;&lt;/style&gt;&gt;
** Merge
** maria55rev:2502.546.79
   &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Tue 2012-06-05 17:25:10 +0300&lt;&lt;/style&gt;&gt;
*** Fixed lpbug:1000649
*** Analysis:
****none When the method JOIN::choose_subquery_plan() decided to apply
     the IN-TO-EXISTS strategy, it set the unit and select_lex
     uncacheable flag to UNCACHEABLE_DEPENDENT_INJECTED unconditionally.
**** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
**** As result, even if IN-TO-EXISTS injected non-correlated predicates,
     the subquery was still treated as correlated.
**** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
*** Solution:
****none Set the subquery as correlated only if the injected predicate(s) depend
     on the outer query.
** maria55rev:2502.546.78
   &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Mon 2012-06-04 23:22:03 +0200&lt;&lt;/style&gt;&gt;
*** MDEV-308 / lpbug:1008516 - Failing assertion: templ-&gt;mysql_col_len == len
*** remove the offending assert.
*** take the test case from mysql Bug#58015
* maria55rev:3427 [merge]
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Wed 2012-06-06 14:06:13 +0200&lt;&lt;/style&gt;&gt;
** merge
** maria55rev:3425.1.2
   &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Mon 2012-06-04 17:39:28 +0200&lt;&lt;/style&gt;&gt;
*** MDEV-136 Non-blocking &#34;set read_only&#34;
*** backport dmitry.shulga@oracle.com-20120209125742-w7hdxv0103ymb8ko from mysql-trunk:
****none Patch for bug#11764747 (formerly known as 57612): SET GLOBAL READ_ONLY=1 cannot
     progress when a table is locked with LOCK TABLES.
**** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
**** The reason for the bug was that mysql server makes a flush of all open tables
     during handling of statement &#39;SET GLOBAL READ_ONLY=1&#39;. Therefore if some of
     these tables were locked by &#34;LOCK TABLE ... READ&#34; from a different connection,
     then execution of statement &#39;SET GLOBAL READ_ONLY=1&#39; would be waiting for
     the lock for such table even if the table was locked in a compatible read mode.
**** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
**** Flushing of all open tables before setting of read_only system variable
     is inherited from 5.1 implementation since this was the only possible approach
     to ensure that there isn&#39;t any pending write operations on open tables.
**** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
**** Start from version 5.5 and above such behaviour is guaranteed by the fact
     that we acquire global_read_lock before setting read_only flag. Since
     acquiring of global_read_lock is successful only when there isn&#39;t any 
     active write operation then we can remove flushing of open tables from
     processing of SET GLOBAL READ_ONLY=1.
**** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
**** This modification changes the server behavior so that read locks held
     by other connections (LOCK TABLE ... READ) no longer will block attempts
     to enable read_only.
** maria55rev:3425.1.1 [merge]
   &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Mon 2012-06-04 17:26:11 +0200&lt;&lt;/style&gt;&gt;
*** merge with 5.3.
*** Take only test cases from MDEV-136 Non-blocking &#34;set read_only&#34;
*** maria55rev:2502.546.77 [merge]
    &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Sat 2012-06-02 16:13:05 +0400&lt;&lt;/style&gt;&gt;
**** Merge 
**** maria55rev:2502.560.1
     &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Sat 2012-06-02 03:25:56 +0400&lt;&lt;/style&gt;&gt;
***** lpbug#1006164: Multi-table DELETE that uses innodb + index_merge/intersect may fail to delete rows
***** Set index columns to be read when using index_merge, even if TABLE-&gt;no_keyread is 
      set for the table (happens for multi-table UPDATEs)
*** maria55rev:2502.546.76
    &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Fri 2012-06-01 14:56:47 +0200&lt;&lt;/style&gt;&gt;
**** MDEV-304: Insufficient buffer allocation for Query_log_event
**** The constructor for Query_log_event allocated 2 bytes too few for
     extra space needed by Query cache. (Not sure if this is reproducible
     in practice, as there are often a couple of extra bytes allocated
     for unused string zero terminators, but better safe than sorry).
*** maria55rev:2502.546.75
    &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Wed 2012-05-30 19:10:18 +0300&lt;&lt;/style&gt;&gt;
**** Fix for lpbug:1006231
**** Analysis:
*****none When a subquery that needs a temp table is executed during
      the prepare or optimize phase of the outer query, at the end
      of the subquery execution all the JOIN_TABs of the subquery
      are replaced by a new JOIN_TAB that selects from the temp table.
      However that temp table has no corresponding TABLE_LIST.
      Once EXPLAIN execution reaches its last phase, it tries to print
      the names of the subquery tables through its TABLE_LISTs, but in
      the case of this bug there is no such TABLE_LIST (it is NULL),
      hence a crash.
***** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
**** Solution:
*****none The fix is to block subquery evaluation inside
      Item_func_like::fix_fields and Item_func_like::select_optimize()
      using the Item::is_expensive() test.
*** maria55rev:2502.546.74
    &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Tue 2012-05-29 09:59:25 +0500&lt;&lt;/style&gt;&gt;
**** MDEV-294 SELECT WHERE ST_CONTAINS doesn&#39;t return all the records where ST_CONTAINS() is 1.
     Optimizator fails using index with ST_Within(g, constant_poly).
**** per-file comments:
*****none mysql-test/r/gis-rt-precise.result
****** test result fixed.
***** mysql-test/r/gis-rtree.result
****** test result fixed.
***** mysql-test/suite/maria/r/maria-gis-rtree-dynamic.result
****** test result fixed.
***** mysql-test/suite/maria/r/maria-gis-rtree-trans.result
****** test result fixed.
***** mysql-test/suite/maria/r/maria-gis-rtree.result
****** test result fixed.
***** storage/maria/ma_rt_index.c
****** Use MBR_INTERSECT mode when optimizing the select WITH ST_Within.
***** storage/myisam/rt_index.c
****** Use MBR_INTERSECT mode when optimizing the select WITH ST_Within.
*** maria55rev:2502.546.73 [merge]
    &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Fri 2012-05-25 00:44:43 -0700&lt;&lt;/style&gt;&gt;
**** Merge.
**** maria55rev:2502.559.1
     &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Fri 2012-05-25 00:07:26 -0700&lt;&lt;/style&gt;&gt;
***** Fixed a performance problem: calls of the function imerge_list_and_tree
      could lead an to exponential growth of the imerge lists.
*** maria55rev:2502.546.72
    &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Fri 2012-05-25 01:20:40 +0400&lt;&lt;/style&gt;&gt;
**** lpbug#1002630: Valgrind warnings &#39;Invalid read&#39; in subselect_engine::calc_const_tables with SELECT
**** In JOIN::exec(), make the having-&gt;update_used_tables() call before we&#39;ve
     made the JOIN::cleanup(full=true) call. The latter frees SJ-Materialization
     structures, which correlated subquery predicate items attempt to walk afterwards.
*** maria55rev:2502.546.71
    &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Wed 2012-05-23 21:05:53 +0400&lt;&lt;/style&gt;&gt;
**** Update test results after the latest push
*** maria55rev:2502.546.70
    &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Wed 2012-05-23 11:55:14 +0400&lt;&lt;/style&gt;&gt;
**** lpbug#1000051: Query with simple join and ORDER BY takes thousands times longer when run with ICP
**** Correct testcases.
*** maria55rev:2502.546.69
    &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Wed 2012-05-23 11:46:40 +0400&lt;&lt;/style&gt;&gt;
**** lpbug#1000051: Query with simple join and ORDER BY takes thousands times longer when run with ICP
**** Disable IndexConditionPushdown for reverse scans.
*** maria55rev:2502.546.68
    &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Tue 2012-05-22 15:22:55 +0300&lt;&lt;/style&gt;&gt;
**** Fix lpbug:1002079
**** Analysis:
*****none The optimizer detects an empty result through constant table optimization.
      Then it calls return_zero_rows(), which in turns calls inderctly
      Item_maxmin_subselect::no_rows_in_result(). The latter method set &#34;value=0&#34;,
      however &#34;value&#34; is pointer to Item_cache, and not just an integer value.
***** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
***** All of the Item_[maxmin | singlerow]_subselect::val_XXX methods does:
***** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
******none if (forced_const)
*******none return value-&gt;val_real();
***** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
***** which of course crashes when value is a NULL pointer.
***** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
**** Solution:
*****none When the optimizer discovers an empty result set, set
      Item_singlerow_subselect::value to a FALSE constant Item instead of NULL.
*** maria55rev:2502.546.67
    &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Mon 2012-05-21 19:37:46 +0500&lt;&lt;/style&gt;&gt;
**** MDEV-136 Non-blocking &#34;set read_only&#34;.
**** Handle the &#39;set read_only=1&#39; in lighter way, than the FLUSH TABLES READ LOCK;
     For the transactional engines we don&#39;t wait for operations on that tables to finish.
**** per-file comments:
*****none mysql-test/r/read_only_innodb.result
****** MDEV-136 Non-blocking &#34;set read_only&#34;.
****** test result updated.
***** mysql-test/t/read_only_innodb.test
****** MDEV-136 Non-blocking &#34;set read_only&#34;.
****** test case added.
***** sql/mysql_priv.h
****** MDEV-136 Non-blocking &#34;set read_only&#34;.
****** The close_cached_tables_set_readonly() declared.
***** sql/set_var.cc
****** MDEV-136 Non-blocking &#34;set read_only&#34;.
****** Call close_cached_tables_set_readonly() for the read_only::set_var.
***** sql/sql_base.cc
****** MDEV-136 Non-blocking &#34;set read_only&#34;.
****** Parameters added to the close_cached_tables implementation,
       close_cached_tables_set_readonly declared.
****** Prevent blocking on the transactional tables if the
       set_readonly_mode is on.
* maria55rev:3426
  &lt;&lt;style class=&#34;datetime&#34;&gt;&gt;Mon 2012-06-04 18:06:00 +0300&lt;&lt;/style&gt;&gt;
** Fix lpbug:1008487
** Analysis:
***none The crash is a result of Item_cache_temporal::example not being set
    (it is NULL). It turns out that the value of Item_cache_temporal
    may be set directly by calling Item_cache_temporal::store_packed
    without ever setting the &#34;example&#34; of this Item_cache. Therefore
    the failing assertion is too narrow.
*** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
** Solution:
***none Remove the assert.
*** &lt;&lt;entity&gt;&gt;nbsp&lt;&lt;/entity&gt;&gt;
*** In principle we could overwrite this method for Item_cache_temporal,
    but it doesn&#39;t make sense just for this assert.</textarea>
    


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row row-10">
                <div class="col-md-2 col-xs-4 item">
                    <h5>
                        <a href="/products" title="Products">Products</a>
                    </h5>
                    <ul>
                        <li id="menu-item-7816" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7816"><a href="https://mariadb.com/products/mariadb-platform/">MariaDB Platform</a></li>
                        <li id="menu-item-7815" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7815"><a href="https://mariadb.com/products/skysql/">MariaDB SkySQL</a></li>
                        <li id="menu-item-4172" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4172"><a href="https://mariadb.com/pricing/">Pricing</a></li>
                        <li id="menu-item-4163" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4163"><a href="https://mariadb.com/downloads/">Download MariaDB</a></li>
                    </ul>
                </div>
                <div class="col-md-2 col-xs-4 item">
                    <h5>
                        <a href="/services" title="Services">Services</a>
                    </h5>
                    <ul>
                        <li id="menu-item-4169" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4169"><a href="https://mariadb.com/services/remote-dba/">Remote DBA</a></li>
                        <li id="menu-item-41691" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4169"><a href="https://mariadb.com/services/skydba/">SkyDBA</a></li>
                        <li id="menu-item-4167" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4167"><a href="https://mariadb.com/services/enterprise-architect/">Enterprise Architect</a></li>
                        <li id="menu-item-4170" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4170"><a href="https://mariadb.com/services/technical-support-services/">Technical Support</a></li>
                        <li id="menu-item-4168" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4168"><a href="https://mariadb.com/services/migration-practice/">Migration Practice</a></li>
                        <li id="menu-item-4166" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4166"><a href="https://mariadb.com/services/consulting/">Consulting</a></li>
                        <li id="menu-item-4171" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4171"><a href="https://mariadb.com/services/training/">Training</a></li>
                    </ul>
                </div>
                <div class="col-md-2 col-xs-4 item">
                    <h5>
                        <a href="/resources" title="Resources">Resources</a>
                    </h5>
                    <ul>
                        <li id="menu-item-41751" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4175"><a href="https://mariadb.com/docs/">Documentation</a></li>
                        <li id="menu-item-41752" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4175"><a href="https://mariadb.com/developers/">Developers</a></li>
                        <li id="menu-item-4175" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4175"><a href="https://mariadb.com/resources/blog/">Blog</a></li>
                        <li id="menu-item-5462" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5462"><a href="https://support.mariadb.com">Support</a></li>
                        <li id="menu-item-6004" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6004"><a href="https://mariadb.com/openworks/">OpenWorks</a></li>
                        <li id="menu-item-60041" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6004"><a href="https://mariadb.com/resources/customer-stories/">Customer Stories</a></li>
                        <li id="menu-item-7817" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-7817"><a href="https://mariadb.com/resources/events/">Events</a></li>
                        <li id="menu-item-4177" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4177"><a href="https://mariadb.com/roadshow/">MariaDB Roadshow</a></li>
                    </ul>
                </div>
                <div class="visible-xs visible-sm clear"></div>
                <div class="col-md-2 col-xs-5 item">
                    <h5>
                        <a href="/about-us" title="About MariaDB">About</a>
                    </h5>
                    <ul>
                        <li id="menu-item-4173" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4173"><a href="https://mariadb.com/contact/">Contact</a></li>
                        <li id="menu-item-4161" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4161"><a href="https://mariadb.com/about-us/leadership/">Leadership</a></li>
                        <li id="menu-item-4162" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4162"><a href="https://mariadb.com/about-us/partners/">Partners</a></li>
                        <li id="menu-item-4174" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4174"><a href="https://mariadb.com/newsroom/">Newsroom</a></li>
                        <li id="menu-item-4160" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4160"><a href="https://mariadb.com/about-us/investors/">Investors</a></li>
                        <li id="menu-item-4159" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4159"><a href="https://mariadb.com/about-us/careers/">Careers</a></li>
                        <li id="menu-item-41591" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4159"><a href="https://mariadb.com/trust/">Trust Center</a></li>
                        <li id="menu-item-41592" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4159"><a href="https://mariadb.com/vulnerability-reporting/">Vulnerability Reporting</a></li>
                    </ul>
                </div>
                <div class="col-md-4 col-xs-7 item">
                    <div id="block-footercontact" class="block block-block-content block-block-content22b3af28-0754-44ec-a5c6-4466568f37e3">
                        <h5><a href="/contact" title="Contact">Contact</a></h5>
                    </div>
                    <div class="social">
                        <ul class="list-inline">
                            <li>
                                <a target="_blank" href="https://www.facebook.com/MariaDB.dbms/" title="Facebook">
                                    <i class="fa fa-facebook" aria-hidden="true"></i>
                                </a>
                            </li>
                            <li>
                                <a target="_blank" href="https://twitter.com/mariadb" title="Twitter">
                                    <i class="fa fa-twitter" aria-hidden="true"></i>
                                </a>
                            </li>
                            <li>
                                <a target="_blank" href="https://www.linkedin.com/company/mariadb-corporation?trk=company_logo " title="LinkedIn">
                                    <i class="fa fa-linkedin" aria-hidden="true"></i>
                                </a>
                            </li>
                        </ul>
                    </div>
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <p>Subscribe to our newsletter!</p>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="footer-copyright">
        <div class="container text-center">
            <ul class="list-inline no-margin">
                <li>
                    <a href="/legal" title="Legal">Legal</a>
                </li>
                <li>
                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                </li>
                <li>
                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                </li>
            </ul>
            <p>Copyright &copy; 2023 MariaDB. All rights reserved.</p>
        </div>
    </div>
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.fed4ec768178.js" charset="utf-8"></script>

</html>