<!DOCTYPE html>
<html>
<head data-cookie-domain=""
      data-cookie-path="/">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/kb/static/images/favicons/apple-touch-icon.159e713979be.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/kb/static/images/favicons/favicon-32x32.bc0ac1d5d11e.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/kb/static/images/favicons/favicon-16x16.5801f8f0f34e.png">
    <link rel="shortcut icon" href="/kb/static/images/favicons/favicon.d122d305dee4.ico" type="image/x-icon" />

    <title>Replication When the Primary and Replica Have Different Table Definitions - MariaDB Knowledge Base</title>

    <link href="/kb/static/css/main.f7633538c846.css" rel="stylesheet" type="text/css" />

    

    

    <!-- FB Open Graph tags -->
    <meta property="og:title" content="Replication When the Primary and Replica Have Different Table Definitions" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://mariadb.com/kb/en/replication-when-the-primary-and-replica-have-different-table-definitions/" />
    <meta property="og:image" content="http://mariadb.comaskmonty-logo.png" />
    <meta property="og:site_name" content="MariaDB KnowledgeBase" />
    <meta property="fb:admins" content="514852603" />
    <meta property="og:description" content="Slave and the primary table definitions can differ while replicating." />

    <meta name="description" content="Slave and the primary table definitions can differ while replicating." />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet"/>
    
</head>
<body class="mpkb nodes products nodes_view jqui" id="nodes_view">





<div id="menu-mobile" class="visible-sm visible-xs">

    <div>
        <div id="mobile-close-menu" class="text-right">
            <a href="javascript:void(0)" title="Close Menu" id="back-main" class="toggle-menu">X<span></span></a>
        </div>
    </div>
    <div class="mainmenu-mobile">
        <ul class="ls-none ul-menu">
            <li data-sub="submenu5"><a class="open-form-search" href="/kb/search/" title="Search">Search </a></li>
            <li data-sub="submenu0"><a href="/products" title="Products">Products</a><span class="arrow-main"></span></li>
            <li data-sub="submenu1"><a href="/services" title="Services">Services</a><span class="arrow-main"></span></li>
            <li data-sub="submenu2"><a href="/resources" title="Resources">Resources</a><span class="arrow-main"></span></li>
            <li data-sub="submenu3"><a href="/about-us" title="About">About</a><span class="arrow-main"></span></li>
            <li data-sub="submenu4"><a href="/contact" title="Contact">Contact</a></li>
        </ul>
    </div>

    <div class="nav-top-mobile">
        <div class="select-box form">

            <ul class="inline-block-md mb-none top-nav">
                <li>

                </li>
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/replication-when-the-primary-and-replica-have-different-table-definitions/"> Login</a>
                    </li>
                
            </ul>



        </div>
        <p class="text-center copyright">Copyright &copy; 2024 MariaDB. All rights reserved.</p>
    </div>
</div>
<div class="violator-wrap d-none" id="top_violator">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12">
                <div class="violator-outer">
                    <div class="violator-inner">
                        <div class="row">
                            <div class="col-xs-12 col-sm-9 col-lg-7 col-lg-offset-2" id="top_violator_content">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="content-link" target="_blank" rel="nofollow noreferrer">
                                    <span>The Ultimate Guide to High Availability with MariaDB</span>
                                </a>
                            </div>
                            <div class="col-xs-12 col-sm-3" id="top_violator_cta">
                                <a href="https://go.mariadb.com/high-availability-guide-MariaDB-whitepaper.html" class="btn btn-mariadb" target="_blank" rel="nofollow noreferrer">Download Now</a>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn btn-link close-btn">
                        <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" width="15px" height="15px"><path d="M 4.9902344 3.9902344 A 1.0001 1.0001 0 0 0 4.2929688 5.7070312 L 10.585938 12 L 4.2929688 18.292969 A 1.0001 1.0001 0 1 0 5.7070312 19.707031 L 12 13.414062 L 18.292969 19.707031 A 1.0001 1.0001 0 1 0 19.707031 18.292969 L 13.414062 12 L 19.707031 5.7070312 A 1.0001 1.0001 0 0 0 18.980469 3.9902344 A 1.0001 1.0001 0 0 0 18.292969 4.2929688 L 12 10.585938 L 5.7070312 4.2929688 A 1.0001 1.0001 0 0 0 4.9902344 3.9902344 z"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="wrapper">
<div id="top-nav">
    <div class="container">
        <ul class="hidden-sm hidden-xs" >
            <li><a href="https://mariadb.com/kb/">Knowledge Base</a></li>
            <li><a href="https://mariadb.com/contact/">Contact</a></li>
            
                
                    <li>
                        <a href="/kb/user/login?next=/kb/en/replication-when-the-primary-and-replica-have-different-table-definitions/" rel="nofollow">Login</a>
                    </li>
                
            
            
            <li id="search-form">
                <form action="/kb/en/+search/" method="get" id="search-block-form" accept-charset="UTF-8">
                    <input id="search" title="Enter the terms you wish to search for."
                           placeholder="Search . . ." type="text"
                           name="q" value="" size="15" maxlength="128" class="form-text"
                           data-autocomplete-url="/kb/en/+search/autocomplete/">
                    <input type="hidden" name="quick" value="1" />
                    <input type="hidden" name="source" value="kb" />
                </form>
            </li>
            <li><a id="search-toggler" href="/kb/search/">Search</a></li>
            
        </ul>
    </div>
</div>
<div id="navbar-bottom" class="navbar">
    <div class="container">
        
        
        
        
        <div class="row">
            <div class="col-md-3 col-sm-9 col-xs-9">
                <a class="brand" href="/" title="MariaDB">
                    <img src="/kb/static/images/logo-2018-black.95f5978ae14d.png">
                </a>
            </div>
            <div class="col-md-9 hidden-sm hidden-xs">
                <div class="main-menu">
                    <ul id="main-menu" class="nav navbar-nav inline-block-sm">
    <li class="has-sub full-menu">
        <a href="/products" title="Products">Products</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/services" title="Services">Services</a>
    </li>
    <li class="has-sub full-menu active">
        <a href="/pricing" title="Pricing">Pricing</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/resources" title="Resources">Resources</a>
    </li>
    <li class="has-sub full-menu">
        <a href="/about-us" title="About Us">About Us</a>
    </li>
    <li class="">
        <a class="button electric-eel small top-bar-right-download" href="/downloads/">Download</a>
    </li>
</ul>
                </div>
            </div>
            <div class="col-md-3 visible-sm visible-xs col-sm-3 col-xs-3 ps-rv">
                <div class="navbar-header text-right pull-right">
                    <button type="button" class="menu-control toggle-menu" id="open-menu">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        

        <div id="subheader1" class="clearfix">
            <div class="pull-left">
                
                <div id="breadcrumbs" class="breadcrumb">
                    <a href="/kb/en/">Knowledge Base</a>
                    


    
    » <a class="crumb" href="/kb/en/documentation/">MariaDB Server Documentation</a>
    

    
    » <a class="crumb" href="/kb/en/replication-cluster-multi-master/">High Availability &amp; Performance Tuning</a>
    

    
    » <a class="crumb" href="/kb/en/standard-replication/">MariaDB Replication</a>
    


    » <a class="node_link crumb" href="/kb/en/replication-when-the-primary-and-replica-have-different-table-definitions/">Replication When the Primary and Replica Have Different Table Definitions</a>


                </div>
                
            </div>
        </div>
    </div>
    <div class="container" id="container-main">
        <div class="row">
            
            
                
                <aside id="sidebar-first" class="sidebar col-md-2 hidden-xs hidden-sm hidden-print">
                    
                        
                        <ul id="category_menu" class="nav nav-pills nav-stacked">
                            <li><a href="/kb/en/">Home</a></li>
                            
                                
                                    <li><a href="/kb/en/+questions/">Open Questions</a></li>
                                
                                <li><a href="/kb/en/documentation/">MariaDB Server</a></li>
                                <li><a href="/kb/en/maxscale/">MariaDB MaxScale</a></li>
                                <li><a href="/kb/en/mariadb-columnstore/">MariaDB ColumnStore</a></li>
                                <li><a href="/kb/en/connectors/">Connectors</a></li>
                            

                        </ul>
                    

                    
<div>



<div class="well well-small box actions"><div>

        <a class="btn btn-block btn-blue btn-sm" href="/kb/en/replication-when-the-primary-and-replica-have-different-table-definitions/+history" rel="nofollow">History</a>
        
        
        
        <a class="btn btn-block btn-blue btn-sm" href="/kb/en/replication-when-the-primary-and-replica-have-different-table-definitions/+source/">Source</a>
        
        <a class="btn btn-block btn-blue btn-sm flag" href="/kb/en/replication-when-the-primary-and-replica-have-different-table-definitions/+flag"
                data-flag-url="/kb/en/replication-when-the-primary-and-replica-have-different-table-definitions/+flag" rel="nofollow">
                Flag as Spam / Inappropriate</a>
        
        <a class="btn btn-block btn-blue btn-sm" href="/kb/en/replication-when-the-primary-and-replica-have-different-table-definitions/+translate/">
                Translate</a>
        

</div>
</div>





<div class="well well-small box node_info"><div>

    <dl>
        <dt>Created</dt>
        <dd>

<span class="datetime" title="2018-06-28 12:06">6 years, 5 months ago</span></dd>

        <dt>Modified</dt>
        <dd>

<span class="datetime" title="2022-03-13 19:13">2 years, 9 months ago</span></dd>

        <dt>Type</dt>
        <dd>article</dd>

        <dt>Status</dt>
        <dd>active</dd>

        <dt>License</dt>
        <dd>
            
                <a href="/kb/en/replication-when-the-primary-and-replica-have-different-table-definitions/+license/">CC BY-SA / Gnu FDL</a>
            
        </dd>

        
    </dl>

    
    <ul class="rss_feeds">
        <li><a href="/kb/en/replication-when-the-primary-and-replica-have-different-table-definitions/+history/feed/">
            History</a>
        </li>
        <li><a href="/kb/en/replication-when-the-primary-and-replica-have-different-table-definitions/+comments/feed/">
            Comments</a>
        </li>
    </ul>
    

</div>
</div>





    
    
    

<div class="well well-small box attachments"><div><div class="edit_link pull-right"><a href="/kb/en/replication-when-the-primary-and-replica-have-different-table-definitions/+edit/attachments/">Edit</a></div><h5>Attachments</h5></div><div>

        
            <div class="no_data">No attachments exist</div>
        
    
</div>
</div>

    



    
    






</div>


                    

































                </aside>
            
            
            
                
            
            
                
            
            <section id="content" class="limited_width col-md-8 clearfix">
                
                    <h1>Replication When the Primary and Replica Have Different Table Definitions</h1>
                

                



                <div>
                    
    

    
    
    

    <div class="node creole">
        
        
        


    
    <div class="answer formatted">
        <div class="cstm-style bluebox text"><p>The terms <em>master</em> and <em>slave</em> have historically been used in replication, and MariaDB has begun the process of adding <em>primary</em> and <em>replica</em> synonyms. The old terms will continue to be used to maintain backward compatibility - see <a href="https://jira.mariadb.org/browse/MDEV-18777">MDEV-18777</a> to follow progress on this effort.</p>
</div>
<div class="table_of_contents well well-small">
<h3>Contents</h3>
 <ol class="toc">

    <li class=""><a href="#different-column-definitions-attribute-promotion-and-demotion" title="Different Column Definitions - Attribute Promotion and Demotion">Different Column Definitions - Attribute Promotion and Demotion</a>    <ol class="toc">

        <li class=""><a href="#statement-based-replication" title="Statement-Based Replication">Statement-Based Replication</a></li>

        <li class=""><a href="#row-based-replication" title="Row-Based Replication">Row-Based Replication</a>        <ol class="toc">

            <li class=""><a href="#supported-conversions" title="Supported Conversions">Supported Conversions</a>        </ol>
    </ol>
</li>

    <li class=""><a href="#different-number-or-order-of-columns" title="Different Number or Order of Columns">Different Number or Order of Columns</a>    <ol class="toc">

        <li class=""><a href="#row-based" title="Row-Based">Row-Based</a></li>

        <li class=""><a href="#statement-based" title="Statement-Based">Statement-Based</a>    </ol>
 </ol>
</li>
</div>
<p>While replication is usually meant to take place between primaries and replicas with the same table definitions and this is recommended, in certain cases replication can still take place even if the definitions are identical.</p>
<p>Tables on the replica and the primary do not need to have the same definition in order for <a href="/kb/en/replication/">replication</a> to take place. There can be differing numbers of columns, or differing data definitions and, in certain cases, replication can still proceed.</p>
<h2 class="anchored_heading" id="different-column-definitions-attribute-promotion-and-demotion">Different Column Definitions - Attribute Promotion and Demotion</h2>
<p>It is possible in some cases to replicate to a replica that has a column of a different type on the replica and the primary. This process is called attribute promotion (to a larger type) or attribute demotion (to a smaller type).</p>
<p>The conditions differ depending on whether <a href="/kb/en/binary-log-formats/#statement-based">statement-based</a> or <a href="/kb/en/binary-log-formats/#row-based">row-based replication</a> is used.</p>
<h3 class="anchored_heading" id="statement-based-replication">Statement-Based Replication</h3>
<p>When using <a href="/kb/en/binary-log-formats/#statement-based">statement-based replication</a>, generally, if a statement can run successfully on the replica, it will be replicated. If a column definition is the same or a larger type on the replica than on the primary, it can replicate successfully. For example a column defined as <code><a href="/kb/en/varchar/">VARCHAR(10)</a></code> will successfully be replicated on a replica with a definition of <code>VARCHAR(12)</code>. </p>
<p>Replicating to a replica where the column is defined as smaller than on the primary can also work. For example, given the following table definitions:</p>
<p>Master:</p>
<pre class="fixed">DESC r;
+-------+-------------+------+-----+---------+-------+
| Field | Type        | Null | Key | Default | Extra |
+-------+-------------+------+-----+---------+-------+
| id    | tinyint(4)  | YES  |     | NULL    |       |
| v     | varchar(10) | YES  |     | NULL    |       |
+-------+-------------+------+-----+---------+-------+
</pre><p>Slave</p>
<pre class="fixed">DESC r;
+-------+-------------+------+-----+---------+-------+
| Field | Type        | Null | Key | Default | Extra |
+-------+-------------+------+-----+---------+-------+
| id    | tinyint(4)  | YES  |     | NULL    |       |
| v     | varchar(8) | YES  |     | NULL    |       |
+-------+-------------+------+-----+---------+-------+
</pre><p>the statement</p>
<pre class="fixed"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">r</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="s1">&#39;hi&#39;</span><span class="p">);</span>
</pre><p>would successfully replicate because the value inserted into the <code>v</code> field can successfully be inserted on both the primary and the smaller replica equivalent.</p>
<p>However, the following statement would fail:</p>
<pre class="fixed"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">r</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="s1">&#39;abcdefghi&#39;</span><span class="p">)</span>
</pre><p>In this case, the value fits in the primary definition, but is too long for the replica field, and so replication will fail.</p>
<pre class="fixed">SHOW SLAVE STATUS\G
*************************** 1. row ***************************
...
Slave_IO_Running: Yes
Slave_SQL_Running: No
...
Last_Errno: 1406
Last_Error: Error 'Data too long for column 'v' at row 1' on query. 
   Default database: 'test'. Query: 'INSERT INTO r VALUES (7,'abcdefghi')'
...
</pre><h3 class="anchored_heading" id="row-based-replication">Row-Based Replication</h3>
<p>When using <a href="/kb/en/binary-log-formats/#row-based">row-based replication</a>, the value of the <a href="/kb/en/replication-and-binary-log-server-system-variables/#slave_type_conversions">slave_type_conversions</a> variable is important. The default value of this variable is empty, in which case MariaDB will not perform attribute promotion or demotion. If the column definitions do not match, replication will stop. If set to <code>ALL_NON_LOSSY</code>, safe replication is permitted. If set to <code>ALL_LOSSY</code> as well, replication will be permitted even if data loss takes place.</p>
<p>For example:</p>
<p>Master:</p>
<pre class="fixed">DESC r;
+-------+-------------+------+-----+---------+-------+
| Field | Type        | Null | Key | Default | Extra |
+-------+-------------+------+-----+---------+-------+
| id    | smallint(6) | YES  |     | NULL    |       |
| v     | varchar(10) | YES  |     | NULL    |       |
+-------+-------------+------+-----+---------+-------+
</pre><p>Slave:</p>
<pre class="fixed">SHOW VARIABLES LIKE 'slave_ty%';
+------------------------+-------+
| Variable_name          | Value |
+------------------------+-------+
| slave_type_conversions |       |
+------------------------+-------+

 DESC r;
+-------+------------+------+-----+---------+-------+
| Field | Type       | Null | Key | Default | Extra |
+-------+------------+------+-----+---------+-------+
| id    | tinyint(4) | YES  |     | NULL    |       |
| v     | varchar(1) | YES  |     | NULL    |       |
+-------+------------+------+-----+---------+-------+
</pre><p>The following query will fail:</p>
<pre class="fixed"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">r</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">);</span>
</pre><pre class="fixed">SHOW SLAVE STATUS\G;
...
Slave_IO_Running: Yes
Slave_SQL_Running: No
...
Last_Errno: 1677
Last_Error: Column 0 of table 'test.r' cannot be converted from 
  type 'smallint' to type 'tinyint(4)'
...
</pre><p>By changing the value of the <a href="/kb/en/replication-and-binary-log-server-system-variables/#slave_type_conversions">slave_type_conversions</a>, replication can proceed:</p>
<pre class="fixed"><span class="k">SET</span> <span class="k">GLOBAL</span> <span class="n">slave_type_conversions</span><span class="o">=</span><span class="s1">&#39;ALL_NON_LOSSY,ALL_LOSSY&#39;</span><span class="p">;</span>

<span class="k">START</span> <span class="n">SLAVE</span><span class="p">;</span>
</pre><pre class="fixed">SHOW SLAVE STATUS\G;
*************************** 1. row ***************************
...
             Slave_IO_Running: Yes
            Slave_SQL_Running: Yes
...
</pre><h4 class="anchored_heading" id="supported-conversions">Supported Conversions</h4>
<ul start="1"><li>Between <a href="/kb/en/tinyint/">TINYINT</a>, <a href="/kb/en/smallint/">SMALLINT</a>, <a href="/kb/en/mediumint/">MEDIUMINT</a>, <a href="/kb/en/int/">INT</a> and <a href="/kb/en/bigint/">BIGINT</a>. If lossy conversion is supported, the value from the primary will be converted to the maximum or minimum permitted on the replica, which non-lossy conversions require the replica column to be large enough. For example, SMALLINT UNSIGNED can be converted to MEDIUMINT, but not SMALLINT SIGNED.
</li></ul>
<h2 class="anchored_heading" id="different-number-or-order-of-columns">Different Number or Order of Columns</h2>
<p>Replication can also take place when the primary and replica have a different number of columns if the following criteria are met:</p>
<ul start="1"><li>columns must be in the same order on the primary and replica
</li><li>common columns must be defined with the same data type
</li><li>extra columns must be defined after the common columns
</li></ul>
<h3 class="anchored_heading" id="row-based">Row-Based</h3>
<p>The following example replicates incorrectly (replication proceeds, but the data is corrupted), as the columns are not in the same order.</p>
<p>Master:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="k">TABLE</span> <span class="n">r</span> <span class="p">(</span><span class="n">i1</span> <span class="nb">INT</span><span class="p">,</span> <span class="n">i2</span> <span class="nb">INT</span><span class="p">);</span>
</pre><p>Slave:</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">r</span> <span class="k">ADD</span> <span class="n">i3</span> <span class="nb">INT</span> <span class="k">AFTER</span> <span class="n">i1</span><span class="p">;</span> 
</pre><p>Master:</p>
<pre class="fixed"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">r</span> <span class="p">(</span><span class="n">i1</span><span class="p">,</span><span class="n">i2</span><span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">r</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+------+</span>
<span class="o">|</span> <span class="n">i1</span>   <span class="o">|</span> <span class="n">i2</span>   <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+</span>
</pre><p>Slave:</p>
<pre class="fixed"><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">r</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+------+------+</span>
<span class="o">|</span> <span class="n">i1</span>   <span class="o">|</span> <span class="n">i3</span>   <span class="o">|</span> <span class="n">i2</span>   <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span> <span class="k">NULL</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+------+</span>
</pre><h3 class="anchored_heading" id="statement-based">Statement-Based</h3>
<p>Using statement-based replication, the same example may work, even though the columns are not in the same order.</p>
<p>Master:</p>
<pre class="fixed"><span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="k">TABLE</span> <span class="n">r</span> <span class="p">(</span><span class="n">i1</span> <span class="nb">INT</span><span class="p">,</span> <span class="n">i2</span> <span class="nb">INT</span><span class="p">);</span>
</pre><p>Slave:</p>
<pre class="fixed"><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">r</span> <span class="k">ADD</span> <span class="n">i3</span> <span class="nb">INT</span> <span class="k">AFTER</span> <span class="n">i1</span><span class="p">;</span> 
</pre><p>Master:</p>
<pre class="fixed"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">r</span> <span class="p">(</span><span class="n">i1</span><span class="p">,</span><span class="n">i2</span><span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">r</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+------+</span>
<span class="o">|</span> <span class="n">i1</span>   <span class="o">|</span> <span class="n">i2</span>   <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+</span>
</pre><p>Slave:</p>
<pre class="fixed"> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">r</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------+------+------+</span>
<span class="o">|</span> <span class="n">i1</span>   <span class="o">|</span> <span class="n">i3</span>   <span class="o">|</span> <span class="n">i2</span>   <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+------+</span>
<span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span> <span class="k">NULL</span> <span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------+------+------+</span>
</pre>
    </div>


        
            <div id="subscribe" class="well well-small hide hidden-print"
                 data-subscribe-url="/kb/en/replication-when-the-primary-and-replica-have-different-table-definitions/+subscriptions/add"
                 data-unsubscribe-url="/kb/en/replication-when-the-primary-and-replica-have-different-table-definitions/+subscriptions/remove">
            </div>
        

        
        
    
        <div class="simple_section_nav">
            <ul class="nav nav-pills">
                
                    <li><a href="/kb/en/running-triggers-on-the-replica-for-row-based-events/">
                        ← Running Triggers on the Replica for Row-based Events
                    </a>
                    </li>
                
                
                    <li><a href="/kb/en/high-availability-performance-tuning-mariadb-replication/">
                        ↑ MariaDB Replication ↑
                    </a>
                    </li>
                
                
                    <li class="pull-right"><a href="/kb/en/restricting-speed-of-reading-binlog-from-primary-by-a-replica/">
                        Restricting Speed of Reading Binlog from Primary by a Replica →
                    </a>
                    </li>
                
            </ul>
        </div>
    

        

        
        <h2>Comments</h2>
        
    
    <div id="comments" data-node-id="7779" data-comments-url="/kb/en/replication-when-the-primary-and-replica-have-different-table-definitions/+comments"
         data-reply-url="/kb/en/replication-when-the-primary-and-replica-have-different-table-definitions/comments/post/">
        Comments loading...
    </div>

        

    </div>


                    <div id="content_disclaimer" class="graybox">
                        Content reproduced on this site is the property of its respective owners,
                        and this content is not reviewed in advance by MariaDB. The views, information and opinions
                        expressed by this content do not necessarily represent those of MariaDB or any other party.
                    </div>
                </div>
            </section>

            
                <div id="right_bar" class="col-md-2">
                    
    
        
        <ul class="section_navigation well well-small hidden-xs hidden-sm">
            
                <li class="parent"><a href="/kb/en/high-availability-performance-tuning-mariadb-replication/">
                    ↑ MariaDB Replication ↑
                </a>
                </li>
            
            
                
                    <li>
                        <a href="/kb/en/replication-overview/">
                            
                            Replication Overview
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/replication-commands/">
                            <span class="pull-right not_primary"></span>
                            Replication Commands
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/setting-up-replication/">
                            
                            Setting Up Replication
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/setting-up-a-replica-with-mariabackup/">
                            <span class="pull-right not_primary"></span>
                            Setting up a Replica with Mariabackup
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/read-only-replicas/">
                            
                            Read-Only Replicas
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/replication-as-a-backup-solution/">
                            <span class="pull-right not_primary"></span>
                            Replication as a Backup Solution
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/multi-source-replication/">
                            
                            Multi-Source Replication
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/multi-master-ring-replication/">
                            
                            Multi-Master Ring Replication
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/using-mariadb-replication-with-mariadb-galera-cluster/">
                            <span class="pull-right not_primary"></span>
                            Using MariaDB Replication with MariaDB Galera Cluster
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/delayed-replication/">
                            
                            Delayed Replication
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/parallel-replication/">
                            
                            Parallel Replication
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/semisynchronous-replication/">
                            
                            Semisynchronous Replication
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/replication-threads/">
                            
                            Replication Threads
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/binary-log/">
                            <span class="pull-right not_primary"></span>
                            Binary Log
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/relay-log/">
                            <span class="pull-right not_primary"></span>
                            Relay Log
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/gtid/">
                            
                            Global Transaction ID
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/replication-and-binary-log-system-variables/">
                            
                            Replication and Binary Log System Variables
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/replication-and-binary-log-status-variables/">
                            
                            Replication and Binary Log Status Variables
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/unsafe-statements-for-statement-based-replication/">
                            
                            Unsafe Statements for Statement-based Replication
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/replication-and-foreign-keys/">
                            
                            Replication and Foreign Keys
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/enhancements-for-start-transaction-with-consistent-snapshot/">
                            
                            Enhancements for START TRANSACTION WITH CONSISTENT SNAPSHOT
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/group-commit-for-the-binary-log/">
                            <span class="pull-right not_primary"></span>
                            Group Commit for the Binary Log
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/selectively-skipping-replication-of-binlog-events/">
                            
                            Selectively Skipping Replication of Binlog Events
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/binlog-event-checksums/">
                            
                            Binlog Event Checksums
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/binlog-event-checksum-interoperability/">
                            
                            Binlog Event Checksum Interoperability
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/annotate_rows_log_event/">
                            <span class="pull-right not_primary"></span>
                            Annotate_rows_log_event
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/row-based-replication-with-no-primary-key/">
                            
                            Row-based Replication With No Primary Key
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/replication-filters/">
                            
                            Replication Filters
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/running-triggers-on-the-replica-for-row-based-events/">
                            
                            Running Triggers on the Replica for Row-based Events
                        </a>
                    </li>
                
            
                
                    <li class="active">
                        <span>Replication When the Primary and Replica Have Different Table Definitions</span>
                        
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/restricting-speed-of-reading-binlog-from-primary-by-a-replica/">
                            
                            Restricting Speed of Reading Binlog from Primary by a Replica
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/changing-a-replica-to-become-the-primary/">
                            
                            Changing a Replica to Become the Primary
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/replication-with-secure-connections/">
                            <span class="pull-right not_primary"></span>
                            Replication with Secure Connections
                        </a>
                    </li>
                
            
                
                    <li>
                        <a href="/kb/en/obsolete-replication-information/">
                            
                            Obsolete Replication Information
                        </a>
                    </li>
                
            
        </ul>
    
    

                </div>
            
        </div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <ul class="list-inline text-center footer-nav">
                        <li>
                            <h5>
                                <a href="https://mariadb.com/products" title="Products">Products</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/services" title="Services">Services</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/pricing" title="Pricing">Pricing</a>
                            </h5>
                        </li>
                        <li>
                            <h5>
                                <a href="https://mariadb.com/resources" title="Resources">Resources</a>
                            </h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/about-us" title="About MariaDB">About Us</a></h5>
                        </li>
                        <li>
                            <h5><a href="https://mariadb.com/download" title="Download">Download MariaDB</a></h5>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row row-10">
                
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div id="block-footerformcontact" class="block block-block-content block-block-contentd754ee1b-3cc9-40e7-9ef4-f504f1197fb1">
                        
                            <h5 style="font-weight: 400;">Subscribe to our newsletter!</h5>
                            <script src="//app-sj15.marketo.com/js/forms2/js/forms2.min.js"></script><form id="mktoForm_1498"></form>
                            <script>
                                <!--//--><![CDATA[// ><!--
                                MktoForms2.loadForm("//app-sj15.marketo.com", "573-PXI-984", 1498);
                                //--><!]]]]><![CDATA[>
                                //--><!]]>
                            </script>
                        
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-xs-12 item col-md-offset-4">
                    <div class="footer-copyright">
                        <div class="text-center">
                            <ul class="list-inline no-margin">
                                <li>
                                    <a href="/legal" title="Legal">Legal</a>
                                </li>
                                <li>
                                    <a href="/privacy-policy" title="Privacy Policy">Privacy Policy</a>
                                </li>
                                <li>
                                    <a href="/cookie-policy/" title="Cookies">Cookie Policy</a>
                                </li>
                            </ul>
                            <p>Copyright &copy; 2024 MariaDB. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</footer>
</div>

<div id="ajax_loading">
    <img src="/kb/static/images/ajax-loader.a51c5608d01a.gif" />
</div>

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MK2847"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MK2847');</script>
    <!-- End Google Tag Manager -->

</body>

<script type="text/javascript" src="/kb/static/js/main.1587e3a666fc.js" charset="utf-8"></script>

</html>