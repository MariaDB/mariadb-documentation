<?xml version="1.0" encoding="utf-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>MariaDB Knowledge Base Comments for: Migrating from InfiniDB 4.x  to MariaDB ColumnStore</title><link>https://mariadb.com/kb/en/migrating-from-infinidb-4x-to-mariadb-columnstore/+comments/feed/</link><description></description><atom:link href="https://mariadb.com/kb/en/migrating-from-infinidb-4x-to-mariadb-columnstore/+comments/feed/" rel="self"></atom:link><language>en-us</language><lastBuildDate>Mon, 26 Aug 2024 04:23:13 +0000</lastBuildDate><item><title>Re: Migrating from InfiniDB 4.x  to MariaDB ColumnStore</title><link>https://mariadb.com/kb/en/migrating-from-infinidb-4x-to-mariadb-columnstore/+comments/3872</link><description>&lt;p&gt;Have migrated the content from InfiniDB 4.x  to MariaDB ColumnStore, after restoring, we can able to see the structure of the table, but not able to see the content on the tables in mariadb column store, select * from table is showing empty set, suggest on the same to fix the issue.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">M Anwar Hussain</dc:creator><guid>https://mariadb.com/kb/en/migrating-from-infinidb-4x-to-mariadb-columnstore/+comments/3872</guid></item><item><title>Re: Migrating from InfiniDB 4.x  to MariaDB ColumnStore</title><link>https://mariadb.com/kb/en/migrating-from-infinidb-4x-to-mariadb-columnstore/+comments/2839</link><description>&lt;p&gt;Not mentioned here but worth noting that you're going to want to migrate any modifications to your my.cnf file AS WELL AS GRANT statements/users. You would probably want to run the grant statements before importing the schemas from the old system.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Geoffrey Cleaves</dc:creator><guid>https://mariadb.com/kb/en/migrating-from-infinidb-4x-to-mariadb-columnstore/+comments/2839</guid></item><item><title>Re: Migrating from InfiniDB 4.x  to MariaDB ColumnStore</title><link>https://mariadb.com/kb/en/migrating-from-infinidb-4x-to-mariadb-columnstore/+comments/2686</link><description>&lt;p&gt;It's OK now.  Thanks.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Kaifeng Chen</dc:creator><guid>https://mariadb.com/kb/en/migrating-from-infinidb-4x-to-mariadb-columnstore/+comments/2686</guid></item><item><title>Re: Migrating from InfiniDB 4.x  to MariaDB ColumnStore</title><link>https://mariadb.com/kb/en/migrating-from-infinidb-4x-to-mariadb-columnstore/+comments/2685</link><description>&lt;p&gt;I retested and could reproduce, there was some missing steps fixing a dbrm file so this was a doc bug. kaifengchen - can you verify?&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">David Thompson</dc:creator><guid>https://mariadb.com/kb/en/migrating-from-infinidb-4x-to-mariadb-columnstore/+comments/2685</guid></item><item><title>Re: Migrating from InfiniDB 4.x  to MariaDB ColumnStore</title><link>https://mariadb.com/kb/en/migrating-from-infinidb-4x-to-mariadb-columnstore/+comments/2683</link><description>&lt;p&gt;Bugs can be reported in MariaDB Jira: &lt;a href="https://jira.mariadb.org"&gt;https://jira.mariadb.org&lt;/a&gt; (see Reporting Bugs). Please file bugs under the MCOL project.&lt;/p&gt;
&lt;p&gt;Please open a BUG in JIRA and you will be able to get support from there. This area is for comments on the document only.&lt;/p&gt;
&lt;p&gt;Thanks, David Hill&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">David Hill</dc:creator><guid>https://mariadb.com/kb/en/migrating-from-infinidb-4x-to-mariadb-columnstore/+comments/2683</guid></item><item><title>Re: Migrating from InfiniDB 4.x  to MariaDB ColumnStore</title><link>https://mariadb.com/kb/en/migrating-from-infinidb-4x-to-mariadb-columnstore/+comments/2682</link><description>&lt;p&gt;We have moved the data1 directory of columnstore 1.0.6 to /tmp instead of removing it.&lt;br&gt;&lt;/p&gt;
&lt;p&gt;The data directories(data, data1) of the old and new are the same(after migration).&lt;br&gt;&lt;/p&gt;
&lt;p&gt;Actually, we setup two new instance: one is InfiniDB 4.6.6(single mode), the other is columnstore 1.0.6.  For the purpose of testing, we just create one table(say, mydb. t192_168_3_215_if011_generic_s_app_host_flow_1hour) in these two instance.&lt;br&gt;
It's OK to create database &amp;amp;table, and can enter mcsmysql console. But can not fetch data from this table after migration( use the old data1).&lt;br&gt;&lt;/p&gt;
&lt;p&gt;[root@localhost columnstore]# mcsmysql&lt;br&gt;
Welcome to the MariaDB monitor.  Commands end with ; or \g.&lt;br&gt;
Your MariaDB connection id is 4&lt;br&gt;
Server version: 10.1.19-MariaDB Columnstore 1.0.6-1&lt;br&gt;&lt;/p&gt;
&lt;p&gt;Copyright &lt;span&gt;&amp;copy;&lt;/span&gt; 2000, 2016, Oracle, MariaDB Corporation Ab and others.&lt;br&gt;&lt;/p&gt;
&lt;p&gt;Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.&lt;br&gt;&lt;/p&gt;
&lt;p&gt;MariaDB [(none)]&amp;gt; use mydb;&lt;br&gt;
Database changed&lt;br&gt;
MariaDB [mydb]&amp;gt; show tables;&lt;br&gt;
+----------------------------------------------------+&lt;br&gt;&lt;/p&gt;
&lt;table&gt;&lt;tr&gt;&lt;td&gt;Tables_in_mydb&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;
&lt;p&gt;+----------------------------------------------------+&lt;br&gt;&lt;/p&gt;
&lt;table&gt;&lt;tr&gt;&lt;td&gt;t192_168_3_215_if011_generic_s_app_host_flow_1hour&lt;/td&gt;&lt;td&gt;&lt;br&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;
&lt;p&gt;+----------------------------------------------------+&lt;br&gt;
1 row in set (0.00 sec)&lt;br&gt;&lt;/p&gt;
&lt;p&gt;MariaDB [mydb]&amp;gt; show create table t192_168_3_215_if011_generic_s_app_host_flow_1hour;&lt;br&gt;&lt;/p&gt;
&lt;table&gt;&lt;tr&gt;&lt;td&gt;t192_168_3_215_if011_generic_s_app_host_flow_1hour&lt;/td&gt;&lt;td&gt;CREATE TABLE `t192_168_3_215_if011_generic_s_app_host_flow_1hour` (&lt;br&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;
&lt;p&gt;  `start_time` int(10) unsigned DEFAULT NULL,&lt;br&gt;
  `end_time` int(10) unsigned DEFAULT NULL,&lt;br&gt;
  `host_value` int(10) unsigned DEFAULT NULL,&lt;br&gt;
  `input_octets` int(10) unsigned DEFAULT NULL,&lt;br&gt;
  `output_octets` int(10) unsigned DEFAULT NULL,&lt;br&gt;
  `total_octets` int(10) unsigned DEFAULT NULL&lt;br&gt;
) ENGINE=Columnstore DEFAULT CHARSET=utf8 COMMENT='schema sync only' |&lt;br&gt;&lt;/p&gt;
&lt;p&gt;1 row in set (0.00 sec)&lt;br&gt;&lt;/p&gt;
&lt;p&gt;MariaDB [mydb]&amp;gt; select * from t192_168_3_215_if011_generic_s_app_host_flow_1hour;&lt;br&gt;
ERROR 1815 (HY000): Internal error: IDB-2033: Error occurred when calling system catalog.&lt;br&gt;
MariaDB [myb]&amp;gt;&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Kaifeng Chen</dc:creator><guid>https://mariadb.com/kb/en/migrating-from-infinidb-4x-to-mariadb-columnstore/+comments/2682</guid></item><item><title>Re: Migrating from InfiniDB 4.x  to MariaDB ColumnStore</title><link>https://mariadb.com/kb/en/migrating-from-infinidb-4x-to-mariadb-columnstore/+comments/2681</link><description>&lt;p&gt;Are you sure you completely removed the data1 etc directory in the 1.0.6 columnstore file before  restoring the infinidb data1 directory to avoid any overlap of files? &lt;/p&gt;
&lt;p&gt;Is there any difference in the directory structure between the old and new otherwise?&lt;/p&gt;
&lt;p&gt;If you have an infinidb support contract with mariadb it would be better to file this through support channels.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">David Thompson</dc:creator><guid>https://mariadb.com/kb/en/migrating-from-infinidb-4x-to-mariadb-columnstore/+comments/2681</guid></item><item><title>Re: Migrating from InfiniDB 4.x  to MariaDB ColumnStore</title><link>https://mariadb.com/kb/en/migrating-from-infinidb-4x-to-mariadb-columnstore/+comments/2679</link><description>&lt;p&gt;It seems that it doesn't work for migration from Infinidb 4.6.6 to MCS 1.0.6ã€‚&lt;br&gt;&lt;/p&gt;
&lt;p&gt;[root@localhost columnstore]# mcsadmin startSystem&lt;br&gt;
startsystem   Thu Jan  5 11:21:55 2017&lt;br&gt;
startSystem command, 'columnstore' service is down, sending command to
start the 'columnstore' service on all modules&lt;br&gt;&lt;/p&gt;
&lt;p&gt;   System being started, please wait..................&lt;br&gt;
&lt;strong&gt;&lt;strong&gt; startSystem Failed : check log files&lt;br&gt;&lt;/strong&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;crit.log&lt;br&gt;&lt;/p&gt;
&lt;p&gt;Jan  5 11:22:17 localhost controllernode[6815]: 17.557831 |0|0|0| C 29 CAL0000: ExtentMap::load(): open:  No such file or directory&lt;br&gt;
Jan  5 11:22:42 localhost DMLProc[7120]: 42.781900 |0|0|0| C 20 CAL0002: DMLProc failed to start due to : Rollback will be deferred due to DBRM is in read only state.&lt;br&gt;
Jan  5 11:27:38 localhost controllernode[8209]: 38.129917 |0|0|0| C 29 CAL0000: ExtentMap::save(): got request to save an empty BRM&lt;br&gt;&lt;/p&gt;
&lt;p&gt;err.log&lt;br&gt;&lt;/p&gt;
&lt;p&gt;Jan  5 11:22:17 localhost ProcessMonitor[6368]: 17.561537 |0|0|0| E 18 CAL0000: Error return DBRM load_brm&lt;br&gt;
Jan  5 11:22:42 localhost controllernode[6453]: 42.193287 |0|0|0| E 29 CAL0000: DBRM: error: SessionManager::setSystemState() failed (network)&lt;br&gt;&lt;/p&gt;
&lt;p&gt;warning.log&lt;br&gt;&lt;/p&gt;
&lt;p&gt;Jan  5 11:22:45 localhost ProcessMonitor[6368]: 45.804749 |0|0|0| W 18 CAL0000: DMLProc failed initialization&lt;br&gt;&lt;/p&gt;
&lt;p&gt;mcsadmin&amp;gt; getProcessStatus&lt;br&gt;
getprocessstatus   Thu Jan  5 11:34:56 2017&lt;br&gt;&lt;/p&gt;
&lt;p&gt;MariaDB Columnstore Process statuses&lt;br&gt;&lt;/p&gt;
&lt;p&gt;Process             Module    Status            Last Status Change        Process ID&lt;br&gt;
------------------  ------    ---------------   ------------------------  ----------&lt;br&gt;
ProcessMonitor      pm1       ACTIVE            Thu Jan  5 11:22:05 2017        6368&lt;br&gt;
ProcessManager      pm1       ACTIVE            Thu Jan  5 11:22:11 2017        6453&lt;br&gt;
DBRMControllerNode  pm1       FAILED            Thu Jan  5 11:22:17 2017&lt;br&gt;
ServerMonitor       pm1       ACTIVE            Thu Jan  5 11:22:20 2017        6829&lt;br&gt;
DBRMWorkerNode      pm1       ACTIVE            Thu Jan  5 11:22:20 2017        6846&lt;br&gt;
DecomSvr            pm1       ACTIVE            Thu Jan  5 11:22:24 2017        6903&lt;br&gt;
PrimProc            pm1       ACTIVE            Thu Jan  5 11:22:26 2017        6923&lt;br&gt;
ExeMgr              pm1       ACTIVE            Thu Jan  5 11:22:31 2017        6967&lt;br&gt;
WriteEngineServer   pm1       ACTIVE            Thu Jan  5 11:22:36 2017        7050&lt;br&gt;
DDLProc             pm1       ACTIVE            Thu Jan  5 11:22:38 2017        7089&lt;br&gt;
DMLProc             pm1       FAILED            Thu Jan  5 11:23:01 2017        7120&lt;br&gt;
mysqld              pm1       ACTIVE            Thu Jan  5 11:22:23 2017        6713&lt;br&gt;&lt;/p&gt;
&lt;p&gt;How can we sovle this issue? Thanks.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Kaifeng Chen</dc:creator><guid>https://mariadb.com/kb/en/migrating-from-infinidb-4x-to-mariadb-columnstore/+comments/2679</guid></item></channel></rss>